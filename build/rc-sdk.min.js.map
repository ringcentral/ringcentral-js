{"version":3,"sources":["/source/rc-sdk.js","/source/core/pubnub/PubnubMock.js","/source/core/Utils.js","/source/core/Log.js","/source/core/xhr/XhrResponse.js","/source/core/xhr/XhrMock.js","/source/core/Context.js","/source/core/Observable.js","/source/core/AjaxObserver.js","/source/core/Ajax.js","/source/core/Cache.js","/source/core/Platform.js","/source/core/Subscription.js","/source/core/PageVisibility.js","/source/core/Helper.js","/source/core/Validator.js","/source/core/List.js","/source/helpers/Country.js","/source/helpers/DeviceModel.js","/source/helpers/Language.js","/source/helpers/State.js","/source/helpers/Location.js","/source/helpers/ShippingMethod.js","/source/helpers/Timezone.js","/source/helpers/Account.js","/source/helpers/BlockedNumber.js","/source/helpers/Extension.js","/source/helpers/Presence.js","/source/helpers/Contact.js","/source/helpers/Call.js","/source/helpers/Conferencing.js","/source/helpers/ContactGroup.js","/source/helpers/Device.js","/source/helpers/ForwardingNumber.js","/source/helpers/Message.js","/source/helpers/PhoneNumber.js","/source/helpers/Ringout.js","/source/helpers/Service.js","/source/RCSDK.js","/source/umd.js"],"names":["core_pubnub_PubnubMock","core_Utils","core_Log","core_xhr_XhrResponse","core_xhr_XhrMock","core_Context","core_Observable","core_AjaxObserver","core_Ajax","core_Cache","core_Platform","core_Subscription","core_PageVisibility","core_Helper","core_Validator","core_List","helpers_Country","helpers_DeviceModel","helpers_Language","helpers_State","helpers_Location","helpers_ShippingMethod","helpers_Timezone","helpers_Account","helpers_BlockedNumber","helpers_Extension","helpers_Presence","helpers_Contact","helpers_Call","helpers_Conferencing","helpers_ContactGroup","helpers_Device","helpers_ForwardingNumber","helpers_Message","helpers_PhoneNumber","helpers_Ringout","helpers_Service","RCSDK","exports","WS","url","pubnub","ready","onmessage","onclose","onerror","onopen","close","code","reason","wasClean","receiveMessage","data","$get","ws","hasOwn","Object","prototype","hasOwnProperty","toString","rdigit","class2type","split","forEach","name","toLowerCase","Utils","extend","options","src","copy","copyIsArray","clone","target","arguments","i","length","deep","isFunction","isPlainObject","isArray","undefined","object","cb","res","queryStringify","parameters","array","self","v","vv","push","encodeURIComponent","join","parseQueryString","queryString","argsParsed","arg","decodeURIComponent","indexOf","trim","pair","key","value","isEmail","multiple","test","isPhoneNumber","argumentsToArray","args","Array","slice","call","isDate","obj","type","isWindow","isNaN","String","nodeType","constructor","getProperty","property","eval","e","poll","fn","interval","timeout","stopPolling","next","delay","setTimeout","clearTimeout","parseString","s","parseNumber","n","parseFloat","Log","logDebug","logInfo","logWarnings","logErrors","addTimestamps","console","log","warn","info","error","disableAll","enableAll","parseArguments","unshift","Date","toLocaleString","debug","apply","XhrResponse","responses","add","response","clear","find","ajax","currentResponse","path","Class","context","createSingleton","XhrMock","async","method","requestHeaders","withCredentials","readyState","responseHeaders","status","getResponseHeader","header","setRequestHeader","open","send","contentType","getRequestHeader","JSON","parse","Error","bind","setStatus","setResponseHeader","stringify","responseText","onload","abort","Context","injections","singletons","stubPubnub","stubAjax","factory","usePubnubStub","flag","useAjaxStub","getCryptoJS","CryptoJS","getXHR","XHR","getPubnub","PUBNUB","getLocalStorage","localStorage","getPromise","Promise","Observable","defineProperty","enumerable","writable","hasListeners","event","listeners","registerOneTimeEvent","oneTimeEvents","oneTimeArguments","on","events","callback","isOneTimeEventFired","getOneTimeEventArgumens","emit","splice","result","isOneTimeEvent","setOneTimeEventFired","setOneTimeEventArgumens","some","off","offAll","destroy","emitAndCallback","concat","AjaxObserver","create","beforeRequest","requestSuccess","requestError","Ajax","headers","observer","xhr","jsonRegex","getOptions","setOptions","getContentType","isMultipart","isUnauthorized","isLoaded","checkOptions","defaultHeaders","toUpperCase","get","post","resolve","then","request","parseResponse","catch","reject","checkStatus","substr","splitHeadersAndContent","json","content","replace","reduce","val","parts","partsInfo","partInfo","parseInt","stack","isString","message","error_description","description","Cache","prefix","storage","prefixKey","setItem","removeItem","getItem","item","clean","Platform","server","apiKey","account","urlPrefix","apiVersion","accountPrefix","accessTokenTtl","refreshTokenTtl","refreshTokenTtlRemember","refreshHandicapMs","clearCacheOnRefreshError","refreshPromise","forcedTokenType","cacheId","pollInterval","releaseTimeout","accessViolation","logoutSuccess","logoutError","authorizeSuccess","authorizeError","refreshSuccess","refreshError","getStorage","getAjax","clearStorage","remember","authorize","authCall","username","extension","password","setCache","isPaused","now","pause","resume","refresh","refreshPolling","authData","getAuthData","access_token","refresh_token","refreshExpireTime","logout","token","getToken","isTokenValid","getTokenType","token_type","expires_in","refresh_token_expires_in","expireTime","getTime","isAuthorized","cancelAccessToken","oldAuthData","forceAuthentication","apiCall","apiUrl","addServer","Authorization","builtUrl","addMethod","addToken","Subscription","eventFilters","subscription","expirationTime","expiresIn","deliveryMode","transportType","encryption","address","subscriberKey","secretKey","id","creationTime","uri","socket","renewHandicapMs","notification","removeSuccess","removeError","renewSuccess","renewError","subscribeSuccess","subscribeError","createPubnub","getCrypto","getPlatform","register","isSubscribed","renew","subscribe","addEvents","setEvents","getFullEventFilters","map","updateSubscription","subscribeAtPubnub","unsubscribe","remove","timeToExpiration","CLOSE_NORMAL","notify","encryptionKey","enc","Base64","decrypted","AES","decrypt","ciphertext","mode","ECB","padding","pad","Pkcs7","Utf8","PageVisibility","onchange","evt","window","h","evtMap","focus","focusin","pageshow","blur","focusout","pagehide","visible","document","hidden","change","addEventListener","onfocusin","onfocusout","onpageshow","onpagehide","onfocus","onblur","isVisible","Helper","defaultProperty","getContext","createUrl","getId","isNew","getUri","resetAsNew","parseMultipartResponse","filter","loadRequest","saveRequest","deleteRequest","syncRequest","sync","syncToken","syncType","nextPageExists","navigation","index","getIdFn","gather","merge","supplement","mergeItems","supplementIndex","updatedIDs","newItem","Validator","validate","validators","errors","isValid","validator","field","email","phone","required","max","min","List","propertyExtractor","stringComparator","a","b","localeCompare","numberComparator","comparator","item1","item2","compareFn","extractFn","sortBy","equalsFilter","condition","containsFilter","regexpFilter","RegExp","filterConfigs","pass","opt","filterFn","filterBy","CountryHelper","DeviceModelHelper","device","addons","count","cleanForSaving","deviceClass","addon","devices","LanguageHelper","languages","StateHelper","countryHelper","countryId","opts","country","LocationHelper","state","uniqueNPAs","stateId","onlyUniqueNPA","npa","nxx","ShippingMethodHelper","shippingMethods","TimezoneHelper","AccountHelper","BlockedNumberHelper","extensionId","phoneNumber","ExtensionHelper","department","user","announcement","voicemail","departmentId","isUser","isDepartment","isAnnouncement","isVoicemail","search","toLocaleLowerCase","extensionNumber","PresenceHelper","detailed","presence","isAvailable","presenceStatus","getSubscription","presences","attachToExtensions","extensions","isCallInProgress","presenceCall","telephonyStatus","ContactHelper","root","groupId","getFieldValues","where","fields","asHash","getFullName","contact","nameFields","getEmails","emailFields","getPhones","phoneFields","getFaxes","faxFields","getAddresses","addressFields","isAlive","availability","match","string","matchWith","found","transformed","transformFn","strict","otherFields","inAddresses","addressSubFields","subField","matchAsPhone","attachToCallerInfos","callerInfos","contacts","callerInfoIndex","callerInfo","indexedCallerInfos","foundContact","foundPhone","contactPhone","alive","startsWith","phonesOnly","faxesOnly","firstName","lastName","email2","email3","CallHelper","personal","active","getSessionId","sessionId","isInProgress","isInbound","direction","isOutbound","isMissed","isFindMe","action","getCallerInfo","from","to","getAllCallerInfos","formatDuration","addZero","duration","hours","Math","floor","mins","secs","attachContacts","calls","checkMergeability","outboundRingOutCall","inboundCall","dateString","startTime","abs","maxStartTimeDiscrepancy","combineCalls","hasSubsequent","subsequent","processCalls","processedCalls","callsToMerge","merged","secondCall","parsePresenceCalls","activeCalls","activeCall","getSignature","cleanup","mergePresenceCalls","presenceCalls","currentDate","toISOString","mergeAll","presenceAndCalls","ConferencingHelper","ContactGroupHelper","groupName","DeviceHelper","deviceModel","order","emergencyServiceAddress","street","city","zip","customerName","model","ForwardingNumberHelper","forwardingNumber","hasFeature","feature","features","MessageHelper","platform","fax","sms","pager","isSMS","isPager","isVoiceMail","isFax","isRead","readStatus","setIsRead","getAttachmentUrl","attachments","getAttachmentContentType","getCallerInfos","conversationId","messages","shorten","text","subject","validateSMS","validatePager","PhoneNumberHelper","lookup","reserve","date","reservedTill","unreserve","usageType","paymentType","RingoutHelper","ringout","callStatus","isSuccess","isError","ServiceHelper","isServiceFeatureEnabledMethod","serviceFeatures","isEnabled","f","featureName","enabled","isSmsEnabled","isSmsReceivingEnabled","isPresenceEnabled","isRingOutEnabled","isInternationalCallingEnabled","isDndEnabled","isFaxEnabled","isFaxReceivingEnabled","isVoicemailEnabled","isPagerEnabled","isPagerReceivingEnabled","isVoipCallingEnabled","isVideoConferencingEnabled","isSalesForceEnabled","isIntercomEnabled","isPagingEnabled","isConferencingEnabled","isFreeSoftPhoneLinesEnabled","isHipaaComplianceEnabled","isCallParkEnabled","isOnDemandCallRecordingEnabled","_context","XMLHttpRequest","ActiveXObject","e1","e2","e3","getPUBNUB","version","getAjaxObserver","getXhrResponse","getCache","getPageVisibility","getHelper","getObservable","getValidator","getLog","getUtils","getList","getCountryHelper","getDeviceModelHelper","getLanguageHelper","getLocationHelper","getShippingMethodHelper","getStateHelper","getTimezoneHelper","getAccountHelper","getBlockedNumberHelper","getCallHelper","getConferencingHelper","getContactHelper","getContactGroupHelper","getDeviceHelper","getExtensionHelper","getForwardingNumberHelper","getMessageHelper","getPhoneNumberHelper","getPresenceHelper","getRingoutHelper","getServiceHelper","Function","module","require","define","amd","noConflict","old"],"mappings":"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","file":"rc-sdk.min.js","sourcesContent":[null,"/**\n * istanbul ignore next\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('core/pubnub/PubnubMock', [\n    'require',\n    'exports',\n    'module'\n], function (require, exports, module) {\n    'use strict';\n    function WS(url) {\n        this.url = url;\n        this.pubnub = {\n            ready: function () {\n            }\n        };\n        this.onmessage = function () {\n        };\n        this.onclose = function () {\n        };\n        this.onerror = function () {\n        };\n        this.onopen = function () {\n        };\n        this.close = function (code, reason) {\n            this.onclose({\n                code: code,\n                reason: reason,\n                wasClean: true\n            });\n        };\n        /**\n         * This stub allows to simulate message arrival\n         * @param data\n         */\n        this.receiveMessage = function (data) {\n            this.onmessage({ data: data });\n        };\n        this.onopen();\n    }\n    /**\n     * @alias RCSDK.core.pubnub.Mock\n     * @type {PUBNUB}\n     */\n    module.exports = {\n        /**\n         * @param {Context} context\n         * @returns {PUBNUB}\n         */\n        $get: function (context) {\n            return { ws: WS };\n        }\n    };\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('core/Utils', [\n    'require',\n    'exports',\n    'module'\n], function (require, exports, module) {\n    'use strict';\n    var hasOwn = Object.prototype.hasOwnProperty, toString = Object.prototype.toString, rdigit = /\\d/, class2type = {};\n    // Populate the class2type map\n    'Boolean Number String Function Array Date RegExp Object'.split(' ').forEach(function (name) {\n        class2type['[object ' + name + ']'] = name.toLowerCase();\n    });\n    /**\n     * @alias RCSDK.core.Utils\n     * @name Utils\n     */\n    var Utils = module.exports = {\n        /**\n         * Ported from jQuery.fn.extend\n         * Optional first parameter makes deep copy\n         * @param {object} targetObject\n         * @param {object} sourceObject\n         * @returns {object}\n         */\n        extend: function extend(targetObject, sourceObject) {\n            var options, name, src, copy, copyIsArray, clone, target = arguments[0] || {}, i = 1, length = arguments.length, deep = false;\n            // Handle a deep copy situation\n            if (typeof target === 'boolean') {\n                deep = target;\n                // skip the boolean and the target\n                target = arguments[i] || {};\n                i++;\n            }\n            // Handle case when target is a string or something (possible in deep copy)\n            if (typeof target !== 'object' && !this.isFunction(target)) {\n                target = {};\n            }\n            for (; i < length; i++) {\n                // Only deal with non-null/undefined values\n                if ((options = arguments[i]) != null) {\n                    // Extend the base object\n                    for (name in options) {\n                        src = target[name];\n                        copy = options[name];\n                        // Prevent never-ending loop\n                        if (target === copy) {\n                            continue;\n                        }\n                        // Recurse if we're merging plain objects or arrays\n                        if (deep && copy && (this.isPlainObject(copy) || (copyIsArray = this.isArray(copy)))) {\n                            if (copyIsArray) {\n                                copyIsArray = false;\n                                clone = src && this.isArray(src) ? src : [];\n                            } else {\n                                clone = src && this.isPlainObject(src) ? src : {};\n                            }\n                            // Never move original objects, clone them\n                            target[name] = this.extend(deep, clone, copy);    // Don't bring in undefined values\n                        } else if (copy !== undefined) {\n                            target[name] = copy;\n                        }\n                    }\n                }\n            }\n            // Return the modified object\n            return target;\n        },\n        forEach: function (object, cb) {\n            for (var i in object) {\n                if (!object.hasOwnProperty(i))\n                    continue;\n                var res = cb(object[i], i);\n                if (res === false)\n                    break;\n            }\n        },\n        /**\n         * TODO Replace with something better\n         * @see https://github.com/joyent/node/blob/master/lib/querystring.js\n         * @param {object} parameters\n         * @returns {string}\n         */\n        queryStringify: function (parameters) {\n            var array = [], self = this;\n            this.forEach(parameters, function (v, i) {\n                if (self.isArray(v)) {\n                    v.forEach(function (vv) {\n                        array.push(encodeURIComponent(i) + '=' + encodeURIComponent(vv));\n                    });\n                } else {\n                    array.push(encodeURIComponent(i) + '=' + encodeURIComponent(v));\n                }\n            });\n            return array.join('&');\n        },\n        /**\n         * TODO Replace with something better\n         * @see https://github.com/joyent/node/blob/master/lib/querystring.js\n         * @param {string} queryString\n         * @returns {object}\n         */\n        parseQueryString: function (queryString) {\n            var argsParsed = {}, self = this;\n            queryString.split('&').forEach(function (arg) {\n                arg = decodeURIComponent(arg);\n                if (arg.indexOf('=') == -1) {\n                    argsParsed[arg.trim()] = true;\n                } else {\n                    var pair = arg.split('='), key = pair[0].trim(), value = pair[1].trim();\n                    if (key in argsParsed) {\n                        if (key in argsParsed && !self.isArray(argsParsed[key]))\n                            argsParsed[key] = [argsParsed[key]];\n                        argsParsed[key].push(value);\n                    } else {\n                        argsParsed[key] = value;\n                    }\n                }\n            });\n            return argsParsed;\n        },\n        /**\n         * Returns true if the passed value is valid email address.\n         * @param {string} v\n         * @param {boolean} multiple Checks multiple comma separated emails according to RFC 2822\n         * @returns {boolean}\n         */\n        isEmail: function (v, multiple) {\n            if (!!multiple) {\n                //this Regexp is also suitable for multiple emails (comma separated)\n                return /^(?:[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?[ ,;]*)+$/i.test(v);\n            } else {\n                return /^[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i.test(v);\n            }\n        },\n        isPhoneNumber: function (v) {\n            return /\\+?1[0-9]{3}[0-9a-z]{7}/im.test(v.toString().split(/[^0-9a-z\\+]/im).join(''));\n        },\n        /**\n         * @param args\n         * @returns {Array}\n         */\n        argumentsToArray: function (args) {\n            return Array.prototype.slice.call(args || [], 0);\n        },\n        isDate: function (obj) {\n            return this.type(obj) === 'date';\n        },\n        isFunction: function (obj) {\n            return this.type(obj) === 'function';\n        },\n        isArray: Array.isArray || function (obj) {\n            return this.type(obj) === 'array';\n        },\n        // A crude way of determining if an object is a window\n        isWindow: function (obj) {\n            return obj && typeof obj === 'object' && 'setInterval' in obj;\n        },\n        isNaN: function (obj) {\n            return obj == null || !rdigit.test(obj) || isNaN(obj);\n        },\n        type: function (obj) {\n            return obj == null ? String(obj) : class2type[toString.call(obj)] || 'object';\n        },\n        isPlainObject: function (obj) {\n            // Must be an Object.\n            // Because of IE, we also have to check the presence of the constructor property.\n            // Make sure that DOM nodes and window objects don't pass through, as well\n            if (!obj || this.type(obj) !== 'object' || obj.nodeType || this.isWindow(obj)) {\n                return false;\n            }\n            // Not own constructor property must be Object\n            if (obj.constructor && !hasOwn.call(obj, 'constructor') && !hasOwn.call(obj.constructor.prototype, 'isPrototypeOf')) {\n                return false;\n            }\n            // Own properties are enumerated firstly, so to speed up,\n            // if last one is own, then all properties are own.\n            var key;\n            for (key in obj) {\n            }\n            return key === undefined || hasOwn.call(obj, key);\n        },\n        getProperty: function (obj, property) {\n            try {\n                return eval('obj.' + property);    //TODO Refactor\n            } catch (e) {\n                return undefined;\n            }\n        },\n        poll: function (fn, interval, timeout) {\n            this.stopPolling(timeout);\n            interval = interval || 1000;\n            var next = function (delay) {\n                delay = delay || interval;\n                interval = delay;\n                return setTimeout(function () {\n                    fn(next, delay);\n                }, delay);\n            };\n            return next();\n        },\n        stopPolling: function (timeout) {\n            timeout && clearTimeout(timeout);\n        },\n        parseString: function (s) {\n            return s ? s.toString() : '';\n        },\n        parseNumber: function (n) {\n            if (!n)\n                return 0;\n            n = parseFloat(n);\n            return isNaN(n) ? 0 : n;\n        },\n        $get: function (context) {\n            return Utils;\n        }\n    };\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('core/Log', [\n    'require',\n    'exports',\n    'module',\n    'core/Utils'\n], function (require, exports, module) {\n    'use strict';\n    var Utils = require('./Utils');\n    /**\n     * @alias RCSDK.core.Log\n     * @name Log\n     */\n    var Log = module.exports = {\n        logDebug: false,\n        logInfo: false,\n        logWarnings: false,\n        logErrors: false,\n        addTimestamps: true,\n        /** @type {Console} */\n        console: console || {\n            // safety\n            log: function () {\n            },\n            warn: function () {\n            },\n            info: function () {\n            },\n            error: function () {\n            }\n        },\n        disableAll: function () {\n            this.logDebug = false;\n            this.logInfo = false;\n            this.logWarnings = false;\n            this.logErrors = false;\n        },\n        enableAll: function () {\n            this.logDebug = true;\n            this.logInfo = true;\n            this.logWarnings = true;\n            this.logErrors = true;\n        },\n        parseArguments: function (args) {\n            args = Utils.argumentsToArray(args);\n            if (this.addTimestamps)\n                args.unshift(new Date().toLocaleString(), '-');\n            return args;\n        },\n        debug: function () {\n            if (this.logDebug)\n                this.console.log.apply(this.console, this.parseArguments(arguments));\n        },\n        info: function () {\n            if (this.logInfo)\n                this.console.info.apply(this.console, this.parseArguments(arguments));\n        },\n        warn: function () {\n            if (this.logWarnings)\n                this.console.warn.apply(this.console, this.parseArguments(arguments));\n        },\n        error: function () {\n            if (this.logErrors)\n                this.console.error.apply(this.console, this.parseArguments(arguments));\n        },\n        $get: function (context) {\n            return Log;\n        }\n    };\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('core/xhr/XhrResponse', [\n    'require',\n    'exports',\n    'module'\n], function (require, exports, module) {\n    'use strict';\n    /**\n     * Ajax Response Manager\n     * @constructor\n     * @alias RCSDK.core.XhrResponse\n     */\n    function XhrResponse() {\n        /** @type {IXhrResponse[]} */\n        this.responses = [];\n    }\n    /**\n     * @param {IXhrResponse} response\n     */\n    XhrResponse.prototype.add = function (response) {\n        this.responses.push(response);\n    };\n    XhrResponse.prototype.clear = function () {\n        this.responses = [];\n    };\n    /**\n     * @param {XhrMock} ajax\n     * @returns {IXhrResponse}\n     */\n    XhrResponse.prototype.find = function (ajax) {\n        var currentResponse = null;\n        this.responses.forEach(function (response) {\n            if (ajax.url.indexOf(response.path) > -1 && (!response.test || response.test(ajax))) {\n                currentResponse = response;\n            }\n        });\n        return currentResponse;\n    };\n    module.exports = {\n        Class: XhrResponse,\n        /**\n         * @static\n         * @param {Context} context\n         * @returns {XhrResponse}\n         */\n        $get: function (context) {\n            return context.createSingleton('XhrResponse', function () {\n                return new XhrResponse(context);\n            });\n        }\n    };    /**\n     * @typedef {Object} IXhrResponse\n     * @property {string} path\n     * @property {function(Ajax)} response Response mock function\n     * @property {function(Ajax)} test? This will be executed to determine, whether this mock is applicable\n     */\n});","/**\n * istanbul ignore next\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('core/xhr/XhrMock', [\n    'require',\n    'exports',\n    'module',\n    'core/Log',\n    'core/Utils',\n    'core/xhr/XhrResponse'\n], function (require, exports, module) {\n    'use strict';\n    var Log = require('../Log'), Utils = require('../Utils');\n    /**\n     * @constructor\n     * @alias RCSDK.core.ajax.XhrMock\n     * @extends XMLHttpRequest\n     */\n    function XhrMock(context) {\n        // Service\n        this.responses = require('./XhrResponse').$get(context);\n        // Request\n        this.async = true;\n        this.method = '';\n        this.url = '';\n        this.requestHeaders = {};\n        this.withCredentials = false;\n        // Response\n        this.data = null;\n        this.readyState = 0;\n        this.responseHeaders = {};\n        this.status = 0;\n    }\n    XhrMock.prototype.getResponseHeader = function (header) {\n        return this.responseHeaders[header];\n    };\n    XhrMock.prototype.setRequestHeader = function (header, value) {\n        this.requestHeaders[header] = value;\n    };\n    XhrMock.prototype.open = function (method, url, async) {\n        this.method = method;\n        this.url = url;\n        this.async = async;\n    };\n    XhrMock.prototype.send = function (data) {\n        var contentType = this.getRequestHeader('Content-Type');\n        this.data = data;\n        if (this.data && typeof this.data == 'string') {\n            // For convenience encoded post data will be decoded\n            if (contentType == 'application/json')\n                this.data = JSON.parse(this.data);\n            if (contentType == 'application/x-www-form-urlencoded')\n                this.data = Utils.parseQueryString(this.data);\n        }\n        Log.debug('API REQUEST', this.method, this.url);\n        var currentResponse = this.responses.find(this);\n        if (!currentResponse) {\n            setTimeout(function () {\n                this.onerror && this.onerror(new Error('Unknown request: ' + this.url));\n            }.bind(this), 1);\n            return;\n        }\n        this.setStatus(200);\n        this.setResponseHeader('Content-Type', 'application/json');\n        var res = currentResponse.response(this);\n        if (this.getResponseHeader('Content-Type') == 'application/json')\n            res = JSON.stringify(res);\n        this.responseText = res;\n        setTimeout(function () {\n            this.onload && this.onload();\n        }.bind(this), 1);\n    };\n    XhrMock.prototype.abort = function () {\n        Log.debug('XhrMock.destroy(): Aborted');\n    };\n    XhrMock.prototype.getRequestHeader = function (header) {\n        return this.requestHeaders[header];\n    };\n    XhrMock.prototype.setResponseHeader = function (header, value) {\n        this.responseHeaders[header] = value;\n    };\n    XhrMock.prototype.setStatus = function (status) {\n        this.status = status;\n        return this;\n    };\n    module.exports = {\n        Class: XhrMock,\n        /**\n         * @static\n         * @param {Context} context\n         * @returns {XhrMock}\n         */\n        $get: function (context) {\n            return new XhrMock(context);\n        }\n    };\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('core/Context', [\n    'require',\n    'exports',\n    'module',\n    'core/pubnub/PubnubMock',\n    'core/xhr/XhrMock'\n], function (require, exports, module) {\n    'use strict';\n    /**\n     * @constructor\n     * @param {IInjections} injections\n     */\n    function Context(injections) {\n        /** @private */\n        this.singletons = {};\n        /** @type {IInjections} */\n        this.injections = injections;\n        this.stubPubnub = false;\n        this.stubAjax = false;\n    }\n    /**\n     * @param {string} name\n     * @param {function} factory\n     * @returns {*}\n     */\n    Context.prototype.createSingleton = function (name, factory) {\n        if (!this.singletons[name])\n            this.singletons[name] = factory();\n        return this.singletons[name];\n    };\n    Context.prototype.usePubnubStub = function (flag) {\n        this.stubPubnub = !!flag;\n        return this;\n    };\n    Context.prototype.useAjaxStub = function (flag) {\n        this.stubAjax = !!flag;\n        return this;\n    };\n    /**\n     * @returns {CryptoJS}\n     */\n    Context.prototype.getCryptoJS = function () {\n        return this.injections.CryptoJS;\n    };\n    /**\n     * @returns {XMLHttpRequest}\n     */\n    Context.prototype.getXHR = function () {\n        return this.injections.XHR;\n    };\n    /**\n     * @returns {PUBNUB}\n     */\n    Context.prototype.getPubnub = function () {\n        return this.stubPubnub ? require('./pubnub/PubnubMock').$get(this) : this.injections.PUBNUB;\n    };\n    /**\n     * @returns {Storage}\n     * @abstract\n     */\n    Context.prototype.getLocalStorage = function () {\n        return this.injections.localStorage;\n    };\n    /**\n     * @returns {function(new:Promise)}\n     */\n    Context.prototype.getPromise = function () {\n        return this.injections.Promise;\n    };\n    /**\n     * @returns {XMLHttpRequest}\n     */\n    Context.prototype.getXHR = function () {\n        return this.stubAjax ? require('./xhr/XhrMock').$get(this) : new this.injections.XHR();\n    };\n    module.exports = {\n        Class: Context,\n        /**\n         * @param {IInjections} injections\n         */\n        $get: function (injections) {\n            return new Context(injections);\n        }\n    };\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('core/Observable', [\n    'require',\n    'exports',\n    'module',\n    'core/Utils',\n    'core/Log'\n], function (require, exports, module) {\n    var Utils = require('./Utils'), Log = require('./Log');\n    /**\n     * @constructor\n     * @alias RCSDK.core.Observable\n     */\n    function Observable() {\n        if (!(this instanceof Observable))\n            throw new Error('Observable(): New operator was omitted');\n        Object.defineProperty(this, 'listeners', {\n            value: {},\n            enumerable: false,\n            writable: true\n        });\n        Object.defineProperty(this, 'oneTimeEvents', {\n            value: {},\n            enumerable: false,\n            writable: true\n        });\n        Object.defineProperty(this, 'oneTimeArguments', {\n            value: {},\n            enumerable: false,\n            writable: true\n        });\n    }\n    // Object.create({}) is not needed\n    // Do not put Object or Function.prototype instead of {}, otherwise all instances will get non-writable 'name' property\n    // Observable.prototype = {};\n    Object.defineProperty(Observable.prototype, 'constructor', {\n        value: Observable,\n        enumerable: false\n    });\n    Observable.prototype.hasListeners = function (event) {\n        return event in this.listeners;\n    };\n    Observable.prototype.registerOneTimeEvent = function (event) {\n        this.oneTimeEvents[event] = false;\n        this.oneTimeArguments[event] = [];\n    };\n    Observable.prototype.on = function (events, callback) {\n        if (typeof events == 'string')\n            events = [events];\n        if (!events)\n            throw new Error('No events to subscribe to');\n        if (typeof callback !== 'function')\n            throw new Error('Callback must be a function');\n        var self = this;\n        events.forEach(function (event) {\n            if (!self.hasListeners(event))\n                self.listeners[event] = [];\n            self.listeners[event].push(callback);\n            if (self.isOneTimeEventFired(event)) {\n                // Fire listener immediately if is inited already\n                Log.debug('Observable.on(%s): One-time event has been fired already, executing callback', event);\n                callback.apply(self, self.getOneTimeEventArgumens(event));\n            }\n        });\n        return this;\n    };\n    Observable.prototype.emit = function (event) {\n        if (this.isOneTimeEventFired(event)) {\n            Log.debug('Observable.emit(%s): One-time event has been fired already', event);\n            return null;\n        }\n        var self = this, args = Utils.argumentsToArray(arguments).splice(1), result = null;\n        if (this.isOneTimeEvent(event)) {\n            this.setOneTimeEventFired(event);\n            this.setOneTimeEventArgumens(event, args);\n        }\n        if (!this.hasListeners(event))\n            return null;\n        this.listeners[event].some(function (callback) {\n            result = callback.apply(self, args);\n            return result === false;\n        });\n        return result;\n    };\n    Observable.prototype.off = function (event, callback) {\n        var self = this;\n        if (!callback) {\n            delete this.listeners[event];\n        } else {\n            if (!this.hasListeners(event))\n                return this;\n            this.listeners[event].forEach(function (cb, i) {\n                if (cb === callback)\n                    delete self.listeners[event][i];\n            });\n        }\n        return this;\n    };\n    Observable.prototype.isOneTimeEvent = function (event) {\n        return event in this.oneTimeEvents;\n    };\n    Observable.prototype.isOneTimeEventFired = function (event) {\n        if (!this.isOneTimeEvent(event))\n            return false;\n        return this.oneTimeEvents[event];\n    };\n    Observable.prototype.setOneTimeEventFired = function (event) {\n        this.oneTimeEvents[event] = true;\n    };\n    Observable.prototype.setOneTimeEventArgumens = function (event, args) {\n        this.oneTimeArguments[event] = args;\n    };\n    Observable.prototype.getOneTimeEventArgumens = function (event) {\n        return this.oneTimeArguments[event];\n    };\n    Observable.prototype.offAll = function () {\n        this.listeners = {};\n        this.oneTimeEvents = {};\n        this.oneTimeArguments = {};\n    };\n    Observable.prototype.destroy = function () {\n        this.offAll();\n        Log.debug('Observable.destroy(): Listeners were destroyed');\n        return this;\n    };\n    /**\n     * @param {string} event\n     * @param {Array} args\n     * @param {function} [callback]\n     */\n    Observable.prototype.emitAndCallback = function (event, args, callback) {\n        args = Utils.argumentsToArray(args);\n        if (event)\n            this.emit.apply(this, [event].concat(args));\n        if (callback)\n            callback.apply(this, args);\n        return this;\n    };\n    module.exports = {\n        Class: Observable,\n        /**\n         * @param {Context} context\n         * @returns {Observable}\n         */\n        $get: function (context) {\n            return new Observable(context);\n        }\n    };\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('core/AjaxObserver', [\n    'require',\n    'exports',\n    'module',\n    'core/Observable'\n], function (require, exports, module) {\n    'use strict';\n    var Observable = require('./Observable').Class;\n    /**\n     * @constructor\n     * @extends Observable\n     * @alias RCSDK.core.AjaxObserver\n     */\n    function AjaxObserver() {\n        Observable.call(this);\n    }\n    AjaxObserver.prototype = Object.create(Observable.prototype);\n    AjaxObserver.prototype.events = {\n        beforeRequest: 'beforeRequest',\n        // parameters: ajax\n        requestSuccess: 'requestSuccess',\n        // means that response was successfully fetched from server\n        requestError: 'requestError'    // means that request failed completely\n    };\n    module.exports = {\n        Class: AjaxObserver,\n        /**\n         * @param {Context} context\n         * @returns {AjaxObserver}\n         */\n        $get: function (context) {\n            return context.createSingleton('AjaxObserver', function () {\n                return new AjaxObserver();\n            });\n        }\n    };\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('core/Ajax', [\n    'require',\n    'exports',\n    'module',\n    'core/Observable',\n    'core/Utils',\n    'core/Log',\n    'core/AjaxObserver'\n], function (require, exports, module) {\n    'use strict';\n    var Observable = require('./Observable').Class, Utils = require('./Utils'), Log = require('./Log'), jsonRegex = /^['\"\\{\\[]/;\n    /**\n     * @typedef {Object} IAjaxOptions\n     * @property {string} url\n     * @property {string} method?\n     * @property {boolean} async?\n     * @property {Object} post?\n     * @property {Object} headers?\n     */\n    /**\n     * @constructor\n     * @extends Observable\n     * @alias RCSDK.core.Ajax\n     * @param {Context} [context]\n     */\n    function Ajax(context) {\n        Observable.call(this);\n        /** @type {Ajax[]|object} */\n        this.data = null;\n        /** @type {Error|null} */\n        this.error = null;\n        this.response = '';\n        this.headers = {};\n        this.status = 0;\n        /**\n         * @type {IAjaxOptions}\n         * @protected\n         */\n        this.options = {};\n        this.context = context;\n        this.observer = require('./AjaxObserver').$get(context);\n        /** @type {XMLHttpRequest} */\n        this.xhr = null;\n    }\n    Ajax.prototype = Object.create(Observable.prototype);\n    Object.defineProperty(Ajax.prototype, 'constructor', {\n        value: Ajax,\n        enumerable: false\n    });\n    /**\n     * @returns {IAjaxOptions}\n     */\n    Ajax.prototype.getOptions = function () {\n        return this.options;\n    };\n    /**\n     * @param {IAjaxOptions} [options]\n     * @returns {Ajax}\n     */\n    Ajax.prototype.setOptions = function (options) {\n        if (options)\n            this.options = options;\n        return this;\n    };\n    Ajax.prototype.getContentType = function () {\n        return this.headers['Content-Type'] || '';\n    };\n    Ajax.prototype.isMultipart = function () {\n        return this.getContentType().indexOf('multipart/mixed') > -1;\n    };\n    Ajax.prototype.isUnauthorized = function () {\n        return this.status == 401;\n    };\n    Ajax.prototype.isLoaded = function () {\n        return !!this.status;\n    };\n    /**\n     * Checks the send options, defaulting various of the options,\n     * and consuming / transforming some of the options (like get).\n     * @returns {Ajax}\n     */\n    Ajax.prototype.checkOptions = function () {\n        if (!this.options.url)\n            throw new Error('Url is not defined');\n        var defaultHeaders = {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        };\n        this.options.method = this.options.method ? this.options.method.toUpperCase() : 'GET';\n        this.options.async = this.options.async !== undefined ? this.options.async : true;\n        this.options.get = this.options.get || null;\n        this.options.headers = Utils.extend(defaultHeaders, this.options.headers);\n        this.options.post = this.options.post ? typeof this.options.post !== 'string' && this.options.headers['Content-Type'] === 'application/json' ? JSON.stringify(this.options.post) : this.options.post : '';\n        this.options.url = this.options.url + (this.options.get ? (this.options.url.indexOf('?') > -1 ? '&' : '?') + Utils.queryStringify(this.options.get) : '');\n        if ([\n                'GET',\n                'POST',\n                'PUT',\n                'DELETE',\n                'PATCH',\n                'OPTIONS'\n            ].indexOf(this.options.method) < 0)\n            throw new Error('Method has wrong value');\n        delete this.options.get;\n        return this;\n    };\n    /**\n     * @returns {Promise}\n     */\n    Ajax.prototype.send = function () {\n        this.observer.emit(this.observer.events.beforeRequest, this);\n        return this.context.getPromise().resolve(this).then(this.checkOptions.bind(this)).then(this.request.bind(this)).then(function (ajax) {\n            ajax.parseResponse();\n            if (ajax.error)\n                throw ajax.error;\n            return ajax;\n        }.bind(this)).then(function (ajax) {\n            this.observer.emit(this.observer.events.requestSuccess, ajax);\n            return ajax;\n        }.bind(this)).catch(function (e) {\n            e.ajax = this;\n            this.observer.emit(this.observer.events.requestError, e);\n            throw e;\n        }.bind(this));\n    };\n    Ajax.prototype.getXHR = function () {\n        return this.context.getXHR();\n    };\n    /**\n     * @returns {Promise}\n     */\n    Ajax.prototype.request = function () {\n        return new (this.context.getPromise())(function (resolve, reject) {\n            var options = this.options, xhr = this.getXHR();\n            xhr.open(options.method, options.url, options.async);\n            //@see http://stackoverflow.com/questions/19666809/cors-withcredentials-support-limited\n            xhr.withCredentials = true;\n            xhr.onload = function () {\n                this.response = xhr.responseText;\n                this.headers = {\n                    //'RoutingKey': xhr.getResponseHeader('RoutingKey'),\n                    //'Date': xhr.getResponseHeader('Date'),\n                    'Content-Type': xhr.getResponseHeader('Content-Type')\n                };\n                this.status = xhr.status;\n                resolve(this);\n            }.bind(this);\n            xhr.onerror = function (event) {\n                reject(new Error('The request cannot be sent'));    // CORS or network issue\n            };\n            Utils.forEach(options.headers, function (value, header) {\n                xhr.setRequestHeader(header, value);\n            });\n            xhr.send(options.method === 'GET' ? null : options.post);\n            this.xhr = xhr;\n        }.bind(this));\n    };\n    Ajax.prototype.checkStatus = function (status) {\n        return status.toString().substr(0, 1) == '2';\n    };\n    /**\n     * TODO Add tests\n     * @param {string} json\n     * @returns {{content: string, headers: object}}\n     */\n    Ajax.prototype.splitHeadersAndContent = function (json) {\n        var res = {\n            content: json,\n            headers: {}\n        };\n        json = json.trim();\n        if (jsonRegex.test(json))\n            return res;\n        var data = json.replace(/\\r/g, '').split('\\n\\n', 2);\n        res.content = data[1];\n        res.headers = data[0].split('\\n').reduce(function (res, val) {\n            var parts = val.split(': ');\n            res[parts[0]] = parts[1];\n            return res;\n        }, res.headers);\n        return res;\n    };\n    Ajax.prototype.parseResponse = function () {\n        if (!this.isMultipart()) {\n            var data = null, isString = this.response && typeof this.response == 'string';\n            try {\n                data = isString ? JSON.parse(this.response) : this.response;\n                // Data can be blank\n                if (!this.checkStatus(this.status))\n                    this.error = new Error(data.message || data.error_description || data.description);\n            } catch (e) {\n                // Capture JSON.parse errors\n                Log.error('Ajax.parseResponse(): Unable to parse data');\n                Log.error(e.stack || e);\n                Log.error(this.response);\n                this.error = e;\n            }\n            this.data = data;\n        } else {\n            try {\n                var boundary = this.getContentType().split('boundary=')[1], parts = this.response.split(/--Boundary_[\\d]+_[\\d]+_[\\d]+/), res = this.splitHeadersAndContent(parts[1]), partsInfo = JSON.parse(res.content);\n                this.data = [];\n                partsInfo.response.forEach(function (partInfo, i) {\n                    var result = new Ajax(this.context), res = this.splitHeadersAndContent(parts[parseInt(i) + 2]);\n                    result.status = partInfo.status;\n                    result.response = res.content;\n                    result.headers = res.headers;\n                    try {\n                        result.parseResponse();\n                    } catch (e) {\n                    }\n                    this.data.push(result);\n                }, this);\n            } catch (e) {\n                Log.error('Ajax.parseResponse(): Unable to parse batch response');\n                Log.error(e.stack || e);\n                this.error = e;\n            }\n        }\n        return this;\n    };\n    Ajax.prototype.destroy = function () {\n        this.xhr && this.xhr.abort();\n        return Observable.prototype.destroy.call(this);\n    };\n    module.exports = {\n        Class: Ajax,\n        /**\n         * @static\n         * @param {Context} context\n         * @returns {Ajax}\n         */\n        $get: function (context) {\n            return new Ajax(context);\n        }\n    };\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('core/Cache', [\n    'require',\n    'exports',\n    'module',\n    'core/Observable',\n    'core/Utils'\n], function (require, exports, module) {\n    'use strict';\n    var Observable = require('./Observable').Class, Utils = require('./Utils');\n    /**\n     * @constructor\n     * @extends Observable\n     * @alias RCSDK.core.Cache\n     * @param {Context} context\n     */\n    function Cache(context) {\n        Observable.call(this);\n        this.prefix = 'rc-';\n        this.storage = context.getLocalStorage();    // storage must be defined from outside\n    }\n    Cache.prototype = Object.create(Observable.prototype);\n    Object.defineProperty(Cache.prototype, 'constructor', {\n        value: Cache,\n        enumerable: false\n    });\n    Cache.prototype.prefixKey = function (key) {\n        return this.prefix + key;\n    };\n    Cache.prototype.setItem = function (key, data) {\n        this.storage.setItem(this.prefixKey(key), JSON.stringify(data));\n        return this;\n    };\n    Cache.prototype.removeItem = function (key) {\n        this.storage.removeItem(this.prefixKey(key));\n        return this;\n    };\n    Cache.prototype.getItem = function (key) {\n        var item = this.storage.getItem(this.prefixKey(key));\n        if (!item)\n            return null;\n        return JSON.parse(item);\n    };\n    Cache.prototype.clean = function () {\n        for (var key in this.storage) {\n            if (!this.storage.hasOwnProperty(key))\n                continue;\n            if (key.indexOf(this.prefix) === 0) {\n                this.storage.removeItem(key);\n                delete this.storage[key];\n            }\n        }\n        return this;\n    };\n    module.exports = {\n        Class: Cache,\n        /**\n         * @param {Context} context\n         * @returns {Cache}\n         */\n        $get: function (context) {\n            return context.createSingleton('Cache', function () {\n                return new Cache(context);\n            });\n        }\n    };\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('core/Platform', [\n    'require',\n    'exports',\n    'module',\n    'core/Utils',\n    'core/Observable',\n    'core/Log',\n    'core/Cache',\n    'core/Ajax'\n], function (require, exports, module) {\n    'use strict';\n    var Utils = require('./Utils'), Observable = require('./Observable').Class, Log = require('./Log'), forcedTokenType = 'forced';\n    /**\n     * @typedef {Object} PlatformAuthInfo\n     * @property {string} token_type\n     * @property {string} access_token\n     * @property {string} expires_in\n     * @property {int} expireTime\n     * @property {string} refresh_token\n     * @property {string} refresh_token_expires_in\n     * @property {int} refreshExpireTime\n     * @property {string} scope\n     */\n    /**\n     * @constructor\n     * @extends Observable\n     * @alias RCSDK.core.Platform\n     * @param {Context} context\n     */\n    function Platform(context) {\n        Observable.call(this);\n        this.server = '';\n        this.apiKey = '';\n        this.account = '~';\n        this.urlPrefix = '/restapi';\n        this.apiVersion = 'v1.0';\n        this.accountPrefix = '/account/';\n        this.accessTokenTtl = 10 * 60;\n        // 10 minutes\n        this.refreshTokenTtl = 10 * 60 * 60;\n        // 10 hours\n        this.refreshTokenTtlRemember = 7 * 24 * 60 * 60;\n        // 1 week\n        this.refreshHandicapMs = 60 * 1000;\n        // 1 minute\n        this.clearCacheOnRefreshError = true;\n        /** @type {Promise} */\n        this.refreshPromise = null;\n        this.context = context;\n    }\n    Platform.prototype = Object.create(Observable.prototype);\n    Object.defineProperty(Platform.prototype, 'constructor', {\n        value: Platform,\n        enumerable: false\n    });\n    Platform.prototype.cacheId = 'platform';\n    Platform.prototype.pollInterval = 250;\n    Platform.prototype.releaseTimeout = 5000;\n    // If queue was not released then force it to do so after some timeout\n    Platform.prototype.events = {\n        accessViolation: 'accessViolation',\n        logoutSuccess: 'logoutSuccess',\n        logoutError: 'logoutError',\n        authorizeSuccess: 'authorizeSuccess',\n        authorizeError: 'authorizeError',\n        refreshSuccess: 'refreshSuccess',\n        refreshError: 'refreshError'\n    };\n    /**\n     * @returns {Cache}\n     */\n    Platform.prototype.getStorage = function () {\n        return require('./Cache').$get(this.context);\n    };\n    /**\n     * @returns {Ajax}\n     */\n    Platform.prototype.getAjax = function () {\n        return require('./Ajax').$get(this.context);\n    };\n    /**\n     * @returns {Platform}\n     */\n    Platform.prototype.clearStorage = function () {\n        this.getStorage().clean();\n        return this;\n    };\n    /**\n     * @param {boolean} [remember]\n     * @returns {Platform|boolean}\n     */\n    Platform.prototype.remember = function (remember) {\n        var key = this.cacheId + '-remember';\n        if (remember != undefined) {\n            this.getStorage().setItem(key, remember);\n            return this;\n        }\n        return this.getStorage().getItem(key) || false;\n    };\n    /**\n     * @param {string} options.username\n     * @param {string} options.password\n     * @param {string} [options.extension]\n     * @param {boolean} [options.remember]\n     * @returns {Promise}\n     */\n    Platform.prototype.authorize = function (options) {\n        options = options || {};\n        options.remember = options.remember || false;\n        return this.authCall({\n            url: '/restapi/oauth/token',\n            post: {\n                'grant_type': 'password',\n                'username': options.username,\n                'extension': options.extension || '',\n                'password': options.password,\n                'access_token_ttl': this.accessTokenTtl,\n                'refresh_token_ttl': options.remember ? this.refreshTokenTtlRemember : this.refreshTokenTtl\n            }\n        }).then(function (ajax) {\n            this.setCache(ajax.data).remember(options.remember).emitAndCallback(this.events.authorizeSuccess, []);\n            return ajax;\n        }.bind(this)).catch(function (e) {\n            this.clearStorage().emitAndCallback(this.events.authorizeError, [e]);\n            throw e;\n        }.bind(this));\n    };\n    Platform.prototype.isPaused = function () {\n        var storage = this.getStorage(), cacheId = this.cacheId + '-refresh';\n        return !!storage.getItem(cacheId) && Date.now() - parseInt(storage.getItem(cacheId)) < this.releaseTimeout;\n    };\n    Platform.prototype.pause = function () {\n        this.getStorage().setItem(this.cacheId + '-refresh', Date.now());\n        return this;\n    };\n    /**\n     * If the queue is unpaused internally, polling will be cancelled\n     * @returns {Platform}\n     */\n    Platform.prototype.resume = function () {\n        this.getStorage().removeItem(this.cacheId + '-refresh');\n        return this;\n    };\n    /**\n     * Gets resolved into Ajax or null if refresh resolved from elsewhere\n     * @returns {Promise}\n     */\n    Platform.prototype.refresh = function () {\n        return this.context.getPromise().resolve(null).then(function (result) {\n            if (this.isPaused())\n                return this.refreshPolling(result);\n            this.pause();\n            var authData = this.getAuthData();\n            Log.debug('Platform.refresh(): Performing token refresh (access token', authData.access_token, ', refresh token', authData.refresh_token, ')');\n            if (!authData || !authData.refresh_token)\n                throw new Error('Refresh token is missing');\n            if (Date.now() > authData.refreshExpireTime)\n                throw new Error('Refresh token has expired');\n            return this.authCall({\n                url: '/restapi/oauth/token',\n                post: {\n                    'grant_type': 'refresh_token',\n                    'refresh_token': authData.refresh_token,\n                    'access_token_ttl': this.accessTokenTtl,\n                    'refresh_token_ttl': this.remember() ? this.refreshTokenTtlRemember : this.refreshTokenTtl\n                }\n            }).then(function (ajax) {\n                Log.info('Platform.refresh(): Token was refreshed');\n                if (!ajax.data || !ajax.data.refresh_token || !ajax.data.access_token) {\n                    var e = new Error('Malformed OAuth response');\n                    e.ajax = ajax;\n                    throw e;\n                }\n                this.setCache(ajax.data).resume();\n                return ajax;\n            }.bind(this));\n        }.bind(this)).then(function (result) {\n            this.emit(this.events.refreshSuccess, result);\n            return result;\n        }.bind(this)).catch(function (e) {\n            if (this.clearCacheOnRefreshError)\n                this.clearStorage();\n            this.emitAndCallback(this.events.accessViolation, [e]).emitAndCallback(this.events.refreshError, [e]);\n            throw e;\n        }.bind(this));\n    };\n    /**\n     * @returns {Promise}\n     */\n    Platform.prototype.logout = function () {\n        this.pause();\n        return this.authCall({\n            url: '/restapi/oauth/revoke',\n            get: { token: this.getToken() }\n        }).then(function (ajax) {\n            this.resume().clearStorage().emit(this.events.logoutSuccess, ajax);\n            return ajax;\n        }.bind(this)).catch(function (e) {\n            this.resume().emitAndCallback(this.events.accessViolation, [e]).emitAndCallback(this.events.logoutError, [e]);\n            throw e;\n        }.bind(this));\n    };\n    Platform.prototype.refreshPolling = function (result) {\n        if (this.refreshPromise)\n            return this.refreshPromise;\n        this.refreshPromise = new (this.context.getPromise())(function (resolve, reject) {\n            Log.warn('Platform.refresh(): Refresh is already in progress polling started');\n            Utils.poll(function (next) {\n                if (this.isPaused())\n                    return next();\n                this.refreshPromise = null;\n                this.resume();\n                if (this.isTokenValid()) {\n                    resolve(result);\n                } else {\n                    reject(new Error('Automatic authentification timeout'));\n                }\n            }.bind(this), this.pollInterval);\n        }.bind(this));\n        return this.refreshPromise;\n    };\n    Platform.prototype.getToken = function () {\n        return this.getAuthData().access_token;\n    };\n    Platform.prototype.getTokenType = function () {\n        return this.getAuthData().token_type;\n    };\n    /**\n     * @returns {PlatformAuthInfo}\n     */\n    Platform.prototype.getAuthData = function () {\n        return this.getStorage().getItem(this.cacheId) || {\n            token_type: '',\n            access_token: '',\n            expires_in: 0,\n            refresh_token: '',\n            refresh_token_expires_in: 0\n        };\n    };\n    /**\n     * Check if there is a valid (not expired) access token\n     * @returns {boolean}\n     */\n    Platform.prototype.isTokenValid = function () {\n        var authData = this.getAuthData();\n        return authData.token_type == forcedTokenType || new Date(authData.expireTime).getTime() - this.refreshHandicapMs > Date.now();\n    };\n    /**\n     * Checks if user is authorized\n     * If there is no access token, refresh will be performed\n     * @returns {Promise}\n     */\n    Platform.prototype.isAuthorized = function () {\n        if (this.isTokenValid())\n            return this.context.getPromise().resolve(true);\n        return this.refresh();\n    };\n    /**\n     * @returns {Platform}\n     */\n    Platform.prototype.cancelAccessToken = function () {\n        return this.setCache(Utils.extend(this.getAuthData(), {\n            access_token: '',\n            expires_in: 0\n        }));\n    };\n    /**\n     * @param {object} authData\n     * @returns {Platform}\n     */\n    Platform.prototype.setCache = function (authData) {\n        var oldAuthData = this.getAuthData();\n        Log.info('Platform.setCache(): Tokens were updated, new:', authData, ', old:', oldAuthData);\n        authData.expireTime = Date.now() + authData.expires_in * 1000;\n        authData.refreshExpireTime = Date.now() + authData.refresh_token_expires_in * 1000;\n        this.getStorage().setItem(this.cacheId, authData);\n        return this;\n    };\n    /**\n     * @returns {Platform}\n     */\n    Platform.prototype.forceAuthentication = function () {\n        this.setCache({\n            token_type: forcedTokenType,\n            access_token: '',\n            expires_in: 0,\n            refresh_token: '',\n            refresh_token_expires_in: 0\n        });\n        return this;\n    };\n    /**\n     * @param {IAjaxOptions} options\n     * @returns {Promise}\n     */\n    Platform.prototype.apiCall = function (options) {\n        options = options || {};\n        options.url = this.apiUrl(options.url, { addServer: true });\n        return this.isAuthorized()    // Refresh will occur inside\n.then(function () {\n            var token = this.getToken();\n            options.headers = options.headers || {};\n            options.headers.Authorization = this.getTokenType() + (token ? ' ' + token : '');\n            return this.getAjax().setOptions(options).send();\n        }.bind(this)).catch(function (e) {\n            if (!e.ajax || !e.ajax.isUnauthorized())\n                throw e;\n            this.cancelAccessToken();\n            return this.refresh().then(function () {\n                // Re-send with same options\n                return this.apiCall(options);\n            }.bind(this));\n        }.bind(this));\n    };\n    /**\n     * @param {IAjaxOptions} options\n     * @returns {Promise}\n     */\n    Platform.prototype.authCall = function (options) {\n        options = options || {};\n        options.headers = Utils.extend({\n            'Content-Type': 'application/x-www-form-urlencoded',\n            'Accept': 'application/json',\n            'Authorization': 'Basic ' + this.apiKey\n        }, options.headers || {});\n        options.method = options.method || 'POST';\n        options.post = Utils.queryStringify(options.post);\n        options.url = this.apiUrl(options.url, { addServer: true });\n        return this.getAjax().setOptions(options).send();\n    };\n    /**\n     *\n     * @param url\n     * @param {{addMethod?: string, addToken?: boolean, addServer?: boolean}} [options]\n     * @returns {string}\n     */\n    Platform.prototype.apiUrl = function (url, options) {\n        url = url || '';\n        options = options || {};\n        var builtUrl = '';\n        if (options.addServer && url.indexOf('http://') == -1 && url.indexOf('https://') == -1)\n            builtUrl += this.server;\n        if (url.indexOf(this.urlPrefix) == -1)\n            builtUrl += this.urlPrefix + '/' + this.apiVersion;\n        if (url.indexOf(this.accountPrefix) > -1)\n            builtUrl.replace(this.accountPrefix + '~', this.accountPrefix + this.account);\n        builtUrl += url;\n        if (options.addMethod || options.addToken)\n            builtUrl += url.indexOf('?') > -1 ? '&' : '?';\n        if (options.addMethod)\n            builtUrl += '_method=' + options.addMethod;\n        if (options.addToken)\n            builtUrl += (options.addMethod ? '&' : '') + 'access_token=' + this.getToken();\n        return builtUrl;\n    };\n    module.exports = {\n        Class: Platform,\n        /**\n         * @param {Context} context\n         * @returns {Platform}\n         */\n        $get: function (context) {\n            return context.createSingleton('Platform', function () {\n                return new Platform(context);\n            });\n        }\n    };\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('core/Subscription', [\n    'require',\n    'exports',\n    'module',\n    'core/Observable',\n    'core/Log',\n    'core/Utils',\n    'core/Platform'\n], function (require, exports, module) {\n    'use strict';\n    var Observable = require('./Observable').Class, Log = require('./Log'), Utils = require('./Utils'), renewHandicapMs = 60 * 1000;\n    /**\n     * @constructor\n     * @extends Observable\n     * @alias RCSDK.core.Subscription\n     * @param {Context} context\n     */\n    function Subscription(context) {\n        Observable.call(this);\n        this.eventFilters = [];\n        this.timeout = null;\n        this.subscription = {\n            eventFilters: [],\n            expirationTime: '',\n            // 2014-03-12T19:54:35.613Z\n            expiresIn: 0,\n            deliveryMode: {\n                transportType: 'PubNub',\n                encryption: false,\n                address: '',\n                subscriberKey: '',\n                secretKey: ''\n            },\n            id: '',\n            creationTime: '',\n            // 2014-03-12T19:54:35.613Z\n            status: '',\n            // Active\n            uri: ''\n        };\n        /** @type {PUBNUB.ws} */\n        this.socket = null;\n        this.context = context;\n    }\n    Subscription.prototype = Object.create(Observable.prototype);\n    Object.defineProperty(Subscription.prototype, 'constructor', {\n        value: Subscription,\n        enumerable: false\n    });\n    Subscription.prototype.events = {\n        notification: 'notification',\n        removeSuccess: 'removeSuccess',\n        removeError: 'removeError',\n        renewSuccess: 'renewSuccess',\n        renewError: 'renewError',\n        subscribeSuccess: 'subscribeSuccess',\n        subscribeError: 'subscribeError'\n    };\n    /**\n     * @param {string} url\n     * @returns {PUBNUB.ws}\n     */\n    Subscription.prototype.createPubnub = function (url) {\n        return new (this.getPubnub()).ws(url);\n    };\n    Subscription.prototype.getPubnub = function () {\n        return this.context.getPubnub();\n    };\n    Subscription.prototype.getCrypto = function () {\n        return this.context.getCryptoJS();\n    };\n    Subscription.prototype.getPlatform = function () {\n        return require('./Platform').$get(this.context);\n    };\n    /**\n     * Creates or updates subscription if there is an active one\n     * @param {{events?:string[]}} [options] New array of events\n     * @returns {Promise}\n     */\n    Subscription.prototype.register = function (options) {\n        if (this.isSubscribed()) {\n            return this.renew(options);\n        } else {\n            return this.subscribe(options);\n        }\n    };\n    Subscription.prototype.addEvents = function (events) {\n        this.eventFilters = this.eventFilters.concat(events);\n        return this;\n    };\n    Subscription.prototype.setEvents = function (events) {\n        this.eventFilters = events;\n        return this;\n    };\n    Subscription.prototype.getFullEventFilters = function () {\n        return this.eventFilters.map(function (event) {\n            return this.getPlatform().apiUrl(event);\n        }.bind(this));\n    };\n    /**\n     * @private\n     * @param {Array} [options.events] New array of events\n     * @returns {Promise}\n     */\n    Subscription.prototype.subscribe = function (options) {\n        options = options || {};\n        if (options.events)\n            this.eventFilters = options.events;\n        this.clearTimeout();\n        return new (this.context.getPromise())(function (resolve, reject) {\n            if (!this.eventFilters || !this.eventFilters.length)\n                throw new Error('Events are undefined');\n            resolve();\n        }.bind(this)).then(function () {\n            return this.getPlatform().apiCall({\n                method: 'POST',\n                url: '/restapi/v1.0/subscription',\n                post: {\n                    eventFilters: this.getFullEventFilters(),\n                    deliveryMode: { transportType: 'PubNub' }\n                }\n            });\n        }.bind(this)).then(function (ajax) {\n            this.updateSubscription(ajax.data).subscribeAtPubnub().emit(this.events.subscribeSuccess, ajax.data);\n            return ajax;\n        }.bind(this)).catch(function (e) {\n            this.unsubscribe().emit(this.events.subscribeError, e);\n            throw e;\n        }.bind(this));\n    };\n    /**\n     * @private\n     * @param {Array} [options.events] New array of events\n     * @returns {Promise}\n     */\n    Subscription.prototype.renew = function (options) {\n        options = options || {};\n        if (options.events)\n            this.eventFilters = options.events;\n        this.clearTimeout();\n        return new (this.context.getPromise())(function (resolve, reject) {\n            if (!this.subscription || !this.subscription.id)\n                throw new Error('Subscription ID is required');\n            if (!this.eventFilters || !this.eventFilters.length)\n                throw new Error('Events are undefined');\n            resolve();\n        }.bind(this)).then(function () {\n            return this.getPlatform().apiCall({\n                method: 'PUT',\n                url: '/restapi/v1.0/subscription/' + this.subscription.id,\n                post: { eventFilters: this.getFullEventFilters() }\n            });\n        }.bind(this)).then(function (ajax) {\n            this.updateSubscription(ajax.data).emit(this.events.renewSuccess, ajax.data);\n            return ajax;\n        }.bind(this)).catch(function (e) {\n            this.unsubscribe().emit(this.events.renewError, e);\n            throw e;\n        }.bind(this));\n    };\n    /**\n     * @param {boolean} [options.async]\n     * @returns {Promise}\n     */\n    Subscription.prototype.remove = function (options) {\n        options = Utils.extend({ async: true }, options);\n        return new (this.context.getPromise())(function (resolve, reject) {\n            if (!this.subscription || !this.subscription.id)\n                throw new Error('Subscription ID is required');\n            resolve();\n        }.bind(this)).then(function () {\n            return this.getPlatform().apiCall({\n                async: !!options.async,\n                // Warning! This is necessary because this method is used in beforeunload hook and has to be synchronous\n                method: 'DELETE',\n                url: '/restapi/v1.0/subscription/' + this.subscription.id\n            });\n        }.bind(this)).then(function (ajax) {\n            this.unsubscribe().emit(this.events.removeSuccess, ajax);\n            return ajax;\n        }.bind(this)).catch(function (e) {\n            this.unsubscribe().emit(this.events.removeError, e);\n            throw e;\n        }.bind(this));\n    };\n    Subscription.prototype.destroy = function () {\n        this.unsubscribe();\n        return Observable.prototype.destroy.call(this);\n    };\n    Subscription.prototype.isSubscribed = function () {\n        return this.subscription && this.subscription.deliveryMode && this.subscription.deliveryMode.subscriberKey && this.subscription.deliveryMode.address;\n    };\n    /**\n     * @protected\n     */\n    Subscription.prototype.setTimeout = function () {\n        var timeToExpiration = this.subscription.expiresIn * 1000 - renewHandicapMs;\n        this.timeout = setTimeout(function () {\n            this.renew({});\n        }.bind(this), timeToExpiration);\n    };\n    /**\n     * @protected\n     */\n    Subscription.prototype.clearTimeout = function () {\n        clearTimeout(this.timeout);\n    };\n    /**\n     * Set new subscription info and re-create timeout\n     * @protected\n     * @param subscription\n     * @returns {Subscription}\n     */\n    Subscription.prototype.updateSubscription = function (subscription) {\n        this.clearTimeout();\n        this.subscription = subscription;\n        this.setTimeout();\n        return this;\n    };\n    /**\n     * Remove subscription and disconnect from socket\n     * @protected\n     * @returns {Subscription}\n     */\n    Subscription.prototype.unsubscribe = function () {\n        this.clearTimeout();\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent#Status_codes\n        this.socket && this.socket.close(this.socket.CLOSE_NORMAL, 'Connection terminated by client');\n        this.subscription = null;\n        return this;\n    };\n    /**\n     * @abstract\n     * @param {Object} message\n     * @returns {Subscription}\n     */\n    Subscription.prototype.notify = function (message) {\n        if (this.isSubscribed() && this.subscription.deliveryMode.encryptionKey) {\n            var CryptoJS = this.getCrypto();\n            var key = CryptoJS.enc.Base64.parse(this.subscription.deliveryMode.encryptionKey);\n            var data = CryptoJS.enc.Base64.parse(message);\n            var decrypted = CryptoJS.AES.decrypt({ ciphertext: data }, key, {\n                mode: CryptoJS.mode.ECB,\n                padding: CryptoJS.pad.Pkcs7\n            }).toString(CryptoJS.enc.Utf8);\n            message = JSON.parse(decrypted);\n        }\n        this.emit(this.events.notification, message);\n        return this;\n    };\n    /**\n     * @returns {Subscription}\n     */\n    Subscription.prototype.subscribeAtPubnub = function () {\n        if (!this.isSubscribed())\n            return this;\n        // ws(s)://ORIGIN/PUBLISH_KEY/SUBSCRIBE_KEY/CHANNEL\n        var url = 'wss://pubsub.pubnub.com//' + this.subscription.deliveryMode.subscriberKey + '/' + this.subscription.deliveryMode.address;\n        this.socket = this.createPubnub(url);\n        this.socket.pubnub && this.socket.pubnub.ready();\n        //TODO This may be unnecessary\n        this.socket.onmessage = function (e) {\n            Log.info('Subscription: Socket received message', e);\n            this.notify(e.data);\n        }.bind(this);\n        this.socket.onclose = function () {\n            Log.info('Subscription: Socket closed');\n        };\n        this.socket.onerror = function (e) {\n            Log.error('Subscription: Socket error');\n            Log.error(e.stack || e);\n        };\n        this.socket.onopen = function () {\n            Log.info('Subscription: Socket open');\n        };\n        return this;\n    };\n    module.exports = {\n        Class: Subscription,\n        /**\n         * @param {Context} context\n         * @returns {Subscription}\n         */\n        $get: function (context) {\n            return new Subscription(context);\n        }\n    };\n});","/**\n * istanbul ignore next\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('core/PageVisibility', [\n    'require',\n    'exports',\n    'module',\n    'core/Observable'\n], function (require, exports, module) {\n    'use strict';\n    var Observable = require('./Observable').Class;\n    /**\n     * @constructor\n     * @extends Observable\n     * @alias RCSDK.core.PageVisibility\n     */\n    function PageVisibility() {\n        Observable.call(this);\n        var hidden = 'hidden', self = this;\n        this.visible = true;\n        if (typeof document == 'undefined' || typeof window == 'undefined')\n            return;\n        // Standards:\n        if (hidden in document)\n            document.addEventListener('visibilitychange', onchange);\n        else if ((hidden = 'mozHidden') in document)\n            document.addEventListener('mozvisibilitychange', onchange);\n        else if ((hidden = 'webkitHidden') in document)\n            document.addEventListener('webkitvisibilitychange', onchange);\n        else if ((hidden = 'msHidden') in document)\n            document.addEventListener('msvisibilitychange', onchange);    // IE 9 and lower:\n        else if ('onfocusin' in document)\n            document.onfocusin = document.onfocusout = onchange;    // All others:\n        else\n            window.onpageshow = window.onpagehide = window.onfocus = window.onblur = onchange;\n        function onchange(evt) {\n            evt = evt || window.event;\n            var v = 'visible', h = 'hidden', evtMap = {\n                    focus: v,\n                    focusin: v,\n                    pageshow: v,\n                    blur: h,\n                    focusout: h,\n                    pagehide: h\n                };\n            self.visible = evt.type in evtMap ? evtMap[evt.type] == v : !document[hidden];\n            self.emit(self.events.change, self.visible);\n        }\n    }\n    PageVisibility.prototype = Object.create(Observable.prototype);\n    Object.defineProperty(PageVisibility.prototype, 'constructor', {\n        value: PageVisibility,\n        enumerable: false\n    });\n    PageVisibility.prototype.events = { change: 'change' };\n    PageVisibility.prototype.isVisible = function () {\n        return this.visible;\n    };\n    module.exports = {\n        Class: PageVisibility,\n        /**\n         * @param {Context} context\n         * @returns {PageVisibility}\n         */\n        $get: function (context) {\n            return new PageVisibility();\n        }\n    };\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('core/Helper', [\n    'require',\n    'exports',\n    'module',\n    'core/Utils'\n], function (require, exports, module) {\n    'use strict';\n    var Utils = require('./Utils');\n    /**\n     * @alias RCSDK.core.Helper\n     * @constructor\n     * @param {Context} context\n     */\n    function Helper(context) {\n        this.context = context;\n    }\n    Helper.prototype.defaultProperty = 'id';\n    /**\n     * @returns {Context}\n     */\n    Helper.prototype.getContext = function () {\n        return this.context;\n    };\n    /**\n     * @param {object} [options]\n     * @param {string} [id]\n     */\n    Helper.prototype.createUrl = function (options, id) {\n        return '';\n    };\n    /**\n     * @param {IHelperObject} object\n     * @returns {string}\n     */\n    Helper.prototype.getId = function (object) {\n        return object && object[this.defaultProperty];\n    };\n    /**\n     *\n     * @param {IHelperObject} object\n     * @returns {boolean}\n     */\n    Helper.prototype.isNew = function (object) {\n        return !this.getId(object) || !this.getUri(object);\n    };\n    /**\n     *\n     * @param {IHelperObject} object\n     * @returns {IHelperObject}\n     */\n    Helper.prototype.resetAsNew = function (object) {\n        if (object) {\n            delete object.id;\n            delete object.uri;\n        }\n        return object;\n    };\n    /**\n     * @param {IHelperObject} object\n     * @returns {string}\n     */\n    Helper.prototype.getUri = function (object) {\n        return object && object.uri;\n    };\n    /**\n     * @param {Ajax} ajax\n     * @return {IHelperObject[]}\n     */\n    Helper.prototype.parseMultipartResponse = function (ajax) {\n        if (ajax.isMultipart()) {\n            // Response is multipart (multiple IDs)\n            // ajax.data has full array, leave only successful\n            return ajax.data.filter(function (result) {\n                return !result.error;\n            }).map(function (result) {\n                return result.data;\n            });\n        } else {\n            // Single ID\n            return [ajax.data];\n        }\n    };\n    /**\n     * Options have higher priority, if object.url and options.url were provided, options.url will be returned\n     * If no URL was provided, default will be returned\n     * @param {IHelperObject} [object]\n     * @param {IAjaxOptions} [options]\n     * @return {IAjaxOptions}\n     */\n    Helper.prototype.loadRequest = function (object, options) {\n        return Utils.extend(options || {}, {\n            url: options && options.url || object && this.getUri(object) || this.createUrl(),\n            method: options && options.method || 'GET'\n        });\n    };\n    /**\n     * Options have higher priority, if object.url and options.url were provided, options.url will be returned\n     * If no URL was provided, default will be returned\n     * @param {IHelperObject} object\n     * @param {IAjaxOptions} [options]\n     * @return {IAjaxOptions}\n     */\n    Helper.prototype.saveRequest = function (object, options) {\n        if (!object && !(options && options.post))\n            throw new Error('No Object');\n        return Utils.extend(options || {}, {\n            method: options && options.method || (this.isNew(object) ? 'POST' : 'PUT'),\n            url: options && options.url || this.getUri(object) || this.createUrl(),\n            post: options && options.post || object\n        });\n    };\n    /**\n     * Options have higher priority, if object.url and options.url were provided, options.url will be returned\n     * If no URL was provided exception will be thrown\n     * @param {IHelperObject} object\n     * @param {IAjaxOptions} [options]\n     * @return {IAjaxOptions}\n     */\n    Helper.prototype.deleteRequest = function (object, options) {\n        options = options || {};\n        if (!this.getUri(object) && !(options && options.url))\n            throw new Error('Object has to be not new or URL must be provided');\n        return Utils.extend(options || {}, {\n            method: options && options.method || 'DELETE',\n            url: options && options.url || this.getUri(object)\n        });\n    };\n    /**\n     * If no url was provided, default SYNC url will be returned\n     * @param {IAjaxOptions} [options]\n     * @return {IAjaxOptions}\n     */\n    Helper.prototype.syncRequest = function (options) {\n        options = options || {};\n        options.url = options.url || this.createUrl({ sync: true });\n        options.get = options.get || {};\n        if (!!options.get.syncToken) {\n            options.get = {\n                syncType: 'ISync',\n                syncToken: options.get.syncToken\n            };\n        } else {\n            options.get.syncType = 'FSync';\n        }\n        return options;\n    };\n    Helper.prototype.nextPageExists = function (data) {\n        return data && data.navigation && 'nextPage' in data.navigation;\n    };\n    /**\n     * @param {IHelperObject[]} array - an array to be indexed\n     * @param {function(object)} [getIdFn] - must return an ID for each array item\n     * @param {boolean} [gather] - if true, then each index will have an array of items, that has same ID, otherwise the first indexed item wins\n     * @returns {*}\n     */\n    Helper.prototype.index = function (array, getIdFn, gather) {\n        getIdFn = getIdFn || this.getId.bind(this);\n        array = array || [];\n        return array.reduce(function (index, item) {\n            var id = getIdFn(item);\n            if (!id || index[id] && !gather)\n                return index;\n            if (gather) {\n                if (!index[id])\n                    index[id] = [];\n                index[id].push(item);\n            } else {\n                index[id] = item;\n            }\n            return index;\n        }, {});\n    };\n    /**\n     * Returns a shallow copy of merged _target_ array plus _supplement_ array\n     * @param {IHelperObject[]} target\n     * @param {IHelperObject[]} supplement\n     * @param {function(IHelperObject)} [getIdFn]\n     * @param {boolean} [mergeItems] - if true, properties of _supplement_ item will be applied to _target_ item, otherwise _target_ item will be replaced\n     * @returns {*}\n     */\n    Helper.prototype.merge = function (target, supplement, getIdFn, mergeItems) {\n        getIdFn = getIdFn || this.getId.bind(this);\n        target = target || [];\n        supplement = supplement || [];\n        var supplementIndex = this.index(supplement, getIdFn), updatedIDs = [];\n        var result = target.map(function (item) {\n            var id = getIdFn(item), newItem = supplementIndex[id];\n            if (newItem)\n                updatedIDs.push(id);\n            return newItem ? mergeItems ? Utils.extend(item, newItem) : newItem : item;\n        });\n        supplement.forEach(function (item) {\n            if (updatedIDs.indexOf(getIdFn(item)) == -1)\n                result.push(item);\n        });\n        return result;\n    };\n    module.exports = {\n        Class: Helper,\n        /**\n         * @param {Context} context\n         * @returns {Helper}\n         */\n        $get: function (context) {\n            return new Helper(context);\n        }\n    };    /**\n     * @typedef {object} IHelperObject\n     * @property {string} id\n     * @property {string} uri\n     */\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('core/Validator', [\n    'require',\n    'exports',\n    'module',\n    'core/Utils'\n], function (require, exports, module) {\n    'use strict';\n    var Utils = require('./Utils');\n    /**\n     * @typedef {object} IValidator\n     * @property {string} field\n     * @property {function} validator\n     */\n    /**\n     * @typedef {object} IValidatorResult\n     * @property {boolean} isValid\n     * @property {Object.<number, Error[]>} errors\n     */\n    /**\n     * @alias RCSDK.core.Validator\n     * @name Validator\n     */\n    var Validator = module.exports = {\n        /**\n         * @param {IValidator[]} validators\n         * @returns {IValidatorResult}\n         */\n        validate: function (validators) {\n            /** @type {IValidatorResult} */\n            var result = {\n                errors: {},\n                isValid: true\n            };\n            result.errors = validators.reduce(function (errors, validator) {\n                var res = validator.validator();\n                if (res.length > 0) {\n                    result.isValid = false;\n                    errors[validator.field] = errors[validator.field] || [];\n                    errors[validator.field] = errors[validator.field].concat(res);\n                }\n                return errors;\n            }, {});\n            return result;\n        },\n        /**\n         * It is not recommended to have any kinds of complex validators at front end\n         * @deprecated\n         * @param value\n         * @param multiple\n         * @returns {Function}\n         */\n        email: function (value, multiple) {\n            return function () {\n                if (!value)\n                    return [];\n                return Utils.isEmail(value, multiple) ? [] : [new Error('Value has to be a valid email')];\n            };\n        },\n        /**\n         * It is not recommended to have any kinds of complex validators at front end\n         * TODO International phone numbers\n         * @deprecated\n         * @param value\n         * @returns {Function}\n         */\n        phone: function (value) {\n            return function () {\n                if (!value)\n                    return [];\n                return Utils.isPhoneNumber(value) ? [] : [new Error('Value has to be a valid US phone number')];\n            };\n        },\n        required: function (value) {\n            return function () {\n                return !value ? [new Error('Field is required')] : [];\n            };\n        },\n        length: function (value, max, min) {\n            return function () {\n                var errors = [];\n                if (!value)\n                    return errors;\n                value = value.toString();\n                if (min && value.length < min)\n                    errors.push(new Error('Minimum length of ' + min + ' characters is required'));\n                if (max && value.length > max)\n                    errors.push(new Error('Maximum length of ' + max + ' characters is required'));\n                return errors;\n            };\n        },\n        $get: function (context) {\n            return Validator;\n        }\n    };\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('core/List', [\n    'require',\n    'exports',\n    'module',\n    'core/Utils'\n], function (require, exports, module) {\n    'use strict';\n    var Utils = require('./Utils');\n    /**\n     * @alias RCSDK.core.List\n     * @name List\n     */\n    var List = module.exports = {\n        /**\n         * @param {string} property\n         * @returns {function(object)}\n         */\n        propertyExtractor: function (property) {\n            return function (item, options) {\n                return property ? item && item[property] || null : item;\n            };\n        },\n        /**\n         * Non-string types are converted to string\n         * Non-string types are extracted as an empty string if they could be converted to false\n         * If no options.sortBy given the item itself is extracted\n         * Compares strings:\n         * - if (a is less than b) return -1;\n         * - if (a is greater than b) return 1;\n         * - else (a must be equal to b) return 0;\n         * Exceptions in will be suppressed, if any - a is assumed to be less than b\n         * @param {string} a\n         * @param {string} b\n         * @param {IListComparatorOptions} [options]\n         * @returns {number}\n         */\n        stringComparator: function (a, b, options) {\n            return Utils.parseString(a).localeCompare(Utils.parseString(b));\n        },\n        /**\n         * Non-numeric types are extracted as 0 if they could be converted to false\n         * Objects that could not be converted to number are extracted as 0\n         * If no options.sortBy given the item itself is extracted\n         * See parseFloat for more info\n         * Compares numbers:\n         * - if (a is less than b) return -1;\n         * - if (a is greater than b) return 1;\n         * - else (a must be equal to b) return 0;\n         * Function does not check types\n         * Exceptions in will be suppressed, if any - a is assumed to be less than b\n         * @param {number} a\n         * @param {number} b\n         * @param {IListComparatorOptions} [options]\n         * @returns {number}\n         */\n        numberComparator: function (a, b, options) {\n            return Utils.parseNumber(a) - Utils.parseNumber(b);\n        },\n        /**\n         * Function extracts (using _extractFn_ option) values of a property (_sortBy_ option) and compares them using\n         * compare function (_compareFn_ option, by default Helper.stringComparator)\n         * Merged options are provided to _extractFn_ and _compareFn_\n         * TODO Check memory leaks for all that options links\n         * @param {IListComparatorOptions} [options]\n         * @returns {function(object, object)}\n         */\n        comparator: function (options) {\n            options = Utils.extend({\n                extractFn: this.propertyExtractor(options && options.sortBy || null),\n                compareFn: this.stringComparator\n            }, options);\n            /**\n             * @param {object} item1\n             * @param {object} item2\n             * @returns {number}\n             */\n            function comparator(item1, item2) {\n                return options.compareFn(options.extractFn(item1, options), options.extractFn(item2, options), options);\n            }\n            return comparator;\n        },\n        /**\n         * @param {string} obj\n         * @param {IListFilterOptions} options\n         * @returns {boolean}\n         */\n        equalsFilter: function (obj, options) {\n            return options.condition === obj;\n        },\n        /**\n         * @param {string} obj\n         * @param {IListFilterOptions} options\n         * @returns {boolean}\n         */\n        containsFilter: function (obj, options) {\n            return obj && obj.toString().indexOf(options.condition) > -1;\n        },\n        /**\n         * @param {string} obj\n         * @param {IListFilterOptions} options - `condition` must be an instance of RegExp\n         * @returns {boolean}\n         */\n        regexpFilter: function (obj, options) {\n            if (!(options.condition instanceof RegExp))\n                throw new Error('Condition must be an instance of RegExp');\n            return options.condition.test(obj);\n        },\n        /**\n         * Function extracts (using `extractFn` option) values of a property (`filterBy` option) and filters them using\n         * compare function (`filterFn` option, by default Helper.equalsFilter)\n         * Merged options are provided to `extractFn` and `compareFn`\n         * Set `filterBy` to null to force `propertyExtractor` to return object itself\n         * TODO Check memory leaks for all that options links\n         * @param {IListFilterOptions[]} [filterConfigs]\n         * @returns {function(object)}\n         */\n        filter: function (filterConfigs) {\n            var self = this;\n            filterConfigs = (filterConfigs || []).map(function (opt) {\n                return Utils.extend({\n                    condition: '',\n                    extractFn: self.propertyExtractor(opt && opt.filterBy || null),\n                    filterFn: self.equalsFilter\n                }, opt);\n            });\n            /**\n             * @param {object} item\n             * @returns {boolean}\n             */\n            function filter(item) {\n                return filterConfigs.reduce(function (pass, opt) {\n                    if (!pass || !opt.condition)\n                        return pass;\n                    return opt.filterFn(opt.extractFn(item, opt), opt);\n                }, true);\n            }\n            return filter;\n        },\n        $get: function (context) {\n            return List;\n        }\n    };    /**\n     * @typedef {object} IListComparatorOptions\n     * @property {string} sortBy\n     * @property {function(object, IListComparatorOptions)} extractFn\n     * @property {function(object, object)} compareFn\n     */\n          /**\n     * @typedef {object} IListFilterOptions\n     * @property {string} filterBy\n     * @property {object} condition\n     * @property {function(object, IListComparatorOptions)} extractFn\n     * @property {function(object, object)} filterFn\n     */\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('helpers/Country', [\n    'require',\n    'exports',\n    'module',\n    'core/Helper'\n], function (require, exports, module) {\n    'use strict';\n    var Helper = require('../core/Helper').Class;\n    /**\n     * @extends Helper\n     * @constructor\n     */\n    function CountryHelper(context) {\n        Helper.call(this, context);\n    }\n    CountryHelper.prototype = Object.create(Helper.prototype);\n    CountryHelper.prototype.createUrl = function () {\n        return '/dictionary/country';\n    };\n    module.exports = {\n        Class: CountryHelper,\n        /**\n         * @param {Context} context\n         * @returns {CountryHelper}\n         */\n        $get: function (context) {\n            return context.createSingleton('CountryHelper', function () {\n                return new CountryHelper(context);\n            });\n        }\n    };    /**\n     * @typedef {object} ICountry\n     * @property {string} id\n     * @property {string} uri\n     * @property {string} name\n     * @property {string} isoCode\n     * @property {string} callingCode\n     */\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('helpers/DeviceModel', [\n    'require',\n    'exports',\n    'module',\n    'core/Helper'\n], function (require, exports, module) {\n    'use strict';\n    var Helper = require('../core/Helper').Class;\n    /**\n     * @extends Helper\n     * @constructor\n     */\n    function DeviceModelHelper(context) {\n        Helper.call(this, context);\n    }\n    DeviceModelHelper.prototype = Object.create(Helper.prototype);\n    /**\n     * @param {IDeviceModel} device\n     * @returns {string}\n     */\n    DeviceModelHelper.prototype.getId = function (device) {\n        if (!device)\n            return null;\n        return device.id + (device.addons && device.addons[0] ? '-' + device.addons[0].id + '-' + device.addons[0].count : '');\n    };\n    /**\n     * Remove extra textual information from device\n     * @exceptionalCase Platform does not understand full device info\n     * @param {IDeviceModel} device\n     * @returns {IDeviceModel}\n     */\n    DeviceModelHelper.prototype.cleanForSaving = function (device) {\n        if (!device)\n            return null;\n        delete device.name;\n        delete device.deviceClass;\n        if (device.addons && device.addons.length > 0) {\n            device.addons.forEach(function (addon, i) {\n                delete device.addons[i].name;\n            });\n        } else {\n            delete device.addons;\n        }\n        return device;\n    };\n    /**\n     * TODO Remove when http://jira.ringcentral.com/browse/SDK-1 is done\n     * @type {IDeviceModel[]}\n     */\n    DeviceModelHelper.prototype.devices = [\n        {\n            id: '-1',\n            name: 'Softphone'\n        },\n        {\n            id: '0',\n            name: 'Existing device'\n        },\n        {\n            id: '19',\n            name: 'Cisco SPA-525G2 Desk Phone',\n            deviceClass: 'Desk Phone'\n        },\n        {\n            id: '23',\n            name: 'Polycom IP 321 Basic IP phone',\n            deviceClass: 'Desk Phone'\n        },\n        {\n            id: '30',\n            name: 'Polycom IP 550 HD Manager IP phone',\n            deviceClass: 'Desk Phone'\n        },\n        {\n            id: '37',\n            name: 'Polycom IP 6000 Conference Phone',\n            deviceClass: 'Conference Phone'\n        },\n        {\n            id: '40',\n            name: 'Polycom IP 335 HD IP phone',\n            deviceClass: 'Desk Phone'\n        },\n        {\n            id: '51',\n            name: 'Cisco SPA-303 Desk Phone',\n            deviceClass: 'Desk Phone'\n        },\n        {\n            id: '16',\n            name: 'Cisco SPA-508G Desk Phone with 1 Expansion Module',\n            deviceClass: 'Desk Phone',\n            addons: [{\n                    id: '2',\n                    name: 'Cisco Sidecar',\n                    count: '1'\n                }]\n        },\n        {\n            id: '16',\n            name: 'Cisco SPA-508G Desk Phone with 2 Expansion Modules',\n            deviceClass: 'Desk Phone',\n            addons: [{\n                    id: '2',\n                    name: 'Cisco Sidecar',\n                    count: '2'\n                }]\n        },\n        {\n            id: '16',\n            name: 'Cisco SPA-508G Desk Phone',\n            deviceClass: 'Desk Phone'\n        },\n        {\n            id: '19',\n            name: 'Cisco SPA-525G2 Desk Phone with 1 Expansion Module',\n            deviceClass: 'Desk Phone',\n            addons: [{\n                    id: '2',\n                    name: 'Cisco Sidecar',\n                    count: '1'\n                }]\n        },\n        {\n            id: '19',\n            name: 'Cisco SPA-525G2 Desk Phone with 2 Expansion Modules\\tDesk Phone',\n            addons: [{\n                    id: '2',\n                    name: 'Cisco Sidecar',\n                    count: '2'\n                }]\n        },\n        {\n            id: '34',\n            name: 'Polycom IP 650 HD Executive IP phone with 1 Expansion Module',\n            deviceClass: 'Desk Phone',\n            addons: [{\n                    id: '1',\n                    name: 'Plolycom Expansion',\n                    count: '1'\n                }]\n        },\n        {\n            id: '34',\n            name: 'Polycom IP 650 HD Executive IP phone with 2 Expansion Modules',\n            deviceClass: 'Desk Phone',\n            addons: [{\n                    id: '1',\n                    name: 'Plolycom Expansion',\n                    count: '2'\n                }]\n        },\n        {\n            id: '34',\n            name: 'Polycom IP 650 HD Executive IP phone with 3 Expansion Modules',\n            deviceClass: 'Desk Phone',\n            addons: [{\n                    id: '1',\n                    name: 'Plolycom Expansion',\n                    count: '3'\n                }]\n        },\n        {\n            id: '34',\n            name: 'Polycom IP 650 HD Executive IP phone',\n            deviceClass: 'Desk Phone'\n        },\n        {\n            id: '52',\n            name: 'Cisco SPA-122 ATA',\n            deviceClass: 'Analog Adapter'\n        },\n        {\n            id: '53',\n            name: 'Polycom VVX-500 Color Touchscreen',\n            deviceClass: 'Desk Phone'\n        },\n        {\n            id: '54',\n            name: 'Polycom VVX-310 Gigabit Ethernet Phone',\n            deviceClass: 'Desk Phone'\n        },\n        {\n            id: '55',\n            name: 'Polycom VVX-410 Color Gigabit Ethernet Phone',\n            deviceClass: 'Desk Phone'\n        }\n    ];\n    module.exports = {\n        Class: DeviceModelHelper,\n        /**\n         * @param {Context} context\n         * @returns {DeviceModelHelper}\n         */\n        $get: function (context) {\n            return context.createSingleton('DeviceModelHelper', function () {\n                return new DeviceModelHelper(context);\n            });\n        }\n    };    /**\n     * @typedef {object} IDeviceModel\n     * @property {string} id\n     * @property {string} name\n     * @property {string} deviceClass\n     * @property {string} addons\n     */\n          /**\n     * @typedef {Object} IDeviceModelAddon\n     * @property {string} id\n     * @property {string} name\n     * @property {string} count\n     */\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('helpers/Language', [\n    'require',\n    'exports',\n    'module',\n    'core/Helper'\n], function (require, exports, module) {\n    'use strict';\n    var Helper = require('../core/Helper').Class;\n    /**\n     * @extends Helper\n     * @constructor\n     */\n    function LanguageHelper(context) {\n        Helper.call(this, context);\n    }\n    LanguageHelper.prototype = Object.create(Helper.prototype);\n    /**\n     * @type {ILanguage[]}\n     */\n    LanguageHelper.prototype.languages = [\n        {\n            id: '1033',\n            name: 'English (US)'\n        },\n        {\n            id: '3084',\n            name: 'French (Canada)'\n        }\n    ];\n    module.exports = {\n        Class: LanguageHelper,\n        /**\n         * @param {Context} context\n         * @returns {LanguageHelper}\n         */\n        $get: function (context) {\n            return context.createSingleton('LanguageHelper', function () {\n                return new LanguageHelper(context);\n            });\n        }\n    };    /**\n     * @typedef {object} ILanguage\n     * @property {string} id\n     * @property {string} name\n     */\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('helpers/State', [\n    'require',\n    'exports',\n    'module',\n    'core/Helper',\n    'core/List',\n    'core/Utils',\n    'helpers/Country'\n], function (require, exports, module) {\n    'use strict';\n    var Helper = require('../core/Helper').Class, List = require('../core/List'), Utils = require('../core/Utils');\n    /**\n     * @extends Helper\n     * @constructor\n     */\n    function StateHelper(context) {\n        Helper.call(this, context);\n        this.countryHelper = require('./Country').$get(context);\n    }\n    StateHelper.prototype = Object.create(Helper.prototype);\n    StateHelper.prototype.createUrl = function () {\n        return '/dictionary/state';\n    };\n    /**\n     * @param {IStateOptions} options\n     * @returns {function(IState)}\n     */\n    StateHelper.prototype.filter = function (options) {\n        options = Utils.extend({ countryId: '' }, options);\n        return List.filter([{\n                condition: options.countryId,\n                filterFn: function (item, opts) {\n                    return this.countryHelper.getId(item.country) == opts.condition;\n                }.bind(this)\n            }]);\n    };\n    module.exports = {\n        Class: StateHelper,\n        /**\n         * @param {Context} context\n         * @returns {StateHelper}\n         */\n        $get: function (context) {\n            return context.createSingleton('StateHelper', function () {\n                return new StateHelper(context);\n            });\n        }\n    };    /**\n     * @typedef {object} IState\n     * @property {string} id\n     * @property {string} uri\n     * @property {string} name\n     * @property {string} isoCode\n     * @property {ICountry} country\n     */\n          /**\n     * @typedef {object} IStateOptions\n     * @property {string} countryId\n     */\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('helpers/Location', [\n    'require',\n    'exports',\n    'module',\n    'core/Helper',\n    'core/List',\n    'core/Utils',\n    'helpers/State'\n], function (require, exports, module) {\n    'use strict';\n    var Helper = require('../core/Helper').Class, List = require('../core/List'), Utils = require('../core/Utils');\n    /**\n     * @extends Helper\n     * @constructor\n     */\n    function LocationHelper(context) {\n        Helper.call(this, context);\n        this.state = require('./State').$get(context);\n    }\n    LocationHelper.prototype = Object.create(Helper.prototype);\n    LocationHelper.prototype.createUrl = function () {\n        return '/dictionary/location';\n    };\n    /**\n     * @param {ILocationFilterOptions} options\n     * @returns {function(ILocation)}\n     */\n    LocationHelper.prototype.filter = function (options) {\n        var uniqueNPAs = [];\n        options = Utils.extend({\n            stateId: '',\n            onlyUniqueNPA: false\n        }, options);\n        return List.filter([\n            {\n                condition: options.stateId,\n                filterFn: function (item, opts) {\n                    return this.state.getId(item.state) == opts.condition;\n                }.bind(this)\n            },\n            {\n                condition: options.onlyUniqueNPA,\n                filterFn: function (item, opts) {\n                    if (uniqueNPAs.indexOf(item.npa) == -1) {\n                        uniqueNPAs.push(item.npa);\n                        return true;\n                    } else {\n                        return false;\n                    }\n                }\n            }\n        ]);\n    };\n    /**\n     * @param {IListComparatorOptions} [options]\n     * @returns {comparator}\n     */\n    LocationHelper.prototype.comparator = function (options) {\n        options = Utils.extend({ sortBy: 'npa' }, options);\n        if (options.sortBy == 'nxx') {\n            /**\n             * @param {ILocation} item\n             * @returns {number}\n             */\n            options.extractFn = function (item) {\n                return parseInt(item.npa) * 1000000 + parseInt(item.nxx);\n            };\n            options.compareFn = List.numberComparator;\n        }\n        return List.comparator(options);\n    };\n    module.exports = {\n        Class: LocationHelper,\n        /**\n         * @param {Context} context\n         * @returns {LocationHelper}\n         */\n        $get: function (context) {\n            return context.createSingleton('LocationHelper', function () {\n                return new LocationHelper(context);\n            });\n        }\n    };    /**\n     * @typedef {object} ILocation\n     * @property {string} id\n     * @property {string} uri\n     * @property {string} name\n     * @property {string} isoCode\n     * @property {string} npa\n     * @property {string} nxx\n     * @property {IState} state\n     */\n          /**\n     * @typedef {object} ILocationFilterOptions\n     * @property {string} stateId\n     * @property {boolean} onlyUniqueNPA\n     */\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('helpers/ShippingMethod', [\n    'require',\n    'exports',\n    'module',\n    'core/Helper'\n], function (require, exports, module) {\n    'use strict';\n    var Helper = require('../core/Helper').Class;\n    /**\n     * @extends Helper\n     * @constructor\n     */\n    function ShippingMethodHelper(context) {\n        Helper.call(this, context);\n    }\n    ShippingMethodHelper.prototype = Object.create(Helper.prototype);\n    /**\n     * TODO Remove when http://jira.ringcentral.com/browse/SDK-3 id done\n     * @type {IShippingMethod[]}\n     */\n    ShippingMethodHelper.prototype.shippingMethods = [\n        {\n            id: '1',\n            name: 'Ground Shipping (5-7 business days)'\n        },\n        {\n            id: '2',\n            name: '2-days Shipping'\n        },\n        {\n            id: '3',\n            name: 'Overnight Shipping'\n        }\n    ];\n    module.exports = {\n        Class: ShippingMethodHelper,\n        /**\n         * @param {Context} context\n         * @returns {ShippingMethodHelper}\n         */\n        $get: function (context) {\n            return context.createSingleton('ShippingMethodHelper', function () {\n                return new ShippingMethodHelper(context);\n            });\n        }\n    };    /**\n     * @typedef {object} IShippingMethod\n     * @property {string} id\n     * @property {string} name\n     */\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('helpers/Timezone', [\n    'require',\n    'exports',\n    'module',\n    'core/Helper'\n], function (require, exports, module) {\n    'use strict';\n    var Helper = require('../core/Helper').Class;\n    /**\n     * @extends Helper\n     * @constructor\n     */\n    function TimezoneHelper(context) {\n        Helper.call(this, context);\n    }\n    TimezoneHelper.prototype = Object.create(Helper.prototype);\n    TimezoneHelper.prototype.createUrl = function () {\n        return '/dictionary/timezone';\n    };\n    module.exports = {\n        Class: TimezoneHelper,\n        /**\n         * @param {Context} context\n         * @returns {TimezoneHelper}\n         */\n        $get: function (context) {\n            return context.createSingleton('TimezoneHelper', function () {\n                return new TimezoneHelper(context);\n            });\n        }\n    };    /**\n     * @typedef {object} ITimezone\n     * @property {string} id\n     * @property {string} uri\n     * @property {string} name\n     * @property {string} description\n     */\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('helpers/Account', [\n    'require',\n    'exports',\n    'module',\n    'core/Helper'\n], function (require, exports, module) {\n    'use strict';\n    var Helper = require('../core/Helper').Class;\n    /**\n     * @extends Helper\n     * @constructor\n     */\n    function AccountHelper(context) {\n        Helper.call(this, context);\n    }\n    AccountHelper.prototype = Object.create(Helper.prototype);\n    AccountHelper.prototype.createUrl = function () {\n        return '/account/~';\n    };\n    module.exports = {\n        Class: AccountHelper,\n        /**\n         * @param {Context} context\n         * @returns {AccountHelper}\n         */\n        $get: function (context) {\n            return context.createSingleton('AccountHelper', function () {\n                return new AccountHelper(context);\n            });\n        }\n    };\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('helpers/BlockedNumber', [\n    'require',\n    'exports',\n    'module',\n    'core/Helper',\n    'core/Validator'\n], function (require, exports, module) {\n    'use strict';\n    var Helper = require('../core/Helper').Class, Validator = require('../core/Validator');\n    /**\n     * @extends Helper\n     * @constructor\n     */\n    function BlockedNumberHelper(context) {\n        Helper.call(this, context);\n    }\n    BlockedNumberHelper.prototype = Object.create(Helper.prototype);\n    /**\n     *\n     * @param {IBlockedNumberOptions} [options]\n     * @param {string} [id]\n     * @returns {string}\n     */\n    BlockedNumberHelper.prototype.createUrl = function (options, id) {\n        options = options || {};\n        return '/account/~/extension/' + (options.extensionId ? options.extensionId : '~') + '/blocked-number' + (id ? '/' + id : '');\n    };\n    /**\n     * @param {IBlockedNumber} item\n     */\n    BlockedNumberHelper.prototype.validate = function (item) {\n        return Validator.validate([\n            {\n                field: 'phoneNumber',\n                validator: Validator.phone(item.phoneNumber)\n            },\n            {\n                field: 'phoneNumber',\n                validator: Validator.required(item.phoneNumber)\n            },\n            {\n                field: 'name',\n                validator: Validator.required(item.name)\n            }\n        ]);\n    };\n    module.exports = {\n        Class: BlockedNumberHelper,\n        /**\n         * @param {Context} context\n         * @returns {BlockedNumberHelper}\n         */\n        $get: function (context) {\n            return context.createSingleton('BlockedNumberHelper', function () {\n                return new BlockedNumberHelper(context);\n            });\n        }\n    };    /**\n     * @typedef {object} IBlockedNumber\n     * @property {string} name\n     * @property {string} phoneNumber\n     */\n          /**\n     * @typedef {object} IBlockedNumberOptions\n     * @property {string} extensionId\n     */\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('helpers/Extension', [\n    'require',\n    'exports',\n    'module',\n    'core/Helper',\n    'core/List',\n    'core/Utils'\n], function (require, exports, module) {\n    'use strict';\n    var Helper = require('../core/Helper').Class, List = require('../core/List'), Utils = require('../core/Utils');\n    /**\n     * @extends Helper\n     * @constructor\n     */\n    function ExtensionHelper(context) {\n        Helper.call(this, context);\n    }\n    ExtensionHelper.prototype = Object.create(Helper.prototype);\n    ExtensionHelper.prototype.type = {\n        department: 'Department',\n        user: 'User',\n        announcement: 'Announcement',\n        voicemail: 'Voicemail'\n    };\n    /**\n     *\n     * @param {IExtensionOptions} [options]\n     * @param {string} [id]\n     * @returns {string}\n     */\n    ExtensionHelper.prototype.createUrl = function (options, id) {\n        options = options || {};\n        return '/account/~' + (options.departmentId ? '/department/' + options.departmentId + '/members' : '/extension') + (id ? '/' + id : '');\n    };\n    /**\n     * @param {IExtension} extension\n     * @returns {boolean}\n     */\n    ExtensionHelper.prototype.isUser = function (extension) {\n        return extension && extension.type == this.type.user;\n    };\n    /**\n     * @param {IExtension} extension\n     * @returns {boolean}\n     */\n    ExtensionHelper.prototype.isDepartment = function (extension) {\n        return extension && extension.type == this.type.department;\n    };\n    /**\n     * @param {IExtension} extension\n     * @returns {boolean}\n     */\n    ExtensionHelper.prototype.isAnnouncement = function (extension) {\n        return extension && extension.type == this.type.announcement;\n    };\n    /**\n     * @param {IExtension} extension\n     * @returns {boolean}\n     */\n    ExtensionHelper.prototype.isVoicemail = function (extension) {\n        return extension && extension.type == this.type.voicemail;\n    };\n    /**\n     * @param {IListComparatorOptions} [options]\n     * @returns {function(object, object)}\n     */\n    ExtensionHelper.prototype.comparator = function (options) {\n        return List.comparator(Utils.extend({\n            sortBy: 'extensionNumber',\n            compareFn: List.numberComparator\n        }, options));\n    };\n    /**\n     * @param {IExtensionFilterOptions} [options]\n     * @returns {function(IExtension)}\n     */\n    ExtensionHelper.prototype.filter = function (options) {\n        options = Utils.extend({\n            search: '',\n            type: ''\n        }, options);\n        return List.filter([\n            {\n                filterBy: 'type',\n                condition: options.type\n            },\n            {\n                condition: options.search.toLocaleLowerCase(),\n                filterFn: List.containsFilter,\n                extractFn: function (item) {\n                    return (item.name && item.name.toLocaleLowerCase() + ' ') + (item.extensionNumber && item.extensionNumber.toString().toLocaleLowerCase());\n                }\n            }\n        ]);\n    };\n    module.exports = {\n        Class: ExtensionHelper,\n        /**\n         * @param {Context} context\n         * @returns {ExtensionHelper}\n         */\n        $get: function (context) {\n            return context.createSingleton('ExtensionHelper', function () {\n                return new ExtensionHelper(context);\n            });\n        }\n    };    /**\n     * @typedef {object} IExtensionOptions\n     * @property {string} departmentId\n     */\n          /**\n     * @typedef {object} IExtensionFilterOptions\n     * @property {string} search\n     * @property {string} type\n     */\n          /**\n     * @see http://platform-dev.dins.ru/artifacts/documentation/latest/webhelp/dev_guide_advanced/ch18s04.html#ShortExtensionInfo\n     * @typedef {object} IExtensionShort\n     * @property {string} id\n     * @property {string} uri\n     * @property {string} extensionNumber\n     */\n          /**\n     * @see http://platform-dev.dins.ru/artifacts/documentation/latest/webhelp/dev_guide_advanced/ch18s04.html#ExtensionInfo\n     * @typedef {object} IExtension\n     * @property {string} id\n     * @property {string} uri\n     * @property {string} extensionNumber\n     * @property {string} name\n     * @property {string} type\n     * @property {IContactBrief} contact\n     * @property {IExtensionRegionalSettings} regionalSettings\n     * @property {IServiceFeature[]} serviceFeatures\n     * @property {string} status\n     * @property {string} setupWizardState\n     */\n          /**\n     * @typedef {object} IExtensionRegionalSettings\n     * @property {ITimezone} timezone\n     * @property {ILanguage} language\n     * @property {ICountry} homeCountry\n     */\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('helpers/Presence', [\n    'require',\n    'exports',\n    'module',\n    'core/Helper',\n    'core/Utils',\n    'helpers/Extension',\n    'core/Subscription'\n], function (require, exports, module) {\n    'use strict';\n    var Helper = require('../core/Helper').Class, Utils = require('../core/Utils');\n    /**\n     * @extends Helper\n     * @constructor\n     */\n    function PresenceHelper(context) {\n        Helper.call(this, context);\n        this.extension = require('./Extension').$get(context);\n    }\n    PresenceHelper.prototype = Object.create(Helper.prototype);\n    /**\n     * @param {IPresenceOptions} [options]\n     * @param {string} [id]\n     * @returns {string}\n     */\n    PresenceHelper.prototype.createUrl = function (options, id) {\n        options = options || {};\n        return '/account/~/extension/' + (id || '~') + '/presence' + (options.detailed ? '?detailedTelephonyState=true' : '');\n    };\n    /**\n     * @param {IPresence} presence\n     * @returns {string}\n     */\n    PresenceHelper.prototype.getId = function (presence) {\n        return presence && (this.extension.getId(presence.extension) || presence.extensionId);\n    };\n    /**\n     * @param {IPresence} presence\n     * @returns {boolean}\n     */\n    PresenceHelper.prototype.isAvailable = function (presence) {\n        return presence && presence.presenceStatus == 'Available';\n    };\n    /**\n     * @param {IPresenceOptions} [options]\n     * @param {string} [id]\n     * @returns {Subscription}\n     */\n    PresenceHelper.prototype.getSubscription = function (options, id) {\n        return require('../core/Subscription').$get(this.context).setEvents([this.createUrl(options, id)]);\n    };\n    /**\n     *\n     * @param {Subscription} subscription\n     * @param {IPresence[]} presences\n     * @param {IPresenceOptions} options\n     * @returns {*}\n     */\n    PresenceHelper.prototype.updateSubscription = function (subscription, presences, options) {\n        var events = presences.map(this.getId, this).map(function (id) {\n            return this.createUrl(options, id);\n        }, this);\n        subscription.addEvents(events);\n        return subscription;\n    };\n    /**\n     * @param {IExtension[]} extensions\n     * @param {IPresence[]} presences\n     * @param {bool} [merge]\n     * @returns {*}\n     */\n    PresenceHelper.prototype.attachToExtensions = function (extensions, presences, merge) {\n        var index = this.index(presences);\n        extensions.forEach(/** @param {IExtension} extension */\n        function (extension) {\n            var presence = index[this.extension.getId(extension)];\n            if (presence) {\n                if ('presence' in extension && merge) {\n                    Utils.extend(extension.presence, presence);\n                } else {\n                    extension.presence = presence;\n                }\n            }\n        }, this);\n    };\n    /**\n     * @param {IPresenceCall} presenceCall\n     * @returns {boolean}\n     */\n    PresenceHelper.prototype.isCallInProgress = function (presenceCall) {\n        return presenceCall && presenceCall.telephonyStatus != 'NoCall';\n    };\n    module.exports = {\n        Class: PresenceHelper,\n        /**\n         * @param {Context} context\n         * @returns {PresenceHelper}\n         */\n        $get: function (context) {\n            return context.createSingleton('PresenceHelper', function () {\n                return new PresenceHelper(context);\n            });\n        }\n    };    /**\n     * @typedef {Object} IPresence\n     * @property {IExtension} extension\n     * @property {IPresenceCall[]} activeCalls\n     * @property {string} presenceStatus - Offline, Busy, Available\n     * @property {string} telephonyStatus - NoCall, CallConnected, Ringing, OnHold\n     * @property {string} userStatus - Offline, Busy, Available\n     * @property {string} dndStatus - TakeAllCalls, DoNotAcceptAnyCalls, DoNotAcceptDepartmentCalls, TakeDepartmentCallsOnly\n     * @property {boolean} allowSeeMyPresence\n     * @property {boolean} ringOnMonitoredCall\n     * @property {boolean} pickUpCallsOnHold\n     * @property {number} extensionId\n     * @property {number} sequence\n     */\n          /**\n     * @typedef {Object} IPresenceCall\n     * @property {string} direction\n     * @property {string} from\n     * @property {string} to\n     * @property {string} sessionId\n     * @property {string} id\n     * @property {string} telephonyStatus\n     */\n          /**\n     * @typedef {Object} IPresenceOptions\n     * @property {boolean} detailed\n     */\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('helpers/Contact', [\n    'require',\n    'exports',\n    'module',\n    'core/Utils',\n    'core/Validator',\n    'core/Helper',\n    'core/List'\n], function (require, exports, module) {\n    'use strict';\n    var Utils = require('../core/Utils'), Validator = require('../core/Validator'), Helper = require('../core/Helper').Class, List = require('../core/List');\n    /**\n     * @extends Helper\n     * @constructor\n     */\n    function ContactHelper(context) {\n        Helper.call(this, context);\n    }\n    ContactHelper.prototype = Object.create(Helper.prototype);\n    /**\n     * @param {IContactOptions} [options]\n     * @param {string} [id]\n     * @returns {string}\n     */\n    ContactHelper.prototype.createUrl = function (options, id) {\n        options = options || {};\n        var root = '/account/~/extension/' + (options.extensionId ? options.extensionId : '~') + '/address-book';\n        if (options.sync)\n            return root + '-sync';\n        return root + (options.groupId ? '/group/' + options.groupId + '/contact' : '/contact') + (id ? '/' + id : '');\n    };\n    /**\n     * Returns all values of the given fields if value exists\n     * @param {(IContact|object)} where\n     * @param {Array} fields\n     * @param {boolean} [asHash]\n     * @protected\n     * @returns {Object}\n     */\n    ContactHelper.prototype.getFieldValues = function (where, fields, asHash) {\n        return fields.reduce(function (result, field) {\n            if (where && where[field]) {\n                if (asHash) {\n                    result[field] = where[field];\n                } else {\n                    result.push(where[field]);\n                }\n            }\n            return result;\n        }, asHash ? {} : []);\n    };\n    /**\n     * @param {IContact} contact\n     * @returns {string}\n     */\n    ContactHelper.prototype.getFullName = function (contact) {\n        return this.getFieldValues(contact, this.nameFields).join(' ');\n    };\n    /**\n     * @param {IContact} contact\n     * @param {boolean} [asHash]\n     * @returns {IContact}\n     */\n    ContactHelper.prototype.getEmails = function (contact, asHash) {\n        return this.getFieldValues(contact, this.emailFields, asHash);\n    };\n    /**\n     * @param {IContact} contact\n     * @param {boolean} [asHash]\n     * @returns {IContact}\n     */\n    ContactHelper.prototype.getPhones = function (contact, asHash) {\n        return this.getFieldValues(contact, this.phoneFields, asHash);\n    };\n    /**\n     * @param {IContact} contact\n     * @param {boolean} [asHash]\n     * @returns {IContact}\n     */\n    ContactHelper.prototype.getFaxes = function (contact, asHash) {\n        return this.getFieldValues(contact, this.faxFields, asHash);\n    };\n    /**\n     * @param {IContact} contact\n     * @param {boolean} [asHash]\n     * @returns {IContact}\n     */\n    ContactHelper.prototype.getAddresses = function (contact, asHash) {\n        return this.getFieldValues(contact, this.addressFields, asHash);\n    };\n    /**\n     * @param {IContact} contact\n     * @returns {boolean}\n     */\n    ContactHelper.prototype.isAlive = function (contact) {\n        return contact.availability == 'Alive';\n    };\n    /**\n     * Matches a contact against a given string, returns null if nothing found\n     * @param {IContact} contact\n     * @param {string} string\n     * @param {IContactMatchOptions} [options]\n     * @returns {(string|null)}\n     */\n    ContactHelper.prototype.match = function (contact, string, options) {\n        options = Utils.extend({\n            fields: [].concat(this.nameFields, this.emailFields, this.phoneFields, this.faxFields, this.otherFields),\n            inAddresses: true,\n            transformFn: function (value, options) {\n                return value ? value.toString().toLocaleLowerCase() : '';\n            },\n            strict: false\n        }, options);\n        string = options.transformFn(string, options);\n        var found = null;\n        if (!string)\n            return found;\n        function matchWith(value) {\n            // skip unnecessary cycles if match has been found\n            if (found)\n                return;\n            var transformed = options.transformFn(value, options);\n            if (!transformed)\n                return;\n            var match = options.strict ? transformed == string : transformed.indexOf(string) > -1;\n            if (match)\n                found = value;\n        }\n        // Search in fields\n        options.fields.forEach(function (field) {\n            matchWith(contact[field]);\n        });\n        // Search in addresses, skip unnecessary cycles if match has been found\n        if (options.inAddresses && !found)\n            this.addressFields.forEach(function (field) {\n                // skip unnecessary cycles if match has been found or no field value\n                if (!contact[field] || found)\n                    return;\n                this.addressSubFields.forEach(function (subField) {\n                    matchWith(contact[field][subField]);\n                });\n            }, this);\n        return found;\n    };\n    /**\n     * Matches a contact against a given phone number, returns null if nothing found\n     * @param {IContact} contact\n     * @param {string} phone\n     * @param {IContactMatchOptions} [options]\n     * @returns {string|null}\n     */\n    ContactHelper.prototype.matchAsPhone = function (contact, phone, options) {\n        return this.match(contact, phone, Utils.extend({\n            fields: [].concat(this.phoneFields, this.faxFields),\n            inAddresses: false,\n            transformFn: function (value, options) {\n                return value ? value.toString().replace(/[^\\d\\w]/gi, '') : '';    //TODO Trickier removal reqired;\n            },\n            strict: false\n        }, options));\n    };\n    /**\n     * Injects contact field with appropriate {IContact} data structure into all given {ICallerInfo}\n     * Warning, this function may be performance-consuming, reduce the amount of items passed to contacts and callerInfos\n     * @param {ICallerInfo[]} callerInfos\n     * @param {IContact[]} contacts\n     * @param {IContactMatchOptions} [options]\n     */\n    ContactHelper.prototype.attachToCallerInfos = function (callerInfos, contacts, options) {\n        var self = this, callerInfoIndex = this.index(callerInfos, function (callerInfo) {\n                return callerInfo.phoneNumber;\n            }, true);\n        Utils.forEach(callerInfoIndex, function (indexedCallerInfos, phoneNumber) {\n            var foundContact = null, foundPhone = null;\n            contacts.some(function (contact) {\n                foundPhone = self.matchAsPhone(contact, phoneNumber, options);\n                if (foundPhone)\n                    foundContact = contact;\n                return foundPhone;\n            });\n            if (foundContact) {\n                indexedCallerInfos.forEach(function (callerInfo) {\n                    callerInfo.contact = foundContact;\n                    callerInfo.contactPhone = foundPhone;\n                });\n            }\n        });\n    };\n    /**\n     * @param {IListComparatorOptions} [options]\n     * @returns {function(object, object)}\n     */\n    ContactHelper.prototype.comparator = function (options) {\n        var self = this;\n        return List.comparator(Utils.extend({\n            extractFn: function (contact, options) {\n                return self.getFullName(contact);\n            }\n        }, options));\n    };\n    /**\n     * TODO Add filtering by group http://jira.ringcentral.com/browse/SDK-4\n     * @param {IContactOptions} [options]\n     * @returns {function(IContact)}\n     */\n    ContactHelper.prototype.filter = function (options) {\n        var self = this;\n        options = Utils.extend({\n            alive: true,\n            startsWith: '',\n            phonesOnly: false,\n            faxesOnly: false\n        }, options);\n        return List.filter([\n            {\n                condition: options.alive,\n                filterFn: this.isAlive\n            },\n            {\n                condition: options.startsWith,\n                filterFn: function (item, opts) {\n                    return self.match(item, opts.condition);\n                }\n            },\n            {\n                condition: options.phonesOnly,\n                filterFn: function (item, opts) {\n                    return self.getPhones(item).length > 0;\n                }\n            },\n            {\n                condition: options.faxesOnly,\n                filterFn: function (item, opts) {\n                    return self.getFaxes(item).length > 0;\n                }\n            }\n        ]);\n    };\n    /**\n     * @param {IContact} item\n     */\n    ContactHelper.prototype.validate = function (item) {\n        return Validator.validate([\n            {\n                field: 'firstName',\n                validator: Validator.required(item.firstName)\n            },\n            {\n                field: 'lastName',\n                validator: Validator.required(item.lastName)\n            },\n            {\n                field: 'email',\n                validator: Validator.email(item.email)\n            },\n            {\n                field: 'email2',\n                validator: Validator.email(item.email2)\n            },\n            {\n                field: 'email3',\n                validator: Validator.email(item.email3)\n            }\n        ]);\n    };\n    ContactHelper.prototype.phoneFields = [\n        'homePhone',\n        'homePhone2',\n        'businessPhone',\n        'businessPhone2',\n        'mobilePhone',\n        'companyPhone',\n        'assistantPhone',\n        'carPhone',\n        'otherPhone',\n        'callbackPhone'\n    ];\n    ContactHelper.prototype.faxFields = [\n        'businessFax',\n        'otherFax'\n    ];\n    ContactHelper.prototype.addressFields = [\n        'homeAddress',\n        'businessAddress',\n        'otherAddress'\n    ];\n    ContactHelper.prototype.addressSubFields = [\n        'street',\n        'city',\n        'state',\n        'zip'\n    ];\n    ContactHelper.prototype.nameFields = [\n        'firstName',\n        'middleName',\n        'lastName',\n        'nickName'\n    ];\n    ContactHelper.prototype.otherFields = [\n        'company',\n        'jobTitle',\n        'webPage',\n        'notes'\n    ];\n    ContactHelper.prototype.emailFields = [\n        'email',\n        'email2',\n        'email3'\n    ];\n    module.exports = {\n        Class: ContactHelper,\n        /**\n         * @param {Context} context\n         * @returns {ContactHelper}\n         */\n        $get: function (context) {\n            return context.createSingleton('ContactHelper', function () {\n                return new ContactHelper(context);\n            });\n        }\n    };    /**\n     * @typedef {object} IContactOptions\n     * @property {string} extensionId\n     * @property {string} groupId\n     */\n          /**\n     * @typedef {object} IContactFilterOptions\n     * @property {string} startsWith\n     * @property {boolean} alive\n     */\n          /**\n     * @typedef {object} IContactMatchOptions\n     * @property {function(object, IContactMatchOptions)} transformFn\n     * @property {boolean} strict - if false look for as sub string\n     * @property {boolean} inAddresses - look in addresses as well\n     * @property {string[]} fields - in which fields to look for\n     */\n          /**\n     * @see http://platform-dev.dins.ru/artifacts/documentation/webhelp/dev_guide/content/ch16s04.html#ContactAddressInfo\n     * @typedef {Object} IContactAddress\n     * @property {string} country\n     * @property {string} street\n     * @property {string} city\n     * @property {string} state\n     * @property {string} zip\n     */\n          /**\n     * @see http://platform-dev.dins.ru/artifacts/documentation/latest/webhelp/dev_guide_advanced/ch18s04.html#ContactInfo\n     * @typedef {Object} IContactBrief\n     * @property {string} firstName\n     * @property {string} lastName\n     * @property {string} company\n     * @property {string} email\n     * @property {IContactAddress} businessAddress\n     */\n          /**\n     * @see http://platform-dev.dins.ru/artifacts/documentation/webhelp/dev_guide/content/ch16s04.html#ContactInfo\n     * @typedef {Object} IContact\n     *\n     * Shared:\n     * @property {string} id\n     * @property {string} uri\n     *\n     * Names:\n     * @property {string} firstName\n     * @property {string} lastName\n     * @property {string} company\n     * @property {string} nickName\n     * @property {string} middleName\n     *\n     * Emails:\n     * @property {string} email\n     * @property {string} email2\n     * @property {string} email3\n     *\n     * Addresses:\n     * @property {IContactAddress} businessAddress\n     * @property {IContactAddress} homeAddress\n     * @property {IContactAddress} otherAddress\n     *\n     * Phones:\n     * @property {string} homePhone\n     * @property {string} homePhone2\n     * @property {string} businessPhone\n     * @property {string} businessPhone2\n     * @property {string} mobilePhone\n     * @property {string} companyPhone\n     * @property {string} assistantPhone\n     * @property {string} carPhone\n     * @property {string} otherPhone\n     * @property {string} callbackPhone\n     *\n     * @property {string} businessFax\n     * @property {string} otherFax\n     */\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('helpers/Call', [\n    'require',\n    'exports',\n    'module',\n    'core/Helper',\n    'core/Utils',\n    'core/List',\n    'helpers/Presence',\n    'helpers/Contact'\n], function (require, exports, module) {\n    'use strict';\n    var Helper = require('../core/Helper').Class, Utils = require('../core/Utils'), List = require('../core/List');\n    /**\n     * @extends Helper\n     * @constructor\n     */\n    function CallHelper(context) {\n        Helper.call(this, context);\n        this.presence = require('./Presence').$get(context);\n        this.contact = require('./Contact').$get(context);\n    }\n    CallHelper.prototype = Object.create(Helper.prototype);\n    /**\n     * @param {ICallOptions} [options]\n     * @param {string} [id]\n     * @returns {string}\n     */\n    CallHelper.prototype.createUrl = function (options, id) {\n        options = options || {};\n        if (!('personal' in options) && !('extensionId' in options))\n            options.personal = true;\n        return '/account/~/' + (options.personal || options.extensionId ? 'extension/' + (options.extensionId || '~') + '/' : '') + (options.active ? 'active-calls' : 'call-log') + (id ? '/' + id : '');\n    };\n    CallHelper.prototype.getSessionId = function (call) {\n        return call && call.sessionId;\n    };\n    CallHelper.prototype.isInProgress = function (call) {\n        return call && call.result == 'In Progress';\n    };\n    CallHelper.prototype.isAlive = function (call) {\n        return call && call.availability == 'Alive';\n    };\n    /**\n     * @param {ICall} call\n     * @returns {boolean}\n     */\n    CallHelper.prototype.isInbound = function (call) {\n        return call && call.direction == 'Inbound';\n    };\n    /**\n     * @param {ICall} call\n     * @returns {boolean}\n     */\n    CallHelper.prototype.isOutbound = function (call) {\n        return !this.isInbound(call);\n    };\n    /**\n     * @param {ICall} call\n     * @returns {boolean}\n     */\n    CallHelper.prototype.isMissed = function (call) {\n        return call && call.result == 'Missed';\n    };\n    /**\n     * @param {ICall} call\n     * @returns {boolean}\n     */\n    CallHelper.prototype.isFindMe = function (call) {\n        return call && call.action == 'FindMe';\n    };\n    /**\n     * @param {ICall} call\n     * @returns {ICallerInfo}\n     */\n    CallHelper.prototype.getCallerInfo = function (call) {\n        return this.isInbound(call) ? call.from : call.to;\n    };\n    /**\n     * @param {ICall} call\n     * @returns {ICallerInfo[]}\n     */\n    CallHelper.prototype.getAllCallerInfos = function (call) {\n        return [this.getCallerInfo(call)].concat(this.isInbound(call) ? call.to : call.from);\n    };\n    CallHelper.prototype.formatDuration = function (call) {\n        function addZero(v) {\n            return v < 10 ? '0' + v : v;\n        }\n        var duration = parseInt(call.duration), hours = Math.floor(duration / (60 * 60)), mins = Math.floor(duration % (60 * 60) / 60), secs = Math.floor(duration % 60);\n        return (hours ? hours + ':' : '') + addZero(mins) + ':' + addZero(secs);\n    };\n    /**\n     * @param {ICallFilterOptions} [options]\n     * @returns {function(ICall)}\n     */\n    CallHelper.prototype.filter = function (options) {\n        options = Utils.extend({\n            alive: true,\n            direction: '',\n            type: ''\n        }, options);\n        return List.filter([\n            //{condition: options.alive, filterFn: this.isAlive},\n            {\n                filterBy: 'direction',\n                condition: options.direction\n            },\n            {\n                filterBy: 'type',\n                condition: options.type\n            }\n        ]);\n    };\n    /**\n     * TODO Compare as dates\n     * @param {IListComparatorOptions} [options]\n     * @returns {function(object, object)}\n     */\n    CallHelper.prototype.comparator = function (options) {\n        return List.comparator(Utils.extend({ sortBy: 'startTime' }, options));\n    };\n    /**\n     * Injects contact field with appropriate {IContact} data structure into all callerInfos found in\n     * all calls Warning, this function may be performance-consuming, reduce the amount of items passed to contacts\n     * and calls\n     * @param {IContact[]} contacts\n     * @param {ICall[]} calls\n     * @param {IContactMatchOptions} [options]\n     */\n    CallHelper.prototype.attachContacts = function (contacts, calls, options) {\n        var self = this;\n        // Flatten all caller infos from all messages\n        var callerInfos = calls.reduce(function (callerInfos, call) {\n            return callerInfos.concat(self.getAllCallerInfos(call));\n        }, []);\n        this.contact.attachToCallerInfos(callerInfos, contacts, options);\n    };\n    /**\n     * Check whether pair of calls are two legs of RingOut\n     * @param {ICall} outboundRingOutCall\n     * @param {ICall} inboundCall\n     * @param {ICallProcessingOptions} options\n     * @returns {boolean}\n     */\n    CallHelper.prototype.checkMergeability = function (outboundRingOutCall, inboundCall, options) {\n        function getTime(dateString) {\n            return new Date(dateString).getTime();\n        }\n        return (!options.strict || outboundRingOutCall.action && outboundRingOutCall.action.toLowerCase().indexOf('ringout') != -1) && // Check directions\n        outboundRingOutCall.direction == 'Outbound' && inboundCall.direction == 'Inbound' && // Check that start times are equal or close enough\n        (!inboundCall.startTime && !outboundRingOutCall.startTime || Math.abs(getTime(inboundCall.startTime) - getTime(outboundRingOutCall.startTime)) < (options.maxStartTimeDiscrepancy || 5000)) && // Check that numbers match\n        inboundCall.from.phoneNumber == outboundRingOutCall.to.phoneNumber && (inboundCall.to.phoneNumber == outboundRingOutCall.from.phoneNumber || inboundCall.to.name == outboundRingOutCall.from.name)    //TODO Maybe name check is not required\n;\n    };\n    /**\n     * @param {ICall} outboundRingOutCall\n     * @param {ICall} inboundCall\n     * @param {ICallProcessingOptions} [options]\n     * @returns {Array}\n     */\n    CallHelper.prototype.combineCalls = function (outboundRingOutCall, inboundCall, options) {\n        options = options || {};\n        var result = [];\n        outboundRingOutCall.hasSubsequent = true;\n        if (options.merge) {\n            outboundRingOutCall.duration = outboundRingOutCall.duration > inboundCall.duration ? outboundRingOutCall.duration : inboundCall.duration;\n            // TODO Usually information from inbound call is more accurate for unknown reason\n            outboundRingOutCall.from = inboundCall.to;\n            outboundRingOutCall.to = inboundCall.from;\n            // Push only one \"merged\" outbound call\n            result.push(outboundRingOutCall);\n        } else {\n            // Mark next call as subsequent\n            inboundCall.subsequent = true;\n            inboundCall.startTime = outboundRingOutCall.startTime;\n            // Needed for sort\n            // Push both calls, first outbound then inbound\n            result.push(outboundRingOutCall);\n            result.push(inboundCall);\n        }\n        return result;\n    };\n    /**\n     * (!) Experimental (!)\n     *\n     * Calls in Recent Calls (Call Log) or Active Calls arrays can be combined if they are, for example, two legs of\n     * one RingOut. The logic that stands behind this process is simple:\n     *\n     * - Calls must have opposite directions\n     * - Must have been started within a certain limited time frame\n     * - Must have same phone numbers in their Caller Info sections (from/to)\n     *\n     * ```js\n     * var processedCalls = Call.processCalls(callsArray, {strict: false, merge: true});\n     * ```\n     *\n     * Flags:\n     *\n     * - if `strict` is `true` then only calls with RingOut in `action` property will be affected\n     * - `merge` &mdash; controls whether to merge calls (reducing the length of array) or give them `subsequent`\n     *     and `hasSubsequent` properties\n     *\n     * @param {ICall[]} calls\n     * @param {ICallProcessingOptions} options\n     * @returns {ICall[]}\n     */\n    CallHelper.prototype.processCalls = function (calls, options) {\n        var processedCalls = [], callsToMerge = [], self = this;\n        // Iterate through calls\n        calls.forEach(function (call) {\n            var merged = false;\n            call.subsequent = false;\n            call.hasSubsequent = false;\n            // Second cycle to find other leg\n            // It is assumed that call is the outbound, secondCall is inbound\n            calls.some(function (secondCall) {\n                if (call === secondCall)\n                    return false;\n                if (self.checkMergeability(call, secondCall, options)) {\n                    // Push to result array merged call\n                    processedCalls = processedCalls.concat(self.combineCalls(call, secondCall, options));\n                    // Push to array calls that are merged\n                    callsToMerge.push(call);\n                    callsToMerge.push(secondCall);\n                    merged = true;\n                }\n                return merged;\n            });\n        });\n        // After all calls are merged, add non-merged calls\n        calls.forEach(function (call) {\n            if (callsToMerge.indexOf(call) == -1)\n                processedCalls.push(call);\n        });\n        return processedCalls;\n    };\n    /**\n     * Converts Presence's ActiveCall array into regular Calls array\n     * @param {IPresenceCall[]} activeCalls\n     * @returns {ICall[]}\n     */\n    CallHelper.prototype.parsePresenceCalls = function (activeCalls) {\n        return activeCalls.map(function (activeCall) {\n            return {\n                id: activeCall.id,\n                uri: '',\n                sessionId: activeCall.sessionId,\n                from: { phoneNumber: activeCall.from },\n                to: { phoneNumber: activeCall.to },\n                direction: activeCall.direction,\n                startTime: '',\n                duration: 0,\n                type: '',\n                action: '',\n                result: this.presence.isCallInProgress(activeCall) ? 'In Progress' : activeCall.telephonyStatus,\n                telephonyStatus: activeCall.telephonyStatus\n            };\n        }, this);\n    };\n    /**\n     * @param {ICall} call\n     * @returns {string}\n     */\n    CallHelper.prototype.getSignature = function (call) {\n        function cleanup(phoneNumber) {\n            return (phoneNumber || '').toString().replace(/[^0-9]/gi, '');\n        }\n        return call.direction + '|' + (call.from && cleanup(call.from.phoneNumber)) + '|' + (call.to && cleanup(call.to.phoneNumber));\n    };\n    /**\n     * @param {ICall[]} presenceCalls\n     * @param {IPresence} presence\n     * @returns {ICall[]}\n     */\n    CallHelper.prototype.mergePresenceCalls = function (presenceCalls, presence) {\n        var currentDate = new Date(), activeCalls = this.parsePresenceCalls(presence && presence.activeCalls || []).map(function (call) {\n                // delete property to make sure it is skipped during merge\n                delete call.startTime;\n                return call;\n            });\n        presenceCalls = this.merge(presenceCalls || [], activeCalls, this.getSessionId, true);\n        presenceCalls.forEach(function (call) {\n            if (!call.startTime)\n                call.startTime = currentDate.toISOString();\n        });\n        return presenceCalls;\n    };\n    /**\n     * @param {ICall[]} presenceCalls\n     * @param {ICall[]} calls\n     * @param {ICall[]} activeCalls\n     * @returns {ICall[]}\n     */\n    CallHelper.prototype.mergeAll = function (presenceCalls, calls, activeCalls) {\n        // First, merge calls into presence calls\n        var presenceAndCalls = this.merge(presenceCalls || [], calls || [], this.getSessionId, true);\n        // Second, merge activeCalls into previous result\n        return this.merge(presenceAndCalls, activeCalls || [], this.getSessionId, true);\n    };\n    module.exports = {\n        Class: CallHelper,\n        /**\n         * @param {Context} context\n         * @returns {CallHelper}\n         */\n        $get: function (context) {\n            return context.createSingleton('CallHelper', function () {\n                return new CallHelper(context);\n            });\n        }\n    };    /**\n     * @typedef {object} ICall\n     * @property {string} id\n     * @property {string} uri\n     * @property {string} sessionId\n     * @property {string} startTime\n     * @property {string} duration\n     * @property {string} type\n     * @property {string} direction\n     * @property {string} action\n     * @property {string} result\n     * @property {ICallerInfo} to\n     * @property {ICallerInfo} from\n     */\n          /**\n     * @typedef {object} ICallOptions\n     * @property {string} extensionId\n     * @property {boolean} active\n     * @property {boolean} personal\n     */\n          /**\n     * @typedef {object} ICallProcessingOptions\n     * @property {boolean} strict\n     * @property {boolean} merge\n     * @property {number} maxStartTimeDiscrepancy\n     */\n          /**\n     * @typedef {object} ICallFilterOptions\n     * @property {string} extensionId\n     * @property {string} direction\n     * @property {string} type\n     */\n          /**\n     * @see http://platform-dev.dins.ru/artifacts/documentation/latest/webhelp/dev_guide_advanced/CallerInfo.html\n     * @typedef {Object} ICallerInfo\n     * @property {string} phoneNumber\n     * @property {string} extensionNumber\n     * @property {string} name\n     * @property {string} location\n     * @property {IContact} [contact] - corresponding contact (added by attachContacts methods)\n     * @property {string} [contactPhone] - contact's phone as written in contact (added by attachContacts methods)\n     */\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('helpers/Conferencing', [\n    'require',\n    'exports',\n    'module',\n    'core/Helper'\n], function (require, exports, module) {\n    'use strict';\n    var Helper = require('../core/Helper').Class;\n    /**\n     * @extends Helper\n     * @constructor\n     */\n    function ConferencingHelper(context) {\n        Helper.call(this, context);\n    }\n    ConferencingHelper.prototype = Object.create(Helper.prototype);\n    ConferencingHelper.prototype.createUrl = function () {\n        return '/account/~/extension/~/conferencing';\n    };\n    module.exports = {\n        Class: ConferencingHelper,\n        /**\n         * @param {Context} context\n         * @returns {ConferencingHelper}\n         */\n        $get: function (context) {\n            return context.createSingleton('ConferencingHelper', function () {\n                return new ConferencingHelper(context);\n            });\n        }\n    };\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('helpers/ContactGroup', [\n    'require',\n    'exports',\n    'module',\n    'core/Helper',\n    'core/Validator'\n], function (require, exports, module) {\n    'use strict';\n    var Helper = require('../core/Helper').Class, Validator = require('../core/Validator');\n    /**\n     * @extends Helper\n     * @constructor\n     */\n    function ContactGroupHelper(context) {\n        Helper.call(this, context);\n    }\n    ContactGroupHelper.prototype = Object.create(Helper.prototype);\n    ContactGroupHelper.prototype.createUrl = function (options, id) {\n        return '/account/~/extension/~/address-book/group' + (id ? '/' + id : '');\n    };\n    /**\n     * @param {IContactGroup} item\n     */\n    ContactGroupHelper.prototype.validate = function (item) {\n        return Validator.validate([{\n                field: 'groupName',\n                validator: Validator.required(item && item.groupName)\n            }]);\n    };\n    module.exports = {\n        Class: ContactGroupHelper,\n        /**\n         * @param {Context} context\n         * @returns {ContactGroupHelper}\n         */\n        $get: function (context) {\n            return context.createSingleton('ContactGroupHelper', function () {\n                return new ContactGroupHelper(context);\n            });\n        }\n    };    /**\n     * @typedef {object} IContactGroup\n     * @property {string} id\n     * @property {string} uri\n     * @property {string} notes\n     * @property {string} groupName\n     * @property {number} contactsCount\n     */\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('helpers/Device', [\n    'require',\n    'exports',\n    'module',\n    'core/Helper',\n    'core/Validator',\n    'helpers/Extension',\n    'helpers/DeviceModel'\n], function (require, exports, module) {\n    'use strict';\n    var Helper = require('../core/Helper').Class, Validator = require('../core/Validator');\n    /**\n     * @extends Helper\n     * @constructor\n     */\n    function DeviceHelper(context) {\n        Helper.call(this, context);\n        this.extension = require('./Extension').$get(context);\n        this.deviceModel = require('./DeviceModel').$get(context);\n    }\n    DeviceHelper.prototype = Object.create(Helper.prototype);\n    /**\n     * @param {IDeviceOptions} [options]\n     * @param {string} [id]\n     * @returns {string}\n     */\n    DeviceHelper.prototype.createUrl = function (options, id) {\n        options = options || {};\n        if (options.order)\n            return '/account/~/order';\n        return '/account/~' + (options.extensionId ? '/extension/' + options.extensionId : '') + '/device' + (id ? '/' + id : '');\n    };\n    /**\n     * @param {IDevice} item\n     */\n    DeviceHelper.prototype.validate = function (item) {\n        return Validator.validate([\n            {\n                field: 'emergencyServiceAddress-street',\n                validator: Validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.street)\n            },\n            {\n                field: 'emergencyServiceAddress-city',\n                validator: Validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.city)\n            },\n            {\n                field: 'emergencyServiceAddress-state',\n                validator: Validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.state)\n            },\n            {\n                field: 'emergencyServiceAddress-country',\n                validator: Validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.country)\n            },\n            {\n                field: 'emergencyServiceAddress-zip',\n                validator: Validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.zip)\n            },\n            {\n                field: 'emergencyServiceAddress-customerName',\n                validator: Validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.customerName)\n            },\n            {\n                field: 'extension',\n                validator: Validator.required(this.extension.getId(item && item.extension))\n            },\n            {\n                field: 'model',\n                validator: Validator.required(this.deviceModel.getId(item && item.model))\n            }\n        ]);\n    };\n    module.exports = {\n        Class: DeviceHelper,\n        /**\n         * @param {Context} context\n         * @returns {DeviceHelper}\n         */\n        $get: function (context) {\n            return context.createSingleton('DeviceHelper', function () {\n                return new DeviceHelper(context);\n            });\n        }\n    };    /**\n     * @typedef {Object} IDevice\n     * @property {string} id\n     * @property {string} uri\n     * @property {string} type\n     * @property {string} name\n     * @property {string} serial\n     * @property {IDeviceModel} model\n     * @property {IExtensionShort} extension TODO IExtension?\n     * @property {IDeviceAddress} emergencyServiceAddress\n     * @property {IDeviceShipping} shipping\n     * @property {IDevicePhoneLine[]} phoneLines\n     */\n          /**\n     * @typedef {Object} IDeviceOrder\n     * @property {IDevice[]} devices\n     */\n          /**\n     * @typedef {Object} IDeviceAddress\n     * @property {string} street\n     * @property {string} street2\n     * @property {string} city\n     * @property {string} state\n     * @property {string} country\n     * @property {string} zip\n     * @property {string} customerName\n     */\n          /**\n     * @typedef {Object} IDeviceShipping\n     * @property {IDeviceAddress} address\n     * @property {IShippingMethod} method\n     * @property {string} status\n     */\n          /**\n     * @typedef {Object} IDevicePhoneLine\n     * @property {string} lineType\n     * @property {IPhoneNumber} phoneInfo\n     */\n          /**\n     * @typedef {Object} IDeviceOptions\n     * @property {string} extensionId\n     */\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('helpers/ForwardingNumber', [\n    'require',\n    'exports',\n    'module',\n    'core/Helper',\n    'core/Utils',\n    'core/List'\n], function (require, exports, module) {\n    'use strict';\n    var Helper = require('../core/Helper').Class, Utils = require('../core/Utils'), List = require('../core/List');\n    /**\n     * @extends Helper\n     * @constructor\n     */\n    function ForwardingNumberHelper(context) {\n        Helper.call(this, context);\n    }\n    ForwardingNumberHelper.prototype = Object.create(Helper.prototype);\n    ForwardingNumberHelper.prototype.createUrl = function (options, id) {\n        options = options || {};\n        return '/account/~/extension/' + (options.extensionId || '~') + '/forwarding-number' + (id ? '/' + id : '');\n    };\n    ForwardingNumberHelper.prototype.getId = function (forwardingNumber) {\n        return forwardingNumber.id || forwardingNumber.phoneNumber;\n    };\n    ForwardingNumberHelper.prototype.hasFeature = function (phoneNumber, feature) {\n        return !!phoneNumber.features && phoneNumber.features.indexOf(feature) != -1;\n    };\n    /**\n     * @param {IListComparatorOptions} [options]\n     * @returns {function(object, object)}\n     */\n    ForwardingNumberHelper.prototype.comparator = function (options) {\n        return List.comparator(Utils.extend({ sortBy: 'label' }, options));\n    };\n    /**\n     * @param options\n     * @returns {function(IForwardingNumber)}\n     */\n    ForwardingNumberHelper.prototype.filter = function (options) {\n        var self = this;\n        options = Utils.extend({ features: [] }, options);\n        return List.filter([{\n                condition: options.features.length,\n                filterFn: function (item) {\n                    return options.features.some(function (feature) {\n                        return self.hasFeature(item, feature);\n                    });\n                }\n            }]);\n    };\n    module.exports = {\n        Class: ForwardingNumberHelper,\n        /**\n         * @param {Context} context\n         * @returns {ForwardingNumberHelper}\n         */\n        $get: function (context) {\n            return context.createSingleton('ForwardingNumberHelper', function () {\n                return new ForwardingNumberHelper(context);\n            });\n        }\n    };    /**\n     *\n     * @typedef {object} IForwardingNumber\n     * @property {string} id\n     * @property {string} uri\n     * @property {string} label\n     * @property {string} phoneNumber\n     * @property {string} flipNumber\n     */\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('helpers/Message', [\n    'require',\n    'exports',\n    'module',\n    'core/Helper',\n    'core/Validator',\n    'core/Utils',\n    'core/List',\n    'core/Platform',\n    'helpers/Contact',\n    'core/Subscription'\n], function (require, exports, module) {\n    'use strict';\n    var Helper = require('../core/Helper').Class, Validator = require('../core/Validator'), Utils = require('../core/Utils'), List = require('../core/List');\n    /**\n     * @extends Helper\n     * @constructor\n     */\n    function MessageHelper(context) {\n        Helper.call(this, context);\n        this.platform = require('../core/Platform').$get(context);\n        this.contact = require('./Contact').$get(context);\n    }\n    MessageHelper.prototype = Object.create(Helper.prototype);\n    /**\n     *\n     * @param {IMessageOptions} [options]\n     * @param {string} [id]\n     * @returns {string}\n     * @exceptionalCase Different endpoint when creating SMS/Pager\n     */\n    MessageHelper.prototype.createUrl = function (options, id) {\n        options = options || {};\n        var root = '/account/~/extension/' + (options.extensionId || '~');\n        if (options.fax)\n            return root + '/fax';\n        if (options.sms)\n            return root + '/sms';\n        if (options.pager)\n            return root + '/company-pager';\n        if (options.sync)\n            return root + '/message-sync';\n        return root + '/message-store' + (id ? '/' + id : '');\n    };\n    MessageHelper.prototype.isInbound = function (message) {\n        return message && message.direction == 'Inbound';\n    };\n    MessageHelper.prototype.isOutbound = function (message) {\n        return !this.isInbound(message);\n    };\n    MessageHelper.prototype.isSMS = function (message) {\n        return message && message.type == 'SMS';\n    };\n    MessageHelper.prototype.isPager = function (message) {\n        return message && message.type == 'Pager';\n    };\n    MessageHelper.prototype.isVoiceMail = function (message) {\n        return message && message.type == 'VoiceMail';\n    };\n    MessageHelper.prototype.isFax = function (message) {\n        return message && message.type == 'Fax';\n    };\n    MessageHelper.prototype.isAlive = function (message) {\n        //return (this.availability != 'Deleted' && this.availability != 'Purged');\n        return message && message.availability == 'Alive';\n    };\n    MessageHelper.prototype.isRead = function (message) {\n        return message.readStatus == 'Read';\n    };\n    MessageHelper.prototype.setIsRead = function (message, isRead) {\n        message.readStatus = !!isRead ? 'Read' : 'Unread';\n        return message;\n    };\n    MessageHelper.prototype.getAttachmentUrl = function (message, i) {\n        return message.attachments[i] ? this.platform.apiUrl(message.attachments[i].uri, {\n            addMethod: 'GET',\n            addServer: true,\n            addToken: true\n        }) : '';\n    };\n    MessageHelper.prototype.getAttachmentContentType = function (message, i) {\n        return message.attachments[i] ? message.attachments[i].contentType : '';\n    };\n    /**\n     * @returns {Subscription}\n     */\n    MessageHelper.prototype.getSubscription = function (options) {\n        return require('../core/Subscription').$get(this.context).setEvents([this.createUrl(options)]);\n    };\n    /**\n     * Returns from-phones if inbound (oterwise to-phones)\n     * @returns {ICallerInfo[]}\n     */\n    MessageHelper.prototype.getCallerInfos = function (message) {\n        return this.isInbound(message) ? [message.from] : message.to;\n    };\n    /**\n     * Returns first from-phones if inbound (oterwise to-phones), then vice-versa\n     * @returns {ICallerInfo[]}\n     */\n    MessageHelper.prototype.getAllCallerInfos = function (message) {\n        return this.getCallerInfos(message).concat(this.isInbound(message) ? message.to : [message.from]);\n    };\n    /**\n     * TODO Compare as dates\n     * @param {IListComparatorOptions} [options]\n     * @returns {function(object, object)}\n     */\n    MessageHelper.prototype.comparator = function (options) {\n        return List.comparator(Utils.extend({ sortBy: 'creationTime' }, options));\n    };\n    /**\n     * @param {IMessageFilterOptions} [options]\n     * @returns {function(IMessage)}\n     */\n    MessageHelper.prototype.filter = function (options) {\n        options = Utils.extend({\n            search: '',\n            alive: true,\n            direction: '',\n            conversationId: '',\n            readStatus: ''\n        }, options);\n        return List.filter([\n            {\n                condition: options.alive,\n                filterFn: this.isAlive\n            },\n            {\n                filterBy: 'type',\n                condition: options.type\n            },\n            {\n                filterBy: 'direction',\n                condition: options.direction\n            },\n            {\n                filterBy: 'conversationId',\n                condition: options.conversationId\n            },\n            {\n                filterBy: 'readStatus',\n                condition: options.readStatus\n            },\n            {\n                filterBy: 'subject',\n                condition: options.search,\n                filterFn: List.containsFilter\n            }\n        ]);\n    };\n    /**\n     * Injects contact field with appropriate {IContact} data structure into all callerInfos found in all messages\n     * Warning, this function may be performance-consuming, reduce the amount of items passed to contacts and messages\n     * @param {IContact[]} contacts\n     * @param {IMessage[]} messages\n     * @param {IContactMatchOptions} [options]\n     */\n    MessageHelper.prototype.attachContacts = function (contacts, messages, options) {\n        var self = this;\n        // Flatten all caller infos from all messages\n        var callerInfos = messages.reduce(function (callerInfos, message) {\n            return callerInfos.concat(self.getAllCallerInfos(message));\n        }, []);\n        this.contact.attachToCallerInfos(callerInfos, contacts, options);\n    };\n    /**\n     *\n     * @param message\n     * @returns {IMessageShort}\n     */\n    MessageHelper.prototype.shorten = function (message) {\n        return {\n            from: message.from,\n            to: message.to,\n            text: message.subject\n        };\n    };\n    /**\n     * @param {IMessage} item\n     */\n    MessageHelper.prototype.validateSMS = function (item) {\n        return Validator.validate([\n            {\n                field: 'to',\n                validator: Validator.required(Utils.getProperty(item, 'to[0].phoneNumber'))\n            },\n            {\n                field: 'from',\n                validator: Validator.required(Utils.getProperty(item, 'from.phoneNumber'))\n            },\n            {\n                field: 'subject',\n                validator: Validator.required(Utils.getProperty(item, 'subject'))\n            },\n            {\n                field: 'subject',\n                validator: Validator.length(Utils.getProperty(item, 'subject'), 160)\n            }\n        ]);\n    };\n    /**\n     * @param {IMessage} item\n     */\n    MessageHelper.prototype.validatePager = function (item) {\n        return Validator.validate([\n            {\n                field: 'to',\n                validator: Validator.required(Utils.getProperty(item, 'to.extensionNumber'))\n            },\n            {\n                field: 'from',\n                validator: Validator.required(Utils.getProperty(item, 'from.extensionNumber'))\n            },\n            {\n                field: 'subject',\n                validator: Validator.required(Utils.getProperty(item, 'subject'))\n            },\n            {\n                field: 'subject',\n                validator: Validator.length(Utils.getProperty(item, 'subject'), 160)\n            }\n        ]);\n    };\n    module.exports = {\n        Class: MessageHelper,\n        /**\n         * @param {Context} context\n         * @returns {MessageHelper}\n         */\n        $get: function (context) {\n            return context.createSingleton('MessageHelper', function () {\n                return new MessageHelper(context);\n            });\n        }\n    };    /**\n     * @typedef {object} IMessage\n     * @property {string} id\n     * @property {string} uri\n     * @property {ICallerInfo[]} to\n     * @property {ICallerInfo} from\n     * @property {string} type\n     * @property {string} creationTime\n     * @property {string} readStatus\n     * @property {string} priority\n     * @property {IMessageAttachment} attachments\n     * @property {string} direction\n     * @property {string} availability\n     * @property {string} subject\n     * @property {string} messageStatus\n     * @property {string} conversationId\n     * @property {string} lastModifiedTime\n     */\n          /**\n     * @typedef {object} IMessageShort\n     * @property {ICallerInfo[]} to\n     * @property {ICallerInfo} from\n     * @property {string} text\n     */\n          /**\n     * @typedef {object} IMessageOptions\n     * @property {boolean} fax\n     * @property {boolean} sync\n     * @property {boolean} sms\n     * @property {boolean} pager\n     * @property {string} extensionId\n     */\n          /**\n     * @typedef {object} IMessageFilterOptions\n     * @property {boolean} alive\n     * @property {string} conversationId\n     * @property {string} direction\n     * @property {string} readStatus\n     * @property {string} type\n     */\n          /**\n     * @typedef {object} IMessageFaxAttachment\n     * @property {string} contentType\n     * @property {string} content\n     * @property {string} fileName\n     */\n          /**\n     * @see http://platform-dev.dins.ru/artifacts/documentation/webhelp/dev_guide/content/ch18s01.html#MessageAttachmentInfo\n     * @typedef {Object} IMessageAttachment\n     * @property {string} id\n     * @property {string} uri\n     * @property {string} contentType\n     * @property {string} vmDuration\n     */\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('helpers/PhoneNumber', [\n    'require',\n    'exports',\n    'module',\n    'core/List',\n    'core/Utils',\n    'core/Helper',\n    'helpers/Extension'\n], function (require, exports, module) {\n    'use strict';\n    var List = require('../core/List'), Utils = require('../core/Utils'), Helper = require('../core/Helper').Class;\n    /**\n     * @extends Helper\n     * @constructor\n     */\n    function PhoneNumberHelper(context) {\n        Helper.call(this, context);\n        this.extension = require('./Extension').$get(context);\n    }\n    PhoneNumberHelper.prototype = Object.create(Helper.prototype);\n    /**\n     * @param {IPhoneNumberOptions} [options]\n     * @param {string} [id]\n     * @returns {string}\n     */\n    PhoneNumberHelper.prototype.createUrl = function (options, id) {\n        options = options || {};\n        if (options.lookup)\n            return '/number-pool/lookup';\n        return '/account/~' + (options.extensionId ? '/extension/' + options.extensionId : '') + '/phone-number' + (id ? '/' + id : '');\n    };\n    PhoneNumberHelper.prototype.isSMS = function (phoneNumber) {\n        return this.hasFeature(phoneNumber, 'SmsSender');\n    };\n    PhoneNumberHelper.prototype.hasFeature = function (phoneNumber, feature) {\n        return !!phoneNumber.features && phoneNumber.features.indexOf(feature) != -1;\n    };\n    PhoneNumberHelper.prototype.reserve = function (phoneNumber, date) {\n        phoneNumber.reservedTill = new Date(date).toISOString();\n    };\n    PhoneNumberHelper.prototype.unreserve = function (phoneNumber) {\n        phoneNumber.reservedTill = null;\n    };\n    /**\n     * @param {IListComparatorOptions} [options]\n     * @returns {function(IPhoneNumber, IPhoneNumber)}\n     */\n    PhoneNumberHelper.prototype.comparator = function (options) {\n        return List.comparator(Utils.extend({\n            /**\n             * @param {IPhoneNumber} item\n             * @returns {string}\n             */\n            extractFn: function (item) {\n                return item.usageType + '-' + item.paymentType + '-' + item.type;\n            }\n        }, options));\n    };\n    /**\n     * TODO Add other filtering methods http://jira.ringcentral.com/browse/SDK-5\n     * @param {IPhoneNumberFilterOptions} options\n     * @returns {function(IForwardingNumber)}\n     */\n    PhoneNumberHelper.prototype.filter = function (options) {\n        var self = this;\n        options = Utils.extend({\n            usageType: '',\n            paymentType: '',\n            type: '',\n            features: []\n        }, options);\n        return List.filter([\n            {\n                filterBy: 'usageType',\n                condition: options.usageType\n            },\n            {\n                filterBy: 'paymentType',\n                condition: options.paymentType\n            },\n            {\n                filterBy: 'type',\n                condition: options.type\n            },\n            {\n                condition: options.features.length,\n                filterFn: function (item) {\n                    return options.features.some(function (feature) {\n                        return self.hasFeature(item, feature);\n                    });\n                }\n            }\n        ]);\n    };\n    module.exports = {\n        Class: PhoneNumberHelper,\n        /**\n         * @param {Context} context\n         * @returns {PhoneNumberHelper}\n         */\n        $get: function (context) {\n            return context.createSingleton('PhoneNumberHelper', function () {\n                return new PhoneNumberHelper(context);\n            });\n        }\n    };    /**\n     * @typedef {object} IPhoneNumber\n     * @property {string} id\n     * @property {string} uri\n     * @property {string} phoneNumber\n     * @property {string} paymentType - External, TollFree, Local\n     * @property {string} location\n     * @property {string} type - VoiceFax, FaxOnly, VoiceOnly\n     * @property {string} usageType - CompanyNumber, DirectNumber, CompanyFaxNumber, ForwardedNumber\n     * @property {array} features - CallerId, SmsSender\n     * @property {string} reservedTill - Date\n     * @property {string} error\n     */\n          /**\n     * @typedef {object} IPhoneNumberOptions\n     * @property {string} extensionId\n     * @property {true} lookup\n     * @property {string} countryId\n     * @property {string} paymentType\n     * @property {string} npa\n     * @property {string} nxx\n     * @property {string} line\n     * @property {string} exclude\n     */\n          /**\n     * @typedef {object} IPhoneNumberFilterOptions\n     * @property {string} paymentType\n     * @property {string} usageType\n     * @property {string} type\n     * @property {string[]} features\n     */\n          /**\n     * @typedef {object} IPhoneNumberOrder\n     * @property {IPhoneNumber[]} records\n     */\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('helpers/Ringout', [\n    'require',\n    'exports',\n    'module',\n    'core/Helper',\n    'core/Validator',\n    'helpers/Extension'\n], function (require, exports, module) {\n    'use strict';\n    var Helper = require('../core/Helper').Class, Validator = require('../core/Validator');\n    /**\n     * @extends Helper\n     * @constructor\n     */\n    function RingoutHelper(context) {\n        Helper.call(this, context);\n        this.extension = require('./Extension').$get(context);\n    }\n    RingoutHelper.prototype = Object.create(Helper.prototype);\n    RingoutHelper.prototype.createUrl = function (options, id) {\n        options = options || {};\n        return '/account/~/extension/' + (options.extensionId || '~') + '/ringout' + (id ? '/' + id : '');\n    };\n    RingoutHelper.prototype.resetAsNew = function (object) {\n        object = Helper.prototype.resetAsNew.call(this, object);\n        if (object) {\n            delete object.status;\n        }\n        return object;\n    };\n    RingoutHelper.prototype.isInProgress = function (ringout) {\n        return ringout && !this.isNew(ringout) && ringout.status && ringout.status.callStatus == 'InProgress';\n    };\n    RingoutHelper.prototype.isSuccess = function (ringout) {\n        return ringout && !this.isNew(ringout) && ringout.status && ringout.status.callStatus == 'Success';\n    };\n    RingoutHelper.prototype.isError = function (ringout) {\n        return !this.isNew(ringout) && !this.isInProgress(ringout) && !this.isSuccess(ringout);\n    };\n    /**\n     * @param {IRingout} item\n     */\n    RingoutHelper.prototype.validate = function (item) {\n        return Validator.validate([\n            {\n                field: 'to',\n                validator: Validator.required(item && item.to && item.to.phoneNumber)\n            },\n            {\n                field: 'from',\n                validator: Validator.required(item && item.from && item.from.phoneNumber)\n            }\n        ]);\n    };\n    module.exports = {\n        Class: RingoutHelper,\n        /**\n         * @param {Context} context\n         * @returns {RingoutHelper}\n         */\n        $get: function (context) {\n            return context.createSingleton('RingoutHelper', function () {\n                return new RingoutHelper(context);\n            });\n        }\n    };    /**\n     * @typedef {object} IRingout\n     * @property {ICallerInfo} [from] (!) ONLY PHONE NUMBER\n     * @property {ICallerInfo} [to] (!) ONLY PHONE NUMBER\n     * @property {ICallerInfo} [callerId] (!) ONLY PHONE NUMBER\n     * @property {boolean} [playPrompt]\n     * @property {{callStatus:boolean, callerStatus:boolean, calleeStatus:boolean}} [status]\n     */\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('helpers/Service', [\n    'require',\n    'exports',\n    'module',\n    'core/Helper'\n], function (require, exports, module) {\n    'use strict';\n    var Helper = require('../core/Helper').Class;\n    /**\n     * @extends Helper\n     * @constructor\n     */\n    function ServiceHelper(context) {\n        Helper.call(this, context);\n    }\n    ServiceHelper.prototype = Object.create(Helper.prototype);\n    ServiceHelper.prototype.createUrl = function () {\n        return '/account/~/service-info';\n    };\n    /**\n     * @param {string} feature\n     * @param {IServiceFeature[]} serviceFeatures\n     * @returns {*}\n     */\n    ServiceHelper.prototype.isEnabled = function (feature, serviceFeatures) {\n        return serviceFeatures.reduce(function (value, f) {\n            if (f.featureName == feature)\n                value = f.enabled;\n            return value;\n        }, false);\n    };\n    ServiceHelper.prototype.isSmsEnabled = isServiceFeatureEnabledMethod('SMS');\n    ServiceHelper.prototype.isSmsReceivingEnabled = isServiceFeatureEnabledMethod('SMSReceiving');\n    ServiceHelper.prototype.isPresenceEnabled = isServiceFeatureEnabledMethod('Presence');\n    ServiceHelper.prototype.isRingOutEnabled = isServiceFeatureEnabledMethod('RingOut');\n    ServiceHelper.prototype.isInternationalCallingEnabled = isServiceFeatureEnabledMethod('InternationalCalling');\n    ServiceHelper.prototype.isDndEnabled = isServiceFeatureEnabledMethod('DND');\n    ServiceHelper.prototype.isFaxEnabled = isServiceFeatureEnabledMethod('Fax');\n    ServiceHelper.prototype.isFaxReceivingEnabled = isServiceFeatureEnabledMethod('FaxReceiving');\n    ServiceHelper.prototype.isVoicemailEnabled = isServiceFeatureEnabledMethod('Voicemail');\n    ServiceHelper.prototype.isPagerEnabled = isServiceFeatureEnabledMethod('Pager');\n    ServiceHelper.prototype.isPagerReceivingEnabled = isServiceFeatureEnabledMethod('PagerReceiving');\n    ServiceHelper.prototype.isVoipCallingEnabled = isServiceFeatureEnabledMethod('VoipCalling');\n    ServiceHelper.prototype.isVideoConferencingEnabled = isServiceFeatureEnabledMethod('VideoConferencing');\n    ServiceHelper.prototype.isSalesForceEnabled = isServiceFeatureEnabledMethod('SalesForce');\n    ServiceHelper.prototype.isIntercomEnabled = isServiceFeatureEnabledMethod('Intercom');\n    ServiceHelper.prototype.isPagingEnabled = isServiceFeatureEnabledMethod('Paging');\n    ServiceHelper.prototype.isConferencingEnabled = isServiceFeatureEnabledMethod('Conferencing');\n    ServiceHelper.prototype.isFreeSoftPhoneLinesEnabled = isServiceFeatureEnabledMethod('FreeSoftPhoneLines');\n    ServiceHelper.prototype.isHipaaComplianceEnabled = isServiceFeatureEnabledMethod('HipaaCompliance');\n    ServiceHelper.prototype.isCallParkEnabled = isServiceFeatureEnabledMethod('CallPark');\n    ServiceHelper.prototype.isOnDemandCallRecordingEnabled = isServiceFeatureEnabledMethod('OnDemandCallRecording');\n    function isServiceFeatureEnabledMethod(feature) {\n        return function (serviceFeatures) {\n            return this.isEnabled(feature, serviceFeatures);\n        };\n    }\n    module.exports = {\n        Class: ServiceHelper,\n        /**\n         * @param {Context} context\n         * @returns {ServiceHelper}\n         */\n        $get: function (context) {\n            return context.createSingleton('serviceHelper', function () {\n                return new ServiceHelper(context);\n            });\n        }\n    };    /**\n     * @typedef {object} IServiceFeature\n     * @property {string} featureName\n     * @property {boolean} enabled\n     */\n          /**\n     * @typedef {object} IService\n     * @property {IServiceFeature[]} serviceFeatures\n     * @property {string} servicePlanName\n     */\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\ndefine('RCSDK', [\n    'require',\n    'exports',\n    'module',\n    'core/Context',\n    'core/Ajax',\n    'core/AjaxObserver',\n    'core/xhr/XhrResponse',\n    'core/Platform',\n    'core/Cache',\n    'core/Subscription',\n    'core/PageVisibility',\n    'core/Helper',\n    'core/Observable',\n    'core/Validator',\n    'core/Log',\n    'core/Utils',\n    'core/List',\n    'helpers/Country',\n    'helpers/DeviceModel',\n    'helpers/Language',\n    'helpers/Location',\n    'helpers/ShippingMethod',\n    'helpers/State',\n    'helpers/Timezone',\n    'helpers/Account',\n    'helpers/BlockedNumber',\n    'helpers/Call',\n    'helpers/Conferencing',\n    'helpers/Contact',\n    'helpers/ContactGroup',\n    'helpers/Device',\n    'helpers/Extension',\n    'helpers/ForwardingNumber',\n    'helpers/Message',\n    'helpers/PhoneNumber',\n    'helpers/Presence',\n    'helpers/Ringout',\n    'helpers/Service'\n], function (require, exports, module) {\n    'use strict';\n    /**\n     * @param {IInjections} injections\n     * @returns {RCSDK}\n     */\n    module.exports = function (injections) {\n        /**\n         * @name RCSDK\n         * @constructor\n         */\n        function RCSDK(options) {\n            /** @private */\n            this._context = require('./core/Context').$get(injections);    //TODO Link Platform events with Subscriptions and the rest\n        }\n        RCSDK.version = '1.0.0';\n        // Internals\n        /**\n         * @returns {Context}\n         */\n        RCSDK.prototype.getContext = function () {\n            return this._context;\n        };\n        // Core\n        /**\n         */\n        RCSDK.prototype.getAjax = function () {\n            return require('./core/Ajax').$get(this.getContext());\n        };\n        /**\n         * @returns {AjaxObserver}\n         */\n        RCSDK.prototype.getAjaxObserver = function () {\n            return require('./core/AjaxObserver').$get(this.getContext());\n        };\n        /**\n         * @returns {XhrResponse}\n         */\n        RCSDK.prototype.getXhrResponse = function () {\n            return require('./core/xhr/XhrResponse').$get(this.getContext());\n        };\n        /**\n         * @returns {Platform}\n         */\n        RCSDK.prototype.getPlatform = function () {\n            return require('./core/Platform').$get(this.getContext());\n        };\n        /**\n         * @returns {Cache}\n         */\n        RCSDK.prototype.getCache = function () {\n            return require('./core/Cache').$get(this.getContext());\n        };\n        /**\n         * @returns {Subscription}\n         */\n        RCSDK.prototype.getSubscription = function () {\n            return require('./core/Subscription').$get(this.getContext());\n        };\n        /**\n         * @returns {PageVisibility}\n         */\n        RCSDK.prototype.getPageVisibility = function () {\n            return require('./core/PageVisibility').$get(this.getContext());\n        };\n        /**\n         * @returns {Helper}\n         */\n        RCSDK.prototype.getHelper = function () {\n            return require('./core/Helper').$get(this.getContext());\n        };\n        /**\n         * @returns {Observable}\n         */\n        RCSDK.prototype.getObservable = function () {\n            return require('./core/Observable').$get(this.getContext());\n        };\n        /**\n         * @returns {Validator}\n         */\n        RCSDK.prototype.getValidator = function () {\n            return require('./core/Validator').$get(this.getContext());\n        };\n        /**\n         * @returns {Log}\n         */\n        RCSDK.prototype.getLog = function () {\n            return require('./core/Log').$get(this.getContext());\n        };\n        /**\n         * @returns {Utils}\n         */\n        RCSDK.prototype.getUtils = function () {\n            return require('./core/Utils').$get(this.getContext());\n        };\n        /**\n         * @returns {List}\n         */\n        RCSDK.prototype.getList = function () {\n            return require('./core/List').$get(this.getContext());\n        };\n        // Helpers\n        /**\n         * @returns {CountryHelper}\n         */\n        RCSDK.prototype.getCountryHelper = function () {\n            return require('./helpers/Country').$get(this.getContext());\n        };\n        /**\n         * @returns {DeviceModelHelper}\n         */\n        RCSDK.prototype.getDeviceModelHelper = function () {\n            return require('./helpers/DeviceModel').$get(this.getContext());\n        };\n        /**\n         * @returns {LanguageHelper}\n         */\n        RCSDK.prototype.getLanguageHelper = function () {\n            return require('./helpers/Language').$get(this.getContext());\n        };\n        /**\n         * @returns {LocationHelper}\n         */\n        RCSDK.prototype.getLocationHelper = function () {\n            return require('./helpers/Location').$get(this.getContext());\n        };\n        /**\n         * @returns {ShippingMethodHelper}\n         */\n        RCSDK.prototype.getShippingMethodHelper = function () {\n            return require('./helpers/ShippingMethod').$get(this.getContext());\n        };\n        /**\n         * @returns {StateHelper}\n         */\n        RCSDK.prototype.getStateHelper = function () {\n            return require('./helpers/State').$get(this.getContext());\n        };\n        /**\n         * @returns {TimezoneHelper}\n         */\n        RCSDK.prototype.getTimezoneHelper = function () {\n            return require('./helpers/Timezone').$get(this.getContext());\n        };\n        /**\n         * @returns {AccountHelper}\n         */\n        RCSDK.prototype.getAccountHelper = function () {\n            return require('./helpers/Account').$get(this.getContext());\n        };\n        /**\n         * @returns {BlockedNumberHelper}\n         */\n        RCSDK.prototype.getBlockedNumberHelper = function () {\n            return require('./helpers/BlockedNumber').$get(this.getContext());\n        };\n        /**\n         * @returns {CallHelper}\n         */\n        RCSDK.prototype.getCallHelper = function () {\n            return require('./helpers/Call').$get(this.getContext());\n        };\n        /**\n         * @returns {ConferencingHelper}\n         */\n        RCSDK.prototype.getConferencingHelper = function () {\n            return require('./helpers/Conferencing').$get(this.getContext());\n        };\n        /**\n         * @returns {ContactHelper}\n         */\n        RCSDK.prototype.getContactHelper = function () {\n            return require('./helpers/Contact').$get(this.getContext());\n        };\n        /**\n         * @returns {ContactGroupHelper}\n         */\n        RCSDK.prototype.getContactGroupHelper = function () {\n            return require('./helpers/ContactGroup').$get(this.getContext());\n        };\n        /**\n         * @returns {DeviceHelper}\n         */\n        RCSDK.prototype.getDeviceHelper = function () {\n            return require('./helpers/Device').$get(this.getContext());\n        };\n        /**\n         * @returns {ExtensionHelper}\n         */\n        RCSDK.prototype.getExtensionHelper = function () {\n            return require('./helpers/Extension').$get(this.getContext());\n        };\n        /**\n         * @returns {ForwardingNumberHelper}\n         */\n        RCSDK.prototype.getForwardingNumberHelper = function () {\n            return require('./helpers/ForwardingNumber').$get(this.getContext());\n        };\n        /**\n         * @returns {MessageHelper}\n         */\n        RCSDK.prototype.getMessageHelper = function () {\n            return require('./helpers/Message').$get(this.getContext());\n        };\n        /**\n         * @returns {PhoneNumberHelper}\n         */\n        RCSDK.prototype.getPhoneNumberHelper = function () {\n            return require('./helpers/PhoneNumber').$get(this.getContext());\n        };\n        /**\n         * @returns {PresenceHelper}\n         */\n        RCSDK.prototype.getPresenceHelper = function () {\n            return require('./helpers/Presence').$get(this.getContext());\n        };\n        /**\n         * @returns {RingoutHelper}\n         */\n        RCSDK.prototype.getRingoutHelper = function () {\n            return require('./helpers/Ringout').$get(this.getContext());\n        };\n        /**\n         * @returns {ServiceHelper}\n         */\n        RCSDK.prototype.getServiceHelper = function () {\n            return require('./helpers/Service').$get(this.getContext());\n        };\n        /** @type {window} */\n        var root = new Function('return this')();\n        function getXHR() {\n            return root.XMLHttpRequest || function () {\n                try {\n                    return new ActiveXObject('Msxml2.XMLHTTP.6.0');\n                } catch (e1) {\n                }\n                try {\n                    return new ActiveXObject('Msxml2.XMLHTTP.3.0');\n                } catch (e2) {\n                }\n                try {\n                    return new ActiveXObject('Msxml2.XMLHTTP');\n                } catch (e3) {\n                }\n                throw new Error('This browser does not support XMLHttpRequest.');\n            };\n        }\n        function getCryptoJS() {\n            return root.CryptoJS || typeof CryptoJS !== 'undefined' && CryptoJS;\n        }\n        function getLocalStorage() {\n            return root.localStorage;\n        }\n        function getPUBNUB() {\n            return root.PUBNUB || typeof PUBNUB !== 'undefined' && PUBNUB;\n        }\n        function getPromise() {\n            return root.Promise;\n        }\n        injections = injections || {};\n        injections.CryptoJS = injections.CryptoJS || getCryptoJS();\n        injections.localStorage = injections.localStorage || getLocalStorage();\n        injections.Promise = injections.Promise || getPromise();\n        injections.PUBNUB = injections.PUBNUB || getPUBNUB();\n        injections.XHR = injections.XHR || getXHR();\n        return RCSDK;\n    };    /**\n     * @typedef {Object} IInjections\n     * @property {PUBNUB} PUBNUB\n     * @property {CryptoJS} CryptoJS\n     * @property {Storage} localStorage\n     * @property {XMLHttpRequest} XHR\n     * @property {Promise} Promise\n     */\n});","/**\n * @description RingPlatform JS SDK\n * @copyright  2014-2015 RingCentral, Inc. All rights reserved.\n */\n(function() {\n\n    if (typeof exports !== 'undefined') { // NodeJS\n\n        if (typeof module !== 'undefined' && module.exports) {\n            exports = module.exports = RCSDK({\n                CryptoJS: require('crypto-js'),\n                localStorage: new (require('dom-storage'))(),\n                Promise: require('es6-promise').Promise,\n                PUBNUB: require('pubnub'),\n                XHR: require('xhr2')\n            });\n        }\n\n    } else if (typeof define === 'function' && define.amd) { // RequireJS\n\n        define(['crypto-js', 'pubnub', 'es6-promise'], function(CryptoJS, PUBNUB) { // amdclean\n            return RCSDK({\n                CryptoJS: CryptoJS,\n                PUBNUB: PUBNUB\n            });\n        });\n\n    } else { // Standalone in browser\n\n        RCSDK.noConflict = (function(old) {\n            return function() {\n                root.RCSDK = old;\n                RCSDK.noConflict = undefined;\n                return RCSDK;\n            };\n        })(root.RCSDK);\n\n        root.RCSDK = RCSDK({});\n\n    }\n\n})();"],"sourceRoot":"/source/"}