{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","ringcentral-bundle.js","webpack:/webpack/bootstrap 01bda1c79750940e5c4f","webpack:///~/babel-regenerator-runtime/runtime.js","webpack:///src/SDK.js","webpack:///src/core/Utils.js","webpack:///src/core/Externals.js","webpack:///bower_components/es6-promise/promise.js","webpack:///~/timers-browserify/main.js","webpack:///~/process/browser.js","webpack:///(webpack)/buildin/module.js","webpack:///(webpack)/buildin/amd-define.js","webpack:///bower_components/fetch/fetch.js","webpack:///bower_components/pubnub/web/pubnub.js","webpack:///src/core/Cache.js","webpack:///src/core/Observable.js","webpack:///src/core/Queue.js","webpack:///src/http/Client.js","webpack:///src/http/Utils.js","webpack:///src/http/ApiResponse.js","webpack:///src/mocks/ClientMock.js","webpack:///src/mocks/Registry.js","webpack:///src/mocks/Mock.js","webpack:///src/platform/Platform.js","webpack:///src/platform/Auth.js","webpack:///src/pubnub/PubnubFactory.js","webpack:///src/pubnub/PubnubMock.js","webpack:///src/subscription/Subscription.js","webpack:///src/subscription/CachedSubscription.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","global","wrap","innerFn","outerFn","self","tryLocsList","generator","Object","create","Generator","prototype","context","Context","_invoke","makeInvokeMethod","tryCatch","fn","obj","arg","type","err","GeneratorFunction","GeneratorFunctionPrototype","defineIteratorMethods","forEach","method","AwaitArgument","AsyncIterator","invoke","result","value","Promise","resolve","then","invokeNext","invokeThrow","unwrapped","enqueue","callInvokeWithMethodAndArg","previousPromise","process","domain","bind","state","GenStateSuspendedStart","GenStateExecuting","Error","GenStateCompleted","doneResult","delegate","iterator","undefined","returnMethod","record","info","done","GenStateSuspendedYield","resultName","next","nextLoc","_sent","sent","dispatchException","abrupt","ContinueSentinel","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","values","iterable","iteratorMethod","iteratorSymbol","isNaN","length","i","hasOwn","hasOwnProperty","Symbol","inModule","runtime","regeneratorRuntime","Gp","constructor","displayName","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","async","iter","toString","keys","object","key","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","window","_interopRequireDefault","__esModule","default","_interopRequireWildcard","newObj","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","_Utils","Utils","_Cache","_Cache2","_Externals","Externals","_Observable","_Observable2","_Queue","_Queue2","_Client","_Client2","_ApiResponse","_ApiResponse2","_Utils2","HttpUtils","_ClientMock","_ClientMock2","_Mock","_Mock2","_Registry","_Registry2","_Platform","_Platform2","_Auth","_Auth2","_PubnubFactory","_PubnubFactory2","_Subscription","_Subscription2","_CachedSubscription","_CachedSubscription2","SDK","options","_cache","localStorage","cachePrefix","_client","client","_platform","server","appKey","appSecret","_pubnubFactory","pubnubFactory","PUBNUB","cacheKey","version","sandbox","production","core","Cache","Observable","Queue","http","Client","ApiResponse","platform","Auth","Platform","subscription","Subscription","mocks","Registry","Mock","pubnub","PubnubMockFactory","queryStringify","parameters","array","k","v","isArray","vv","encodeURIComponent","join","parseQueryString","queryString","argsParsed","split","decodeURIComponent","indexOf","trim","pair","isFunction","Array","poll","interval","timeout","stopPolling","delay","setTimeout","clearTimeout","isNodeJS","isBrowser","reject","Headers","Response","Request","fetch","_es6Promise","_es6Promise2","_nodeFetch","_nodeFetch2","_pubnub","_pubnub2","Function","__WEBPACK_AMD_DEFINE_RESULT__","setImmediate","lib$es6$promise$utils$$objectOrFunction","x","lib$es6$promise$utils$$isFunction","lib$es6$promise$utils$$isMaybeThenable","lib$es6$promise$asap$$asap","callback","lib$es6$promise$asap$$queue","lib$es6$promise$asap$$len","lib$es6$promise$asap$$customSchedulerFn","lib$es6$promise$asap$$flush","lib$es6$promise$asap$$scheduleFlush","lib$es6$promise$asap$$setScheduler","scheduleFn","lib$es6$promise$asap$$useNextTick","nextTick","versions","node","match","lib$es6$promise$asap$$useVertxTimer","lib$es6$promise$asap$$vertxNext","lib$es6$promise$asap$$useMutationObserver","iterations","observer","lib$es6$promise$asap$$BrowserMutationObserver","document","createTextNode","observe","characterData","data","lib$es6$promise$asap$$useMessageChannel","channel","MessageChannel","port1","onmessage","port2","postMessage","lib$es6$promise$asap$$useSetTimeout","lib$es6$promise$asap$$attemptVertex","vertx","e","code","runOnLoop","runOnContext","lib$es6$promise$$internal$$noop","lib$es6$promise$$internal$$selfFullfillment","lib$es6$promise$$internal$$cannotReturnOwn","lib$es6$promise$$internal$$getThen","promise","error","lib$es6$promise$$internal$$GET_THEN_ERROR","lib$es6$promise$$internal$$tryThen","fulfillmentHandler","rejectionHandler","lib$es6$promise$$internal$$handleForeignThenable","thenable","lib$es6$promise$asap$$default","sealed","lib$es6$promise$$internal$$resolve","lib$es6$promise$$internal$$fulfill","reason","lib$es6$promise$$internal$$reject","_label","lib$es6$promise$$internal$$handleOwnThenable","_state","lib$es6$promise$$internal$$FULFILLED","_result","lib$es6$promise$$internal$$REJECTED","lib$es6$promise$$internal$$subscribe","lib$es6$promise$$internal$$handleMaybeThenable","maybeThenable","lib$es6$promise$$internal$$publishRejection","_onerror","lib$es6$promise$$internal$$publish","lib$es6$promise$$internal$$PENDING","_subscribers","parent","child","onFulfillment","onRejection","subscribers","settled","detail","lib$es6$promise$$internal$$invokeCallback","lib$es6$promise$$internal$$ErrorObject","lib$es6$promise$$internal$$tryCatch","lib$es6$promise$$internal$$TRY_CATCH_ERROR","succeeded","failed","hasCallback","lib$es6$promise$$internal$$initializePromise","resolver","lib$es6$promise$enumerator$$Enumerator","input","enumerator","_instanceConstructor","_validateInput","_input","_remaining","_init","_enumerate","_validationError","lib$es6$promise$promise$all$$all","entries","lib$es6$promise$enumerator$$default","lib$es6$promise$promise$race$$race","lib$es6$promise$utils$$isArray","lib$es6$promise$promise$resolve$$resolve","lib$es6$promise$promise$reject$$reject","lib$es6$promise$promise$$needsResolver","lib$es6$promise$promise$$needsNew","lib$es6$promise$promise$$Promise","_id","lib$es6$promise$promise$$counter","lib$es6$promise$polyfill$$polyfill","local","P","cast","lib$es6$promise$promise$$default","lib$es6$promise$utils$$_isArray","lib$es6$promise$asap$$browserWindow","lib$es6$promise$asap$$browserGlobal","MutationObserver","WebKitMutationObserver","lib$es6$promise$asap$$isNode","lib$es6$promise$asap$$isWorker","Uint8ClampedArray","importScripts","_eachEntry","_settledAt","_willSettleAt","lib$es6$promise$promise$all$$default","lib$es6$promise$promise$race$$default","lib$es6$promise$promise$resolve$$default","lib$es6$promise$promise$reject$$default","all","race","_setScheduler","_asap","arguments","lib$es6$promise$polyfill$$default","lib$es6$promise$umd$$ES6Promise","polyfill","clearImmediate","Timeout","clearFn","_clearFn","apply","immediateIds","nextImmediateId","setInterval","clearInterval","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","args","cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","len","run","Item","fun","noop","title","browser","env","argv","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","cwd","chdir","dir","umask","webpackPolyfill","deprecate","paths","children","normalizeName","String","test","toLowerCase","normalizeValue","headers","map","append","getOwnPropertyNames","consumed","body","bodyUsed","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","blob","FileReader","readAsArrayBuffer","readBlobAsText","readAsText","Body","_initBody","_bodyInit","_bodyText","support","Blob","isPrototypeOf","_bodyBlob","formData","FormData","_bodyFormData","rejected","arrayBuffer","text","decode","json","JSON","parse","normalizeMethod","upcased","toUpperCase","methods","url","credentials","mode","referrer","form","bytes","shift","replace","xhr","head","pairs","getAllResponseHeaders","header","bodyInit","status","ok","statusText","list","get","getAll","has","set","thisArg","init","request","responseURL","getResponseHeader","XMLHttpRequest","response","responseText","open","withCredentials","responseType","setRequestHeader","send","toJSON","valueOf","quote","string","escapable","lastIndex","a","meta","charCodeAt","str","holder","partial","mind","gap","rep","isFinite","indent","cx","\b","\t","\n","\f","\r","\"","\\","replacer","space","","eval","unique","NOW","Date","rnow","build_url","url_components","url_params","URLBIT","params","each","value_str","encode","PARAMSBIT","updater","rate","last","runnit","grep","fin","l","supplant","REPL","_","wait","generate_uuid","u","r","Math","random","o","f","pam_encode","path","generate_channel_list","channels","nopresence","search","subscribed","sort","generate_channel_group_list","channel_groups","channel_group","ready","READY","READY_BUFFER","connect","SECOND","PN_API","setup","_get_url_params","_object_to_key_list","_object_to_key_list_sorted","_get_pam_sign_input_from_params","si","validate_presence_heartbeat","heartbeat","cur_heartbeat","PRESENCE_HB_THRESHOLD","PRESENCE_HB_DEFAULT","encrypt","crypto_obj","CIPHER_KEY","decrypt","_presence_heartbeat","PRESENCE_HB_TIMEOUT","PRESENCE_HB_INTERVAL","CHANNELS","CHANNEL_GROUPS","PRESENCE_HB_RUNNING","SELF","stringify","start_presence_heartbeat","publish","NO_WAIT_FOR_PENDING","PUB_QUEUE","sending","xdr","each_channel_group","count","chang","each_channel","chan","_invoke_callback","callback_data","_invoke_error","CR","url1","jsonp","jsonp_cb","AUTH_KEY","STD_ORIGIN","SUBSCRIBE_KEY","success","fail","_poll_online","_is_online","_reset_offline","_poll_timer","_poll_online2","TIME_CHECK","detect_time_detla","_poll_timer2","KEEPALIVE","msg","SUB_RECEIVER","detect_latency","tt","adjusted_time","TIME_DRIFT","cb","time","calculate","ptime","latency","stime","SUB_WINDOWING","DEF_WINDOWING","SUB_TIMEOUT","DEF_SUB_TIMEOUT","DEF_KEEPALIVE","NOLEAVE","PUBLISH_KEY","SECRET_KEY","hmac_SHA256","SSL","ORIGIN","nextorigin","SUB_ORIGIN","CONNECT","CLOAK","SUB_CALLBACK","SUB_CHANNEL","SUB_RESTORE","TIMETOKEN","RESUMED","STATE","PRESENCE_HB","COMPATIBLE_35","db","UUID","USE_INSTANCEID","INSTANCEID","shutdown","use_send_beacon","sendBeacon","b","LEAVE","blocking","auth_key","uuid","auth","origin","PRESENCE_SUFFIX","url_string","action","message","service","LEAVE_GROUP","set_resumed","resumed","get_cipher_key","set_cipher_key","raw_encrypt","raw_decrypt","get_heartbeat","set_heartbeat","heartbeat_interval","get_heartbeat_interval","set_heartbeat_interval","get_version","SDK_VER","getGcmMessageObject","getApnsMessageObject","aps","badge","alert","newPnMessage","gcm","apns","n","_add_param","val","namespace","ns_ch","cloak","ns_ch_a","channel_group_list_groups","channel_group_list_channels","channel_group_remove_channel","channel_group_remove_group","channel_group_add_channel","channel_group_cloak","channel_group_list_namespaces","channel_group_remove_namespace","history","cipher_key","start","end","include_token","string_msg_token","payload","messages","decrypted_messages","new_message","timetoken","replay","source","destination","limit","post","store","add_msg","unsubscribe","leave_c","ch","CB_CALLED","leave_gc","chg","subscribe","_test_connection","windowing","disconnected","reconnect","disconnect","_connect","st","sub_timeout","SUB_ERROR","idlecb","connected","backfill","next_callback","channels2","list2","channel2","chobj","decrypted_msg","presence","noheresync","restore","settings","here","uid","timestamp","floor","occupancy","here_now","debug","uuids","where_now","grant","ttl","w","getTime","sign_input","signature","mobile_gw_provision","op","gw_type","device_id","audit","revoke","set_uuid","get_uuid","get_subscibed_channels","presence_heartbeat","stop_timers","each-channel","offline","now","SHA256","s","CryptoJS","parse_options","defaultOptions","allowedKeyEncodings","allowedKeyLengths","parseInt","allowedModes","decode_key","get_padded_key","get_mode","get_iv","iv","encryptKey","keyEncoding","keyLength","hex_message","encryptedHexArray","base_64_encrypted","binary_enc","json_plain","ciphertext","plaintext","get_hmac_SHA256","hash","$","getElementById","console","elements","el","getElementsByTagName","etype","rapfun","event","cancelBubble","preventDefault","stopPropagation","addEventListener","attachEvent","attr","attribute","setAttribute","getAttribute","css","element","styles","style","createElement","XORIGN","FDomainRequest","ajax","script","finished","xhrtme","DEF_TIMEOUT","timer","appendChild","parentNode","removeChild","ASYNC","src","abort","XDomainRequest","onabort","onloadend","onreadystatechange","readyState","eee","navigator","pubnubs","fdomainrequest","max","ori","failover","SWF","UA","userAgent","PNSDK","log","opera","postError","ls","cookieGet","cookie","RegExp","cookieSet","cookieTest","getItem","setItem","events","unbind","fire","PDIV","CREATE_PUBNUB","leave_on_unload","pnsdk","PN","prop","pdiv","notest","publish_key","subscribe_key","ssl","location","href","position","top","unescape","WS","protocols","bits","protocol","wasClean","h","g","lib","q","Base","extend","mixIn","$super","clone","WordArray","words","sigBytes","d","clamp","ceil","enc","Hex","substr","Latin1","fromCharCode","j","Utf8","escape","BufferedBlockAlgorithm","_data","_nDataBytes","_append","_process","blockSize","_minBufferSize","min","_doProcessBlock","splice","Hasher","cfg","_doReset","update","finalize","_doFinalize","_createHelper","_createHmacHelper","t","HMAC","algo","sqrt","pow","_hash","HmacSHA256","_hasher","_oKey","_iKey","Base64","_map","abs","sin","MD5","z","A","B","C","D","E","HmacMD5","EvpKDF","keySize","hasher","compute","Cipher","createEncryptor","_ENC_XFORM_MODE","createDecryptor","_DEC_XFORM_MODE","_xformMode","_key","ivSize","StreamCipher","_iv","_prevBlock","BlockCipherMode","Encryptor","Decryptor","_cipher","processBlock","encryptBlock","decryptBlock","CBC","pad","Pkcs7","unpad","BlockCipher","padding","_mode","CipherParams","formatter","format","OpenSSL","salt","SerializableCipher","algorithm","_parse","kdf","execute","PasswordBasedCipher","F","G","y","H","AES","_nRounds","_keySchedule","_invKeySchedule","_doCryptBlock","ECB","offset","storage","prefix","setPrefix","_storage","_prefix","defaultPrefix","_prefixKey","_listeners","_this","hasListeners","_this2","_len","some","_this3","cache","cacheId","_cacheId","_promise","_releaseTimeout","removeItem","isPaused","resume","_pollInterval","_asyncToGenerator","gen","step","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","_Observable3","_Object$getPrototypeO","_temp","_ret","getPrototypeOf","beforeRequest","requestSuccess","requestError","_callee","apiResponse","_context","_loadResponse","_response","_isMultipart","_isJson","_text","t0","makeError","_x","_callee2","_context2","_x2","originalMessage","_allowedMethods","query","findHeaderName","_jsonContentType","contentTypeHeaderName","_contentType","contentType","_urlencodedContentType","req","originalBody","createResponse","stringBody","utils","_decode","reduce","res","_request","_json","_multipart","skipOKCheck","error_description","description","boundary","_getContentType","parts","_boundarySeparator","statusInfo","part","_isContentType","_multipartContentType","headersAndBody","_bodySeparator","headersText","_headerSeparator","_HttpClient","_registry","mock","find","getResponse","_mocks","add","apiCall","access_token","token_type","expires_in","refresh_token","refresh_token_expires_in","scope","expireTime","uri","extension","extensionNumber","activeCalls","presenceStatus","telephonyStatus","userStatus","dndStatus","extensionId","expiresIn","date","eventFilters","expirationTime","toISOString","deliveryMode","transportType","encryption","address","subscriberKey","secretKey","creationTime","detailed","encryptionAlgorithm","encryptionKey","failure","_method","_path","_delay","_status","_statusText","beforeLogin","loginSuccess","loginError","beforeRefresh","refreshSuccess","refreshError","beforeLogout","logoutSuccess","logoutError","_server","_appKey","_appSecret","_queue","_auth","builtUrl","hasHttp","addServer","_urlPrefix","_apiVersion","addMethod","addToken","accessToken","createUrl","_authorizeEndpoint","response_type","redirect_uri","redirectUri","client_id","brand_id","brandId","display","prompt","qs","_ensureAuthentication","remember","access_token_ttl","_accessTokenTtl","refresh_token_ttl","_refreshTokenTtlRemember","_refreshTokenTtl","grant_type","username","password","endpointId","endpoint_id","_tokenRequest","_tokenEndpoint","setData","setRemember","clean","_callee3","_context3","_isAccessTokenValid","pause","_refreshDelayMs","refreshToken","refreshTokenValid","_clearCacheOnRefreshError","_callee4","_context4","_revokeEndpoint","token","_callee5","_context5","skipAuthCheck","_authHeader","_x3","_callee6","_context6","inflateRequest","sendRequest","cancelAccessToken","_x4","_x5","_callee7","_context7","createRequest","_x6","_callee8","_context8","_x8","_x9","_x10","_callee9","_context9","_x11","_x12","_x13","_x14","_callee10","_context10","_x15","_x16","_x17","_x18","_callee11","_context11","_x19","_x20","_x21","_callee12","_context12","Authorization","_apiKey","Content-Type","_x22","_x23","_callee13","_context13","refresh","accessTokenValid","apiKey","btoa","Buffer","tokenType","newData","expire_time","refresh_token_expire_time","authData","forcedTokenType","refreshHandicapMs","_PubnubMock","_PubnubMock2","PubnubMock","notification","removeSuccess","removeError","renewSuccess","renewError","subscribeSuccess","subscribeError","_timeout","_subscription","_renewHandicapMs","_clearTimeout","_subscribeAtPubnub","_setTimeout","alive","renew","setEventFilters","_getFullEventFilters","setSubscription","put","_decrypt","_notify","_extends","assign","_get","property","receiver","desc","getOwnPropertyDescriptor","getter","_Subscription3","CachedSubscription","_cacheKey","_renewQueue","_resubscribeQueue","queuedRenewSuccess","queuedRenewError","queuedResubscribeSuccess","queuedResubscribeError","resubscribe","actionCb","successEvent","errorEvent","errorMessage","cachedSubscriptionData"],"mappings":"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","file":"ringcentral-bundle.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SDK\"] = factory();\n\telse\n\t\troot[\"RingCentral\"] = root[\"RingCentral\"] || {}, root[\"RingCentral\"][\"SDK\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SDK\"] = factory();\n\telse\n\t\troot[\"RingCentral\"] = root[\"RingCentral\"] || {}, root[\"RingCentral\"][\"SDK\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/build/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n__webpack_require__(1);\nmodule.exports = __webpack_require__(2);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n/* WEBPACK VAR INJECTION */(function(global) {/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n * additional grant of patent rights can be found in the PATENTS file in\n * the same directory.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var hasOwn = Object.prototype.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var iteratorSymbol =\n    typeof Symbol === \"function\" && Symbol.iterator || \"@@iterator\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided, then outerFn.prototype instanceof Generator.\n    var generator = Object.create((outerFn || Generator).prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype;\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `value instanceof AwaitArgument` to determine if the yielded value is\n  // meant to be awaited. Some may consider the name of this method too\n  // cutesy, but they are curmudgeons.\n  runtime.awrap = function(arg) {\n    return new AwaitArgument(arg);\n  };\n\n  function AwaitArgument(arg) {\n    this.arg = arg;\n  }\n\n  function AsyncIterator(generator) {\n    // This invoke function is written in a style that assumes some\n    // calling function (or Promise) will handle exceptions.\n    function invoke(method, arg) {\n      var result = generator[method](arg);\n      var value = result.value;\n      return value instanceof AwaitArgument\n        ? Promise.resolve(value.arg).then(invokeNext, invokeThrow)\n        : Promise.resolve(value).then(function(unwrapped) {\n            // When a yielded Promise is resolved, its final value becomes\n            // the .value of the Promise<{value,done}> result for the\n            // current iteration. If the Promise is rejected, however, the\n            // result for this iteration will be rejected with the same\n            // reason. Note that rejections of yielded Promises are not\n            // thrown back into the generator function, as is the case\n            // when an awaited Promise is rejected. This difference in\n            // behavior between yield and await is important, because it\n            // allows the consumer to decide what to do with the yielded\n            // rejection (swallow it and continue, manually .throw it back\n            // into the generator, abandon iteration, whatever). With\n            // await, by contrast, there is no opportunity to examine the\n            // rejection reason outside the generator function, so the\n            // only option is to throw it from the await expression, and\n            // let the generator function handle the exception.\n            result.value = unwrapped;\n            return result;\n          });\n    }\n\n    if (typeof process === \"object\" && process.domain) {\n      invoke = process.domain.bind(invoke);\n    }\n\n    var invokeNext = invoke.bind(generator, \"next\");\n    var invokeThrow = invoke.bind(generator, \"throw\");\n    var invokeReturn = invoke.bind(generator, \"return\");\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return invoke(method, arg);\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : new Promise(function (resolve) {\n          resolve(callInvokeWithMethodAndArg());\n        });\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          if (method === \"return\" ||\n              (method === \"throw\" && delegate.iterator[method] === undefined)) {\n            // A return or throw (when the delegate iterator has no throw\n            // method) always terminates the yield* loop.\n            context.delegate = null;\n\n            // If the delegate iterator has a return method, give it a\n            // chance to clean up.\n            var returnMethod = delegate.iterator[\"return\"];\n            if (returnMethod) {\n              var record = tryCatch(returnMethod, delegate.iterator, arg);\n              if (record.type === \"throw\") {\n                // If the return method threw an exception, let that\n                // exception prevail over the original return or throw.\n                method = \"throw\";\n                arg = record.arg;\n                continue;\n              }\n            }\n\n            if (method === \"return\") {\n              // Continue with the outer return, now that the delegate\n              // iterator has been terminated.\n              continue;\n            }\n          }\n\n          var record = tryCatch(\n            delegate.iterator[method],\n            delegate.iterator,\n            arg\n          );\n\n          if (record.type === \"throw\") {\n            context.delegate = null;\n\n            // Like returning generator.throw(uncaught), but without the\n            // overhead of an extra function call.\n            method = \"throw\";\n            arg = record.arg;\n            continue;\n          }\n\n          // Delegate generator ran and handled its own exceptions so\n          // regardless of what the method was, we continue as if it is\n          // \"next\" with an undefined arg.\n          method = \"next\";\n          arg = undefined;\n\n          var info = record.arg;\n          if (info.done) {\n            context[delegate.resultName] = info.value;\n            context.next = delegate.nextLoc;\n          } else {\n            state = GenStateSuspendedYield;\n            return info;\n          }\n\n          context.delegate = null;\n        }\n\n        if (method === \"next\") {\n          context._sent = arg;\n\n          if (state === GenStateSuspendedYield) {\n            context.sent = arg;\n          } else {\n            context.sent = undefined;\n          }\n        } else if (method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw arg;\n          }\n\n          if (context.dispatchException(arg)) {\n            // If the dispatched exception was caught by a catch block,\n            // then let that catch block handle the exception normally.\n            method = \"next\";\n            arg = undefined;\n          }\n\n        } else if (method === \"return\") {\n          context.abrupt(\"return\", arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          var info = {\n            value: record.arg,\n            done: context.done\n          };\n\n          if (record.arg === ContinueSentinel) {\n            if (context.delegate && method === \"next\") {\n              // Deliberately forget the last sent value so that we don't\n              // accidentally pass it on to the delegate.\n              arg = undefined;\n            }\n          } else {\n            return info;\n          }\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(arg) call above.\n          method = \"throw\";\n          arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      this.sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n        return !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.next = finallyEntry.finallyLoc;\n      } else {\n        this.complete(record);\n      }\n\n      return ContinueSentinel;\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = record.arg;\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // Among the various tricks for obtaining a reference to the global\n  // object, this seems to be the most reliable technique that does not\n  // use indirect eval (which violates Content Security Policy).\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this\n);\n\n/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Utils = __webpack_require__(3);\n\nvar Utils = _interopRequireWildcard(_Utils);\n\nvar _Cache = __webpack_require__(12);\n\nvar _Cache2 = _interopRequireDefault(_Cache);\n\nvar _Externals = __webpack_require__(4);\n\nvar Externals = _interopRequireWildcard(_Externals);\n\nvar _Observable = __webpack_require__(13);\n\nvar _Observable2 = _interopRequireDefault(_Observable);\n\nvar _Queue = __webpack_require__(14);\n\nvar _Queue2 = _interopRequireDefault(_Queue);\n\nvar _Client = __webpack_require__(15);\n\nvar _Client2 = _interopRequireDefault(_Client);\n\nvar _ApiResponse = __webpack_require__(17);\n\nvar _ApiResponse2 = _interopRequireDefault(_ApiResponse);\n\nvar _Utils2 = __webpack_require__(16);\n\nvar HttpUtils = _interopRequireWildcard(_Utils2);\n\nvar _ClientMock = __webpack_require__(18);\n\nvar _ClientMock2 = _interopRequireDefault(_ClientMock);\n\nvar _Mock = __webpack_require__(20);\n\nvar _Mock2 = _interopRequireDefault(_Mock);\n\nvar _Registry = __webpack_require__(19);\n\nvar _Registry2 = _interopRequireDefault(_Registry);\n\nvar _Platform = __webpack_require__(21);\n\nvar _Platform2 = _interopRequireDefault(_Platform);\n\nvar _Auth = __webpack_require__(22);\n\nvar _Auth2 = _interopRequireDefault(_Auth);\n\nvar _PubnubFactory = __webpack_require__(23);\n\nvar _PubnubFactory2 = _interopRequireDefault(_PubnubFactory);\n\nvar _Subscription = __webpack_require__(25);\n\nvar _Subscription2 = _interopRequireDefault(_Subscription);\n\nvar _CachedSubscription = __webpack_require__(26);\n\nvar _CachedSubscription2 = _interopRequireDefault(_CachedSubscription);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SDK = (function () {\n\n    /**\n     * @constructor\n     * @param {object} [options]\n     * @param {string} [options.server]\n     * @param {string} [options.cachePrefix]\n     * @param {string} [options.appSecret]\n     * @param {string} [options.appKey]\n     * @param {string} [options.appName]\n     * @param {string} [options.appVersion]\n     * @param {string} [options.pubnubFactory]\n     * @param {string} [options.client]\n     */\n\n    function SDK(options) {\n        _classCallCheck(this, SDK);\n\n        options = options || {};\n\n        this._cache = new _Cache2.default(Externals.localStorage, options.cachePrefix);\n\n        this._client = options.client || new _Client2.default();\n\n        this._platform = new _Platform2.default(this._client, this._cache, options.server, options.appKey, options.appSecret);\n\n        this._pubnubFactory = options.pubnubFactory || Externals.PUBNUB;\n    }\n\n    /**\n     * @return {Platform}\n     */\n\n    _createClass(SDK, [{\n        key: 'platform',\n        value: function platform() {\n            return this._platform;\n        }\n\n        /**\n         * @return {Subscription}\n         */\n\n    }, {\n        key: 'createSubscription',\n        value: function createSubscription() {\n            return new _Subscription2.default(this._pubnubFactory, this._platform);\n        }\n\n        /**\n         * @return {CachedSubscription}\n         */\n\n    }, {\n        key: 'createCachedSubscription',\n        value: function createCachedSubscription(cacheKey) {\n            return new _CachedSubscription2.default(this._pubnubFactory, this._platform, this._cache, cacheKey);\n        }\n\n        /**\n         * @return {Cache}\n         */\n\n    }, {\n        key: 'cache',\n        value: function cache() {\n            return this._cache;\n        }\n    }]);\n\n    return SDK;\n})();\n\nSDK.version = '2.0.1';\nSDK.server = {\n    sandbox: 'https://platform.devtest.ringcentral.com',\n    production: 'https://platform.ringcentral.com'\n};\nSDK.core = {\n    Cache: _Cache2.default,\n    Observable: _Observable2.default,\n    Utils: Utils,\n    Externals: Externals,\n    Queue: _Queue2.default\n};\nSDK.http = {\n    Client: _Client2.default,\n    ApiResponse: _ApiResponse2.default,\n    Utils: HttpUtils\n};\nSDK.platform = {\n    Auth: _Auth2.default,\n    Platform: _Platform2.default\n};\nSDK.subscription = {\n    Subscription: _Subscription2.default\n};\nSDK.mocks = {\n    Client: _ClientMock2.default,\n    Registry: _Registry2.default,\n    Mock: _Mock2.default\n};\nSDK.pubnub = {\n    PubnubMockFactory: _PubnubFactory2.default\n};\nexports.default = SDK;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.queryStringify = queryStringify;\nexports.parseQueryString = parseQueryString;\nexports.isFunction = isFunction;\nexports.isArray = isArray;\nexports.poll = poll;\nexports.stopPolling = stopPolling;\nexports.isNodeJS = isNodeJS;\nexports.isBrowser = isBrowser;\nexports.delay = delay;\n\nvar _Externals = __webpack_require__(4);\n\n/**\n * TODO Replace with something better\n * @see https://github.com/joyent/node/blob/master/lib/querystring.js\n * @param {object} parameters\n * @returns {string}\n */\nfunction queryStringify(parameters) {\n\n    var array = [];\n\n    parameters = parameters || {};\n\n    Object.keys(parameters).forEach(function (k) {\n\n        var v = parameters[k];\n\n        if (isArray(v)) {\n            v.forEach(function (vv) {\n                array.push(encodeURIComponent(k) + '=' + encodeURIComponent(vv));\n            });\n        } else {\n            array.push(encodeURIComponent(k) + '=' + encodeURIComponent(v));\n        }\n    });\n\n    return array.join('&');\n}\n\n/**\n * TODO Replace with something better\n * @see https://github.com/joyent/node/blob/master/lib/querystring.js\n * @param {string} queryString\n * @returns {object}\n */\nfunction parseQueryString(queryString) {\n\n    var argsParsed = {};\n\n    queryString.split('&').forEach(function (arg) {\n\n        arg = decodeURIComponent(arg);\n\n        if (arg.indexOf('=') == -1) {\n\n            argsParsed[arg.trim()] = true;\n        } else {\n\n            var pair = arg.split('='),\n                key = pair[0].trim(),\n                value = pair[1].trim();\n\n            if (key in argsParsed) {\n                if (key in argsParsed && !isArray(argsParsed[key])) argsParsed[key] = [argsParsed[key]];\n                argsParsed[key].push(value);\n            } else {\n                argsParsed[key] = value;\n            }\n        }\n    });\n\n    return argsParsed;\n}\n\n/**\n * @param obj\n * @return {boolean}\n */\nfunction isFunction(obj) {\n    return typeof obj === \"function\";\n}\n\n/**\n * @param obj\n * @return {boolean}\n */\nfunction isArray(obj) {\n    return Array.isArray ? Array.isArray(obj) : typeof obj === \"array\";\n}\n\n/**\n * @param fn\n * @param interval\n * @param timeout\n */\nfunction poll(fn, interval, timeout) {\n    //NodeJS.Timer|number\n\n    module.exports.stopPolling(timeout);\n\n    interval = interval || 1000;\n\n    var next = function next(delay) {\n\n        delay = delay || interval;\n\n        interval = delay;\n\n        return setTimeout(function () {\n\n            fn(next, delay);\n        }, delay);\n    };\n\n    return next();\n}\n\nfunction stopPolling(timeout) {\n    if (timeout) clearTimeout(timeout);\n}\n\nfunction isNodeJS() {\n    return typeof process !== 'undefined';\n}\n\nfunction isBrowser() {\n    return typeof window !== 'undefined';\n}\n\nfunction delay(timeout) {\n    return new _Externals.Promise(function (resolve, reject) {\n        setTimeout(function () {\n            resolve(null);\n        }, timeout);\n    });\n}\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.localStorage = exports.PUBNUB = exports.Headers = exports.Response = exports.Request = exports.fetch = exports.Promise = undefined;\n\nvar _es6Promise = __webpack_require__(5);\n\nvar _es6Promise2 = _interopRequireDefault(_es6Promise);\n\nvar _nodeFetch = __webpack_require__(10);\n\nvar _nodeFetch2 = _interopRequireDefault(_nodeFetch);\n\nvar _pubnub = __webpack_require__(11);\n\nvar _pubnub2 = _interopRequireDefault(_pubnub);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar root = new Function('return this')();\n\nvar Promise = exports.Promise = _es6Promise2.default && _es6Promise2.default.Promise || root.Promise;\n\nvar fetch = exports.fetch = root.fetch || _nodeFetch2.default;\nvar Request = exports.Request = root.Request || fetch.Request;\nvar Response = exports.Response = root.Response || fetch.Response;\nvar Headers = exports.Headers = root.Headers || fetch.Headers;\n\nvar PUBNUB = exports.PUBNUB = root.PUBNUB || _pubnub2.default;\n\nvar localStorage = exports.localStorage = typeof root.localStorage !== 'undefined' ? root.localStorage : {};\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\nvar require;var __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(setImmediate, global, module) {/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n * @version   2.2.0\n */\n\n(function() {\n    \"use strict\";\n    function lib$es6$promise$utils$$objectOrFunction(x) {\n      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n    }\n\n    function lib$es6$promise$utils$$isFunction(x) {\n      return typeof x === 'function';\n    }\n\n    function lib$es6$promise$utils$$isMaybeThenable(x) {\n      return typeof x === 'object' && x !== null;\n    }\n\n    var lib$es6$promise$utils$$_isArray;\n    if (!Array.isArray) {\n      lib$es6$promise$utils$$_isArray = function (x) {\n        return Object.prototype.toString.call(x) === '[object Array]';\n      };\n    } else {\n      lib$es6$promise$utils$$_isArray = Array.isArray;\n    }\n\n    var lib$es6$promise$utils$$isArray = lib$es6$promise$utils$$_isArray;\n    var lib$es6$promise$asap$$len = 0;\n    var lib$es6$promise$asap$$toString = {}.toString;\n    var lib$es6$promise$asap$$vertxNext;\n    var lib$es6$promise$asap$$customSchedulerFn;\n\n    function lib$es6$promise$asap$$asap(callback, arg) {\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len] = callback;\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len + 1] = arg;\n      lib$es6$promise$asap$$len += 2;\n      if (lib$es6$promise$asap$$len === 2) {\n        // If len is 2, that means that we need to schedule an async flush.\n        // If additional callbacks are queued before the queue is flushed, they\n        // will be processed by this flush that we are scheduling.\n        if (lib$es6$promise$asap$$customSchedulerFn) {\n          lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush);\n        } else {\n          lib$es6$promise$asap$$scheduleFlush();\n        }\n      }\n    }\n\n    var lib$es6$promise$asap$$default = lib$es6$promise$asap$$asap;\n    function lib$es6$promise$asap$$setScheduler(scheduleFn) {\n      lib$es6$promise$asap$$customSchedulerFn = scheduleFn;\n    }\n\n    var lib$es6$promise$asap$$browserWindow = (typeof window !== 'undefined') ? window : undefined;\n    var lib$es6$promise$asap$$browserGlobal = lib$es6$promise$asap$$browserWindow || {};\n    var lib$es6$promise$asap$$BrowserMutationObserver = lib$es6$promise$asap$$browserGlobal.MutationObserver || lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;\n    var lib$es6$promise$asap$$isNode = typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n    // test for web worker but not in IE10\n    var lib$es6$promise$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n      typeof importScripts !== 'undefined' &&\n      typeof MessageChannel !== 'undefined';\n\n    // node\n    function lib$es6$promise$asap$$useNextTick() {\n      var nextTick = process.nextTick;\n      // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n      // setImmediate should be used instead instead\n      var version = process.versions.node.match(/^(?:(\\d+)\\.)?(?:(\\d+)\\.)?(\\*|\\d+)$/);\n      if (Array.isArray(version) && version[1] === '0' && version[2] === '10') {\n        nextTick = setImmediate;\n      }\n      return function() {\n        nextTick(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    // vertx\n    function lib$es6$promise$asap$$useVertxTimer() {\n      return function() {\n        lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    function lib$es6$promise$asap$$useMutationObserver() {\n      var iterations = 0;\n      var observer = new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);\n      var node = document.createTextNode('');\n      observer.observe(node, { characterData: true });\n\n      return function() {\n        node.data = (iterations = ++iterations % 2);\n      };\n    }\n\n    // web worker\n    function lib$es6$promise$asap$$useMessageChannel() {\n      var channel = new MessageChannel();\n      channel.port1.onmessage = lib$es6$promise$asap$$flush;\n      return function () {\n        channel.port2.postMessage(0);\n      };\n    }\n\n    function lib$es6$promise$asap$$useSetTimeout() {\n      return function() {\n        setTimeout(lib$es6$promise$asap$$flush, 1);\n      };\n    }\n\n    var lib$es6$promise$asap$$queue = new Array(1000);\n    function lib$es6$promise$asap$$flush() {\n      for (var i = 0; i < lib$es6$promise$asap$$len; i+=2) {\n        var callback = lib$es6$promise$asap$$queue[i];\n        var arg = lib$es6$promise$asap$$queue[i+1];\n\n        callback(arg);\n\n        lib$es6$promise$asap$$queue[i] = undefined;\n        lib$es6$promise$asap$$queue[i+1] = undefined;\n      }\n\n      lib$es6$promise$asap$$len = 0;\n    }\n\n    function lib$es6$promise$asap$$attemptVertex() {\n      try {\n        var r = require;\n        var vertx = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"vertx\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n        lib$es6$promise$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext;\n        return lib$es6$promise$asap$$useVertxTimer();\n      } catch(e) {\n        return lib$es6$promise$asap$$useSetTimeout();\n      }\n    }\n\n    var lib$es6$promise$asap$$scheduleFlush;\n    // Decide what async method to use to triggering processing of queued callbacks:\n    if (lib$es6$promise$asap$$isNode) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useNextTick();\n    } else if (lib$es6$promise$asap$$BrowserMutationObserver) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMutationObserver();\n    } else if (lib$es6$promise$asap$$isWorker) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMessageChannel();\n    } else if (lib$es6$promise$asap$$browserWindow === undefined && \"function\" === 'function') {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$attemptVertex();\n    } else {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useSetTimeout();\n    }\n\n    function lib$es6$promise$$internal$$noop() {}\n\n    var lib$es6$promise$$internal$$PENDING   = void 0;\n    var lib$es6$promise$$internal$$FULFILLED = 1;\n    var lib$es6$promise$$internal$$REJECTED  = 2;\n\n    var lib$es6$promise$$internal$$GET_THEN_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$selfFullfillment() {\n      return new TypeError(\"You cannot resolve a promise with itself\");\n    }\n\n    function lib$es6$promise$$internal$$cannotReturnOwn() {\n      return new TypeError('A promises callback cannot return that same promise.');\n    }\n\n    function lib$es6$promise$$internal$$getThen(promise) {\n      try {\n        return promise.then;\n      } catch(error) {\n        lib$es6$promise$$internal$$GET_THEN_ERROR.error = error;\n        return lib$es6$promise$$internal$$GET_THEN_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n      try {\n        then.call(value, fulfillmentHandler, rejectionHandler);\n      } catch(e) {\n        return e;\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleForeignThenable(promise, thenable, then) {\n       lib$es6$promise$asap$$default(function(promise) {\n        var sealed = false;\n        var error = lib$es6$promise$$internal$$tryThen(then, thenable, function(value) {\n          if (sealed) { return; }\n          sealed = true;\n          if (thenable !== value) {\n            lib$es6$promise$$internal$$resolve(promise, value);\n          } else {\n            lib$es6$promise$$internal$$fulfill(promise, value);\n          }\n        }, function(reason) {\n          if (sealed) { return; }\n          sealed = true;\n\n          lib$es6$promise$$internal$$reject(promise, reason);\n        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n        if (!sealed && error) {\n          sealed = true;\n          lib$es6$promise$$internal$$reject(promise, error);\n        }\n      }, promise);\n    }\n\n    function lib$es6$promise$$internal$$handleOwnThenable(promise, thenable) {\n      if (thenable._state === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, thenable._result);\n      } else if (thenable._state === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, thenable._result);\n      } else {\n        lib$es6$promise$$internal$$subscribe(thenable, undefined, function(value) {\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleMaybeThenable(promise, maybeThenable) {\n      if (maybeThenable.constructor === promise.constructor) {\n        lib$es6$promise$$internal$$handleOwnThenable(promise, maybeThenable);\n      } else {\n        var then = lib$es6$promise$$internal$$getThen(maybeThenable);\n\n        if (then === lib$es6$promise$$internal$$GET_THEN_ERROR) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$GET_THEN_ERROR.error);\n        } else if (then === undefined) {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        } else if (lib$es6$promise$utils$$isFunction(then)) {\n          lib$es6$promise$$internal$$handleForeignThenable(promise, maybeThenable, then);\n        } else {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        }\n      }\n    }\n\n    function lib$es6$promise$$internal$$resolve(promise, value) {\n      if (promise === value) {\n        lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$selfFullfillment());\n      } else if (lib$es6$promise$utils$$objectOrFunction(value)) {\n        lib$es6$promise$$internal$$handleMaybeThenable(promise, value);\n      } else {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publishRejection(promise) {\n      if (promise._onerror) {\n        promise._onerror(promise._result);\n      }\n\n      lib$es6$promise$$internal$$publish(promise);\n    }\n\n    function lib$es6$promise$$internal$$fulfill(promise, value) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\n      promise._result = value;\n      promise._state = lib$es6$promise$$internal$$FULFILLED;\n\n      if (promise._subscribers.length !== 0) {\n        lib$es6$promise$asap$$default(lib$es6$promise$$internal$$publish, promise);\n      }\n    }\n\n    function lib$es6$promise$$internal$$reject(promise, reason) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n      promise._state = lib$es6$promise$$internal$$REJECTED;\n      promise._result = reason;\n\n      lib$es6$promise$asap$$default(lib$es6$promise$$internal$$publishRejection, promise);\n    }\n\n    function lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n      var subscribers = parent._subscribers;\n      var length = subscribers.length;\n\n      parent._onerror = null;\n\n      subscribers[length] = child;\n      subscribers[length + lib$es6$promise$$internal$$FULFILLED] = onFulfillment;\n      subscribers[length + lib$es6$promise$$internal$$REJECTED]  = onRejection;\n\n      if (length === 0 && parent._state) {\n        lib$es6$promise$asap$$default(lib$es6$promise$$internal$$publish, parent);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publish(promise) {\n      var subscribers = promise._subscribers;\n      var settled = promise._state;\n\n      if (subscribers.length === 0) { return; }\n\n      var child, callback, detail = promise._result;\n\n      for (var i = 0; i < subscribers.length; i += 3) {\n        child = subscribers[i];\n        callback = subscribers[i + settled];\n\n        if (child) {\n          lib$es6$promise$$internal$$invokeCallback(settled, child, callback, detail);\n        } else {\n          callback(detail);\n        }\n      }\n\n      promise._subscribers.length = 0;\n    }\n\n    function lib$es6$promise$$internal$$ErrorObject() {\n      this.error = null;\n    }\n\n    var lib$es6$promise$$internal$$TRY_CATCH_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$tryCatch(callback, detail) {\n      try {\n        return callback(detail);\n      } catch(e) {\n        lib$es6$promise$$internal$$TRY_CATCH_ERROR.error = e;\n        return lib$es6$promise$$internal$$TRY_CATCH_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$invokeCallback(settled, promise, callback, detail) {\n      var hasCallback = lib$es6$promise$utils$$isFunction(callback),\n          value, error, succeeded, failed;\n\n      if (hasCallback) {\n        value = lib$es6$promise$$internal$$tryCatch(callback, detail);\n\n        if (value === lib$es6$promise$$internal$$TRY_CATCH_ERROR) {\n          failed = true;\n          error = value.error;\n          value = null;\n        } else {\n          succeeded = true;\n        }\n\n        if (promise === value) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$cannotReturnOwn());\n          return;\n        }\n\n      } else {\n        value = detail;\n        succeeded = true;\n      }\n\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) {\n        // noop\n      } else if (hasCallback && succeeded) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      } else if (failed) {\n        lib$es6$promise$$internal$$reject(promise, error);\n      } else if (settled === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      } else if (settled === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$initializePromise(promise, resolver) {\n      try {\n        resolver(function resolvePromise(value){\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function rejectPromise(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      } catch(e) {\n        lib$es6$promise$$internal$$reject(promise, e);\n      }\n    }\n\n    function lib$es6$promise$enumerator$$Enumerator(Constructor, input) {\n      var enumerator = this;\n\n      enumerator._instanceConstructor = Constructor;\n      enumerator.promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (enumerator._validateInput(input)) {\n        enumerator._input     = input;\n        enumerator.length     = input.length;\n        enumerator._remaining = input.length;\n\n        enumerator._init();\n\n        if (enumerator.length === 0) {\n          lib$es6$promise$$internal$$fulfill(enumerator.promise, enumerator._result);\n        } else {\n          enumerator.length = enumerator.length || 0;\n          enumerator._enumerate();\n          if (enumerator._remaining === 0) {\n            lib$es6$promise$$internal$$fulfill(enumerator.promise, enumerator._result);\n          }\n        }\n      } else {\n        lib$es6$promise$$internal$$reject(enumerator.promise, enumerator._validationError());\n      }\n    }\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._validateInput = function(input) {\n      return lib$es6$promise$utils$$isArray(input);\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._validationError = function() {\n      return new Error('Array Methods must be provided an Array');\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._init = function() {\n      this._result = new Array(this.length);\n    };\n\n    var lib$es6$promise$enumerator$$default = lib$es6$promise$enumerator$$Enumerator;\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._enumerate = function() {\n      var enumerator = this;\n\n      var length  = enumerator.length;\n      var promise = enumerator.promise;\n      var input   = enumerator._input;\n\n      for (var i = 0; promise._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        enumerator._eachEntry(input[i], i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n      var enumerator = this;\n      var c = enumerator._instanceConstructor;\n\n      if (lib$es6$promise$utils$$isMaybeThenable(entry)) {\n        if (entry.constructor === c && entry._state !== lib$es6$promise$$internal$$PENDING) {\n          entry._onerror = null;\n          enumerator._settledAt(entry._state, i, entry._result);\n        } else {\n          enumerator._willSettleAt(c.resolve(entry), i);\n        }\n      } else {\n        enumerator._remaining--;\n        enumerator._result[i] = entry;\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n      var enumerator = this;\n      var promise = enumerator.promise;\n\n      if (promise._state === lib$es6$promise$$internal$$PENDING) {\n        enumerator._remaining--;\n\n        if (state === lib$es6$promise$$internal$$REJECTED) {\n          lib$es6$promise$$internal$$reject(promise, value);\n        } else {\n          enumerator._result[i] = value;\n        }\n      }\n\n      if (enumerator._remaining === 0) {\n        lib$es6$promise$$internal$$fulfill(promise, enumerator._result);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n      var enumerator = this;\n\n      lib$es6$promise$$internal$$subscribe(promise, undefined, function(value) {\n        enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED, i, value);\n      }, function(reason) {\n        enumerator._settledAt(lib$es6$promise$$internal$$REJECTED, i, reason);\n      });\n    };\n    function lib$es6$promise$promise$all$$all(entries) {\n      return new lib$es6$promise$enumerator$$default(this, entries).promise;\n    }\n    var lib$es6$promise$promise$all$$default = lib$es6$promise$promise$all$$all;\n    function lib$es6$promise$promise$race$$race(entries) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (!lib$es6$promise$utils$$isArray(entries)) {\n        lib$es6$promise$$internal$$reject(promise, new TypeError('You must pass an array to race.'));\n        return promise;\n      }\n\n      var length = entries.length;\n\n      function onFulfillment(value) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      }\n\n      function onRejection(reason) {\n        lib$es6$promise$$internal$$reject(promise, reason);\n      }\n\n      for (var i = 0; promise._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        lib$es6$promise$$internal$$subscribe(Constructor.resolve(entries[i]), undefined, onFulfillment, onRejection);\n      }\n\n      return promise;\n    }\n    var lib$es6$promise$promise$race$$default = lib$es6$promise$promise$race$$race;\n    function lib$es6$promise$promise$resolve$$resolve(object) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (object && typeof object === 'object' && object.constructor === Constructor) {\n        return object;\n      }\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$resolve(promise, object);\n      return promise;\n    }\n    var lib$es6$promise$promise$resolve$$default = lib$es6$promise$promise$resolve$$resolve;\n    function lib$es6$promise$promise$reject$$reject(reason) {\n      /*jshint validthis:true */\n      var Constructor = this;\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$reject(promise, reason);\n      return promise;\n    }\n    var lib$es6$promise$promise$reject$$default = lib$es6$promise$promise$reject$$reject;\n\n    var lib$es6$promise$promise$$counter = 0;\n\n    function lib$es6$promise$promise$$needsResolver() {\n      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n    }\n\n    function lib$es6$promise$promise$$needsNew() {\n      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n    }\n\n    var lib$es6$promise$promise$$default = lib$es6$promise$promise$$Promise;\n    /**\n      Promise objects represent the eventual result of an asynchronous operation. The\n      primary way of interacting with a promise is through its `then` method, which\n      registers callbacks to receive either a promises eventual value or the reason\n      why the promise cannot be fulfilled.\n\n      Terminology\n      -----------\n\n      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n      - `thenable` is an object or function that defines a `then` method.\n      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n      - `exception` is a value that is thrown using the throw statement.\n      - `reason` is a value that indicates why a promise was rejected.\n      - `settled` the final resting state of a promise, fulfilled or rejected.\n\n      A promise can be in one of three states: pending, fulfilled, or rejected.\n\n      Promises that are fulfilled have a fulfillment value and are in the fulfilled\n      state.  Promises that are rejected have a rejection reason and are in the\n      rejected state.  A fulfillment value is never a thenable.\n\n      Promises can also be said to *resolve* a value.  If this value is also a\n      promise, then the original promise's settled state will match the value's\n      settled state.  So a promise that *resolves* a promise that rejects will\n      itself reject, and a promise that *resolves* a promise that fulfills will\n      itself fulfill.\n\n\n      Basic Usage:\n      ------------\n\n      ```js\n      var promise = new Promise(function(resolve, reject) {\n        // on success\n        resolve(value);\n\n        // on failure\n        reject(reason);\n      });\n\n      promise.then(function(value) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Advanced Usage:\n      ---------------\n\n      Promises shine when abstracting away asynchronous interactions such as\n      `XMLHttpRequest`s.\n\n      ```js\n      function getJSON(url) {\n        return new Promise(function(resolve, reject){\n          var xhr = new XMLHttpRequest();\n\n          xhr.open('GET', url);\n          xhr.onreadystatechange = handler;\n          xhr.responseType = 'json';\n          xhr.setRequestHeader('Accept', 'application/json');\n          xhr.send();\n\n          function handler() {\n            if (this.readyState === this.DONE) {\n              if (this.status === 200) {\n                resolve(this.response);\n              } else {\n                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n              }\n            }\n          };\n        });\n      }\n\n      getJSON('/posts.json').then(function(json) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Unlike callbacks, promises are great composable primitives.\n\n      ```js\n      Promise.all([\n        getJSON('/posts'),\n        getJSON('/comments')\n      ]).then(function(values){\n        values[0] // => postsJSON\n        values[1] // => commentsJSON\n\n        return values;\n      });\n      ```\n\n      @class Promise\n      @param {function} resolver\n      Useful for tooling.\n      @constructor\n    */\n    function lib$es6$promise$promise$$Promise(resolver) {\n      this._id = lib$es6$promise$promise$$counter++;\n      this._state = undefined;\n      this._result = undefined;\n      this._subscribers = [];\n\n      if (lib$es6$promise$$internal$$noop !== resolver) {\n        if (!lib$es6$promise$utils$$isFunction(resolver)) {\n          lib$es6$promise$promise$$needsResolver();\n        }\n\n        if (!(this instanceof lib$es6$promise$promise$$Promise)) {\n          lib$es6$promise$promise$$needsNew();\n        }\n\n        lib$es6$promise$$internal$$initializePromise(this, resolver);\n      }\n    }\n\n    lib$es6$promise$promise$$Promise.all = lib$es6$promise$promise$all$$default;\n    lib$es6$promise$promise$$Promise.race = lib$es6$promise$promise$race$$default;\n    lib$es6$promise$promise$$Promise.resolve = lib$es6$promise$promise$resolve$$default;\n    lib$es6$promise$promise$$Promise.reject = lib$es6$promise$promise$reject$$default;\n    lib$es6$promise$promise$$Promise._setScheduler = lib$es6$promise$asap$$setScheduler;\n    lib$es6$promise$promise$$Promise._asap = lib$es6$promise$asap$$default;\n\n    lib$es6$promise$promise$$Promise.prototype = {\n      constructor: lib$es6$promise$promise$$Promise,\n\n    /**\n      The primary way of interacting with a promise is through its `then` method,\n      which registers callbacks to receive either a promise's eventual value or the\n      reason why the promise cannot be fulfilled.\n\n      ```js\n      findUser().then(function(user){\n        // user is available\n      }, function(reason){\n        // user is unavailable, and you are given the reason why\n      });\n      ```\n\n      Chaining\n      --------\n\n      The return value of `then` is itself a promise.  This second, 'downstream'\n      promise is resolved with the return value of the first promise's fulfillment\n      or rejection handler, or rejected if the handler throws an exception.\n\n      ```js\n      findUser().then(function (user) {\n        return user.name;\n      }, function (reason) {\n        return 'default name';\n      }).then(function (userName) {\n        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n        // will be `'default name'`\n      });\n\n      findUser().then(function (user) {\n        throw new Error('Found user, but still unhappy');\n      }, function (reason) {\n        throw new Error('`findUser` rejected and we're unhappy');\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n      });\n      ```\n      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n      ```js\n      findUser().then(function (user) {\n        throw new PedagogicalException('Upstream error');\n      }).then(function (value) {\n        // never reached\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // The `PedgagocialException` is propagated all the way down to here\n      });\n      ```\n\n      Assimilation\n      ------------\n\n      Sometimes the value you want to propagate to a downstream promise can only be\n      retrieved asynchronously. This can be achieved by returning a promise in the\n      fulfillment or rejection handler. The downstream promise will then be pending\n      until the returned promise is settled. This is called *assimilation*.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // The user's comments are now available\n      });\n      ```\n\n      If the assimliated promise rejects, then the downstream promise will also reject.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // If `findCommentsByAuthor` fulfills, we'll have the value here\n      }, function (reason) {\n        // If `findCommentsByAuthor` rejects, we'll have the reason here\n      });\n      ```\n\n      Simple Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var result;\n\n      try {\n        result = findResult();\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n      findResult(function(result, err){\n        if (err) {\n          // failure\n        } else {\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findResult().then(function(result){\n        // success\n      }, function(reason){\n        // failure\n      });\n      ```\n\n      Advanced Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var author, books;\n\n      try {\n        author = findAuthor();\n        books  = findBooksByAuthor(author);\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n\n      function foundBooks(books) {\n\n      }\n\n      function failure(reason) {\n\n      }\n\n      findAuthor(function(author, err){\n        if (err) {\n          failure(err);\n          // failure\n        } else {\n          try {\n            findBoooksByAuthor(author, function(books, err) {\n              if (err) {\n                failure(err);\n              } else {\n                try {\n                  foundBooks(books);\n                } catch(reason) {\n                  failure(reason);\n                }\n              }\n            });\n          } catch(error) {\n            failure(err);\n          }\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findAuthor().\n        then(findBooksByAuthor).\n        then(function(books){\n          // found books\n      }).catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method then\n      @param {Function} onFulfilled\n      @param {Function} onRejected\n      Useful for tooling.\n      @return {Promise}\n    */\n      then: function(onFulfillment, onRejection) {\n        var parent = this;\n        var state = parent._state;\n\n        if (state === lib$es6$promise$$internal$$FULFILLED && !onFulfillment || state === lib$es6$promise$$internal$$REJECTED && !onRejection) {\n          return this;\n        }\n\n        var child = new this.constructor(lib$es6$promise$$internal$$noop);\n        var result = parent._result;\n\n        if (state) {\n          var callback = arguments[state - 1];\n          lib$es6$promise$asap$$default(function(){\n            lib$es6$promise$$internal$$invokeCallback(state, child, callback, result);\n          });\n        } else {\n          lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n        }\n\n        return child;\n      },\n\n    /**\n      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n      as the catch block of a try/catch statement.\n\n      ```js\n      function findAuthor(){\n        throw new Error('couldn't find that author');\n      }\n\n      // synchronous\n      try {\n        findAuthor();\n      } catch(reason) {\n        // something went wrong\n      }\n\n      // async with promises\n      findAuthor().catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method catch\n      @param {Function} onRejection\n      Useful for tooling.\n      @return {Promise}\n    */\n      'catch': function(onRejection) {\n        return this.then(null, onRejection);\n      }\n    };\n    function lib$es6$promise$polyfill$$polyfill() {\n      var local;\n\n      if (typeof global !== 'undefined') {\n          local = global;\n      } else if (typeof self !== 'undefined') {\n          local = self;\n      } else {\n          try {\n              local = Function('return this')();\n          } catch (e) {\n              throw new Error('polyfill failed because global object is unavailable in this environment');\n          }\n      }\n\n      var P = local.Promise;\n\n      if (P && Object.prototype.toString.call(P.resolve()) === '[object Promise]' && !P.cast) {\n        return;\n      }\n\n      local.Promise = lib$es6$promise$promise$$default;\n    }\n    var lib$es6$promise$polyfill$$default = lib$es6$promise$polyfill$$polyfill;\n\n    var lib$es6$promise$umd$$ES6Promise = {\n      'Promise': lib$es6$promise$promise$$default,\n      'polyfill': lib$es6$promise$polyfill$$default\n    };\n\n    /* global define:true module:true window: true */\n    if (\"function\" === 'function' && __webpack_require__(9)['amd']) {\n      !(__WEBPACK_AMD_DEFINE_RESULT__ = function() { return lib$es6$promise$umd$$ES6Promise; }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof module !== 'undefined' && module['exports']) {\n      module['exports'] = lib$es6$promise$umd$$ES6Promise;\n    } else if (typeof this !== 'undefined') {\n      this['ES6Promise'] = lib$es6$promise$umd$$ES6Promise;\n    }\n\n    lib$es6$promise$polyfill$$default();\n}).call(this);\n\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(6).setImmediate, (function() { return this; }()), __webpack_require__(8)(module)))\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(setImmediate, clearImmediate) {var nextTick = __webpack_require__(7).nextTick;\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) { timeout.close(); };\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// That's not how node.js implements it but the exposed api is the same.\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\n  immediateIds[id] = true;\n\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      }\n      // Prevent ids from leaking\n      exports.clearImmediate(id);\n    }\n  });\n\n  return id;\n};\n\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n  delete immediateIds[id];\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(6).setImmediate, __webpack_require__(6).clearImmediate))\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\nmodule.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\nmodule.exports = function() { throw new Error(\"define cannot be used indirect\"); };\r\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n(function() {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      this.map[name].forEach(function(value) {\n        callback.call(thisArg, value, name, this)\n      }, this)\n    }, this)\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob();\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (!body) {\n        this._bodyText = ''\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n    if (Request.prototype.isPrototypeOf(input)) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = input\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = xhr.getAllResponseHeaders().trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this._initBody(bodyInit)\n    this.type = 'default'\n    this.url = null\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n  }\n\n  Body.call(Response.prototype)\n\n  self.Headers = Headers;\n  self.Request = Request;\n  self.Response = Response;\n\n  self.fetch = function(input, init) {\n    var request\n    if (Request.prototype.isPrototypeOf(input) && !init) {\n      request = input\n    } else {\n      request = new Request(input, init)\n    }\n\n    return new Promise(function(resolve, reject) {\n      var xhr = new XMLHttpRequest()\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return;\n      }\n\n      xhr.onload = function() {\n        var status = (xhr.status === 1223) ? 204 : xhr.status\n        if (status < 100 || status > 599) {\n          reject(new TypeError('Network request failed'))\n          return\n        }\n        var options = {\n          status: status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})();\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {// Version: 3.7.16\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n/* =-=========================     JSON     =============================-= */\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n\n(window['JSON'] && window['JSON']['stringify']) || (function () {\n    window['JSON'] || (window['JSON'] = {});\n\n    function toJSON(key) {\n        try      { return this.valueOf() }\n        catch(e) { return null }\n    }\n\n    var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        gap,\n        indent,\n        meta = {    // table of character substitutions\n            '\\b': '\\\\b',\n            '\\t': '\\\\t',\n            '\\n': '\\\\n',\n            '\\f': '\\\\f',\n            '\\r': '\\\\r',\n            '\"' : '\\\\\"',\n            '\\\\': '\\\\\\\\'\n        },\n        rep;\n\n    function quote(string) {\n        escapable.lastIndex = 0;\n        return escapable.test(string) ?\n            '\"' + string.replace(escapable, function (a) {\n                var c = meta[a];\n                return typeof c === 'string' ? c :\n                    '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n            }) + '\"' :\n            '\"' + string + '\"';\n    }\n\n    function str(key, holder) {\n        var i,          // The loop counter.\n            k,          // The member key.\n            v,          // The member value.\n            length,\n            partial,\n            mind  = gap,\n            value = holder[key];\n\n        if (value && typeof value === 'object') {\n            value = toJSON.call( value, key );\n        }\n\n        if (typeof rep === 'function') {\n            value = rep.call(holder, key, value);\n        }\n\n        switch (typeof value) {\n        case 'string':\n            return quote(value);\n\n        case 'number':\n            return isFinite(value) ? String(value) : 'null';\n\n        case 'boolean':\n        case 'null':\n            return String(value);\n\n        case 'object':\n\n            if (!value) {\n                return 'null';\n            }\n\n            gap += indent;\n            partial = [];\n\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n\n                length = value.length;\n                for (i = 0; i < length; i += 1) {\n                    partial[i] = str(i, value) || 'null';\n                }\n\n                v = partial.length === 0 ? '[]' :\n                    gap ? '[\\n' + gap +\n                            partial.join(',\\n' + gap) + '\\n' +\n                                mind + ']' :\n                          '[' + partial.join(',') + ']';\n                gap = mind;\n                return v;\n            }\n            if (rep && typeof rep === 'object') {\n                length = rep.length;\n                for (i = 0; i < length; i += 1) {\n                    k = rep[i];\n                    if (typeof k === 'string') {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            } else {\n                for (k in value) {\n                    if (Object.hasOwnProperty.call(value, k)) {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n\n            v = partial.length === 0 ? '{}' :\n                gap ? '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' +\n                        mind + '}' : '{' + partial.join(',') + '}';\n            gap = mind;\n            return v;\n        }\n    }\n\n    if (typeof JSON['stringify'] !== 'function') {\n        JSON['stringify'] = function (value, replacer, space) {\n            var i;\n            gap = '';\n            indent = '';\n\n            if (typeof space === 'number') {\n                for (i = 0; i < space; i += 1) {\n                    indent += ' ';\n                }\n            } else if (typeof space === 'string') {\n                indent = space;\n            }\n            rep = replacer;\n            if (replacer && typeof replacer !== 'function' &&\n                    (typeof replacer !== 'object' ||\n                     typeof replacer.length !== 'number')) {\n                throw new Error('JSON.stringify');\n            }\n            return str('', {'': value});\n        };\n    }\n\n    if (typeof JSON['parse'] !== 'function') {\n        // JSON is parsed on the server for security.\n        JSON['parse'] = function (text) {return eval('('+text+')')};\n    }\n}());\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n/* =-=========================     UTIL     =============================-= */\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n\nwindow['PUBNUB'] || (function() {\nvar NOW             = 1\n,   READY           = false\n,   READY_BUFFER    = []\n,   PRESENCE_SUFFIX = '-pnpres'\n,   DEF_WINDOWING   = 10     // MILLISECONDS.\n,   DEF_TIMEOUT     = 10000  // MILLISECONDS.\n,   DEF_SUB_TIMEOUT = 310    // SECONDS.\n,   DEF_KEEPALIVE   = 60     // SECONDS (FOR TIMESYNC).\n,   SECOND          = 1000   // A THOUSAND MILLISECONDS.\n,   URLBIT          = '/'\n,   PARAMSBIT       = '&'\n,   PRESENCE_HB_THRESHOLD = 5\n,   PRESENCE_HB_DEFAULT  = 30\n,   SDK_VER         = '3.7.16'\n,   REPL            = /{([\\w\\-]+)}/g;\n\n/**\n * UTILITIES\n */\nfunction unique() { return'x'+ ++NOW+''+(+new Date) }\nfunction rnow()   { return+new Date }\n\n/**\n * NEXTORIGIN\n * ==========\n * var next_origin = nextorigin();\n */\nvar nextorigin = (function() {\n    var max = 20\n    ,   ori = Math.floor(Math.random() * max);\n    return function( origin, failover ) {\n        return origin.indexOf('pubsub.') > 0\n            && origin.replace(\n             'pubsub', 'ps' + (\n                failover ? generate_uuid().split('-')[0] :\n                (++ori < max? ori : ori=1)\n            ) ) || origin;\n    }\n})();\n\n\n/**\n * Build Url\n * =======\n *\n */\nfunction build_url( url_components, url_params ) {\n    var url    = url_components.join(URLBIT)\n    ,   params = [];\n\n    if (!url_params) return url;\n\n    each( url_params, function( key, value ) {\n        var value_str = (typeof value == 'object')?JSON['stringify'](value):value;\n        (typeof value != 'undefined' &&\n            value != null && encode(value_str).length > 0\n        ) && params.push(key + \"=\" + encode(value_str));\n    } );\n\n    url += \"?\" + params.join(PARAMSBIT);\n    return url;\n}\n\n/**\n * UPDATER\n * =======\n * var timestamp = unique();\n */\nfunction updater( fun, rate ) {\n    var timeout\n    ,   last   = 0\n    ,   runnit = function() {\n        if (last + rate > rnow()) {\n            clearTimeout(timeout);\n            timeout = setTimeout( runnit, rate );\n        }\n        else {\n            last = rnow();\n            fun();\n        }\n    };\n\n    return runnit;\n}\n\n/**\n * GREP\n * ====\n * var list = grep( [1,2,3], function(item) { return item % 2 } )\n */\nfunction grep( list, fun ) {\n    var fin = [];\n    each( list || [], function(l) { fun(l) && fin.push(l) } );\n    return fin\n}\n\n/**\n * SUPPLANT\n * ========\n * var text = supplant( 'Hello {name}!', { name : 'John' } )\n */\nfunction supplant( str, values ) {\n    return str.replace( REPL, function( _, match ) {\n        return values[match] || _\n    } );\n}\n\n/**\n * timeout\n * =======\n * timeout( function(){}, 100 );\n */\nfunction timeout( fun, wait ) {\n    return setTimeout( fun, wait );\n}\n\n/**\n * uuid\n * ====\n * var my_uuid = generate_uuid();\n */\nfunction generate_uuid(callback) {\n    var u = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,\n    function(c) {\n        var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\n        return v.toString(16);\n    });\n    if (callback) callback(u);\n    return u;\n}\n\nfunction isArray(arg) {\n  return !!arg && typeof arg !== 'string' && (Array.isArray && Array.isArray(arg) || typeof(arg.length) === \"number\")\n  //return !!arg && (Array.isArray && Array.isArray(arg) || typeof(arg.length) === \"number\")\n}\n\n/**\n * EACH\n * ====\n * each( [1,2,3], function(item) { } )\n */\nfunction each( o, f) {\n    if ( !o || !f ) return;\n\n    if ( isArray(o) )\n        for ( var i = 0, l = o.length; i < l; )\n            f.call( o[i], o[i], i++ );\n    else\n        for ( var i in o )\n            o.hasOwnProperty    &&\n            o.hasOwnProperty(i) &&\n            f.call( o[i], i, o[i] );\n}\n\n/**\n * MAP\n * ===\n * var list = map( [1,2,3], function(item) { return item + 1 } )\n */\nfunction map( list, fun ) {\n    var fin = [];\n    each( list || [], function( k, v ) { fin.push(fun( k, v )) } );\n    return fin;\n}\n\n\nfunction pam_encode(str) {\n  return encodeURIComponent(str).replace(/[!'()*~]/g, function(c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase();\n  });\n}\n\n/**\n * ENCODE\n * ======\n * var encoded_data = encode('path');\n */\nfunction encode(path) { return encodeURIComponent(path) }\n\n/**\n * Generate Subscription Channel List\n * ==================================\n * generate_channel_list(channels_object);\n */\nfunction generate_channel_list(channels, nopresence) {\n    var list = [];\n    each( channels, function( channel, status ) {\n        if (nopresence) {\n            if(channel.search('-pnpres') < 0) {\n                if (status.subscribed) list.push(channel);\n            }\n        } else {\n            if (status.subscribed) list.push(channel);\n        }\n    });\n    return list.sort();\n}\n\n/**\n * Generate Subscription Channel Groups List\n * ==================================\n * generate_channel_group_list(channels_groups object);\n */\nfunction generate_channel_group_list(channel_groups, nopresence) {\n    var list = [];\n    each(channel_groups, function( channel_group, status ) {\n        if (nopresence) {\n            if(channel_group.search('-pnpres') < 0) {\n                if (status.subscribed) list.push(channel_group);\n            }\n        } else {\n            if (status.subscribed) list.push(channel_group);\n        }\n    });\n    return list.sort();\n}\n\n// PUBNUB READY TO CONNECT\nfunction ready() { timeout( function() {\n    if (READY) return;\n    READY = 1;\n    each( READY_BUFFER, function(connect) { connect() } );\n}, SECOND ); }\n\nfunction PNmessage(args) {\n    msg = args || {'apns' : {}},\n    msg['getPubnubMessage'] = function() {\n        var m = {};\n\n        if (Object.keys(msg['apns']).length) {\n            m['pn_apns'] = {\n                    'aps' : {\n                        'alert' : msg['apns']['alert'] ,\n                        'badge' : msg['apns']['badge']\n                    }\n            }\n            for (var k in msg['apns']) {\n                m['pn_apns'][k] = msg['apns'][k];\n            }\n            var exclude1 = ['badge','alert'];\n            for (var k in exclude1) {\n                delete m['pn_apns'][exclude1[k]];\n            }\n        }\n\n\n\n        if (msg['gcm']) {\n            m['pn_gcm'] = {\n                'data' : msg['gcm']\n            }\n        }\n\n        for (var k in msg) {\n            m[k] = msg[k];\n        }\n        var exclude = ['apns','gcm','publish', 'channel','callback','error'];\n        for (var k in exclude) {\n            delete m[exclude[k]];\n        }\n\n        return m;\n    };\n    msg['publish'] = function() {\n\n        var m = msg.getPubnubMessage();\n\n        if (msg['pubnub'] && msg['channel']) {\n            msg['pubnub'].publish({\n                'message' : m,\n                'channel' : msg['channel'],\n                'callback' : msg['callback'],\n                'error' : msg['error']\n            })\n        }\n    };\n    return msg;\n}\n\nfunction PN_API(setup) {\n    var SUB_WINDOWING =  +setup['windowing']   || DEF_WINDOWING\n    ,   SUB_TIMEOUT   = (+setup['timeout']     || DEF_SUB_TIMEOUT) * SECOND\n    ,   KEEPALIVE     = (+setup['keepalive']   || DEF_KEEPALIVE)   * SECOND\n    ,   TIME_CHECK    = setup['timecheck']     || 0\n    ,   NOLEAVE       = setup['noleave']       || 0\n    ,   PUBLISH_KEY   = setup['publish_key']\n    ,   SUBSCRIBE_KEY = setup['subscribe_key']\n    ,   AUTH_KEY      = setup['auth_key']      || ''\n    ,   SECRET_KEY    = setup['secret_key']    || ''\n    ,   hmac_SHA256   = setup['hmac_SHA256']\n    ,   SSL           = setup['ssl']            ? 's' : ''\n    ,   ORIGIN        = 'http'+SSL+'://'+(setup['origin']||'pubsub.pubnub.com')\n    ,   STD_ORIGIN    = nextorigin(ORIGIN)\n    ,   SUB_ORIGIN    = nextorigin(ORIGIN)\n    ,   CONNECT       = function(){}\n    ,   PUB_QUEUE     = []\n    ,   CLOAK         = true\n    ,   TIME_DRIFT    = 0\n    ,   SUB_CALLBACK  = 0\n    ,   SUB_CHANNEL   = 0\n    ,   SUB_RECEIVER  = 0\n    ,   SUB_RESTORE   = setup['restore'] || 0\n    ,   SUB_BUFF_WAIT = 0\n    ,   TIMETOKEN     = 0\n    ,   RESUMED       = false\n    ,   CHANNELS      = {}\n    ,   CHANNEL_GROUPS       = {}\n    ,   SUB_ERROR     = function(){}\n    ,   STATE         = {}\n    ,   PRESENCE_HB_TIMEOUT  = null\n    ,   PRESENCE_HB          = validate_presence_heartbeat(\n        setup['heartbeat'] || setup['pnexpires'] || 0, setup['error']\n    )\n    ,   PRESENCE_HB_INTERVAL = setup['heartbeat_interval'] || (PRESENCE_HB / 2) -1\n    ,   PRESENCE_HB_RUNNING  = false\n    ,   NO_WAIT_FOR_PENDING  = setup['no_wait_for_pending']\n    ,   COMPATIBLE_35 = setup['compatible_3.5']  || false\n    ,   xdr           = setup['xdr']\n    ,   params        = setup['params'] || {}\n    ,   error         = setup['error']      || function() {}\n    ,   _is_online    = setup['_is_online'] || function() { return 1 }\n    ,   jsonp_cb      = setup['jsonp_cb']   || function() { return 0 }\n    ,   db            = setup['db']         || {'get': function(){}, 'set': function(){}}\n    ,   CIPHER_KEY    = setup['cipher_key']\n    ,   UUID          = setup['uuid'] || ( !setup['unique_uuid'] && db && db['get'](SUBSCRIBE_KEY+'uuid') || '')\n    ,   USE_INSTANCEID = setup['instance_id'] || false\n    ,   INSTANCEID    = ''\n    ,   shutdown      = setup['shutdown']\n    ,   use_send_beacon = (typeof setup['use_send_beacon'] != 'undefined')?setup['use_send_beacon']:true\n    ,   sendBeacon    = (use_send_beacon)?setup['sendBeacon']:null\n    ,   _poll_timer\n    ,   _poll_timer2;\n\n    if (PRESENCE_HB === 2) PRESENCE_HB_INTERVAL = 1;\n\n    var crypto_obj    = setup['crypto_obj'] ||\n        {\n            'encrypt' : function(a,key){ return a},\n            'decrypt' : function(b,key){return b}\n        };\n\n    function _get_url_params(data) {\n        if (!data) data = {};\n        each( params , function( key, value ) {\n            if (!(key in data)) data[key] = value;\n        });\n        return data;\n    }\n\n    function _object_to_key_list(o) {\n        var l = []\n        each( o , function( key, value ) {\n            l.push(key);\n        });\n        return l;\n    }\n    function _object_to_key_list_sorted(o) {\n        return _object_to_key_list(o).sort();\n    }\n\n    function _get_pam_sign_input_from_params(params) {\n        var si = \"\";\n        var l = _object_to_key_list_sorted(params);\n\n        for (var i in l) {\n            var k = l[i]\n            si += k + \"=\" + pam_encode(params[k]) ;\n            if (i != l.length - 1) si += \"&\"\n        }\n        return si;\n    }\n\n    function validate_presence_heartbeat(heartbeat, cur_heartbeat, error) {\n        var err = false;\n\n        if (typeof heartbeat === 'undefined') {\n            return cur_heartbeat;\n        }\n\n        if (typeof heartbeat === 'number') {\n            if (heartbeat > PRESENCE_HB_THRESHOLD || heartbeat == 0)\n                err = false;\n            else\n                err = true;\n        } else if(typeof heartbeat === 'boolean'){\n            if (!heartbeat) {\n                return 0;\n            } else {\n                return PRESENCE_HB_DEFAULT;\n            }\n        } else {\n            err = true;\n        }\n\n        if (err) {\n            error && error(\"Presence Heartbeat value invalid. Valid range ( x > \" + PRESENCE_HB_THRESHOLD + \" or x = 0). Current Value : \" + (cur_heartbeat || PRESENCE_HB_THRESHOLD));\n            return cur_heartbeat || PRESENCE_HB_THRESHOLD;\n        } else return heartbeat;\n    }\n\n    function encrypt(input, key) {\n        return crypto_obj['encrypt'](input, key || CIPHER_KEY) || input;\n    }\n    function decrypt(input, key) {\n        return crypto_obj['decrypt'](input, key || CIPHER_KEY) ||\n               crypto_obj['decrypt'](input, CIPHER_KEY) ||\n               input;\n    }\n\n    function error_common(message, callback) {\n        callback && callback({ 'error' : message || \"error occurred\"});\n        error && error(message);\n    }\n    function _presence_heartbeat() {\n\n        clearTimeout(PRESENCE_HB_TIMEOUT);\n\n        if (!PRESENCE_HB_INTERVAL || PRESENCE_HB_INTERVAL >= 500 ||\n            PRESENCE_HB_INTERVAL < 1 ||\n            (!generate_channel_list(CHANNELS,true).length  && !generate_channel_group_list(CHANNEL_GROUPS, true).length ) )\n        {\n            PRESENCE_HB_RUNNING = false;\n            return;\n        }\n\n        PRESENCE_HB_RUNNING = true;\n        SELF['presence_heartbeat']({\n            'callback' : function(r) {\n                PRESENCE_HB_TIMEOUT = timeout( _presence_heartbeat, (PRESENCE_HB_INTERVAL) * SECOND );\n            },\n            'error' : function(e) {\n                error && error(\"Presence Heartbeat unable to reach Pubnub servers.\" + JSON.stringify(e));\n                PRESENCE_HB_TIMEOUT = timeout( _presence_heartbeat, (PRESENCE_HB_INTERVAL) * SECOND );\n            }\n        });\n    }\n\n    function start_presence_heartbeat() {\n        !PRESENCE_HB_RUNNING && _presence_heartbeat();\n    }\n\n    function publish(next) {\n\n        if (NO_WAIT_FOR_PENDING) {\n            if (!PUB_QUEUE.length) return;\n        } else {\n            if (next) PUB_QUEUE.sending = 0;\n            if ( PUB_QUEUE.sending || !PUB_QUEUE.length ) return;\n            PUB_QUEUE.sending = 1;\n        }\n\n        xdr(PUB_QUEUE.shift());\n    }\n    function each_channel_group(callback) {\n        var count = 0;\n\n        each( generate_channel_group_list(CHANNEL_GROUPS), function(channel_group) {\n            var chang = CHANNEL_GROUPS[channel_group];\n\n            if (!chang) return;\n\n            count++;\n            (callback||function(){})(chang);\n        } );\n\n        return count;\n    }\n\n    function each_channel(callback) {\n        var count = 0;\n\n        each( generate_channel_list(CHANNELS), function(channel) {\n            var chan = CHANNELS[channel];\n\n            if (!chan) return;\n\n            count++;\n            (callback||function(){})(chan);\n        } );\n\n        return count;\n    }\n    function _invoke_callback(response, callback, err) {\n        if (typeof response == 'object') {\n            if (response['error']) {\n                var callback_data = {};\n\n                if (response['message']) {\n                    callback_data['message'] = response['message'];\n                }\n\n                if (response['payload']) {\n                    callback_data['payload'] = response['payload'];\n                }\n\n                err && err(callback_data);\n                return;\n\n            }\n            if (response['payload']) {\n                if (response['next_page'])\n                    callback && callback(response['payload'], response['next_page']);\n                else\n                    callback && callback(response['payload']);\n                return;\n            }\n        }\n        callback && callback(response);\n    }\n\n    function _invoke_error(response,err) {\n\n        if (typeof response == 'object' && response['error']) {\n                var callback_data = {};\n\n                if (response['message']) {\n                    callback_data['message'] = response['message'];\n                }\n\n                if (response['payload']) {\n                    callback_data['payload'] = response['payload'];\n                }\n                \n                err && err(callback_data);\n                return;\n        } else {\n            err && err(response);\n        }\n    }\n    function CR(args, callback, url1, data) {\n            var callback        = args['callback']      || callback\n            ,   err             = args['error']         || error\n            ,   jsonp           = jsonp_cb();\n\n            data = data || {};\n            \n            if (!data['auth']) {\n                data['auth'] = args['auth_key'] || AUTH_KEY;\n            }\n            \n            var url = [\n                    STD_ORIGIN, 'v1', 'channel-registration',\n                    'sub-key', SUBSCRIBE_KEY\n                ];\n\n            url.push.apply(url,url1);\n            \n            if (jsonp) data['callback']              = jsonp;\n            \n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n\n    }\n\n    // Announce Leave Event\n    var SELF = {\n        'LEAVE' : function( channel, blocking, auth_key, callback, error ) {\n\n            var data   = { 'uuid' : UUID, 'auth' : auth_key || AUTH_KEY }\n            ,   origin = nextorigin(ORIGIN)\n            ,   callback = callback || function(){}\n            ,   err      = error    || function(){}\n            ,   url\n            ,   params\n            ,   jsonp  = jsonp_cb();\n\n            // Prevent Leaving a Presence Channel\n            if (channel.indexOf(PRESENCE_SUFFIX) > 0) return true;\n\n\n            if (COMPATIBLE_35) {\n                if (!SSL)         return false;\n                if (jsonp == '0') return false;\n            }\n\n            if (NOLEAVE)  return false;\n\n            if (jsonp != '0') data['callback'] = jsonp;\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            url = [\n                    origin, 'v2', 'presence', 'sub_key',\n                    SUBSCRIBE_KEY, 'channel', encode(channel), 'leave'\n                ];\n\n            params = _get_url_params(data);\n\n\n            if (sendBeacon) {\n                url_string = build_url(url, params);\n                if (sendBeacon(url_string)) {\n                    callback && callback({\"status\": 200, \"action\": \"leave\", \"message\": \"OK\", \"service\": \"Presence\"});\n                    return true;\n                }\n            }\n\n\n            xdr({\n                blocking : blocking || SSL,\n                timeout  : 2000,\n                callback : jsonp,\n                data     : params,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n            return true;\n        },\n        'LEAVE_GROUP' : function( channel_group, blocking, auth_key, callback, error ) {\n\n            var data   = { 'uuid' : UUID, 'auth' : auth_key || AUTH_KEY }\n            ,   origin = nextorigin(ORIGIN)\n            ,   url\n            ,   params\n            ,   callback = callback || function(){}\n            ,   err      = error    || function(){}\n            ,   jsonp  = jsonp_cb();\n\n            // Prevent Leaving a Presence Channel Group\n            if (channel_group.indexOf(PRESENCE_SUFFIX) > 0) return true;\n\n            if (COMPATIBLE_35) {\n                if (!SSL)         return false;\n                if (jsonp == '0') return false;\n            }\n\n            if (NOLEAVE)  return false;\n\n            if (jsonp != '0') data['callback'] = jsonp;\n\n            if (channel_group && channel_group.length > 0) data['channel-group'] = channel_group;\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            url = [\n                    origin, 'v2', 'presence', 'sub_key',\n                    SUBSCRIBE_KEY, 'channel', encode(','), 'leave'\n            ];\n\n            params = _get_url_params(data);\n\n            if (sendBeacon) {\n                url_string = build_url(url, params);\n                if (sendBeacon(url_string)) {\n                    callback && callback({\"status\": 200, \"action\": \"leave\", \"message\": \"OK\", \"service\": \"Presence\"});\n                    return true;\n                }\n            }\n\n            xdr({\n                blocking : blocking || SSL,\n                timeout  : 5000,\n                callback : jsonp,\n                data     : params,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n            return true;\n        },\n        'set_resumed' : function(resumed) {\n                RESUMED = resumed;\n        },\n        'get_cipher_key' : function() {\n            return CIPHER_KEY;\n        },\n        'set_cipher_key' : function(key) {\n            CIPHER_KEY = key;\n        },\n        'raw_encrypt' : function(input, key) {\n            return encrypt(input, key);\n        },\n        'raw_decrypt' : function(input, key) {\n            return decrypt(input, key);\n        },\n        'get_heartbeat' : function() {\n            return PRESENCE_HB;\n        },\n        \n        'set_heartbeat' : function(heartbeat, heartbeat_interval) {\n            PRESENCE_HB = validate_presence_heartbeat(heartbeat, PRESENCE_HB, error);\n            PRESENCE_HB_INTERVAL = heartbeat_interval || (PRESENCE_HB / 2) - 1;\n            if (PRESENCE_HB == 2) {\n                PRESENCE_HB_INTERVAL = 1;\n            }\n            CONNECT();\n            _presence_heartbeat();\n        },\n        \n        'get_heartbeat_interval' : function() {\n            return PRESENCE_HB_INTERVAL;\n        },\n        \n        'set_heartbeat_interval' : function(heartbeat_interval) {\n            PRESENCE_HB_INTERVAL = heartbeat_interval;\n            _presence_heartbeat();\n        },\n        \n        'get_version' : function() {\n            return SDK_VER;\n        },\n        'getGcmMessageObject' : function(obj) {\n            return {\n                'data' : obj\n            }\n        },\n        'getApnsMessageObject' : function(obj) {\n            var x =  {\n                'aps' : { 'badge' : 1, 'alert' : ''}\n            }\n            for (k in obj) {\n                k[x] = obj[k];\n            }\n            return x;\n        },\n        'newPnMessage' : function() {\n            var x = {};\n            if (gcm) x['pn_gcm'] = gcm;\n            if (apns) x['pn_apns'] = apns;\n            for ( k in n ) {\n                x[k] = n[k];\n            }\n            return x;\n        },\n\n        '_add_param' : function(key,val) {\n            params[key] = val;\n        },\n\n        'channel_group' : function(args, callback) {\n            var ns_ch       = args['channel_group']\n            ,   callback    = callback         || args['callback']\n            ,   channels    = args['channels'] || args['channel']\n            ,   cloak       = args['cloak']\n            ,   namespace\n            ,   channel_group\n            ,   url = []\n            ,   data = {}\n            ,   mode = args['mode'] || 'add';\n\n\n            if (ns_ch) {\n                var ns_ch_a = ns_ch.split(':');\n\n                if (ns_ch_a.length > 1) {\n                    namespace = (ns_ch_a[0] === '*')?null:ns_ch_a[0];\n\n                    channel_group = ns_ch_a[1];\n                } else {\n                    channel_group = ns_ch_a[0];\n                }\n            }\n\n            namespace && url.push('namespace') && url.push(encode(namespace));\n\n            url.push('channel-group');\n\n            if (channel_group && channel_group !== '*') {\n                url.push(channel_group);\n            }\n\n            if (channels ) {\n                if (isArray(channels)) {\n                    channels = channels.join(',');\n                }\n                data[mode] = channels;\n                data['cloak'] = (CLOAK)?'true':'false';\n            } else {\n                if (mode === 'remove') url.push('remove');\n            }\n\n            if (typeof cloak != 'undefined') data['cloak'] = (cloak)?'true':'false';\n\n            CR(args, callback, url, data);\n        },\n\n        'channel_group_list_groups' : function(args, callback) {\n            var namespace;\n\n            namespace = args['namespace'] || args['ns'] || args['channel_group'] || null;\n            if (namespace) {\n                args[\"channel_group\"] = namespace + \":*\";\n            }\n\n            SELF['channel_group'](args, callback);\n        },\n\n        'channel_group_list_channels' : function(args, callback) {\n            if (!args['channel_group']) return error('Missing Channel Group');\n            SELF['channel_group'](args, callback);\n        },\n\n        'channel_group_remove_channel' : function(args, callback) {\n            if (!args['channel_group']) return error('Missing Channel Group');\n            if (!args['channel'] && !args['channels'] ) return error('Missing Channel');\n\n            args['mode'] = 'remove';\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_remove_group' : function(args, callback) {\n            if (!args['channel_group']) return error('Missing Channel Group');\n            if (args['channel']) return error('Use channel_group_remove_channel if you want to remove a channel from a group.');\n\n            args['mode'] = 'remove';\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_add_channel' : function(args, callback) {\n           if (!args['channel_group']) return error('Missing Channel Group');\n           if (!args['channel'] && !args['channels'] ) return error('Missing Channel');\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_cloak' : function(args, callback) {\n            if (typeof args['cloak'] == 'undefined') {\n                callback(CLOAK);\n                return;\n            }\n            CLOAK = args['cloak'];\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_list_namespaces' : function(args, callback) {\n            var url = ['namespace'];\n            CR(args, callback, url);\n        },\n        'channel_group_remove_namespace' : function(args, callback) {\n            var url = ['namespace',args['namespace'],'remove'];\n            CR(args, callback, url);\n        },\n\n        /*\n            PUBNUB.history({\n                channel  : 'my_chat_channel',\n                limit    : 100,\n                callback : function(history) { }\n            });\n        */\n        'history' : function( args, callback ) {\n            var callback         = args['callback'] || callback\n            ,   count            = args['count']    || args['limit'] || 100\n            ,   reverse          = args['reverse']  || \"false\"\n            ,   err              = args['error']    || function(){}\n            ,   auth_key         = args['auth_key'] || AUTH_KEY\n            ,   cipher_key       = args['cipher_key']\n            ,   channel          = args['channel']\n            ,   channel_group    = args['channel_group']\n            ,   start            = args['start']\n            ,   end              = args['end']\n            ,   include_token    = args['include_token']\n            ,   string_msg_token = args['string_message_token'] || false\n            ,   params           = {}\n            ,   jsonp            = jsonp_cb();\n\n            // Make sure we have a Channel\n            if (!channel && !channel_group) return error('Missing Channel');\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            params['stringtoken'] = 'true';\n            params['count']       = count;\n            params['reverse']     = reverse;\n            params['auth']        = auth_key;\n\n            if (channel_group) {\n                params['channel-group'] = channel_group;\n                if (!channel) {\n                    channel = ','; \n                }\n            }\n            if (jsonp) params['callback']              = jsonp;\n            if (start) params['start']                 = start;\n            if (end)   params['end']                   = end;\n            if (include_token) params['include_token'] = 'true';\n            if (string_msg_token) params['string_message_token'] = 'true';\n\n            // Send Message\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(params),\n                success  : function(response) {\n                    if (typeof response == 'object' && response['error']) {\n                        err({'message' : response['message'], 'payload' : response['payload']});\n                        return;\n                    }\n                    var messages = response[0];\n                    var decrypted_messages = [];\n                    for (var a = 0; a < messages.length; a++) {\n                        if (include_token) {\n                            var new_message = decrypt(messages[a]['message'],cipher_key);\n                            var timetoken = messages[a]['timetoken'];\n                            try {\n                                decrypted_messages['push']({\"message\" : JSON['parse'](new_message), \"timetoken\" : timetoken});\n                            } catch (e) {\n                                decrypted_messages['push'](({\"message\" : new_message, \"timetoken\" : timetoken}));\n                            }\n                        } else {\n                            var new_message = decrypt(messages[a],cipher_key);\n                            try {\n                                decrypted_messages['push'](JSON['parse'](new_message));\n                            } catch (e) {\n                                decrypted_messages['push']((new_message));\n                            }     \n                        }\n                    }\n                    callback([decrypted_messages, response[1], response[2]]);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v2', 'history', 'sub-key',\n                    SUBSCRIBE_KEY, 'channel', encode(channel)\n                ]\n            });\n        },\n\n        /*\n            PUBNUB.replay({\n                source      : 'my_channel',\n                destination : 'new_channel'\n            });\n        */\n        'replay' : function(args, callback) {\n            var callback    = callback || args['callback'] || function(){}\n            ,   auth_key    = args['auth_key'] || AUTH_KEY\n            ,   source      = args['source']\n            ,   destination = args['destination']\n            ,   stop        = args['stop']\n            ,   start       = args['start']\n            ,   end         = args['end']\n            ,   reverse     = args['reverse']\n            ,   limit       = args['limit']\n            ,   jsonp       = jsonp_cb()\n            ,   data        = {}\n            ,   url;\n\n            // Check User Input\n            if (!source)        return error('Missing Source Channel');\n            if (!destination)   return error('Missing Destination Channel');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            // Setup URL Params\n            if (jsonp != '0') data['callback'] = jsonp;\n            if (stop)         data['stop']     = 'all';\n            if (reverse)      data['reverse']  = 'true';\n            if (start)        data['start']    = start;\n            if (end)          data['end']      = end;\n            if (limit)        data['count']    = limit;\n\n            data['auth'] = auth_key;\n\n            // Compose URL Parts\n            url = [\n                STD_ORIGIN, 'v1', 'replay',\n                PUBLISH_KEY, SUBSCRIBE_KEY,\n                source, destination\n            ];\n\n            // Start (or Stop) Replay!\n            xdr({\n                callback : jsonp,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function() { callback([ 0, 'Disconnected' ]) },\n                url      : url,\n                data     : _get_url_params(data)\n            });\n        },\n\n        /*\n            PUBNUB.auth('AJFLKAJSDKLA');\n        */\n        'auth' : function(auth) {\n            AUTH_KEY = auth;\n            CONNECT();\n        },\n\n        /*\n            PUBNUB.time(function(time){ });\n        */\n        'time' : function(callback) {\n            var jsonp = jsonp_cb();\n\n            var data = { 'uuid' : UUID, 'auth' : AUTH_KEY }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                timeout  : SECOND * 5,\n                url      : [STD_ORIGIN, 'time', jsonp],\n                success  : function(response) { callback(response[0]) },\n                fail     : function() { callback(0) }\n            });\n        },\n\n        /*\n            PUBNUB.publish({\n                channel : 'my_chat_channel',\n                message : 'hello!'\n            });\n        */\n        'publish' : function( args, callback ) {\n            var msg      = args['message'];\n            if (!msg) return error('Missing Message');\n\n            var callback = callback || args['callback'] || msg['callback'] || function(){}\n            ,   channel  = args['channel'] || msg['channel']\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   cipher_key = args['cipher_key']\n            ,   err      = args['error'] || msg['error'] || function() {}\n            ,   post     = args['post'] || false\n            ,   store    = ('store_in_history' in args) ? args['store_in_history']: true\n            ,   jsonp    = jsonp_cb()\n            ,   add_msg  = 'push'\n            ,   params\n            ,   url;\n\n            if (args['prepend']) add_msg = 'unshift'\n\n            if (!channel)       return error('Missing Channel');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            if (msg['getPubnubMessage']) {\n                msg = msg['getPubnubMessage']();\n            }\n\n            // If trying to send Object\n            msg = JSON['stringify'](encrypt(msg, cipher_key));\n\n            // Create URL\n            url = [\n                STD_ORIGIN, 'publish',\n                PUBLISH_KEY, SUBSCRIBE_KEY,\n                0, encode(channel),\n                jsonp, encode(msg)\n            ];\n\n            params = { 'uuid' : UUID, 'auth' : auth_key }\n\n            if (!store) params['store'] =\"0\"\n\n            if (USE_INSTANCEID) params['instanceid'] = INSTANCEID;\n\n            // Queue Message Send\n            PUB_QUEUE[add_msg]({\n                callback : jsonp,\n                timeout  : SECOND * 5,\n                url      : url,\n                data     : _get_url_params(params),\n                fail     : function(response){\n                    _invoke_error(response, err);\n                    publish(1);\n                },\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                    publish(1);\n                },\n                mode     : (post)?'POST':'GET'\n            });\n\n            // Send Message\n            publish();\n        },\n\n        /*\n            PUBNUB.unsubscribe({ channel : 'my_chat' });\n        */\n        'unsubscribe' : function(args, callback) {\n            var channel       = args['channel']\n            ,   channel_group = args['channel_group']\n            ,   auth_key      = args['auth_key']    || AUTH_KEY\n            ,   callback      = callback            || args['callback'] || function(){}\n            ,   err           = args['error']       || function(){};\n\n            TIMETOKEN   = 0;\n            SUB_RESTORE = 1;   // REVISIT !!!!\n\n            if (channel) {\n\n                // Prepare LeaveChannel(s)\n                var leave_c = map( (\n                    channel.join ? channel.join(',') : ''+channel\n                ).split(','), function(channel) {\n                    if (!CHANNELS[channel]) return;\n                    return channel;\n                } ).join(',');\n\n                // Prepare Channel(s)\n                channel = map( (\n                    channel.join ? channel.join(',') : ''+channel\n                ).split(','), function(channel) {\n                    if (!CHANNELS[channel]) return;\n                    return channel + ',' + channel + PRESENCE_SUFFIX;\n                } ).join(',');\n\n                // Iterate over Channels\n                each(channel.split(','), function(ch) {\n                    if (!ch) return;\n                    CHANNELS[ch] = 0;\n                    if (ch in STATE) delete STATE[ch];\n                } );\n\n                var CB_CALLED = true;\n                if (READY) {\n                    CB_CALLED = SELF['LEAVE'](leave_c, 0 , auth_key, callback, err);\n                }\n                if (!CB_CALLED) callback({action : \"leave\"});\n            }\n\n            if (channel_group) {\n\n                // Prepare channel group(s)\n                var leave_gc = map( (\n                    channel_group.join ? channel_group.join(',') : ''+channel_group\n                ).split(','), function(channel_group) {\n                    if (!CHANNEL_GROUPS[channel_group]) return;\n                    return channel_group;\n                } ).join(',');\n\n                // Prepare channel group(s)\n                channel_group = map( (\n                    channel_group.join ? channel_group.join(',') : ''+channel_group\n                ).split(','), function(channel_group) {\n                    if (!CHANNEL_GROUPS[channel_group]) return;\n                    return channel_group + ',' + channel_group + PRESENCE_SUFFIX;\n                } ).join(',');\n\n                // Iterate over channel groups\n                each( channel_group.split(','), function(chg) {\n                    if (!chg) return;\n                    CHANNEL_GROUPS[chg] = 0;\n                    if (chg in STATE) delete STATE[chg];\n                } );\n\n                var CB_CALLED = true;\n                if (READY) {\n                    CB_CALLED = SELF['LEAVE_GROUP'](leave_gc, 0 , auth_key, callback, err);\n                }\n                if (!CB_CALLED) callback({action : \"leave\"});\n            }\n\n            // Reset Connection if Count Less\n            CONNECT();\n        },\n\n        /*\n            PUBNUB.subscribe({\n                channel  : 'my_chat'\n                callback : function(message) { }\n            });\n        */\n        'subscribe' : function( args, callback ) {\n            var channel         = args['channel']\n            ,   channel_group   = args['channel_group']\n            ,   callback        = callback            || args['callback']\n            ,   callback        = callback            || args['message']\n            ,   connect         = args['connect']     || function(){}\n            ,   reconnect       = args['reconnect']   || function(){}\n            ,   disconnect      = args['disconnect']  || function(){}\n            ,   SUB_ERROR       = args['error']       || SUB_ERROR || function(){}\n            ,   idlecb          = args['idle']        || function(){}\n            ,   presence        = args['presence']    || 0\n            ,   noheresync      = args['noheresync']  || 0\n            ,   backfill        = args['backfill']    || 0\n            ,   timetoken       = args['timetoken']   || 0\n            ,   sub_timeout     = args['timeout']     || SUB_TIMEOUT\n            ,   windowing       = args['windowing']   || SUB_WINDOWING\n            ,   state           = args['state']\n            ,   heartbeat       = args['heartbeat'] || args['pnexpires']\n            ,   heartbeat_interval = args['heartbeat_interval']\n            ,   restore         = args['restore'] || SUB_RESTORE;\n\n            AUTH_KEY            = args['auth_key']    || AUTH_KEY;\n\n            // Restore Enabled?\n            SUB_RESTORE = restore;\n\n            // Always Reset the TT\n            TIMETOKEN = timetoken;\n\n            // Make sure we have a Channel\n            if (!channel && !channel_group) {\n                return error('Missing Channel');\n            }\n\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            if (heartbeat || heartbeat === 0 || heartbeat_interval || heartbeat_interval === 0) {\n                SELF['set_heartbeat'](heartbeat, heartbeat_interval);\n            }\n\n            // Setup Channel(s)\n            if (channel) {\n                each( (channel.join ? channel.join(',') : ''+channel).split(','),\n                function(channel) {\n                    var settings = CHANNELS[channel] || {};\n\n                    // Store Channel State\n                    CHANNELS[SUB_CHANNEL = channel] = {\n                        name         : channel,\n                        connected    : settings.connected,\n                        disconnected : settings.disconnected,\n                        subscribed   : 1,\n                        callback     : SUB_CALLBACK = callback,\n                        'cipher_key' : args['cipher_key'],\n                        connect      : connect,\n                        disconnect   : disconnect,\n                        reconnect    : reconnect\n                    };\n\n                    if (state) {\n                        if (channel in state) {\n                            STATE[channel] = state[channel];\n                        } else {\n                            STATE[channel] = state;\n                        }\n                    }\n\n                    // Presence Enabled?\n                    if (!presence) return;\n\n                    // Subscribe Presence Channel\n                    SELF['subscribe']({\n                        'channel'  : channel + PRESENCE_SUFFIX,\n                        'callback' : presence,\n                        'restore'  : restore\n                    });\n\n                    // Presence Subscribed?\n                    if (settings.subscribed) return;\n\n                    // See Who's Here Now?\n                    if (noheresync) return;\n                    SELF['here_now']({\n                        'channel'  : channel,\n                        'data'     : _get_url_params({ 'uuid' : UUID, 'auth' : AUTH_KEY }),\n                        'callback' : function(here) {\n                            each( 'uuids' in here ? here['uuids'] : [],\n                            function(uid) { presence( {\n                                'action'    : 'join',\n                                'uuid'      : uid,\n                                'timestamp' : Math.floor(rnow() / 1000),\n                                'occupancy' : here['occupancy'] || 1\n                            }, here, channel ); } );\n                        }\n                    });\n                } );\n            }\n\n            // Setup Channel Groups\n            if (channel_group) {\n                each( (channel_group.join ? channel_group.join(',') : ''+channel_group).split(','),\n                function(channel_group) {\n                    var settings = CHANNEL_GROUPS[channel_group] || {};\n\n                    CHANNEL_GROUPS[channel_group] = {\n                        name         : channel_group,\n                        connected    : settings.connected,\n                        disconnected : settings.disconnected,\n                        subscribed   : 1,\n                        callback     : SUB_CALLBACK = callback,\n                        'cipher_key' : args['cipher_key'],\n                        connect      : connect,\n                        disconnect   : disconnect,\n                        reconnect    : reconnect\n                    };\n\n                    // Presence Enabled?\n                    if (!presence) return;\n\n                    // Subscribe Presence Channel\n                    SELF['subscribe']({\n                        'channel_group'  : channel_group + PRESENCE_SUFFIX,\n                        'callback' : presence,\n                        'restore'  : restore,\n                        'auth_key' : AUTH_KEY\n                    });\n\n                    // Presence Subscribed?\n                    if (settings.subscribed) return;\n\n                    // See Who's Here Now?\n                    if (noheresync) return;\n                    SELF['here_now']({\n                        'channel_group'  : channel_group,\n                        'data'           : _get_url_params({ 'uuid' : UUID, 'auth' : AUTH_KEY }),\n                        'callback' : function(here) {\n                            each( 'uuids' in here ? here['uuids'] : [],\n                            function(uid) { presence( {\n                                'action'    : 'join',\n                                'uuid'      : uid,\n                                'timestamp' : Math.floor(rnow() / 1000),\n                                'occupancy' : here['occupancy'] || 1\n                            }, here, channel_group ); } );\n                        }\n                    });\n                } );\n            }\n\n\n            // Test Network Connection\n            function _test_connection(success) {\n                if (success) {\n                    // Begin Next Socket Connection\n                    timeout( CONNECT, windowing);\n                }\n                else {\n                    // New Origin on Failed Connection\n                    STD_ORIGIN = nextorigin( ORIGIN, 1 );\n                    SUB_ORIGIN = nextorigin( ORIGIN, 1 );\n\n                    // Re-test Connection\n                    timeout( function() {\n                        SELF['time'](_test_connection);\n                    }, SECOND );\n                }\n\n                // Disconnect & Reconnect\n                each_channel(function(channel){\n                    // Reconnect\n                    if (success && channel.disconnected) {\n                        channel.disconnected = 0;\n                        return channel.reconnect(channel.name);\n                    }\n\n                    // Disconnect\n                    if (!success && !channel.disconnected) {\n                        channel.disconnected = 1;\n                        channel.disconnect(channel.name);\n                    }\n                });\n                \n                // Disconnect & Reconnect for channel groups\n                each_channel_group(function(channel_group){\n                    // Reconnect\n                    if (success && channel_group.disconnected) {\n                        channel_group.disconnected = 0;\n                        return channel_group.reconnect(channel_group.name);\n                    }\n\n                    // Disconnect\n                    if (!success && !channel_group.disconnected) {\n                        channel_group.disconnected = 1;\n                        channel_group.disconnect(channel_group.name);\n                    }\n                });\n            }\n\n            // Evented Subscribe\n            function _connect() {\n                var jsonp           = jsonp_cb()\n                ,   channels        = generate_channel_list(CHANNELS).join(',')\n                ,   channel_groups  = generate_channel_group_list(CHANNEL_GROUPS).join(',');\n\n                // Stop Connection\n                if (!channels && !channel_groups) return;\n\n                if (!channels) channels = ',';\n\n                // Connect to PubNub Subscribe Servers\n                _reset_offline();\n\n                var data = _get_url_params({ 'uuid' : UUID, 'auth' : AUTH_KEY });\n\n                if (channel_groups) {\n                    data['channel-group'] = channel_groups;\n                }\n\n\n                var st = JSON.stringify(STATE);\n                if (st.length > 2) data['state'] = JSON.stringify(STATE);\n\n                if (PRESENCE_HB) data['heartbeat'] = PRESENCE_HB;\n\n                if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n                start_presence_heartbeat();\n                SUB_RECEIVER = xdr({\n                    timeout  : sub_timeout,\n                    callback : jsonp,\n                    fail     : function(response) {\n                        if (response && response['error'] && response['service']) {\n                            _invoke_error(response, SUB_ERROR);\n                            _test_connection(1);\n                        } else {\n                            SELF['time'](function(success){\n                                !success && ( _invoke_error(response, SUB_ERROR));\n                                _test_connection(success);\n                            });\n                        }\n                    },\n                    data     : _get_url_params(data),\n                    url      : [\n                        SUB_ORIGIN, 'subscribe',\n                        SUBSCRIBE_KEY, encode(channels),\n                        jsonp, TIMETOKEN\n                    ],\n                    success : function(messages) {\n\n                        // Check for Errors\n                        if (!messages || (\n                            typeof messages == 'object' &&\n                            'error' in messages         &&\n                            messages['error']\n                        )) {\n                            SUB_ERROR(messages['error']);\n                            return timeout( CONNECT, SECOND );\n                        }\n\n                        // User Idle Callback\n                        idlecb(messages[1]);\n\n                        // Restore Previous Connection Point if Needed\n                        TIMETOKEN = !TIMETOKEN               &&\n                                    SUB_RESTORE              &&\n                                    db['get'](SUBSCRIBE_KEY) || messages[1];\n\n                        /*\n                        // Connect\n                        each_channel_registry(function(registry){\n                            if (registry.connected) return;\n                            registry.connected = 1;\n                            registry.connect(channel.name);\n                        });\n                        */\n\n                        // Connect\n                        each_channel(function(channel){\n                            if (channel.connected) return;\n                            channel.connected = 1;\n                            channel.connect(channel.name);\n                        });\n\n                        // Connect for channel groups\n                        each_channel_group(function(channel_group){\n                            if (channel_group.connected) return;\n                            channel_group.connected = 1;\n                            channel_group.connect(channel_group.name);\n                        });\n\n                        if (RESUMED && !SUB_RESTORE) {\n                                TIMETOKEN = 0;\n                                RESUMED = false;\n                                // Update Saved Timetoken\n                                db['set']( SUBSCRIBE_KEY, 0 );\n                                timeout( _connect, windowing );\n                                return;\n                        }\n\n                        // Invoke Memory Catchup and Receive Up to 100\n                        // Previous Messages from the Queue.\n                        if (backfill) {\n                            TIMETOKEN = 10000;\n                            backfill  = 0;\n                        }\n\n                        // Update Saved Timetoken\n                        db['set']( SUBSCRIBE_KEY, messages[1] );\n\n                        // Route Channel <---> Callback for Message\n                        var next_callback = (function() {\n                            var channels = '';\n                            var channels2 = '';\n\n                            if (messages.length > 3) {\n                                channels  = messages[3];\n                                channels2 = messages[2];\n                            } else if (messages.length > 2) {\n                                channels = messages[2];\n                            } else {\n                                channels =  map(\n                                    generate_channel_list(CHANNELS), function(chan) { return map(\n                                        Array(messages[0].length)\n                                        .join(',').split(','),\n                                        function() { return chan; }\n                                    ) }).join(',')\n                            }\n\n                            var list  = channels.split(',');\n                            var list2 = (channels2)?channels2.split(','):[];\n\n                            return function() {\n                                var channel  = list.shift()||SUB_CHANNEL;\n                                var channel2 = list2.shift();\n\n                                var chobj = {};\n\n                                if (channel2) {\n                                    if (channel && channel.indexOf('-pnpres') >= 0 \n                                        && channel2.indexOf('-pnpres') < 0) {\n                                        channel2 += '-pnpres';\n                                    }\n                                    chobj = CHANNEL_GROUPS[channel2] || CHANNELS[channel2] || {'callback' : function(){}};\n                                } else {\n                                    chobj = CHANNELS[channel];\n                                }\n\n                                var r = [\n                                    chobj\n                                    .callback||SUB_CALLBACK,\n                                    channel.split(PRESENCE_SUFFIX)[0]\n                                ];\n                                channel2 && r.push(channel2.split(PRESENCE_SUFFIX)[0]);\n                                return r;\n                            };\n                        })();\n\n                        var latency = detect_latency(+messages[1]);\n                        each( messages[0], function(msg) {\n                            var next = next_callback();\n                            var decrypted_msg = decrypt(msg,\n                                (CHANNELS[next[1]])?CHANNELS[next[1]]['cipher_key']:null);\n                            next[0] && next[0]( decrypted_msg, messages, next[2] || next[1], latency, next[1]);\n                        });\n\n                        timeout( _connect, windowing );\n                    }\n                });\n            }\n\n            CONNECT = function() {\n                _reset_offline();\n                timeout( _connect, windowing );\n            };\n\n            // Reduce Status Flicker\n            if (!READY) return READY_BUFFER.push(CONNECT);\n\n            // Connect Now\n            CONNECT();\n        },\n\n        /*\n            PUBNUB.here_now({ channel : 'my_chat', callback : fun });\n        */\n        'here_now' : function( args, callback ) {\n            var callback = args['callback'] || callback\n            ,   debug    = args['debug']\n            ,   err      = args['error']    || function(){}\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   channel  = args['channel']\n            ,   channel_group = args['channel_group']\n            ,   jsonp    = jsonp_cb()\n            ,   uuids    = ('uuids' in args) ? args['uuids'] : true\n            ,   state    = args['state']\n            ,   data     = { 'uuid' : UUID, 'auth' : auth_key };\n\n            if (!uuids) data['disable_uuids'] = 1;\n            if (state) data['state'] = 1;\n\n            // Make sure we have a Channel\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            var url = [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub_key', SUBSCRIBE_KEY\n                ];\n\n            channel && url.push('channel') && url.push(encode(channel));\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            if (channel_group) {\n                data['channel-group'] = channel_group;\n                !channel && url.push('channel') && url.push(','); \n            }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                debug    : debug,\n                url      : url\n            });\n        },\n\n        /*\n            PUBNUB.current_channels_by_uuid({ channel : 'my_chat', callback : fun });\n        */\n        'where_now' : function( args, callback ) {\n            var callback = args['callback'] || callback\n            ,   err      = args['error']    || function(){}\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   jsonp    = jsonp_cb()\n            ,   uuid     = args['uuid']     || UUID\n            ,   data     = { 'auth' : auth_key };\n\n            // Make sure we have a Channel\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub_key', SUBSCRIBE_KEY,\n                    'uuid', encode(uuid)\n                ]\n            });\n        },\n\n        'state' : function(args, callback) {\n            var callback = args['callback'] || callback || function(r) {}\n            ,   err      = args['error']    || function(){}\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   jsonp    = jsonp_cb()\n            ,   state    = args['state']\n            ,   uuid     = args['uuid'] || UUID\n            ,   channel  = args['channel']\n            ,   channel_group = args['channel_group']\n            ,   url\n            ,   data     = _get_url_params({ 'auth' : auth_key });\n\n            // Make sure we have a Channel\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n            if (!uuid) return error('Missing UUID');\n            if (!channel && !channel_group) return error('Missing Channel');\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            if (typeof channel != 'undefined'\n                && CHANNELS[channel] && CHANNELS[channel].subscribed ) {\n                if (state) STATE[channel] = state;\n            }\n\n            if (typeof channel_group != 'undefined'\n                && CHANNEL_GROUPS[channel_group]\n                && CHANNEL_GROUPS[channel_group].subscribed\n                ) {\n                if (state) STATE[channel_group] = state;\n                data['channel-group'] = channel_group;\n\n                if (!channel) {\n                    channel = ',';\n                }\n            }\n\n            data['state'] = JSON.stringify(state);\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            if (state) {\n                url      = [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub-key', SUBSCRIBE_KEY,\n                    'channel', channel,\n                    'uuid', uuid, 'data'\n                ]\n            } else {\n                url      = [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub-key', SUBSCRIBE_KEY,\n                    'channel', channel,\n                    'uuid', encode(uuid)\n                ]\n            }\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n\n            });\n\n        },\n\n        /*\n            PUBNUB.grant({\n                channel  : 'my_chat',\n                callback : fun,\n                error    : fun,\n                ttl      : 24 * 60, // Minutes\n                read     : true,\n                write    : true,\n                auth_key : '3y8uiajdklytowsj'\n            });\n        */\n        'grant' : function( args, callback ) {\n            var callback        = args['callback'] || callback\n            ,   err             = args['error']    || function(){}\n            ,   channel         = args['channel']  || args['channels']\n            ,   channel_group   = args['channel_group']\n            ,   jsonp           = jsonp_cb()\n            ,   ttl             = args['ttl']\n            ,   r               = (args['read'] )?\"1\":\"0\"\n            ,   w               = (args['write'])?\"1\":\"0\"\n            ,   m               = (args['manage'])?\"1\":\"0\"\n            ,   auth_key        = args['auth_key'] || args['auth_keys'];\n\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SECRET_KEY)    return error('Missing Secret Key');\n\n            var timestamp  = Math.floor(new Date().getTime() / 1000)\n            ,   sign_input = SUBSCRIBE_KEY + \"\\n\" + PUBLISH_KEY + \"\\n\"\n                    + \"grant\" + \"\\n\";\n\n            var data = {\n                'w'         : w,\n                'r'         : r,\n                'timestamp' : timestamp\n            };\n            if (args['manage']) {\n                data['m'] = m;\n            }\n            if (isArray(channel)) {\n                channel = channel['join'](',');\n            }\n            if (isArray(auth_key)) {\n                auth_key = auth_key['join'](',');\n            }\n            if (typeof channel != 'undefined' && channel != null && channel.length > 0) data['channel'] = channel;\n            if (typeof channel_group != 'undefined' && channel_group != null && channel_group.length > 0) {\n                data['channel-group'] = channel_group;\n            }\n            if (jsonp != '0') { data['callback'] = jsonp; }\n            if (ttl || ttl === 0) data['ttl'] = ttl;\n\n            if (auth_key) data['auth'] = auth_key;\n\n            data = _get_url_params(data)\n\n            if (!auth_key) delete data['auth'];\n\n            sign_input += _get_pam_sign_input_from_params(data);\n\n            var signature = hmac_SHA256( sign_input, SECRET_KEY );\n\n            signature = signature.replace( /\\+/g, \"-\" );\n            signature = signature.replace( /\\//g, \"_\" );\n\n            data['signature'] = signature;\n\n            xdr({\n                callback : jsonp,\n                data     : data,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v1', 'auth', 'grant' ,\n                    'sub-key', SUBSCRIBE_KEY\n                ]\n            });\n        },\n\n        /*\n         PUBNUB.mobile_gw_provision ({\n         device_id: 'A655FBA9931AB',\n         op       : 'add' | 'remove',\n         gw_type  : 'apns' | 'gcm',\n         channel  : 'my_chat',\n         callback : fun,\n         error    : fun,\n         });\n         */\n\n        'mobile_gw_provision' : function( args ) {\n\n            var callback = args['callback'] || function(){}\n                ,   auth_key       = args['auth_key'] || AUTH_KEY\n                ,   err            = args['error'] || function() {}\n                ,   jsonp          = jsonp_cb()\n                ,   channel        = args['channel']\n                ,   op             = args['op']\n                ,   gw_type        = args['gw_type']\n                ,   device_id      = args['device_id']\n                ,   params\n                ,   url;\n\n            if (!device_id)     return error('Missing Device ID (device_id)');\n            if (!gw_type)       return error('Missing GW Type (gw_type: gcm or apns)');\n            if (!op)            return error('Missing GW Operation (op: add or remove)');\n            if (!channel)       return error('Missing gw destination Channel (channel)');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            // Create URL\n            url = [\n                STD_ORIGIN, 'v1/push/sub-key',\n                SUBSCRIBE_KEY, 'devices', device_id\n            ];\n\n            params = { 'uuid' : UUID, 'auth' : auth_key, 'type': gw_type};\n\n            if (op == \"add\") {\n                params['add'] = channel;\n            } else if (op == \"remove\") {\n                params['remove'] = channel;\n            }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : params,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n\n        },\n\n        /*\n            PUBNUB.audit({\n                channel  : 'my_chat',\n                callback : fun,\n                error    : fun,\n                read     : true,\n                write    : true,\n                auth_key : '3y8uiajdklytowsj'\n            });\n        */\n        'audit' : function( args, callback ) {\n            var callback        = args['callback'] || callback\n            ,   err             = args['error']    || function(){}\n            ,   channel         = args['channel']\n            ,   channel_group   = args['channel_group']\n            ,   auth_key        = args['auth_key']\n            ,   jsonp           = jsonp_cb();\n\n            // Make sure we have a Channel\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SECRET_KEY)    return error('Missing Secret Key');\n\n            var timestamp  = Math.floor(new Date().getTime() / 1000)\n            ,   sign_input = SUBSCRIBE_KEY + \"\\n\"\n                + PUBLISH_KEY + \"\\n\"\n                + \"audit\" + \"\\n\";\n\n            var data = {'timestamp' : timestamp };\n            if (jsonp != '0') { data['callback'] = jsonp; }\n            if (typeof channel != 'undefined' && channel != null && channel.length > 0) data['channel'] = channel;\n            if (typeof channel_group != 'undefined' && channel_group != null && channel_group.length > 0) {\n                data['channel-group'] = channel_group;\n            }\n            if (auth_key) data['auth']    = auth_key;\n\n            data = _get_url_params(data);\n\n            if (!auth_key) delete data['auth'];\n\n            sign_input += _get_pam_sign_input_from_params(data);\n\n            var signature = hmac_SHA256( sign_input, SECRET_KEY );\n\n            signature = signature.replace( /\\+/g, \"-\" );\n            signature = signature.replace( /\\//g, \"_\" );\n\n            data['signature'] = signature;\n            xdr({\n                callback : jsonp,\n                data     : data,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v1', 'auth', 'audit' ,\n                    'sub-key', SUBSCRIBE_KEY\n                ]\n            });\n        },\n\n        /*\n            PUBNUB.revoke({\n                channel  : 'my_chat',\n                callback : fun,\n                error    : fun,\n                auth_key : '3y8uiajdklytowsj'\n            });\n        */\n        'revoke' : function( args, callback ) {\n            args['read']  = false;\n            args['write'] = false;\n            SELF['grant']( args, callback );\n        },\n        'set_uuid' : function(uuid) {\n            UUID = uuid;\n            CONNECT();\n        },\n        'get_uuid' : function() {\n            return UUID;\n        },\n        'isArray'  : function(arg) {\n            return isArray(arg);\n        },\n        'get_subscibed_channels' : function() {\n            return generate_channel_list(CHANNELS, true);\n        },\n        'presence_heartbeat' : function(args) {\n            var callback = args['callback'] || function() {}\n            var err      = args['error']    || function() {}\n            var jsonp    = jsonp_cb();\n            var data     = { 'uuid' : UUID, 'auth' : AUTH_KEY };\n\n            var st = JSON['stringify'](STATE);\n            if (st.length > 2) data['state'] = JSON['stringify'](STATE);\n\n            if (PRESENCE_HB > 0 && PRESENCE_HB < 320) data['heartbeat'] = PRESENCE_HB;\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            var channels        = encode(generate_channel_list(CHANNELS, true)['join'](','));\n            var channel_groups  = generate_channel_group_list(CHANNEL_GROUPS, true)['join'](',');\n\n            if (!channels) channels = ',';\n            if (channel_groups) data['channel-group'] = channel_groups;\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                timeout  : SECOND * 5,\n                url      : [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub-key', SUBSCRIBE_KEY,\n                    'channel' , channels,\n                    'heartbeat'\n                ],\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) { _invoke_error(response, err); }\n            });\n        },\n        'stop_timers': function () {\n            clearTimeout(_poll_timer);\n            clearTimeout(_poll_timer2);\n            clearTimeout(PRESENCE_HB_TIMEOUT);\n        },\n        'shutdown': function () {\n            SELF['stop_timers']();\n            shutdown && shutdown();\n        },\n\n        // Expose PUBNUB Functions\n        'xdr'           : xdr,\n        'ready'         : ready,\n        'db'            : db,\n        'uuid'          : generate_uuid,\n        'map'           : map,\n        'each'          : each,\n        'each-channel'  : each_channel,\n        'grep'          : grep,\n        'offline'       : function(){ _reset_offline(\n            1, { \"message\" : \"Offline. Please check your network settings.\" })\n        },\n        'supplant'      : supplant,\n        'now'           : rnow,\n        'unique'        : unique,\n        'updater'       : updater\n    };\n\n    function _poll_online() {\n        _is_online() || _reset_offline( 1, {\n            \"error\" : \"Offline. Please check your network settings. \"\n        });\n        _poll_timer && clearTimeout(_poll_timer);\n        _poll_timer = timeout( _poll_online, SECOND );\n    }\n\n    function _poll_online2() {\n        if (!TIME_CHECK) return;\n        SELF['time'](function(success){\n            detect_time_detla( function(){}, success );\n            success || _reset_offline( 1, {\n                \"error\" : \"Heartbeat failed to connect to Pubnub Servers.\" +\n                    \"Please check your network settings.\"\n                });\n            _poll_timer2 && clearTimeout(_poll_timer2);\n            _poll_timer2 = timeout( _poll_online2, KEEPALIVE );\n        });\n    }\n\n    function _reset_offline(err, msg) {\n        SUB_RECEIVER && SUB_RECEIVER(err, msg);\n        SUB_RECEIVER = null;\n\n        clearTimeout(_poll_timer);\n        clearTimeout(_poll_timer2);\n    }\n    \n    if (!UUID) UUID = SELF['uuid']();\n    if (!INSTANCEID) INSTANCEID = SELF['uuid']();\n    db['set']( SUBSCRIBE_KEY + 'uuid', UUID );\n\n    _poll_timer  = timeout( _poll_online,  SECOND    );\n    _poll_timer2 = timeout( _poll_online2, KEEPALIVE );\n    PRESENCE_HB_TIMEOUT = timeout(\n        start_presence_heartbeat,\n        ( PRESENCE_HB_INTERVAL - 3 ) * SECOND\n    );\n\n    // Detect Age of Message\n    function detect_latency(tt) {\n        var adjusted_time = rnow() - TIME_DRIFT;\n        return adjusted_time - tt / 10000;\n    }\n\n    detect_time_detla();\n    function detect_time_detla( cb, time ) {\n        var stime = rnow();\n\n        time && calculate(time) || SELF['time'](calculate);\n\n        function calculate(time) {\n            if (!time) return;\n            var ptime   = time / 10000\n            ,   latency = (rnow() - stime) / 2;\n            TIME_DRIFT = rnow() - (ptime + latency);\n            cb && cb(TIME_DRIFT);\n        }\n    }\n\n    return SELF;\n}\nfunction crypto_obj() {\n\n    function SHA256(s) {\n        return CryptoJS['SHA256'](s)['toString'](CryptoJS['enc']['Hex']);\n    }\n\n    var iv = \"0123456789012345\";\n\n    var allowedKeyEncodings = ['hex', 'utf8', 'base64', 'binary'];\n    var allowedKeyLengths = [128, 256];\n    var allowedModes = ['ecb', 'cbc'];\n\n    var defaultOptions = {\n        'encryptKey': true,\n        'keyEncoding': 'utf8',\n        'keyLength': 256,\n        'mode': 'cbc'\n    };\n\n    function parse_options(options) {\n\n        // Defaults\n        options = options || {};\n        if (!options['hasOwnProperty']('encryptKey')) options['encryptKey'] = defaultOptions['encryptKey'];\n        if (!options['hasOwnProperty']('keyEncoding')) options['keyEncoding'] = defaultOptions['keyEncoding'];\n        if (!options['hasOwnProperty']('keyLength')) options['keyLength'] = defaultOptions['keyLength'];\n        if (!options['hasOwnProperty']('mode')) options['mode'] = defaultOptions['mode'];\n\n        // Validation\n        if (allowedKeyEncodings['indexOf'](options['keyEncoding']['toLowerCase']()) == -1) options['keyEncoding'] = defaultOptions['keyEncoding'];\n        if (allowedKeyLengths['indexOf'](parseInt(options['keyLength'], 10)) == -1) options['keyLength'] = defaultOptions['keyLength'];\n        if (allowedModes['indexOf'](options['mode']['toLowerCase']()) == -1) options['mode'] = defaultOptions['mode'];\n\n        return options;\n\n    }\n\n    function decode_key(key, options) {\n        if (options['keyEncoding'] == 'base64') {\n            return CryptoJS['enc']['Base64']['parse'](key);\n        } else if (options['keyEncoding'] == 'hex') {\n            return CryptoJS['enc']['Hex']['parse'](key);\n        } else {\n            return key;\n        }\n    }\n\n    function get_padded_key(key, options) {\n        key = decode_key(key, options);\n        if (options['encryptKey']) {\n            return CryptoJS['enc']['Utf8']['parse'](SHA256(key)['slice'](0, 32));\n        } else {\n            return key;\n        }\n    }\n\n    function get_mode(options) {\n        if (options['mode'] == 'ecb') {\n            return CryptoJS['mode']['ECB'];\n        } else {\n            return CryptoJS['mode']['CBC'];\n        }\n    }\n\n    function get_iv(options) {\n        return (options['mode'] == 'cbc') ? CryptoJS['enc']['Utf8']['parse'](iv) : null;\n    }\n\n    return {\n\n        'encrypt': function(data, key, options) {\n            if (!key) return data;\n            options = parse_options(options);\n            var iv = get_iv(options);\n            var mode = get_mode(options);\n            var cipher_key = get_padded_key(key, options);\n            var hex_message = JSON['stringify'](data);\n            var encryptedHexArray = CryptoJS['AES']['encrypt'](hex_message, cipher_key, {'iv': iv, 'mode': mode})['ciphertext'];\n            var base_64_encrypted = encryptedHexArray['toString'](CryptoJS['enc']['Base64']);\n            return base_64_encrypted || data;\n        },\n\n        'decrypt': function(data, key, options) {\n            if (!key) return data;\n            options = parse_options(options);\n            var iv = get_iv(options);\n            var mode = get_mode(options);\n            var cipher_key = get_padded_key(key, options);\n            try {\n                var binary_enc = CryptoJS['enc']['Base64']['parse'](data);\n                var json_plain = CryptoJS['AES']['decrypt']({'ciphertext': binary_enc}, cipher_key, {'iv': iv, 'mode': mode})['toString'](CryptoJS['enc']['Utf8']);\n                var plaintext = JSON['parse'](json_plain);\n                return plaintext;\n            }\n            catch (e) {\n                return undefined;\n            }\n        }\n    };\n}\n/**\n * UTIL LOCALS\n */\n\nvar SWF             = 'https://pubnub.a.ssl.fastly.net/pubnub.swf'\n,   ASYNC           = 'async'\n,   UA              = navigator.userAgent\n,   PNSDK           = 'PubNub-JS-' + 'Web' + '/' + '3.7.16'\n,   XORIGN          = UA.indexOf('MSIE 6') == -1;\n\n/**\n * CONSOLE COMPATIBILITY\n */\nwindow.console || (window.console=window.console||{});\nconsole.log    || (\n    console.log   =\n    console.error =\n    ((window.opera||{}).postError||function(){})\n);\n\n/**\n * LOCAL STORAGE OR COOKIE\n */\nvar db = (function(){\n    var store = {};\n    var ls = false;\n    try {\n        ls = window['localStorage'];\n    } catch (e) { }\n    var cookieGet = function(key) {\n        if (document.cookie.indexOf(key) == -1) return null;\n        return ((document.cookie||'').match(\n            RegExp(key+'=([^;]+)')\n        )||[])[1] || null;\n    };\n    var cookieSet = function( key, value ) {\n        document.cookie = key + '=' + value +\n            '; expires=Thu, 1 Aug 2030 20:00:00 UTC; path=/';\n    };\n    var cookieTest = (function() {\n        try {\n            cookieSet('pnctest', '1');\n            return cookieGet('pnctest') === '1';\n        } catch (e) {\n            return false;\n        }\n    }());\n    return {\n        'get' : function(key) {\n            try {\n                if (ls) return ls.getItem(key);\n                if (cookieTest) return cookieGet(key);\n                return store[key];\n            } catch(e) {\n                return store[key];\n            }\n        },\n        'set' : function( key, value ) {\n            try {\n                if (ls) return ls.setItem( key, value ) && 0;\n                if (cookieTest) cookieSet( key, value );\n                store[key] = value;\n            } catch(e) {\n                store[key] = value;\n            }\n        }\n    };\n})();\n\nfunction get_hmac_SHA256(data,key) {\n    var hash = CryptoJS['HmacSHA256'](data, key);\n    return hash.toString(CryptoJS['enc']['Base64']);\n}\n\n/**\n * $\n * =\n * var div = $('divid');\n */\nfunction $(id) { return document.getElementById(id) }\n\n/**\n * ERROR\n * =====\n * error('message');\n */\nfunction error(message) { console['error'](message) }\n\n/**\n * SEARCH\n * ======\n * var elements = search('a div span');\n */\nfunction search( elements, start) {\n    var list = [];\n    each( elements.split(/\\s+/), function(el) {\n        each( (start || document).getElementsByTagName(el), function(node) {\n            list.push(node);\n        } );\n    });\n    return list;\n}\n\n/**\n * BIND\n * ====\n * bind( 'keydown', search('a')[0], function(element) {\n *     ...\n * } );\n */\nfunction bind( type, el, fun ) {\n    each( type.split(','), function(etype) {\n        var rapfun = function(e) {\n            if (!e) e = window.event;\n            if (!fun(e)) {\n                e.cancelBubble = true;\n                e.preventDefault  && e.preventDefault();\n                e.stopPropagation && e.stopPropagation();\n            }\n        };\n\n        if ( el.addEventListener ) el.addEventListener( etype, rapfun, false );\n        else if ( el.attachEvent ) el.attachEvent( 'on' + etype, rapfun );\n        else  el[ 'on' + etype ] = rapfun;\n    } );\n}\n\n/**\n * UNBIND\n * ======\n * unbind( 'keydown', search('a')[0] );\n */\nfunction unbind( type, el, fun ) {\n    if ( el.removeEventListener ) el.removeEventListener( type, false );\n    else if ( el.detachEvent ) el.detachEvent( 'on' + type, false );\n    else  el[ 'on' + type ] = null;\n}\n\n/**\n * HEAD\n * ====\n * head().appendChild(elm);\n */\nfunction head() { return search('head')[0] }\n\n/**\n * ATTR\n * ====\n * var attribute = attr( node, 'attribute' );\n */\nfunction attr( node, attribute, value ) {\n    if (value) node.setAttribute( attribute, value );\n    else return node && node.getAttribute && node.getAttribute(attribute);\n}\n\n/**\n * CSS\n * ===\n * var obj = create('div');\n */\nfunction css( element, styles ) {\n    for (var style in styles) if (styles.hasOwnProperty(style))\n        try {element.style[style] = styles[style] + (\n            '|width|height|top|left|'.indexOf(style) > 0 &&\n            typeof styles[style] == 'number'\n            ? 'px' : ''\n        )}catch(e){}\n}\n\n/**\n * CREATE\n * ======\n * var obj = create('div');\n */\nfunction create(element) { return document.createElement(element) }\n\n\n/**\n * jsonp_cb\n * ========\n * var callback = jsonp_cb();\n */\nfunction jsonp_cb() { return XORIGN || FDomainRequest() ? 0 : unique() }\n\n\n\n/**\n * EVENTS\n * ======\n * PUBNUB.events.bind( 'you-stepped-on-flower', function(message) {\n *     // Do Stuff with message\n * } );\n *\n * PUBNUB.events.fire( 'you-stepped-on-flower', \"message-data\" );\n * PUBNUB.events.fire( 'you-stepped-on-flower', {message:\"data\"} );\n * PUBNUB.events.fire( 'you-stepped-on-flower', [1,2,3] );\n *\n */\nvar events = {\n    'list'   : {},\n    'unbind' : function( name ) { events.list[name] = [] },\n    'bind'   : function( name, fun ) {\n        (events.list[name] = events.list[name] || []).push(fun);\n    },\n    'fire' : function( name, data ) {\n        each(\n            events.list[name] || [],\n            function(fun) { fun(data) }\n        );\n    }\n};\n\n/**\n * XDR Cross Domain Request\n * ========================\n *  xdr({\n *     url     : ['http://www.blah.com/url'],\n *     success : function(response) {},\n *     fail    : function() {}\n *  });\n */\nfunction xdr( setup ) {\n    if (XORIGN || FDomainRequest()) return ajax(setup);\n\n    var script    = create('script')\n    ,   callback  = setup.callback\n    ,   id        = unique()\n    ,   finished  = 0\n    ,   xhrtme    = setup.timeout || DEF_TIMEOUT\n    ,   timer     = timeout( function(){done(1, {\"message\" : \"timeout\"})}, xhrtme )\n    ,   fail      = setup.fail    || function(){}\n    ,   data      = setup.data    || {}\n    ,   success   = setup.success || function(){}\n    ,   append    = function() { head().appendChild(script) }\n    ,   done      = function( failed, response ) {\n            if (finished) return;\n            finished = 1;\n\n            script.onerror = null;\n            clearTimeout(timer);\n\n            (failed || !response) || success(response);\n\n            timeout( function() {\n                failed && fail();\n                var s = $(id)\n                ,   p = s && s.parentNode;\n                p && p.removeChild(s);\n            }, SECOND );\n        };\n\n    window[callback] = function(response) {\n        done( 0, response );\n    };\n\n    if (!setup.blocking) script[ASYNC] = ASYNC;\n\n    script.onerror = function() { done(1) };\n    script.src     = build_url( setup.url, data );\n\n    attr( script, 'id', id );\n\n    append();\n    return done;\n}\n\n/**\n * CORS XHR Request\n * ================\n *  xdr({\n *     url     : ['http://www.blah.com/url'],\n *     success : function(response) {},\n *     fail    : function() {}\n *  });\n */\nfunction ajax( setup ) {\n    var xhr, response\n    ,   finished = function() {\n            if (loaded) return;\n            loaded = 1;\n\n            clearTimeout(timer);\n\n            try       { response = JSON['parse'](xhr.responseText); }\n            catch (r) { return done(1); }\n\n            complete = 1;\n            success(response);\n        }\n    ,   complete = 0\n    ,   loaded   = 0\n    ,   xhrtme   = setup.timeout || DEF_TIMEOUT\n    ,   timer    = timeout( function(){done(1, {\"message\" : \"timeout\"})}, xhrtme )\n    ,   fail     = setup.fail    || function(){}\n    ,   data     = setup.data    || {}\n    ,   success  = setup.success || function(){}\n    ,   async    = !(setup.blocking)\n    ,   done     = function(failed,response) {\n            if (complete) return;\n            complete = 1;\n\n            clearTimeout(timer);\n\n            if (xhr) {\n                xhr.onerror = xhr.onload = null;\n                xhr.abort && xhr.abort();\n                xhr = null;\n            }\n\n            failed && fail(response);\n        };\n\n    // Send\n    try {\n        xhr = FDomainRequest()      ||\n              window.XDomainRequest &&\n              new XDomainRequest()  ||\n              new XMLHttpRequest();\n\n        xhr.onerror = xhr.onabort   = function(e){ done(\n            1, e || (xhr && xhr.responseText) || { \"error\" : \"Network Connection Error\"}\n        ) };\n        xhr.onload  = xhr.onloadend = finished;\n        xhr.onreadystatechange = function() {\n            if (xhr && xhr.readyState == 4) {\n                switch(xhr.status) {\n                    case 200:\n                        break;\n                    default:\n                        try {\n                            response = JSON['parse'](xhr.responseText);\n                            done(1,response);\n                        }\n                        catch (r) { return done(1, {status : xhr.status, payload : null, message : xhr.responseText}); }\n                        return;\n                }\n            }\n        }\n\n        var url = build_url(setup.url,data);\n\n        xhr.open( 'GET', url, async );\n        if (async) xhr.timeout = xhrtme;\n        xhr.send();\n    }\n    catch(eee) {\n        done(0);\n        XORIGN = 0;\n        return xdr(setup);\n    }\n\n    // Return 'done'\n    return done;\n}\n\n// Test Connection State\nfunction _is_online() {\n    if (!('onLine' in navigator)) return 1;\n    try       { return navigator['onLine'] }\n    catch (e) { return true }\n}\n\n\nfunction sendBeacon(url) {\n    if (!('sendBeacon' in navigator)) return false;\n\n    return navigator['sendBeacon'](url);\n}\n\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n/* =-=========================     PUBNUB     ===========================-= */\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n\nvar PDIV          = $('pubnub') || 0\n,   CREATE_PUBNUB = function(setup) {\n\n    // Force JSONP if requested from user.\n    if (setup['jsonp'])  XORIGN = 0;\n    else                 XORIGN = UA.indexOf('MSIE 6') == -1;\n\n    var SUBSCRIBE_KEY = setup['subscribe_key'] || ''\n    ,   KEEPALIVE     = (+setup['keepalive']   || DEF_KEEPALIVE)   * SECOND\n    ,   UUID          = setup['uuid'] || db['get'](SUBSCRIBE_KEY+'uuid')||'';\n\n    var leave_on_unload = setup['leave_on_unload'] || 0;\n\n    setup['xdr']        = xdr;\n    setup['db']         = db;\n    setup['error']      = setup['error'] || error;\n    setup['_is_online'] = _is_online;\n    setup['jsonp_cb']   = jsonp_cb;\n    setup['hmac_SHA256']= get_hmac_SHA256;\n    setup['crypto_obj'] = crypto_obj();\n    setup['sendBeacon'] = sendBeacon;\n    setup['params']     = { 'pnsdk' : PNSDK }\n\n    var SELF = function(setup) {\n        return CREATE_PUBNUB(setup);\n    };\n\n    var PN = PN_API(setup);\n\n    for (var prop in PN) {\n        if (PN.hasOwnProperty(prop)) {\n            SELF[prop] = PN[prop];\n        }\n    }\n    SELF['css']         = css;\n    SELF['$']           = $;\n    SELF['create']      = create;\n    SELF['bind']        = bind;\n    SELF['head']        = head;\n    SELF['search']      = search;\n    SELF['attr']        = attr;\n    SELF['events']      = events;\n    SELF['init']        = SELF;\n    SELF['secure']      = SELF;\n    SELF['crypto_obj']  = crypto_obj(); // export to instance\n\n\n    // Add Leave Functions\n    bind( 'beforeunload', window, function() {\n        if (leave_on_unload) SELF['each-channel'](function(ch){ SELF['LEAVE']( ch.name, 0 ) });\n        return true;\n    } );\n\n    // Return without Testing\n    if (setup['notest']) return SELF;\n\n    bind( 'offline', window,   SELF['offline'] );\n    bind( 'offline', document, SELF['offline'] );\n\n    // Return PUBNUB Socket Object\n    return SELF;\n};\nCREATE_PUBNUB['init']   = CREATE_PUBNUB;\nCREATE_PUBNUB['secure'] = CREATE_PUBNUB;\nCREATE_PUBNUB['crypto_obj'] = crypto_obj(); // export to constructor\n\n// Bind for PUBNUB Readiness to Subscribe\nif (document.readyState === 'complete') {\n    timeout( ready, 0 );\n}\nelse {\n    bind( 'load', window, function(){ timeout( ready, 0 ) } );\n}\n\nvar pdiv = PDIV || {};\n\n// CREATE A PUBNUB GLOBAL OBJECT\nPUBNUB = CREATE_PUBNUB({\n    'notest'        : 1,\n    'publish_key'   : attr( pdiv, 'pub-key' ),\n    'subscribe_key' : attr( pdiv, 'sub-key' ),\n    'ssl'           : !document.location.href.indexOf('https') ||\n                      attr( pdiv, 'ssl' ) == 'on',\n    'origin'        : attr( pdiv, 'origin' ),\n    'uuid'          : attr( pdiv, 'uuid' )\n});\n\n// jQuery Interface\nwindow['jQuery'] && (window['jQuery']['PUBNUB'] = CREATE_PUBNUB);\n\n// For Modern JS + Testling.js - http://testling.com/\ntypeof(module) !== 'undefined' && (module['exports'] = PUBNUB) && ready();\n\nvar pubnubs = $('pubnubs') || 0;\n\n// LEAVE NOW IF NO PDIV.\nif (!PDIV) return;\n\n// PUBNUB Flash Socket\ncss( PDIV, { 'position' : 'absolute', 'top' : -SECOND } );\n\nif ('opera' in window || attr( PDIV, 'flash' )) PDIV['innerHTML'] =\n    '<object id=pubnubs data='  + SWF +\n    '><param name=movie value=' + SWF +\n    '><param name=allowscriptaccess value=always></object>';\n\n// Create Interface for Opera Flash\nPUBNUB['rdx'] = function( id, data ) {\n    if (!data) return FDomainRequest[id]['onerror']();\n    FDomainRequest[id]['responseText'] = unescape(data);\n    FDomainRequest[id]['onload']();\n};\n\nfunction FDomainRequest() {\n    if (!pubnubs || !pubnubs['get']) return 0;\n\n    var fdomainrequest = {\n        'id'    : FDomainRequest['id']++,\n        'send'  : function() {},\n        'abort' : function() { fdomainrequest['id'] = {} },\n        'open'  : function( method, url ) {\n            FDomainRequest[fdomainrequest['id']] = fdomainrequest;\n            pubnubs['get']( fdomainrequest['id'], url );\n        }\n    };\n\n    return fdomainrequest;\n}\nFDomainRequest['id'] = SECOND;\n\n})();\n(function(){\n\n// ---------------------------------------------------------------------------\n// WEBSOCKET INTERFACE\n// ---------------------------------------------------------------------------\nvar WS = PUBNUB['ws'] = function( url, protocols ) {\n    if (!(this instanceof WS)) return new WS( url, protocols );\n\n    var self     = this\n    ,   url      = self.url      = url || ''\n    ,   protocol = self.protocol = protocols || 'Sec-WebSocket-Protocol'\n    ,   bits     = url.split('/')\n    ,   setup    = {\n         'ssl'           : bits[0] === 'wss:'\n        ,'origin'        : bits[2]\n        ,'publish_key'   : bits[3]\n        ,'subscribe_key' : bits[4]\n        ,'channel'       : bits[5]\n    };\n\n    // READY STATES\n    self['CONNECTING'] = 0; // The connection is not yet open.\n    self['OPEN']       = 1; // The connection is open and ready to communicate.\n    self['CLOSING']    = 2; // The connection is in the process of closing.\n    self['CLOSED']     = 3; // The connection is closed or couldn't be opened.\n\n    // CLOSE STATES\n    self['CLOSE_NORMAL']         = 1000; // Normal Intended Close; completed.\n    self['CLOSE_GOING_AWAY']     = 1001; // Closed Unexpecttedly.\n    self['CLOSE_PROTOCOL_ERROR'] = 1002; // Server: Not Supported.\n    self['CLOSE_UNSUPPORTED']    = 1003; // Server: Unsupported Protocol.\n    self['CLOSE_TOO_LARGE']      = 1004; // Server: Too Much Data.\n    self['CLOSE_NO_STATUS']      = 1005; // Server: No reason.\n    self['CLOSE_ABNORMAL']       = 1006; // Abnormal Disconnect.\n\n    // Events Default\n    self['onclose']   = self['onerror'] =\n    self['onmessage'] = self['onopen']  =\n    self['onsend']    =  function(){};\n\n    // Attributes\n    self['binaryType']     = '';\n    self['extensions']     = '';\n    self['bufferedAmount'] = 0;\n    self['trasnmitting']   = false;\n    self['buffer']         = [];\n    self['readyState']     = self['CONNECTING'];\n\n    // Close if no setup.\n    if (!url) {\n        self['readyState'] = self['CLOSED'];\n        self['onclose']({\n            'code'     : self['CLOSE_ABNORMAL'],\n            'reason'   : 'Missing URL',\n            'wasClean' : true\n        });\n        return self;\n    }\n\n    // PubNub WebSocket Emulation\n    self.pubnub       = PUBNUB['init'](setup);\n    self.pubnub.setup = setup;\n    self.setup        = setup;\n\n    self.pubnub['subscribe']({\n        'restore'    : false,\n        'channel'    : setup['channel'],\n        'disconnect' : self['onerror'],\n        'reconnect'  : self['onopen'],\n        'error'      : function() {\n            self['onclose']({\n                'code'     : self['CLOSE_ABNORMAL'],\n                'reason'   : 'Missing URL',\n                'wasClean' : false\n            });\n        },\n        'callback'   : function(message) {\n            self['onmessage']({ 'data' : message });\n        },\n        'connect'    : function() {\n            self['readyState'] = self['OPEN'];\n            self['onopen']();\n        }\n    });\n};\n\n// ---------------------------------------------------------------------------\n// WEBSOCKET SEND\n// ---------------------------------------------------------------------------\nWS.prototype.send = function(data) {\n    var self = this;\n    self.pubnub['publish']({\n        'channel'  : self.pubnub.setup['channel'],\n        'message'  : data,\n        'callback' : function(response) {\n            self['onsend']({ 'data' : response });\n        }\n    });\n};\n\n// ---------------------------------------------------------------------------\n// WEBSOCKET CLOSE\n// ---------------------------------------------------------------------------\nWS.prototype.close = function() {\n    var self = this;\n    self.pubnub['unsubscribe']({ 'channel' : self.pubnub.setup['channel'] });\n    self['readyState'] = self['CLOSED'];\n    self['onclose']({});\n};\n\n})();\n/*\nCryptoJS v3.1.2\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\nvar CryptoJS=CryptoJS||function(h,s){var f={},g=f.lib={},q=function(){},m=g.Base={extend:function(a){q.prototype=this;var c=new q;a&&c.mixIn(a);c.hasOwnProperty(\"init\")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty(\"toString\")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},\nr=g.WordArray=m.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=s?c:4*a.length},toString:function(a){return(a||k).stringify(this)},concat:function(a){var c=this.words,d=a.words,b=this.sigBytes;a=a.sigBytes;this.clamp();if(b%4)for(var e=0;e<a;e++)c[b+e>>>2]|=(d[e>>>2]>>>24-8*(e%4)&255)<<24-8*((b+e)%4);else if(65535<d.length)for(e=0;e<a;e+=4)c[b+e>>>2]=d[e>>>2];else c.push.apply(c,d);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<\n32-8*(c%4);a.length=h.ceil(c/4)},clone:function(){var a=m.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],d=0;d<a;d+=4)c.push(4294967296*h.random()|0);return new r.init(c,a)}}),l=f.enc={},k=l.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var d=[],b=0;b<a;b++){var e=c[b>>>2]>>>24-8*(b%4)&255;d.push((e>>>4).toString(16));d.push((e&15).toString(16))}return d.join(\"\")},parse:function(a){for(var c=a.length,d=[],b=0;b<c;b+=2)d[b>>>3]|=parseInt(a.substr(b,\n2),16)<<24-4*(b%8);return new r.init(d,c/2)}},n=l.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var d=[],b=0;b<a;b++)d.push(String.fromCharCode(c[b>>>2]>>>24-8*(b%4)&255));return d.join(\"\")},parse:function(a){for(var c=a.length,d=[],b=0;b<c;b++)d[b>>>2]|=(a.charCodeAt(b)&255)<<24-8*(b%4);return new r.init(d,c)}},j=l.Utf8={stringify:function(a){try{return decodeURIComponent(escape(n.stringify(a)))}catch(c){throw Error(\"Malformed UTF-8 data\");}},parse:function(a){return n.parse(unescape(encodeURIComponent(a)))}},\nu=g.BufferedBlockAlgorithm=m.extend({reset:function(){this._data=new r.init;this._nDataBytes=0},_append:function(a){\"string\"==typeof a&&(a=j.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,d=c.words,b=c.sigBytes,e=this.blockSize,f=b/(4*e),f=a?h.ceil(f):h.max((f|0)-this._minBufferSize,0);a=f*e;b=h.min(4*a,b);if(a){for(var g=0;g<a;g+=e)this._doProcessBlock(d,g);g=d.splice(0,a);c.sigBytes-=b}return new r.init(g,b)},clone:function(){var a=m.clone.call(this);\na._data=this._data.clone();return a},_minBufferSize:0});g.Hasher=u.extend({cfg:m.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){u.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(c,d){return(new a.init(d)).finalize(c)}},_createHmacHelper:function(a){return function(c,d){return(new t.HMAC.init(a,\nd)).finalize(c)}}});var t=f.algo={};return f}(Math);\n\n// SHA256\n(function(h){for(var s=CryptoJS,f=s.lib,g=f.WordArray,q=f.Hasher,f=s.algo,m=[],r=[],l=function(a){return 4294967296*(a-(a|0))|0},k=2,n=0;64>n;){var j;a:{j=k;for(var u=h.sqrt(j),t=2;t<=u;t++)if(!(j%t)){j=!1;break a}j=!0}j&&(8>n&&(m[n]=l(h.pow(k,0.5))),r[n]=l(h.pow(k,1/3)),n++);k++}var a=[],f=f.SHA256=q.extend({_doReset:function(){this._hash=new g.init(m.slice(0))},_doProcessBlock:function(c,d){for(var b=this._hash.words,e=b[0],f=b[1],g=b[2],j=b[3],h=b[4],m=b[5],n=b[6],q=b[7],p=0;64>p;p++){if(16>p)a[p]=\nc[d+p]|0;else{var k=a[p-15],l=a[p-2];a[p]=((k<<25|k>>>7)^(k<<14|k>>>18)^k>>>3)+a[p-7]+((l<<15|l>>>17)^(l<<13|l>>>19)^l>>>10)+a[p-16]}k=q+((h<<26|h>>>6)^(h<<21|h>>>11)^(h<<7|h>>>25))+(h&m^~h&n)+r[p]+a[p];l=((e<<30|e>>>2)^(e<<19|e>>>13)^(e<<10|e>>>22))+(e&f^e&g^f&g);q=n;n=m;m=h;h=j+k|0;j=g;g=f;f=e;e=k+l|0}b[0]=b[0]+e|0;b[1]=b[1]+f|0;b[2]=b[2]+g|0;b[3]=b[3]+j|0;b[4]=b[4]+h|0;b[5]=b[5]+m|0;b[6]=b[6]+n|0;b[7]=b[7]+q|0},_doFinalize:function(){var a=this._data,d=a.words,b=8*this._nDataBytes,e=8*a.sigBytes;\nd[e>>>5]|=128<<24-e%32;d[(e+64>>>9<<4)+14]=h.floor(b/4294967296);d[(e+64>>>9<<4)+15]=b;a.sigBytes=4*d.length;this._process();return this._hash},clone:function(){var a=q.clone.call(this);a._hash=this._hash.clone();return a}});s.SHA256=q._createHelper(f);s.HmacSHA256=q._createHmacHelper(f)})(Math);\n\n// HMAC SHA256\n(function(){var h=CryptoJS,s=h.enc.Utf8;h.algo.HMAC=h.lib.Base.extend({init:function(f,g){f=this._hasher=new f.init;\"string\"==typeof g&&(g=s.parse(g));var h=f.blockSize,m=4*h;g.sigBytes>m&&(g=f.finalize(g));g.clamp();for(var r=this._oKey=g.clone(),l=this._iKey=g.clone(),k=r.words,n=l.words,j=0;j<h;j++)k[j]^=1549556828,n[j]^=909522486;r.sigBytes=l.sigBytes=m;this.reset()},reset:function(){var f=this._hasher;f.reset();f.update(this._iKey)},update:function(f){this._hasher.update(f);return this},finalize:function(f){var g=\nthis._hasher;f=g.finalize(f);g.reset();return g.finalize(this._oKey.clone().concat(f))}})})();\n\n// Base64\n(function(){var u=CryptoJS,p=u.lib.WordArray;u.enc.Base64={stringify:function(d){var l=d.words,p=d.sigBytes,t=this._map;d.clamp();d=[];for(var r=0;r<p;r+=3)for(var w=(l[r>>>2]>>>24-8*(r%4)&255)<<16|(l[r+1>>>2]>>>24-8*((r+1)%4)&255)<<8|l[r+2>>>2]>>>24-8*((r+2)%4)&255,v=0;4>v&&r+0.75*v<p;v++)d.push(t.charAt(w>>>6*(3-v)&63));if(l=t.charAt(64))for(;d.length%4;)d.push(l);return d.join(\"\")},parse:function(d){var l=d.length,s=this._map,t=s.charAt(64);t&&(t=d.indexOf(t),-1!=t&&(l=t));for(var t=[],r=0,w=0;w<\nl;w++)if(w%4){var v=s.indexOf(d.charAt(w-1))<<2*(w%4),b=s.indexOf(d.charAt(w))>>>6-2*(w%4);t[r>>>2]|=(v|b)<<24-8*(r%4);r++}return p.create(t,r)},_map:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"}})();\n\n// BlockCipher\n(function(u){function p(b,n,a,c,e,j,k){b=b+(n&a|~n&c)+e+k;return(b<<j|b>>>32-j)+n}function d(b,n,a,c,e,j,k){b=b+(n&c|a&~c)+e+k;return(b<<j|b>>>32-j)+n}function l(b,n,a,c,e,j,k){b=b+(n^a^c)+e+k;return(b<<j|b>>>32-j)+n}function s(b,n,a,c,e,j,k){b=b+(a^(n|~c))+e+k;return(b<<j|b>>>32-j)+n}for(var t=CryptoJS,r=t.lib,w=r.WordArray,v=r.Hasher,r=t.algo,b=[],x=0;64>x;x++)b[x]=4294967296*u.abs(u.sin(x+1))|0;r=r.MD5=v.extend({_doReset:function(){this._hash=new w.init([1732584193,4023233417,2562383102,271733878])},\n_doProcessBlock:function(q,n){for(var a=0;16>a;a++){var c=n+a,e=q[c];q[c]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360}var a=this._hash.words,c=q[n+0],e=q[n+1],j=q[n+2],k=q[n+3],z=q[n+4],r=q[n+5],t=q[n+6],w=q[n+7],v=q[n+8],A=q[n+9],B=q[n+10],C=q[n+11],u=q[n+12],D=q[n+13],E=q[n+14],x=q[n+15],f=a[0],m=a[1],g=a[2],h=a[3],f=p(f,m,g,h,c,7,b[0]),h=p(h,f,m,g,e,12,b[1]),g=p(g,h,f,m,j,17,b[2]),m=p(m,g,h,f,k,22,b[3]),f=p(f,m,g,h,z,7,b[4]),h=p(h,f,m,g,r,12,b[5]),g=p(g,h,f,m,t,17,b[6]),m=p(m,g,h,f,w,22,b[7]),\nf=p(f,m,g,h,v,7,b[8]),h=p(h,f,m,g,A,12,b[9]),g=p(g,h,f,m,B,17,b[10]),m=p(m,g,h,f,C,22,b[11]),f=p(f,m,g,h,u,7,b[12]),h=p(h,f,m,g,D,12,b[13]),g=p(g,h,f,m,E,17,b[14]),m=p(m,g,h,f,x,22,b[15]),f=d(f,m,g,h,e,5,b[16]),h=d(h,f,m,g,t,9,b[17]),g=d(g,h,f,m,C,14,b[18]),m=d(m,g,h,f,c,20,b[19]),f=d(f,m,g,h,r,5,b[20]),h=d(h,f,m,g,B,9,b[21]),g=d(g,h,f,m,x,14,b[22]),m=d(m,g,h,f,z,20,b[23]),f=d(f,m,g,h,A,5,b[24]),h=d(h,f,m,g,E,9,b[25]),g=d(g,h,f,m,k,14,b[26]),m=d(m,g,h,f,v,20,b[27]),f=d(f,m,g,h,D,5,b[28]),h=d(h,f,\nm,g,j,9,b[29]),g=d(g,h,f,m,w,14,b[30]),m=d(m,g,h,f,u,20,b[31]),f=l(f,m,g,h,r,4,b[32]),h=l(h,f,m,g,v,11,b[33]),g=l(g,h,f,m,C,16,b[34]),m=l(m,g,h,f,E,23,b[35]),f=l(f,m,g,h,e,4,b[36]),h=l(h,f,m,g,z,11,b[37]),g=l(g,h,f,m,w,16,b[38]),m=l(m,g,h,f,B,23,b[39]),f=l(f,m,g,h,D,4,b[40]),h=l(h,f,m,g,c,11,b[41]),g=l(g,h,f,m,k,16,b[42]),m=l(m,g,h,f,t,23,b[43]),f=l(f,m,g,h,A,4,b[44]),h=l(h,f,m,g,u,11,b[45]),g=l(g,h,f,m,x,16,b[46]),m=l(m,g,h,f,j,23,b[47]),f=s(f,m,g,h,c,6,b[48]),h=s(h,f,m,g,w,10,b[49]),g=s(g,h,f,m,\nE,15,b[50]),m=s(m,g,h,f,r,21,b[51]),f=s(f,m,g,h,u,6,b[52]),h=s(h,f,m,g,k,10,b[53]),g=s(g,h,f,m,B,15,b[54]),m=s(m,g,h,f,e,21,b[55]),f=s(f,m,g,h,v,6,b[56]),h=s(h,f,m,g,x,10,b[57]),g=s(g,h,f,m,t,15,b[58]),m=s(m,g,h,f,D,21,b[59]),f=s(f,m,g,h,z,6,b[60]),h=s(h,f,m,g,C,10,b[61]),g=s(g,h,f,m,j,15,b[62]),m=s(m,g,h,f,A,21,b[63]);a[0]=a[0]+f|0;a[1]=a[1]+m|0;a[2]=a[2]+g|0;a[3]=a[3]+h|0},_doFinalize:function(){var b=this._data,n=b.words,a=8*this._nDataBytes,c=8*b.sigBytes;n[c>>>5]|=128<<24-c%32;var e=u.floor(a/\n4294967296);n[(c+64>>>9<<4)+15]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360;n[(c+64>>>9<<4)+14]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360;b.sigBytes=4*(n.length+1);this._process();b=this._hash;n=b.words;for(a=0;4>a;a++)c=n[a],n[a]=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360;return b},clone:function(){var b=v.clone.call(this);b._hash=this._hash.clone();return b}});t.MD5=v._createHelper(r);t.HmacMD5=v._createHmacHelper(r)})(Math);\n(function(){var u=CryptoJS,p=u.lib,d=p.Base,l=p.WordArray,p=u.algo,s=p.EvpKDF=d.extend({cfg:d.extend({keySize:4,hasher:p.MD5,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,r){for(var p=this.cfg,s=p.hasher.create(),b=l.create(),u=b.words,q=p.keySize,p=p.iterations;u.length<q;){n&&s.update(n);var n=s.update(d).finalize(r);s.reset();for(var a=1;a<p;a++)n=s.finalize(n),s.reset();b.concat(n)}b.sigBytes=4*q;return b}});u.EvpKDF=function(d,l,p){return s.create(p).compute(d,\nl)}})();\n\n// Cipher\nCryptoJS.lib.Cipher||function(u){var p=CryptoJS,d=p.lib,l=d.Base,s=d.WordArray,t=d.BufferedBlockAlgorithm,r=p.enc.Base64,w=p.algo.EvpKDF,v=d.Cipher=t.extend({cfg:l.extend(),createEncryptor:function(e,a){return this.create(this._ENC_XFORM_MODE,e,a)},createDecryptor:function(e,a){return this.create(this._DEC_XFORM_MODE,e,a)},init:function(e,a,b){this.cfg=this.cfg.extend(b);this._xformMode=e;this._key=a;this.reset()},reset:function(){t.reset.call(this);this._doReset()},process:function(e){this._append(e);return this._process()},\nfinalize:function(e){e&&this._append(e);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(b,k,d){return(\"string\"==typeof k?c:a).encrypt(e,b,k,d)},decrypt:function(b,k,d){return(\"string\"==typeof k?c:a).decrypt(e,b,k,d)}}}});d.StreamCipher=v.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var b=p.mode={},x=function(e,a,b){var c=this._iv;c?this._iv=u:c=this._prevBlock;for(var d=0;d<b;d++)e[a+d]^=\nc[d]},q=(d.BlockCipherMode=l.extend({createEncryptor:function(e,a){return this.Encryptor.create(e,a)},createDecryptor:function(e,a){return this.Decryptor.create(e,a)},init:function(e,a){this._cipher=e;this._iv=a}})).extend();q.Encryptor=q.extend({processBlock:function(e,a){var b=this._cipher,c=b.blockSize;x.call(this,e,a,c);b.encryptBlock(e,a);this._prevBlock=e.slice(a,a+c)}});q.Decryptor=q.extend({processBlock:function(e,a){var b=this._cipher,c=b.blockSize,d=e.slice(a,a+c);b.decryptBlock(e,a);x.call(this,\ne,a,c);this._prevBlock=d}});b=b.CBC=q;q=(p.pad={}).Pkcs7={pad:function(a,b){for(var c=4*b,c=c-a.sigBytes%c,d=c<<24|c<<16|c<<8|c,l=[],n=0;n<c;n+=4)l.push(d);c=s.create(l,c);a.concat(c)},unpad:function(a){a.sigBytes-=a.words[a.sigBytes-1>>>2]&255}};d.BlockCipher=v.extend({cfg:v.cfg.extend({mode:b,padding:q}),reset:function(){v.reset.call(this);var a=this.cfg,b=a.iv,a=a.mode;if(this._xformMode==this._ENC_XFORM_MODE)var c=a.createEncryptor;else c=a.createDecryptor,this._minBufferSize=1;this._mode=c.call(a,\nthis,b&&b.words)},_doProcessBlock:function(a,b){this._mode.processBlock(a,b)},_doFinalize:function(){var a=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){a.pad(this._data,this.blockSize);var b=this._process(!0)}else b=this._process(!0),a.unpad(b);return b},blockSize:4});var n=d.CipherParams=l.extend({init:function(a){this.mixIn(a)},toString:function(a){return(a||this.formatter).stringify(this)}}),b=(p.format={}).OpenSSL={stringify:function(a){var b=a.ciphertext;a=a.salt;return(a?s.create([1398893684,\n1701076831]).concat(a).concat(b):b).toString(r)},parse:function(a){a=r.parse(a);var b=a.words;if(1398893684==b[0]&&1701076831==b[1]){var c=s.create(b.slice(2,4));b.splice(0,4);a.sigBytes-=16}return n.create({ciphertext:a,salt:c})}},a=d.SerializableCipher=l.extend({cfg:l.extend({format:b}),encrypt:function(a,b,c,d){d=this.cfg.extend(d);var l=a.createEncryptor(c,d);b=l.finalize(b);l=l.cfg;return n.create({ciphertext:b,key:c,iv:l.iv,algorithm:a,mode:l.mode,padding:l.padding,blockSize:a.blockSize,formatter:d.format})},\ndecrypt:function(a,b,c,d){d=this.cfg.extend(d);b=this._parse(b,d.format);return a.createDecryptor(c,d).finalize(b.ciphertext)},_parse:function(a,b){return\"string\"==typeof a?b.parse(a,this):a}}),p=(p.kdf={}).OpenSSL={execute:function(a,b,c,d){d||(d=s.random(8));a=w.create({keySize:b+c}).compute(a,d);c=s.create(a.words.slice(b),4*c);a.sigBytes=4*b;return n.create({key:a,iv:c,salt:d})}},c=d.PasswordBasedCipher=a.extend({cfg:a.cfg.extend({kdf:p}),encrypt:function(b,c,d,l){l=this.cfg.extend(l);d=l.kdf.execute(d,\nb.keySize,b.ivSize);l.iv=d.iv;b=a.encrypt.call(this,b,c,d.key,l);b.mixIn(d);return b},decrypt:function(b,c,d,l){l=this.cfg.extend(l);c=this._parse(c,l.format);d=l.kdf.execute(d,b.keySize,b.ivSize,c.salt);l.iv=d.iv;return a.decrypt.call(this,b,c,d.key,l)}})}();\n\n// AES\n(function(){for(var u=CryptoJS,p=u.lib.BlockCipher,d=u.algo,l=[],s=[],t=[],r=[],w=[],v=[],b=[],x=[],q=[],n=[],a=[],c=0;256>c;c++)a[c]=128>c?c<<1:c<<1^283;for(var e=0,j=0,c=0;256>c;c++){var k=j^j<<1^j<<2^j<<3^j<<4,k=k>>>8^k&255^99;l[e]=k;s[k]=e;var z=a[e],F=a[z],G=a[F],y=257*a[k]^16843008*k;t[e]=y<<24|y>>>8;r[e]=y<<16|y>>>16;w[e]=y<<8|y>>>24;v[e]=y;y=16843009*G^65537*F^257*z^16843008*e;b[k]=y<<24|y>>>8;x[k]=y<<16|y>>>16;q[k]=y<<8|y>>>24;n[k]=y;e?(e=z^a[a[a[G^z]]],j^=a[a[j]]):e=j=1}var H=[0,1,2,4,8,\n16,32,64,128,27,54],d=d.AES=p.extend({_doReset:function(){for(var a=this._key,c=a.words,d=a.sigBytes/4,a=4*((this._nRounds=d+6)+1),e=this._keySchedule=[],j=0;j<a;j++)if(j<d)e[j]=c[j];else{var k=e[j-1];j%d?6<d&&4==j%d&&(k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255]):(k=k<<8|k>>>24,k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255],k^=H[j/d|0]<<24);e[j]=e[j-d]^k}c=this._invKeySchedule=[];for(d=0;d<a;d++)j=a-d,k=d%4?e[j]:e[j-4],c[d]=4>d||4>=j?k:b[l[k>>>24]]^x[l[k>>>16&255]]^q[l[k>>>\n8&255]]^n[l[k&255]]},encryptBlock:function(a,b){this._doCryptBlock(a,b,this._keySchedule,t,r,w,v,l)},decryptBlock:function(a,c){var d=a[c+1];a[c+1]=a[c+3];a[c+3]=d;this._doCryptBlock(a,c,this._invKeySchedule,b,x,q,n,s);d=a[c+1];a[c+1]=a[c+3];a[c+3]=d},_doCryptBlock:function(a,b,c,d,e,j,l,f){for(var m=this._nRounds,g=a[b]^c[0],h=a[b+1]^c[1],k=a[b+2]^c[2],n=a[b+3]^c[3],p=4,r=1;r<m;r++)var q=d[g>>>24]^e[h>>>16&255]^j[k>>>8&255]^l[n&255]^c[p++],s=d[h>>>24]^e[k>>>16&255]^j[n>>>8&255]^l[g&255]^c[p++],t=\nd[k>>>24]^e[n>>>16&255]^j[g>>>8&255]^l[h&255]^c[p++],n=d[n>>>24]^e[g>>>16&255]^j[h>>>8&255]^l[k&255]^c[p++],g=q,h=s,k=t;q=(f[g>>>24]<<24|f[h>>>16&255]<<16|f[k>>>8&255]<<8|f[n&255])^c[p++];s=(f[h>>>24]<<24|f[k>>>16&255]<<16|f[n>>>8&255]<<8|f[g&255])^c[p++];t=(f[k>>>24]<<24|f[n>>>16&255]<<16|f[g>>>8&255]<<8|f[h&255])^c[p++];n=(f[n>>>24]<<24|f[g>>>16&255]<<16|f[h>>>8&255]<<8|f[k&255])^c[p++];a[b]=q;a[b+1]=s;a[b+2]=t;a[b+3]=n},keySize:8});u.AES=p._createHelper(d)})();\n\n// Mode ECB\nCryptoJS.mode.ECB = (function () {\n    var ECB = CryptoJS.lib.BlockCipherMode.extend();\n\n    ECB.Encryptor = ECB.extend({\n        processBlock: function (words, offset) {\n            this._cipher.encryptBlock(words, offset);\n        }\n    });\n\n    ECB.Decryptor = ECB.extend({\n        processBlock: function (words, offset) {\n            this._cipher.decryptBlock(words, offset);\n        }\n    });\n\n    return ECB;\n}());// Moved to hmac-sha-256.js\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(8)(module)))\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Cache = (function () {\n    function Cache(storage, prefix) {\n        _classCallCheck(this, Cache);\n\n        this.setPrefix(prefix);\n        this._storage = storage;\n    }\n\n    _createClass(Cache, [{\n        key: 'setPrefix',\n        value: function setPrefix(prefix) {\n            this._prefix = prefix || Cache.defaultPrefix;\n            return this;\n        }\n    }, {\n        key: 'setItem',\n        value: function setItem(key, data) {\n            this._storage[this._prefixKey(key)] = JSON.stringify(data);\n            return this;\n        }\n    }, {\n        key: 'removeItem',\n        value: function removeItem(key) {\n            delete this._storage[this._prefixKey(key)];\n            return this;\n        }\n    }, {\n        key: 'getItem',\n        value: function getItem(key) {\n            var item = this._storage[this._prefixKey(key)];\n            if (!item) return null;\n            return JSON.parse(item);\n        }\n    }, {\n        key: 'clean',\n        value: function clean() {\n\n            for (var key in this._storage) {\n\n                if (!this._storage.hasOwnProperty(key)) continue;\n\n                if (key.indexOf(this._prefix) === 0) {\n                    delete this._storage[key];\n                }\n            }\n\n            return this;\n        }\n    }, {\n        key: '_prefixKey',\n        value: function _prefixKey(key) {\n            return this._prefix + key;\n        }\n    }]);\n\n    return Cache;\n})();\n\nCache.defaultPrefix = 'rc-';\nexports.default = Cache;\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Observable = (function () {\n    function Observable() {\n        _classCallCheck(this, Observable);\n\n        this.off();\n    }\n\n    _createClass(Observable, [{\n        key: 'hasListeners',\n        value: function hasListeners(event) {\n            return event in this._listeners;\n        }\n    }, {\n        key: 'on',\n        value: function on(events, callback) {\n            var _this = this;\n\n            if (typeof events == 'string') events = [events];\n            if (!events) throw new Error('No events to subscribe to');\n            if (typeof callback !== 'function') throw new Error('Callback must be a function');\n\n            events.forEach(function (event) {\n\n                if (!_this.hasListeners(event)) _this._listeners[event] = [];\n\n                _this._listeners[event].push(callback);\n            });\n\n            return this;\n        }\n    }, {\n        key: 'emit',\n        value: function emit(event) {\n            var _this2 = this;\n\n            for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n                args[_key - 1] = arguments[_key];\n            }\n\n            var result = null;\n\n            if (!this.hasListeners(event)) return null;\n\n            this._listeners[event].some(function (callback) {\n\n                result = callback.apply(_this2, args);\n                return result === false;\n            });\n\n            return result;\n        }\n    }, {\n        key: 'off',\n        value: function off(event, callback) {\n            var _this3 = this;\n\n            if (!event) {\n\n                this._listeners = {};\n            } else {\n\n                if (!callback) {\n\n                    delete this._listeners[event];\n                } else {\n\n                    if (!this.hasListeners(event)) return this;\n\n                    this._listeners[event].forEach(function (cb, i) {\n\n                        if (cb === callback) delete _this3._listeners[event][i];\n                    });\n                }\n            }\n\n            return this;\n        }\n    }]);\n\n    return Observable;\n})();\n\nexports.default = Observable;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Externals = __webpack_require__(4);\n\nvar _Utils = __webpack_require__(3);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Queue = (function () {\n    function Queue(cache, cacheId) {\n        _classCallCheck(this, Queue);\n\n        this._cache = cache;\n        this._cacheId = cacheId;\n        this._promise = null;\n    }\n\n    _createClass(Queue, [{\n        key: 'isPaused',\n        value: function isPaused() {\n\n            var time = this._cache.getItem(this._cacheId);\n\n            return !!time && Date.now() - parseInt(time) < Queue._releaseTimeout;\n        }\n    }, {\n        key: 'pause',\n        value: function pause() {\n            this._cache.setItem(this._cacheId, Date.now());\n            return this;\n        }\n    }, {\n        key: 'resume',\n        value: function resume() {\n            this._cache.removeItem(this._cacheId);\n            return this;\n        }\n    }, {\n        key: 'poll',\n        value: function poll() {\n            var _this = this;\n\n            if (this._promise) return this._promise;\n\n            this._promise = new _Externals.Promise(function (resolve, reject) {\n\n                (0, _Utils.poll)(function (next) {\n\n                    if (_this.isPaused()) return next();\n\n                    _this._promise = null;\n\n                    _this.resume(); // this is actually not needed but why not\n\n                    resolve(null);\n                }, Queue._pollInterval);\n            });\n\n            return this._promise;\n        }\n    }]);\n\n    return Queue;\n})();\n\nQueue._pollInterval = 250;\nQueue._releaseTimeout = 5000;\nexports.default = Queue;\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Externals = __webpack_require__(4);\n\nvar _Utils = __webpack_require__(3);\n\nvar _Utils2 = __webpack_require__(16);\n\nvar _Observable2 = __webpack_require__(13);\n\nvar _Observable3 = _interopRequireDefault(_Observable2);\n\nvar _ApiResponse = __webpack_require__(17);\n\nvar _ApiResponse2 = _interopRequireDefault(_ApiResponse);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new _Externals.Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { _Externals.Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Client = (function (_Observable) {\n    _inherits(Client, _Observable);\n\n    function Client() {\n        var _Object$getPrototypeO;\n\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, Client);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(Client)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.events = {\n            beforeRequest: 'beforeRequest',\n            requestSuccess: 'requestSuccess',\n            requestError: 'requestError'\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    _createClass(Client, [{\n        key: 'sendRequest',\n\n        /**\n         * @param {Request} request\n         * @return {Promise<ApiResponse>}\n         */\n        value: (function () {\n            var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(request) {\n                var apiResponse;\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                apiResponse = new _ApiResponse2.default(request);\n                                _context.prev = 1;\n\n                                //TODO Stop request if listeners return false\n                                this.emit(this.events.beforeRequest, apiResponse);\n\n                                _context.next = 5;\n                                return this._loadResponse(request);\n\n                            case 5:\n                                apiResponse._response = _context.sent;\n\n                                if (!(apiResponse._isMultipart() || apiResponse._isJson())) {\n                                    _context.next = 10;\n                                    break;\n                                }\n\n                                _context.next = 9;\n                                return apiResponse.response().text();\n\n                            case 9:\n                                apiResponse._text = _context.sent;\n\n                            case 10:\n                                if (apiResponse.ok()) {\n                                    _context.next = 12;\n                                    break;\n                                }\n\n                                throw new Error('Response has unsuccessful status');\n\n                            case 12:\n\n                                this.emit(this.events.requestSuccess, apiResponse);\n\n                                return _context.abrupt('return', apiResponse);\n\n                            case 16:\n                                _context.prev = 16;\n                                _context.t0 = _context['catch'](1);\n\n                                if (!_context.t0.apiResponse) _context.t0 = this.makeError(_context.t0, apiResponse);\n\n                                this.emit(this.events.requestError, _context.t0);\n\n                                throw _context.t0;\n\n                            case 21:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this, [[1, 16]]);\n            }));\n\n            return function sendRequest(_x) {\n                return ref.apply(this, arguments);\n            };\n        })()\n\n        /**\n         * @param {Request} request\n         * @return {Promise<Response>}\n         * @private\n         */\n\n    }, {\n        key: '_loadResponse',\n        value: (function () {\n            var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(request) {\n                return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                _context2.next = 2;\n                                return _Externals.fetch.call(null, request);\n\n                            case 2:\n                                return _context2.abrupt('return', _context2.sent);\n\n                            case 3:\n                            case 'end':\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, this);\n            }));\n\n            return function _loadResponse(_x2) {\n                return ref.apply(this, arguments);\n            };\n        })()\n\n        /**\n         * Wraps the JS Error object with transaction information\n         * @param {Error|IApiError} e\n         * @param {ApiResponse} apiResponse\n         * @return {IApiError}\n         */\n\n    }, {\n        key: 'makeError',\n        value: function makeError(e, apiResponse) {\n\n            // Wrap only if regular error\n            if (!e.hasOwnProperty('apiResponse') && !e.hasOwnProperty('originalMessage')) {\n\n                e.apiResponse = apiResponse;\n                e.originalMessage = e.message;\n                e.message = apiResponse && apiResponse.error(true) || e.originalMessage;\n            }\n\n            return e;\n        }\n\n        /**\n         *\n         * @param {object} init\n         * @param {object} [init.url]\n         * @param {object} [init.body]\n         * @param {string} [init.method]\n         * @param {object} [init.query]\n         * @param {object} [init.headers]\n         * @return {Request}\n         */\n\n    }, {\n        key: 'createRequest',\n        value: function createRequest(init) {\n\n            init = init || {};\n            init.headers = init.headers || {};\n\n            // Sanity checks\n            if (!init.url) throw new Error('Url is not defined');\n            if (!init.method) init.method = 'GET';\n            if (init.method && Client._allowedMethods.indexOf(init.method) < 0) throw new Error('Method has wrong value: ' + init.method);\n\n            // Defaults\n            init.credentials = init.credentials || 'include';\n            init.mode = init.mode || 'cors';\n\n            // Append Query String\n            if (init.query) {\n                init.url = init.url + (init.url.indexOf('?') > -1 ? '&' : '?') + (0, _Utils.queryStringify)(init.query);\n            }\n\n            if (!(0, _Utils2.findHeaderName)('Accept', init.headers)) {\n                init.headers['Accept'] = _ApiResponse2.default._jsonContentType;\n            }\n\n            // Serialize body\n            //TODO Check that body is a plain object\n            if (typeof init.body !== 'string' || !init.body) {\n\n                var contentTypeHeaderName = (0, _Utils2.findHeaderName)(_ApiResponse2.default._contentType, init.headers);\n\n                if (!contentTypeHeaderName) {\n                    contentTypeHeaderName = _ApiResponse2.default._contentType;\n                    init.headers[contentTypeHeaderName] = _ApiResponse2.default._jsonContentType;\n                }\n\n                var contentType = init.headers[contentTypeHeaderName];\n\n                // Assign a new encoded body\n                if (contentType.indexOf(_ApiResponse2.default._jsonContentType) > -1) {\n                    init.body = JSON.stringify(init.body);\n                } else if (contentType.indexOf(_ApiResponse2.default._urlencodedContentType) > -1) {\n                    init.body = (0, _Utils.queryStringify)(init.body);\n                }\n            }\n\n            // Create a request with encoded body\n            var req = new _Externals.Request(init.url, init);\n\n            // Keep the original body accessible directly (for mocks)\n            req.originalBody = init.body;\n\n            return req;\n        }\n    }]);\n\n    return Client;\n})(_Observable3.default);\n\n/**\n * @name IApiError\n * @property {string} stack\n * @property {string} originalMessage\n * @property {ApiResponse} apiResponse\n */\n\nClient._allowedMethods = ['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'OPTIONS', 'HEAD'];\nexports.default = Client;\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.createResponse = createResponse;\nexports.findHeaderName = findHeaderName;\n\nvar _Externals = __webpack_require__(4);\n\nvar _Utils = __webpack_require__(3);\n\nvar utils = _interopRequireWildcard(_Utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * Creates a response\n * @param stringBody\n * @param init\n * @return {Response}\n */\nfunction createResponse(stringBody, init) {\n\n    init = init || {};\n\n    var response = new _Externals.Response(stringBody, init);\n\n    //TODO Wait for https://github.com/bitinn/node-fetch/issues/38\n    if (utils.isNodeJS()) {\n\n        response._text = stringBody;\n        response._decode = function () {\n            return this._text;\n        };\n    }\n\n    return response;\n}\n\nfunction findHeaderName(name, headers) {\n    name = name.toLowerCase();\n    return Object.keys(headers).reduce(function (res, key) {\n        if (res) return res;\n        if (name == key.toLowerCase()) return key;\n        return res;\n    }, null);\n}\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Externals = __webpack_require__(4);\n\nvar _Utils = __webpack_require__(16);\n\nvar utils = _interopRequireWildcard(_Utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ApiResponse = (function () {\n\n    /**\n     * @param {Request} request\n     * @param {Response} response\n     * @param {string} responseText\n     */\n\n    function ApiResponse(request, response, responseText) {\n        _classCallCheck(this, ApiResponse);\n\n        /** @type {Request} */\n        this._request = request;\n\n        /** @type {Response} */\n        this._response = response;\n\n        this._text = responseText;\n        this._json = null;\n        this._multipart = [];\n    }\n\n    /**\n     * @return {Response}\n     */\n\n    _createClass(ApiResponse, [{\n        key: 'response',\n        value: function response() {\n            return this._response;\n        }\n\n        /**\n         * @return {Request}\n         */\n\n    }, {\n        key: 'request',\n        value: function request() {\n            return this._request;\n        }\n\n        /**\n         * @return {boolean}\n         */\n\n    }, {\n        key: 'ok',\n        value: function ok() {\n            return this._response && this._response.ok;\n        }\n\n        /**\n         * @return {string}\n         */\n\n    }, {\n        key: 'text',\n        value: function text() {\n            if (!this._isJson() && !this._isMultipart()) throw new Error('Response is not text');\n            return this._text;\n        }\n\n        /**\n         * @return {object}\n         */\n\n    }, {\n        key: 'json',\n        value: function json() {\n            if (!this._isJson()) throw new Error('Response is not JSON');\n            if (!this._json) {\n                this._json = this._text ? JSON.parse(this._text) : null;\n            }\n            return this._json;\n        }\n\n        /**\n         * @param [skipOKCheck]\n         * @return {string}\n         */\n\n    }, {\n        key: 'error',\n        value: function error(skipOKCheck) {\n\n            if (this.ok() && !skipOKCheck) return null;\n\n            var message = (this._response && this._response.status ? this._response.status + ' ' : '') + (this._response && this._response.statusText ? this._response.statusText : '');\n\n            try {\n\n                if (this.json().message) message = this.json().message;\n                if (this.json().error_description) message = this.json().error_description;\n                if (this.json().description) message = this.json().description;\n            } catch (e) {}\n\n            return message;\n        }\n\n        /**\n         * @return {ApiResponse[]}\n         */\n\n    }, {\n        key: 'multipart',\n        value: function multipart() {\n\n            if (!this._isMultipart()) throw new Error('Response is not multipart');\n\n            if (!this._multipart.length) {\n\n                // Step 1. Split multipart response\n\n                var text = this.text();\n\n                if (!text) throw new Error('No response body');\n\n                var boundary = this._getContentType().match(/boundary=([^;]+)/i)[1];\n\n                if (!boundary) throw new Error('Cannot find boundary');\n\n                var parts = text.toString().split(ApiResponse._boundarySeparator + boundary);\n\n                if (parts[0].trim() === '') parts.shift();\n                if (parts[parts.length - 1].trim() == ApiResponse._boundarySeparator) parts.pop();\n\n                if (parts.length < 1) throw new Error('No parts in body');\n\n                // Step 2. Parse status info\n\n                var statusInfo = ApiResponse.create(parts.shift(), this._response.status, this._response.statusText).json();\n\n                // Step 3. Parse all other parts\n\n                this._multipart = parts.map(function (part, i) {\n\n                    var status = statusInfo.response[i].status;\n\n                    return ApiResponse.create(part, status);\n                });\n            }\n\n            return this._multipart;\n        }\n    }, {\n        key: '_isContentType',\n        value: function _isContentType(contentType) {\n            return this._getContentType().indexOf(contentType) > -1;\n        }\n    }, {\n        key: '_getContentType',\n        value: function _getContentType() {\n            return this._response.headers.get(ApiResponse._contentType) || '';\n        }\n    }, {\n        key: '_isMultipart',\n        value: function _isMultipart() {\n            return this._isContentType(ApiResponse._multipartContentType);\n        }\n    }, {\n        key: '_isUrlEncoded',\n        value: function _isUrlEncoded() {\n            return this._isContentType(ApiResponse._urlencodedContentType);\n        }\n    }, {\n        key: '_isJson',\n        value: function _isJson() {\n            return this._isContentType(ApiResponse._jsonContentType);\n        }\n\n        /**\n         * Method is used to create ApiResponse object from string parts of multipart/mixed response\n         * @param {string} [text]\n         * @param {number} [status]\n         * @param {string} [statusText]\n         * @return {ApiResponse}\n         */\n\n    }], [{\n        key: 'create',\n        value: function create(text, status, statusText) {\n\n            text = text || '';\n            status = status || 200;\n            statusText = statusText || 'OK';\n\n            text = text.replace(/\\r/g, '');\n\n            var headers = new _Externals.Headers(),\n                headersAndBody = text.split(ApiResponse._bodySeparator),\n                headersText = headersAndBody.length > 1 ? headersAndBody.shift() : '';\n\n            text = headersAndBody.join(ApiResponse._bodySeparator);\n\n            (headersText || '').split('\\n').forEach(function (header) {\n\n                var split = header.trim().split(ApiResponse._headerSeparator),\n                    key = split.shift().trim(),\n                    value = split.join(ApiResponse._headerSeparator).trim();\n\n                if (key) headers.append(key, value);\n            });\n\n            return new ApiResponse(null, utils.createResponse(text, {\n                headers: headers,\n                status: status,\n                statusText: statusText\n            }), text);\n        }\n    }]);\n\n    return ApiResponse;\n})();\n\nApiResponse._contentType = 'Content-Type';\nApiResponse._jsonContentType = 'application/json';\nApiResponse._multipartContentType = 'multipart/mixed';\nApiResponse._urlencodedContentType = 'application/x-www-form-urlencoded';\nApiResponse._headerSeparator = ':';\nApiResponse._bodySeparator = '\\n\\n';\nApiResponse._boundarySeparator = '--';\nexports.default = ApiResponse;\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Registry = __webpack_require__(19);\n\nvar _Registry2 = _interopRequireDefault(_Registry);\n\nvar _Client = __webpack_require__(15);\n\nvar _Client2 = _interopRequireDefault(_Client);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Client = (function (_HttpClient) {\n    _inherits(Client, _HttpClient);\n\n    function Client() {\n        _classCallCheck(this, Client);\n\n        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Client).call(this));\n\n        _this._registry = new _Registry2.default();\n        return _this;\n    }\n\n    _createClass(Client, [{\n        key: 'registry',\n        value: function registry() {\n            return this._registry;\n        }\n    }, {\n        key: '_loadResponse',\n        value: (function () {\n            var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(request) {\n                var mock;\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                mock = this._registry.find(request);\n                                _context.next = 3;\n                                return mock.getResponse(request);\n\n                            case 3:\n                                return _context.abrupt('return', _context.sent);\n\n                            case 4:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this);\n            }));\n\n            return function _loadResponse(_x) {\n                return ref.apply(this, arguments);\n            };\n        })()\n    }]);\n\n    return Client;\n})(_Client2.default);\n\nexports.default = Client;\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Mock = __webpack_require__(20);\n\nvar _Mock2 = _interopRequireDefault(_Mock);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Registry = (function () {\n    function Registry() {\n        _classCallCheck(this, Registry);\n\n        this._mocks = [];\n    }\n\n    _createClass(Registry, [{\n        key: 'add',\n        value: function add(mock) {\n            this._mocks.push(mock);\n            return this;\n        }\n    }, {\n        key: 'clear',\n        value: function clear() {\n            this._mocks = [];\n            return this;\n        }\n    }, {\n        key: 'find',\n        value: function find(request) {\n\n            //console.log('Registry is looking for', request);\n\n            var mock = this._mocks.shift();\n\n            if (!mock) throw new Error('No mock in registry for request ' + request.method + ' ' + request.url);\n\n            if (!mock.test(request)) throw new Error('Wrong request ' + request.method + ' ' + request.url + ' for expected mock ' + mock.method() + ' ' + mock.path());\n\n            return mock;\n        }\n    }, {\n        key: 'apiCall',\n        value: function apiCall(method, path, response, status, statusText) {\n\n            this.add(new _Mock2.default(method, path, response, status, statusText));\n\n            return this;\n        }\n    }, {\n        key: 'authentication',\n        value: function authentication() {\n\n            this.apiCall('POST', '/restapi/oauth/token', {\n                'access_token': 'ACCESS_TOKEN',\n                'token_type': 'bearer',\n                'expires_in': 3600,\n                'refresh_token': 'REFRESH_TOKEN',\n                'refresh_token_expires_in': 60480,\n                'scope': 'SMS RCM Foo Boo',\n                'expireTime': new Date().getTime() + 3600000\n            });\n\n            return this;\n        }\n    }, {\n        key: 'logout',\n        value: function logout() {\n\n            this.apiCall('POST', '/restapi/oauth/revoke', {});\n\n            return this;\n        }\n    }, {\n        key: 'presenceLoad',\n        value: function presenceLoad(id) {\n\n            this.apiCall('GET', '/restapi/v1.0/account/~/extension/' + id + '/presence', {\n                \"uri\": \"https://platform.ringcentral.com/restapi/v1.0/account/123/extension/\" + id + \"/presence\",\n                \"extension\": {\n                    \"uri\": \"https://platform.ringcentral.com/restapi/v1.0/account/123/extension/\" + id,\n                    \"id\": id,\n                    \"extensionNumber\": \"101\"\n                },\n                \"activeCalls\": [],\n                \"presenceStatus\": \"Available\",\n                \"telephonyStatus\": \"Ringing\",\n                \"userStatus\": \"Available\",\n                \"dndStatus\": \"TakeAllCalls\",\n                \"extensionId\": id\n            });\n\n            return this;\n        }\n    }, {\n        key: 'subscribeGeneric',\n        value: function subscribeGeneric(expiresIn) {\n\n            expiresIn = expiresIn || 15 * 60 * 60;\n\n            var date = new Date();\n\n            this.apiCall('POST', '/restapi/v1.0/subscription', {\n                'eventFilters': ['/restapi/v1.0/account/~/extension/~/presence'],\n                'expirationTime': new Date(date.getTime() + expiresIn * 1000).toISOString(),\n                'expiresIn': expiresIn,\n                'deliveryMode': {\n                    'transportType': 'PubNub',\n                    'encryption': false,\n                    'address': '123_foo',\n                    'subscriberKey': 'sub-c-foo',\n                    'secretKey': 'sec-c-bar'\n                },\n                'id': 'foo-bar-baz',\n                'creationTime': date.toISOString(),\n                'status': 'Active',\n                'uri': 'https://platform.ringcentral.com/restapi/v1.0/subscription/foo-bar-baz'\n            });\n\n            return this;\n        }\n    }, {\n        key: 'subscribeOnPresence',\n        value: function subscribeOnPresence(id, detailed) {\n\n            id = id || '1';\n\n            var date = new Date();\n\n            this.apiCall('POST', '/restapi/v1.0/subscription', {\n                'eventFilters': ['/restapi/v1.0/account/~/extension/' + id + '/presence' + (detailed ? '?detailedTelephonyState=true' : '')],\n                'expirationTime': new Date(date.getTime() + 15 * 60 * 60 * 1000).toISOString(),\n                'deliveryMode': {\n                    'transportType': 'PubNub',\n                    'encryption': true,\n                    'address': '123_foo',\n                    'subscriberKey': 'sub-c-foo',\n                    'secretKey': 'sec-c-bar',\n                    'encryptionAlgorithm': 'AES',\n                    'encryptionKey': 'VQwb6EVNcQPBhE/JgFZ2zw=='\n                },\n                'creationTime': date.toISOString(),\n                'id': 'foo-bar-baz',\n                'status': 'Active',\n                'uri': 'https://platform.ringcentral.com/restapi/v1.0/subscription/foo-bar-baz'\n            });\n\n            return this;\n        }\n    }, {\n        key: 'tokenRefresh',\n        value: function tokenRefresh(failure) {\n\n            if (!failure) {\n\n                this.apiCall('POST', '/restapi/oauth/token', {\n                    'access_token': 'ACCESS_TOKEN_FROM_REFRESH',\n                    'token_type': 'bearer',\n                    'expires_in': 3600,\n                    'refresh_token': 'REFRESH_TOKEN_FROM_REFRESH',\n                    'refresh_token_expires_in': 60480,\n                    'scope': 'SMS RCM Foo Boo'\n                });\n            } else {\n\n                this.apiCall('POST', '/restapi/oauth/token', {\n                    'message': 'Wrong token',\n                    'error_description': 'Wrong token',\n                    'description': 'Wrong token'\n                }, 400);\n            }\n\n            return this;\n        }\n    }]);\n\n    return Registry;\n})();\n\nexports.default = Registry;\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _ApiResponse = __webpack_require__(17);\n\nvar _ApiResponse2 = _interopRequireDefault(_ApiResponse);\n\nvar _Utils = __webpack_require__(3);\n\nvar _Utils2 = __webpack_require__(16);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Mock = (function () {\n    function Mock(method, path, json, status, statusText, delay) {\n        _classCallCheck(this, Mock);\n\n        this._method = method.toUpperCase();\n        this._path = path;\n        this._json = json || {};\n        this._delay = delay || 10;\n        this._status = status || 200;\n        this._statusText = statusText || 'OK';\n    }\n\n    _createClass(Mock, [{\n        key: 'path',\n        value: function path() {\n            return this._path;\n        }\n    }, {\n        key: 'method',\n        value: function method() {\n            return this._method;\n        }\n    }, {\n        key: 'test',\n        value: function test(request) {\n\n            return request.url.indexOf(this._path) > -1 && request.method.toUpperCase() == this._method;\n        }\n    }, {\n        key: 'getResponse',\n        value: (function () {\n            var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(request) {\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                _context.next = 2;\n                                return (0, _Utils.delay)(this._delay);\n\n                            case 2:\n                                return _context.abrupt('return', this.createResponse(this._json));\n\n                            case 3:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this);\n            }));\n\n            return function getResponse(_x) {\n                return ref.apply(this, arguments);\n            };\n        })()\n    }, {\n        key: 'createResponse',\n        value: function createResponse(json, init) {\n\n            init = init || {};\n\n            init.status = init.status || this._status;\n            init.statusText = init.statusText || this._statusText;\n\n            var str = JSON.stringify(json),\n                res = (0, _Utils2.createResponse)(str, init);\n\n            res.headers.set(_ApiResponse2.default._contentType, _ApiResponse2.default._jsonContentType);\n\n            return res;\n        }\n    }]);\n\n    return Mock;\n})();\n\nexports.default = Mock;\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Observable2 = __webpack_require__(13);\n\nvar _Observable3 = _interopRequireDefault(_Observable2);\n\nvar _Queue = __webpack_require__(14);\n\nvar _Queue2 = _interopRequireDefault(_Queue);\n\nvar _Auth = __webpack_require__(22);\n\nvar _Auth2 = _interopRequireDefault(_Auth);\n\nvar _Externals = __webpack_require__(4);\n\nvar _Utils = __webpack_require__(3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new _Externals.Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { _Externals.Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Platform = (function (_Observable) {\n    _inherits(Platform, _Observable);\n\n    // 10 hours\n\n    function Platform(client, cache, server, appKey, appSecret) {\n        _classCallCheck(this, Platform);\n\n        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Platform).call(this));\n\n        _this.events = {\n            beforeLogin: 'beforeLogin',\n            loginSuccess: 'loginSuccess',\n            loginError: 'loginError',\n            beforeRefresh: 'beforeRefresh',\n            refreshSuccess: 'refreshSuccess',\n            refreshError: 'refreshError',\n            beforeLogout: 'beforeLogout',\n            logoutSuccess: 'logoutSuccess',\n            logoutError: 'logoutError'\n        };\n\n        _this._server = server;\n        _this._appKey = appKey;\n        _this._appSecret = appSecret;\n\n        /** @type {Cache} */\n        _this._cache = cache;\n\n        /** @type {Client} */\n        _this._client = client;\n\n        _this._queue = new _Queue2.default(_this._cache, Platform._cacheId + '-refresh');\n\n        _this._auth = new _Auth2.default(_this._cache, Platform._cacheId);\n\n        return _this;\n    }\n\n    /**\n     * @return {Auth}\n     */\n    // 1 week\n    // Platform server by default sets it to 60 * 60 = 1 hour\n\n    _createClass(Platform, [{\n        key: 'auth',\n        value: function auth() {\n            return this._auth;\n        }\n\n        /**\n         * @return {Client}\n         */\n\n    }, {\n        key: 'client',\n        value: function client() {\n            return this._client;\n        }\n\n        /**\n         * @param {string} path\n         * @param {object} [options]\n         * @param {boolean} [options.addServer]\n         * @param {string} [options.addMethod]\n         * @param {boolean} [options.addToken]\n         * @return {string}\n         */\n\n    }, {\n        key: 'createUrl',\n        value: function createUrl(path, options) {\n\n            path = path || '';\n            options = options || {};\n\n            var builtUrl = '',\n                hasHttp = path.indexOf('http://') != -1 || path.indexOf('https://') != -1;\n\n            if (options.addServer && !hasHttp) builtUrl += this._server;\n\n            if (path.indexOf(Platform._urlPrefix) == -1 && !hasHttp) builtUrl += Platform._urlPrefix + '/' + Platform._apiVersion;\n\n            builtUrl += path;\n\n            if (options.addMethod || options.addToken) builtUrl += path.indexOf('?') > -1 ? '&' : '?';\n\n            if (options.addMethod) builtUrl += '_method=' + options.addMethod;\n            if (options.addToken) builtUrl += (options.addMethod ? '&' : '') + 'access_token=' + this._auth.accessToken();\n\n            return builtUrl;\n        }\n\n        /**\n         * @param {string} options.redirectUri\n         * @param {string} options.state\n         * @param {string} options.brandId\n         * @param {string} options.display\n         * @param {string} options.prompt\n         * @return {string}\n         */\n\n    }, {\n        key: 'authUrl',\n        value: function authUrl(options) {\n\n            options = options || {};\n\n            return this.createUrl(Platform._authorizeEndpoint + '?' + (0, _Utils.queryStringify)({\n                'response_type': 'code',\n                'redirect_uri': options.redirectUri || '',\n                'client_id': this._appKey,\n                'state': options.state || '',\n                'brand_id': options.brandId || '',\n                'display': options.display || '',\n                'prompt': options.prompt || ''\n            }), { addServer: true });\n        }\n\n        /**\n         * @param {string} url\n         * @return {Object}\n         */\n\n    }, {\n        key: 'parseAuthRedirectUrl',\n        value: function parseAuthRedirectUrl(url) {\n\n            var qs = (0, _Utils.parseQueryString)(url.split('?').reverse()[0]),\n                error = qs.error_description || qs.error;\n\n            if (error) {\n                var e = new Error(error);\n                e.error = qs.error;\n                throw e;\n            }\n\n            return qs;\n        }\n\n        /**\n         * @return {Promise<boolean>}\n         */\n\n    }, {\n        key: 'loggedIn',\n        value: (function () {\n            var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                _context.prev = 0;\n                                _context.next = 3;\n                                return this._ensureAuthentication();\n\n                            case 3:\n                                return _context.abrupt('return', true);\n\n                            case 6:\n                                _context.prev = 6;\n                                _context.t0 = _context['catch'](0);\n                                return _context.abrupt('return', false);\n\n                            case 9:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this, [[0, 6]]);\n            }));\n\n            return function loggedIn() {\n                return ref.apply(this, arguments);\n            };\n        })()\n\n        /**\n         * @param {string} options.username\n         * @param {string} options.password\n         * @param {string} options.extension\n         * @param {string} options.code\n         * @param {string} options.redirectUri\n         * @param {string} options.endpointId\n         * @returns {Promise<ApiResponse>}\n         */\n\n    }, {\n        key: 'login',\n        value: (function () {\n            var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(options) {\n                var body, apiResponse, json;\n                return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                _context2.prev = 0;\n\n                                options = options || {};\n\n                                options.remember = options.remember || false;\n\n                                this.emit(this.events.beforeLogin);\n\n                                body = {\n                                    \"access_token_ttl\": Platform._accessTokenTtl,\n                                    \"refresh_token_ttl\": options.remember ? Platform._refreshTokenTtlRemember : Platform._refreshTokenTtl\n                                };\n\n                                if (!options.code) {\n\n                                    body.grant_type = 'password';\n                                    body.username = options.username;\n                                    body.password = options.password;\n                                    body.extension = options.extension || '';\n                                } else if (options.code) {\n\n                                    body.grant_type = 'authorization_code';\n                                    body.code = options.code;\n                                    body.redirect_uri = options.redirectUri;\n                                    //body.client_id = this.getCredentials().key; // not needed\n                                }\n\n                                if (options.endpointId) body.endpoint_id = options.endpointId;\n\n                                _context2.next = 9;\n                                return this._tokenRequest(Platform._tokenEndpoint, body);\n\n                            case 9:\n                                apiResponse = _context2.sent;\n                                json = apiResponse.json();\n\n                                this._auth.setData(json).setRemember(options.remember);\n\n                                this.emit(this.events.loginSuccess, apiResponse);\n\n                                return _context2.abrupt('return', apiResponse);\n\n                            case 16:\n                                _context2.prev = 16;\n                                _context2.t0 = _context2['catch'](0);\n\n                                this._cache.clean();\n\n                                this.emit(this.events.loginError, _context2.t0);\n\n                                throw _context2.t0;\n\n                            case 21:\n                            case 'end':\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, this, [[0, 16]]);\n            }));\n\n            return function login(_x) {\n                return ref.apply(this, arguments);\n            };\n        })()\n\n        /**\n         * @returns {Promise<ApiResponse>}\n         */\n\n    }, {\n        key: 'refresh',\n        value: (function () {\n            var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n                var res, json;\n                return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                    while (1) {\n                        switch (_context3.prev = _context3.next) {\n                            case 0:\n                                _context3.prev = 0;\n\n                                this.emit(this.events.beforeRefresh);\n\n                                if (!this._queue.isPaused()) {\n                                    _context3.next = 9;\n                                    break;\n                                }\n\n                                _context3.next = 5;\n                                return this._queue.poll();\n\n                            case 5:\n                                if (this._isAccessTokenValid()) {\n                                    _context3.next = 7;\n                                    break;\n                                }\n\n                                throw new Error('Automatic authentification timeout');\n\n                            case 7:\n\n                                this.emit(this.events.refreshSuccess, null);\n\n                                return _context3.abrupt('return', null);\n\n                            case 9:\n\n                                this._queue.pause();\n\n                                // Make sure all existing AJAX calls had a chance to reach the server\n                                _context3.next = 12;\n                                return (0, _Utils.delay)(Platform._refreshDelayMs);\n\n                            case 12:\n                                if (this._auth.refreshToken()) {\n                                    _context3.next = 14;\n                                    break;\n                                }\n\n                                throw new Error('Refresh token is missing');\n\n                            case 14:\n                                if (this._auth.refreshTokenValid()) {\n                                    _context3.next = 16;\n                                    break;\n                                }\n\n                                throw new Error('Refresh token has expired');\n\n                            case 16:\n                                if (this._queue.isPaused()) {\n                                    _context3.next = 18;\n                                    break;\n                                }\n\n                                throw new Error('Queue was resumed before refresh call');\n\n                            case 18:\n                                _context3.next = 20;\n                                return this._tokenRequest(Platform._tokenEndpoint, {\n                                    \"grant_type\": \"refresh_token\",\n                                    \"refresh_token\": this._auth.refreshToken(),\n                                    \"access_token_ttl\": Platform._accessTokenTtl,\n                                    \"refresh_token_ttl\": this._auth.remember() ? Platform._refreshTokenTtlRemember : Platform._refreshTokenTtl\n                                });\n\n                            case 20:\n                                res = _context3.sent;\n                                json = res.json();\n\n                                if (json.access_token) {\n                                    _context3.next = 24;\n                                    break;\n                                }\n\n                                throw this._client.makeError(new Error('Malformed OAuth response'), res);\n\n                            case 24:\n\n                                this._auth.setData(json);\n                                this._queue.resume();\n\n                                this.emit(this.events.refreshSuccess, res);\n\n                                return _context3.abrupt('return', res);\n\n                            case 30:\n                                _context3.prev = 30;\n                                _context3.t0 = _context3['catch'](0);\n\n                                _context3.t0 = this._client.makeError(_context3.t0);\n\n                                if (Platform._clearCacheOnRefreshError) {\n                                    this._cache.clean();\n                                }\n\n                                this.emit(this.events.refreshError, _context3.t0);\n\n                                throw _context3.t0;\n\n                            case 36:\n                            case 'end':\n                                return _context3.stop();\n                        }\n                    }\n                }, _callee3, this, [[0, 30]]);\n            }));\n\n            return function refresh() {\n                return ref.apply(this, arguments);\n            };\n        })()\n\n        /**\n         * @returns {Promise<ApiResponse>}\n         */\n\n    }, {\n        key: 'logout',\n        value: (function () {\n            var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n                var res;\n                return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                    while (1) {\n                        switch (_context4.prev = _context4.next) {\n                            case 0:\n                                _context4.prev = 0;\n\n                                this.emit(this.events.beforeLogout);\n\n                                this._queue.pause();\n\n                                _context4.next = 5;\n                                return this._tokenRequest(Platform._revokeEndpoint, {\n                                    token: this._auth.accessToken()\n                                });\n\n                            case 5:\n                                res = _context4.sent;\n\n                                this._queue.resume();\n                                this._cache.clean();\n\n                                this.emit(this.events.logoutSuccess, res);\n\n                                return _context4.abrupt('return', res);\n\n                            case 12:\n                                _context4.prev = 12;\n                                _context4.t0 = _context4['catch'](0);\n\n                                this._queue.resume();\n\n                                this.emit(this.events.logoutError, _context4.t0);\n\n                                throw _context4.t0;\n\n                            case 17:\n                            case 'end':\n                                return _context4.stop();\n                        }\n                    }\n                }, _callee4, this, [[0, 12]]);\n            }));\n\n            return function logout() {\n                return ref.apply(this, arguments);\n            };\n        })()\n\n        /**\n         * @param {Request} request\n         * @param {object} [options]\n         * @param {boolean} [options.skipAuthCheck]\n         * @return {Promise<Request>}\n         */\n\n    }, {\n        key: 'inflateRequest',\n        value: (function () {\n            var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee5(request, options) {\n                return regeneratorRuntime.wrap(function _callee5$(_context5) {\n                    while (1) {\n                        switch (_context5.prev = _context5.next) {\n                            case 0:\n\n                                options = options || {};\n\n                                if (!options.skipAuthCheck) {\n                                    _context5.next = 3;\n                                    break;\n                                }\n\n                                return _context5.abrupt('return', request);\n\n                            case 3:\n                                _context5.next = 5;\n                                return this._ensureAuthentication();\n\n                            case 5:\n\n                                request.headers.set('Authorization', this._authHeader());\n                                //request.url = this.createUrl(request.url, {addServer: true}); //FIXME Spec prevents this...\n\n                                //TODO Add User-Agent here\n\n                                return _context5.abrupt('return', request);\n\n                            case 7:\n                            case 'end':\n                                return _context5.stop();\n                        }\n                    }\n                }, _callee5, this);\n            }));\n\n            return function inflateRequest(_x2, _x3) {\n                return ref.apply(this, arguments);\n            };\n        })()\n\n        /**\n         * @param {Request} request\n         * @param {object} [options]\n         * @param {boolean} [options.skipAuthCheck]\n         * @return {Promise<ApiResponse>}\n         */\n\n    }, {\n        key: 'sendRequest',\n        value: (function () {\n            var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee6(request, options) {\n                return regeneratorRuntime.wrap(function _callee6$(_context6) {\n                    while (1) {\n                        switch (_context6.prev = _context6.next) {\n                            case 0:\n                                _context6.prev = 0;\n                                _context6.next = 3;\n                                return this.inflateRequest(request, options);\n\n                            case 3:\n                                request = _context6.sent;\n                                _context6.next = 6;\n                                return this._client.sendRequest(request);\n\n                            case 6:\n                                return _context6.abrupt('return', _context6.sent);\n\n                            case 9:\n                                _context6.prev = 9;\n                                _context6.t0 = _context6['catch'](0);\n\n                                if (!(!_context6.t0.apiResponse || !_context6.t0.apiResponse.response() || _context6.t0.apiResponse.response().status != 401)) {\n                                    _context6.next = 13;\n                                    break;\n                                }\n\n                                throw _context6.t0;\n\n                            case 13:\n\n                                this._auth.cancelAccessToken();\n\n                                _context6.next = 16;\n                                return this.sendRequest(request, options);\n\n                            case 16:\n                                return _context6.abrupt('return', _context6.sent);\n\n                            case 17:\n                            case 'end':\n                                return _context6.stop();\n                        }\n                    }\n                }, _callee6, this, [[0, 9]]);\n            }));\n\n            return function sendRequest(_x4, _x5) {\n                return ref.apply(this, arguments);\n            };\n        })()\n\n        /**\n         * General purpose function to send anything to server\n         * @param {string} options.url\n         * @param {object} [options.body]\n         * @param {string} [options.method]\n         * @param {object} [options.query]\n         * @param {object} [options.headers]\n         * @param {boolean} [options.skipAuthCheck]\n         * @return {Promise<ApiResponse>}\n         */\n\n    }, {\n        key: 'send',\n        value: (function () {\n            var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee7() {\n                var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n                return regeneratorRuntime.wrap(function _callee7$(_context7) {\n                    while (1) {\n                        switch (_context7.prev = _context7.next) {\n                            case 0:\n\n                                //FIXME https://github.com/bitinn/node-fetch/issues/43\n                                options.url = this.createUrl(options.url, { addServer: true });\n\n                                _context7.next = 3;\n                                return this.sendRequest(this._client.createRequest(options), options);\n\n                            case 3:\n                                return _context7.abrupt('return', _context7.sent);\n\n                            case 4:\n                            case 'end':\n                                return _context7.stop();\n                        }\n                    }\n                }, _callee7, this);\n            }));\n\n            return function send(_x6) {\n                return ref.apply(this, arguments);\n            };\n        })()\n\n        /**\n         * @param {string} url\n         * @param {object} [query]\n         * @param {object} [options]\n         * @param {object} [options.headers]\n         * @param {boolean} [options.skipAuthCheck]\n         * @return {Promise<ApiResponse>}\n         */\n\n    }, {\n        key: 'get',\n        value: (function () {\n            var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee8(url, query, options) {\n                return regeneratorRuntime.wrap(function _callee8$(_context8) {\n                    while (1) {\n                        switch (_context8.prev = _context8.next) {\n                            case 0:\n                                options = options || {};\n                                options.method = 'GET';\n                                options.url = url;\n                                options.query = query;\n                                _context8.next = 6;\n                                return this.send(options);\n\n                            case 6:\n                                return _context8.abrupt('return', _context8.sent);\n\n                            case 7:\n                            case 'end':\n                                return _context8.stop();\n                        }\n                    }\n                }, _callee8, this);\n            }));\n\n            return function get(_x8, _x9, _x10) {\n                return ref.apply(this, arguments);\n            };\n        })()\n\n        /**\n         * @param {string} url\n         * @param {object} body\n         * @param {object} [query]\n         * @param {object} [options]\n         * @param {object} [options.headers]\n         * @param {boolean} [options.skipAuthCheck]\n         * @return {Promise<ApiResponse>}\n         */\n\n    }, {\n        key: 'post',\n        value: (function () {\n            var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee9(url, body, query, options) {\n                return regeneratorRuntime.wrap(function _callee9$(_context9) {\n                    while (1) {\n                        switch (_context9.prev = _context9.next) {\n                            case 0:\n                                options = options || {};\n                                options.method = 'POST';\n                                options.url = url;\n                                options.query = query;\n                                options.body = body;\n                                _context9.next = 7;\n                                return this.send(options);\n\n                            case 7:\n                                return _context9.abrupt('return', _context9.sent);\n\n                            case 8:\n                            case 'end':\n                                return _context9.stop();\n                        }\n                    }\n                }, _callee9, this);\n            }));\n\n            return function post(_x11, _x12, _x13, _x14) {\n                return ref.apply(this, arguments);\n            };\n        })()\n\n        /**\n         * @param {string} url\n         * @param {object} [body]\n         * @param {object} [query]\n         * @param {object} [options]\n         * @param {object} [options.headers]\n         * @param {boolean} [options.skipAuthCheck]\n         * @return {Promise<ApiResponse>}\n         */\n\n    }, {\n        key: 'put',\n        value: (function () {\n            var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee10(url, body, query, options) {\n                return regeneratorRuntime.wrap(function _callee10$(_context10) {\n                    while (1) {\n                        switch (_context10.prev = _context10.next) {\n                            case 0:\n                                options = options || {};\n                                options.method = 'PUT';\n                                options.url = url;\n                                options.query = query;\n                                options.body = body;\n                                _context10.next = 7;\n                                return this.send(options);\n\n                            case 7:\n                                return _context10.abrupt('return', _context10.sent);\n\n                            case 8:\n                            case 'end':\n                                return _context10.stop();\n                        }\n                    }\n                }, _callee10, this);\n            }));\n\n            return function put(_x15, _x16, _x17, _x18) {\n                return ref.apply(this, arguments);\n            };\n        })()\n\n        /**\n         * @param {string} url\n         * @param {string} [query]\n         * @param {object} [options]\n         * @param {object} [options.headers]\n         * @param {boolean} [options.skipAuthCheck]\n         * @return {Promise<ApiResponse>}\n         */\n\n    }, {\n        key: 'delete',\n        value: (function () {\n            var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee11(url, query, options) {\n                return regeneratorRuntime.wrap(function _callee11$(_context11) {\n                    while (1) {\n                        switch (_context11.prev = _context11.next) {\n                            case 0:\n                                options = options || {};\n                                options.method = 'DELETE';\n                                options.url = url;\n                                options.query = query;\n                                _context11.next = 6;\n                                return this.send(options);\n\n                            case 6:\n                                return _context11.abrupt('return', _context11.sent);\n\n                            case 7:\n                            case 'end':\n                                return _context11.stop();\n                        }\n                    }\n                }, _callee11, this);\n            }));\n\n            return function _delete(_x19, _x20, _x21) {\n                return ref.apply(this, arguments);\n            };\n        })()\n    }, {\n        key: '_tokenRequest',\n        value: (function () {\n            var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee12(path, body) {\n                return regeneratorRuntime.wrap(function _callee12$(_context12) {\n                    while (1) {\n                        switch (_context12.prev = _context12.next) {\n                            case 0:\n                                _context12.next = 2;\n                                return this.send({\n                                    url: path,\n                                    skipAuthCheck: true,\n                                    body: body,\n                                    method: 'POST',\n                                    headers: {\n                                        'Authorization': 'Basic ' + this._apiKey(),\n                                        'Content-Type': 'application/x-www-form-urlencoded'\n                                    }\n                                });\n\n                            case 2:\n                                return _context12.abrupt('return', _context12.sent);\n\n                            case 3:\n                            case 'end':\n                                return _context12.stop();\n                        }\n                    }\n                }, _callee12, this);\n            }));\n\n            return function _tokenRequest(_x22, _x23) {\n                return ref.apply(this, arguments);\n            };\n        })()\n    }, {\n        key: '_ensureAuthentication',\n        value: (function () {\n            var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee13() {\n                return regeneratorRuntime.wrap(function _callee13$(_context13) {\n                    while (1) {\n                        switch (_context13.prev = _context13.next) {\n                            case 0:\n                                if (!this._isAccessTokenValid()) {\n                                    _context13.next = 2;\n                                    break;\n                                }\n\n                                return _context13.abrupt('return', null);\n\n                            case 2:\n                                _context13.next = 4;\n                                return this.refresh();\n\n                            case 4:\n                                return _context13.abrupt('return', _context13.sent);\n\n                            case 5:\n                            case 'end':\n                                return _context13.stop();\n                        }\n                    }\n                }, _callee13, this);\n            }));\n\n            return function _ensureAuthentication() {\n                return ref.apply(this, arguments);\n            };\n        })()\n    }, {\n        key: '_isAccessTokenValid',\n        value: function _isAccessTokenValid() {\n\n            return this._auth.accessTokenValid() && !this._queue.isPaused();\n        }\n    }, {\n        key: '_apiKey',\n        value: function _apiKey() {\n            var apiKey = this._appKey + ':' + this._appSecret;\n            return typeof btoa == 'function' ? btoa(apiKey) : new Buffer(apiKey).toString('base64');\n        }\n    }, {\n        key: '_authHeader',\n        value: function _authHeader() {\n            var token = this._auth.accessToken();\n            return this._auth.tokenType() + (token ? ' ' + token : '');\n        }\n    }]);\n\n    return Platform;\n})(_Observable3.default);\n\nPlatform._urlPrefix = '/restapi';\nPlatform._apiVersion = 'v1.0';\nPlatform._accessTokenTtl = null;\nPlatform._refreshTokenTtl = 10 * 60 * 60;\nPlatform._refreshTokenTtlRemember = 7 * 24 * 60 * 60;\nPlatform._tokenEndpoint = '/restapi/oauth/token';\nPlatform._revokeEndpoint = '/restapi/oauth/revoke';\nPlatform._authorizeEndpoint = '/restapi/oauth/authorize';\nPlatform._refreshDelayMs = 100;\nPlatform._cacheId = 'platform';\nPlatform._clearCacheOnRefreshError = true;\nexports.default = Platform;\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Auth = (function () {\n    function Auth(cache, cacheId) {\n        _classCallCheck(this, Auth);\n\n        /** @type {Cache} */\n        this._cache = cache;\n        this._cacheId = cacheId;\n    } // 1 minute\n\n    _createClass(Auth, [{\n        key: 'accessToken',\n        value: function accessToken() {\n            return this.data().access_token;\n        }\n    }, {\n        key: 'refreshToken',\n        value: function refreshToken() {\n            return this.data().refresh_token;\n        }\n    }, {\n        key: 'tokenType',\n        value: function tokenType() {\n            return this.data().token_type;\n        }\n\n        /**\n         * @return {{token_type: string, access_token: string, expires_in: number, refresh_token: string, refresh_token_expires_in: number}}\n         */\n\n    }, {\n        key: 'data',\n        value: function data() {\n\n            return this._cache.getItem(this._cacheId) || {\n                token_type: '',\n                access_token: '',\n                expires_in: 0,\n                refresh_token: '',\n                refresh_token_expires_in: 0\n            };\n        }\n\n        /**\n         * @param {object} newData\n         * @return {Auth}\n         */\n\n    }, {\n        key: 'setData',\n        value: function setData(newData) {\n\n            newData = newData || {};\n\n            var data = this.data();\n\n            Object.keys(newData).forEach(function (key) {\n                data[key] = newData[key];\n            });\n\n            data.expire_time = Date.now() + data.expires_in * 1000;\n            data.refresh_token_expire_time = Date.now() + data.refresh_token_expires_in * 1000;\n\n            this._cache.setItem(this._cacheId, data);\n\n            return this;\n        }\n\n        /**\n         * Check if there is a valid (not expired) access token\n         * @return {boolean}\n         */\n\n    }, {\n        key: 'accessTokenValid',\n        value: function accessTokenValid() {\n\n            var authData = this.data();\n            return authData.token_type === Auth.forcedTokenType || authData.expire_time - Auth.refreshHandicapMs > Date.now();\n        }\n\n        /**\n         * Check if there is a valid (not expired) access token\n         * @return {boolean}\n         */\n\n    }, {\n        key: 'refreshTokenValid',\n        value: function refreshTokenValid() {\n\n            return this.data().refresh_token_expire_time > Date.now();\n        }\n\n        /**\n         * @return {Auth}\n         */\n\n    }, {\n        key: 'cancelAccessToken',\n        value: function cancelAccessToken() {\n\n            return this.setData({\n                access_token: '',\n                expires_in: 0\n            });\n        }\n\n        /**\n         * This method sets a special authentication mode used in Service Web\n         * @return {Auth}\n         */\n\n    }, {\n        key: 'forceAuthentication',\n        value: function forceAuthentication() {\n\n            this.setData({\n                token_type: Auth.forcedTokenType,\n                access_token: '',\n                expires_in: 0,\n                refresh_token: '',\n                refresh_token_expires_in: 0\n            });\n\n            return this;\n        }\n\n        /**\n         * @param remember\n         * @return {Auth}\n         */\n\n    }, {\n        key: 'setRemember',\n        value: function setRemember(remember) {\n\n            return this.setData({ remember: remember });\n        }\n\n        /**\n         * @return {boolean}\n         */\n\n    }, {\n        key: 'remember',\n        value: function remember() {\n\n            return !!this.data().remember;\n        }\n    }]);\n\n    return Auth;\n})();\n\n//export interface IAuthData {\n//    remember?:boolean;\n//    token_type?:string;\n//    access_token?:string;\n//    expires_in?:number; // actually it's string\n//    expire_time?:number;\n//    refresh_token?:string;\n//    refresh_token_expires_in?:number; // actually it's string\n//    refresh_token_expire_time?:number;\n//    scope?:string;\n//}\n\nAuth.refreshHandicapMs = 60 * 1000;\nAuth.forcedTokenType = 'forced';\nexports.default = Auth;\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _PubnubMock = __webpack_require__(24);\n\nvar _PubnubMock2 = _interopRequireDefault(_PubnubMock);\n\nvar _Externals = __webpack_require__(4);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar PubnubMockFactory = (function () {\n    function PubnubMockFactory() {\n        _classCallCheck(this, PubnubMockFactory);\n\n        this.crypto_obj = _Externals.PUBNUB.crypto_obj;\n    }\n\n    _createClass(PubnubMockFactory, [{\n        key: 'init',\n        value: function init(options) {\n            return new _PubnubMock2.default(options);\n        }\n    }]);\n\n    return PubnubMockFactory;\n})();\n\nexports.default = PubnubMockFactory;\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Observable2 = __webpack_require__(13);\n\nvar _Observable3 = _interopRequireDefault(_Observable2);\n\nvar _Externals = __webpack_require__(4);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PubnubMock = (function (_Observable) {\n    _inherits(PubnubMock, _Observable);\n\n    function PubnubMock(options) {\n        _classCallCheck(this, PubnubMock);\n\n        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(PubnubMock).call(this));\n\n        _this.options = options;\n        _this.crypto_obj = _Externals.PUBNUB.crypto_obj;\n        return _this;\n    }\n\n    _createClass(PubnubMock, [{\n        key: 'ready',\n        value: function ready() {}\n    }, {\n        key: 'subscribe',\n        value: function subscribe(options) {\n            this.on('message-' + options.channel, options.message);\n        }\n    }, {\n        key: 'unsubscribe',\n        value: function unsubscribe(options) {\n            this.off('message-' + options.channel);\n        }\n    }, {\n        key: 'receiveMessage',\n        value: function receiveMessage(msg, channel) {\n            this.emit('message-' + channel, msg, 'env', channel);\n        }\n    }]);\n\n    return PubnubMock;\n})(_Observable3.default);\n\nexports.default = PubnubMock;\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Observable2 = __webpack_require__(13);\n\nvar _Observable3 = _interopRequireDefault(_Observable2);\n\nvar _Client = __webpack_require__(15);\n\nvar _Client2 = _interopRequireDefault(_Client);\n\nvar _Utils = __webpack_require__(3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Subscription = (function (_Observable) {\n    _inherits(Subscription, _Observable);\n\n    function Subscription(pubnubFactory, platform) {\n        _classCallCheck(this, Subscription);\n\n        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Subscription).call(this));\n\n        _this.events = {\n            notification: 'notification',\n            removeSuccess: 'removeSuccess',\n            removeError: 'removeError',\n            renewSuccess: 'renewSuccess',\n            renewError: 'renewError',\n            subscribeSuccess: 'subscribeSuccess',\n            subscribeError: 'subscribeError'\n        };\n\n        _this._pubnubFactory = pubnubFactory;\n        _this._platform = platform;\n        _this._pubnub = null;\n        _this._timeout = null;\n        _this._subscription = {};\n\n        return _this;\n    }\n\n    _createClass(Subscription, [{\n        key: 'subscribed',\n        value: function subscribed() {\n\n            return !!(this._subscription.id && this._subscription.deliveryMode && this._subscription.deliveryMode.subscriberKey && this._subscription.deliveryMode.address);\n        }\n\n        /**\n         * @return {boolean}\n         */\n\n    }, {\n        key: 'alive',\n        value: function alive() {\n\n            return this.subscribed() && Date.now() < this.expirationTime();\n        }\n    }, {\n        key: 'expirationTime',\n        value: function expirationTime() {\n            return new Date(this._subscription.expirationTime || 0).getTime() - Subscription._renewHandicapMs;\n        }\n    }, {\n        key: 'setSubscription',\n        value: function setSubscription(subscription) {\n\n            subscription = subscription || {};\n\n            this._clearTimeout();\n\n            this._subscription = subscription;\n\n            if (!this._pubnub) this._subscribeAtPubnub();\n\n            this._setTimeout();\n\n            return this;\n        }\n    }, {\n        key: 'subscription',\n        value: function subscription() {\n            return this._subscription;\n        }\n\n        /**\n         * Creates or updates subscription if there is an active one\n         * @returns {Promise<ApiResponse>}\n         */\n\n    }, {\n        key: 'register',\n        value: (function () {\n            var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                if (!this.alive()) {\n                                    _context.next = 6;\n                                    break;\n                                }\n\n                                _context.next = 3;\n                                return this.renew();\n\n                            case 3:\n                                return _context.abrupt('return', _context.sent);\n\n                            case 6:\n                                _context.next = 8;\n                                return this.subscribe();\n\n                            case 8:\n                                return _context.abrupt('return', _context.sent);\n\n                            case 9:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this);\n            }));\n\n            return function register() {\n                return ref.apply(this, arguments);\n            };\n        })()\n    }, {\n        key: 'eventFilters',\n        value: function eventFilters() {\n            return this._subscription.eventFilters || [];\n        }\n\n        /**\n         * @param {string[]} events\n         * @return {Subscription}\n         */\n\n    }, {\n        key: 'addEventFilters',\n        value: function addEventFilters(events) {\n            this.setEventFilters(this.eventFilters().concat(events));\n            return this;\n        }\n\n        /**\n         * @param {string[]} events\n         * @return {Subscription}\n         */\n\n    }, {\n        key: 'setEventFilters',\n        value: function setEventFilters(events) {\n            this._subscription.eventFilters = events;\n            return this;\n        }\n\n        /**\n         * @returns {Promise<ApiResponse>}\n         */\n\n    }, {\n        key: 'subscribe',\n        value: (function () {\n            var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n                var response, json;\n                return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                _context2.prev = 0;\n\n                                this._clearTimeout();\n\n                                if (this.eventFilters().length) {\n                                    _context2.next = 4;\n                                    break;\n                                }\n\n                                throw new Error('Events are undefined');\n\n                            case 4:\n                                _context2.next = 6;\n                                return this._platform.post('/restapi/v1.0/subscription', {\n                                    eventFilters: this._getFullEventFilters(),\n                                    deliveryMode: {\n                                        transportType: 'PubNub'\n                                    }\n                                });\n\n                            case 6:\n                                response = _context2.sent;\n                                json = response.json();\n\n                                this.setSubscription(json).emit(this.events.subscribeSuccess, response);\n\n                                return _context2.abrupt('return', response);\n\n                            case 12:\n                                _context2.prev = 12;\n                                _context2.t0 = _context2['catch'](0);\n\n                                _context2.t0 = this._platform.client().makeError(_context2.t0);\n\n                                this.reset().emit(this.events.subscribeError, _context2.t0);\n\n                                throw _context2.t0;\n\n                            case 17:\n                            case 'end':\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, this, [[0, 12]]);\n            }));\n\n            return function subscribe() {\n                return ref.apply(this, arguments);\n            };\n        })()\n\n        /**\n         * @returns {Promise<ApiResponse>}\n         */\n\n    }, {\n        key: 'renew',\n        value: (function () {\n            var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n                var response, json;\n                return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                    while (1) {\n                        switch (_context3.prev = _context3.next) {\n                            case 0:\n                                _context3.prev = 0;\n\n                                this._clearTimeout();\n\n                                if (this.alive()) {\n                                    _context3.next = 4;\n                                    break;\n                                }\n\n                                throw new Error('Subscription is not alive');\n\n                            case 4:\n                                if (this.eventFilters().length) {\n                                    _context3.next = 6;\n                                    break;\n                                }\n\n                                throw new Error('Events are undefined');\n\n                            case 6:\n                                _context3.next = 8;\n                                return this._platform.put('/restapi/v1.0/subscription/' + this._subscription.id, {\n                                    eventFilters: this._getFullEventFilters()\n                                });\n\n                            case 8:\n                                response = _context3.sent;\n                                json = response.json();\n\n                                this.setSubscription(json).emit(this.events.renewSuccess, response);\n\n                                return _context3.abrupt('return', response);\n\n                            case 14:\n                                _context3.prev = 14;\n                                _context3.t0 = _context3['catch'](0);\n\n                                _context3.t0 = this._platform.client().makeError(_context3.t0);\n\n                                this.reset().emit(this.events.renewError, _context3.t0);\n\n                                throw _context3.t0;\n\n                            case 19:\n                            case 'end':\n                                return _context3.stop();\n                        }\n                    }\n                }, _callee3, this, [[0, 14]]);\n            }));\n\n            return function renew() {\n                return ref.apply(this, arguments);\n            };\n        })()\n\n        /**\n         * @returns {Promise<ApiResponse>}\n         */\n\n    }, {\n        key: 'remove',\n        value: (function () {\n            var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n                var response;\n                return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                    while (1) {\n                        switch (_context4.prev = _context4.next) {\n                            case 0:\n                                _context4.prev = 0;\n\n                                if (this.subscribed()) {\n                                    _context4.next = 3;\n                                    break;\n                                }\n\n                                throw new Error('No subscription');\n\n                            case 3:\n                                _context4.next = 5;\n                                return this._platform.delete('/restapi/v1.0/subscription/' + this._subscription.id);\n\n                            case 5:\n                                response = _context4.sent;\n\n                                this.reset().emit(this.events.removeSuccess, response);\n\n                                return _context4.abrupt('return', response);\n\n                            case 10:\n                                _context4.prev = 10;\n                                _context4.t0 = _context4['catch'](0);\n\n                                _context4.t0 = this._platform.client().makeError(_context4.t0);\n\n                                this.emit(this.events.removeError, _context4.t0);\n\n                                throw _context4.t0;\n\n                            case 15:\n                            case 'end':\n                                return _context4.stop();\n                        }\n                    }\n                }, _callee4, this, [[0, 10]]);\n            }));\n\n            return function remove() {\n                return ref.apply(this, arguments);\n            };\n        })()\n\n        /**\n         * @returns {Promise<ApiResponse>}\n         */\n\n    }, {\n        key: 'resubscribe',\n        value: function resubscribe() {\n\n            return this.reset().setEventFilters(this.eventFilters()).subscribe();\n        }\n\n        /**\n         * Remove subscription and disconnect from PUBNUB\n         * This method resets subscription at client side but backend is not notified\n         */\n\n    }, {\n        key: 'reset',\n        value: function reset() {\n            this._clearTimeout();\n            if (this.subscribed() && this._pubnub) this._pubnub.unsubscribe({ channel: this._subscription.deliveryMode.address });\n            this._subscription = {};\n            return this;\n        }\n    }, {\n        key: '_getFullEventFilters',\n        value: function _getFullEventFilters() {\n            var _this2 = this;\n\n            return this.eventFilters().map(function (event) {\n                return _this2._platform.createUrl(event);\n            });\n        }\n    }, {\n        key: '_setTimeout',\n        value: function _setTimeout() {\n            var _this3 = this;\n\n            this._clearTimeout();\n\n            if (!this.alive()) throw new Error('Subscription is not alive');\n\n            (0, _Utils.poll)(function (next) {\n\n                if (_this3.alive()) return next();\n\n                _this3.renew();\n            }, Subscription._pollInterval, this._timeout);\n\n            return this;\n        }\n    }, {\n        key: '_clearTimeout',\n        value: function _clearTimeout() {\n\n            (0, _Utils.stopPolling)(this._timeout);\n\n            return this;\n        }\n    }, {\n        key: '_decrypt',\n        value: function _decrypt(message) {\n\n            if (!this.subscribed()) throw new Error('No subscription');\n\n            if (this._subscription.deliveryMode.encryptionKey) {\n\n                var PUBNUB = this._pubnubFactory;\n\n                message = PUBNUB.crypto_obj.decrypt(message, this._subscription.deliveryMode.encryptionKey, {\n                    encryptKey: false,\n                    keyEncoding: 'base64',\n                    keyLength: 128,\n                    mode: 'ecb'\n                });\n            }\n\n            return message;\n        }\n    }, {\n        key: '_notify',\n        value: function _notify(message) {\n\n            this.emit(this.events.notification, this._decrypt(message));\n\n            return this;\n        }\n    }, {\n        key: '_subscribeAtPubnub',\n        value: function _subscribeAtPubnub() {\n\n            if (!this.alive()) throw new Error('Subscription is not alive');\n\n            var PUBNUB = this._pubnubFactory;\n\n            this._pubnub = PUBNUB.init({\n                ssl: true,\n                subscribe_key: this._subscription.deliveryMode.subscriberKey\n            });\n\n            this._pubnub.ready();\n\n            this._pubnub.subscribe({\n                channel: this._subscription.deliveryMode.address,\n                message: this._notify.bind(this),\n                connect: function connect() {}\n            });\n\n            return this;\n        }\n    }]);\n\n    return Subscription;\n})(_Observable3.default);\n\n//export interface ISubscription {\n//    id?:string;\n//    uri?: string;\n//    eventFilters?:string[];\n//    expirationTime?:string; // 2014-03-12T19:54:35.613Z\n//    expiresIn?:number;\n//    deliveryMode?: {\n//        transportType?:string;\n//        encryption?:boolean;\n//        address?:string;\n//        subscriberKey?:string;\n//        encryptionKey?:string;\n//        secretKey?:string;\n//    };\n//    creationTime?:string; // 2014-03-12T19:54:35.613Z\n//    status?:string; // Active\n//}\n\nSubscription._renewHandicapMs = 2 * 60 * 1000;\nSubscription._pollInterval = 10 * 1000;\nexports.default = Subscription;\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Subscription2 = __webpack_require__(25);\n\nvar _Subscription3 = _interopRequireDefault(_Subscription2);\n\nvar _Queue = __webpack_require__(14);\n\nvar _Queue2 = _interopRequireDefault(_Queue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CachedSubscription = (function (_Subscription) {\n    _inherits(CachedSubscription, _Subscription);\n\n    function CachedSubscription(pubnubFactory, platform, cache, cacheKey) {\n        _classCallCheck(this, CachedSubscription);\n\n        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(CachedSubscription).call(this, pubnubFactory, platform));\n\n        _this._cache = cache;\n        _this._cacheKey = cacheKey;\n        _this._renewQueue = new _Queue2.default(_this._cache, cacheKey + '-renew');\n        _this._resubscribeQueue = new _Queue2.default(_this._cache, cacheKey + '-resubscribe');\n\n        _this.events = _extends({}, _this.events, {\n            queuedRenewSuccess: 'queuedRenewSuccess',\n            queuedRenewError: 'queuedRenewError',\n            queuedResubscribeSuccess: 'queuedResubscribeSuccess',\n            queuedResubscribeError: 'queuedResubscribeError'\n        });\n\n        _this.on(_this.events.renewError, function () {\n            _this.resubscribe();\n        });\n\n        _this.on([_this.events.subscribeSuccess, _this.events.renewSuccess], function () {\n            _this._cache.setItem(_this._cacheKey, _this.subscription());\n        });\n\n        _this.on(_this.events.removeSuccess, function () {\n            _this._cache.removeItem(_this._cacheKey);\n        });\n\n        return _this;\n    }\n\n    /**\n     * TODO Combine with Platform.refresh and move elsewhere\n     * @param actionCb\n     * @param queue\n     * @param successEvent\n     * @param errorEvent\n     * @param errorMessage\n     * @return {*}\n     * @private\n     */\n\n    _createClass(CachedSubscription, [{\n        key: '_queue',\n        value: (function () {\n            var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(actionCb, queue, successEvent, errorEvent, errorMessage) {\n                var res;\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                _context.prev = 0;\n\n                                if (!queue.isPaused()) {\n                                    _context.next = 8;\n                                    break;\n                                }\n\n                                _context.next = 4;\n                                return queue.poll();\n\n                            case 4:\n                                if (this.alive()) {\n                                    _context.next = 6;\n                                    break;\n                                }\n\n                                throw new Error(errorMessage);\n\n                            case 6:\n\n                                this.emit(successEvent, null);\n\n                                return _context.abrupt('return', null);\n\n                            case 8:\n\n                                queue.pause();\n\n                                _context.next = 11;\n                                return actionCb.call(this);\n\n                            case 11:\n                                res = _context.sent;\n\n                                queue.resume();\n\n                                this.emit(successEvent, res);\n\n                                return _context.abrupt('return', res);\n\n                            case 17:\n                                _context.prev = 17;\n                                _context.t0 = _context['catch'](0);\n\n                                this.emit(errorEvent, _context.t0);\n\n                                throw _context.t0;\n\n                            case 21:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this, [[0, 17]]);\n            }));\n\n            return function _queue(_x, _x2, _x3, _x4, _x5) {\n                return ref.apply(this, arguments);\n            };\n        })()\n\n        /**\n         * @returns {Promise<ApiResponse>}\n         */\n\n    }, {\n        key: 'renew',\n        value: function renew() {\n\n            return this._queue(_get(Object.getPrototypeOf(CachedSubscription.prototype), 'renew', this), this._renewQueue, this.events.queuedRenewSuccess, this.events.queuedRenewError, 'Subscription is not alive after renew timeout');\n        }\n\n        /**\n         * @returns {Promise<ApiResponse>}\n         */\n\n    }, {\n        key: 'resubscribe',\n        value: function resubscribe() {\n\n            return this._queue(_get(Object.getPrototypeOf(CachedSubscription.prototype), 'resubscribe', this), this._resubscribeQueue, this.events.queuedResubscribeSuccess, this.events.queuedResubscribeError, 'Subscription is not alive after resubscribe timeout');\n        }\n\n        /**\n         * @param {string[]} events\n         * @return {CachedSubscription}\n         */\n\n    }, {\n        key: 'restore',\n        value: function restore(events) {\n\n            var cachedSubscriptionData = this._cache.getItem(this._cacheKey);\n\n            if (cachedSubscriptionData) {\n                try {\n                    this.setSubscription(cachedSubscriptionData);\n                } catch (e) {}\n            } else {\n                this.setEventFilters(events);\n            }\n\n            return this;\n        }\n    }]);\n\n    return CachedSubscription;\n})(_Subscription3.default);\n\nexports.default = CachedSubscription;\n\n/***/ }\n/******/ ])\n});\n;\n"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 01bda1c79750940e5c4f\n **/","/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n * additional grant of patent rights can be found in the PATENTS file in\n * the same directory.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var hasOwn = Object.prototype.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var iteratorSymbol =\n    typeof Symbol === \"function\" && Symbol.iterator || \"@@iterator\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided, then outerFn.prototype instanceof Generator.\n    var generator = Object.create((outerFn || Generator).prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype;\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `value instanceof AwaitArgument` to determine if the yielded value is\n  // meant to be awaited. Some may consider the name of this method too\n  // cutesy, but they are curmudgeons.\n  runtime.awrap = function(arg) {\n    return new AwaitArgument(arg);\n  };\n\n  function AwaitArgument(arg) {\n    this.arg = arg;\n  }\n\n  function AsyncIterator(generator) {\n    // This invoke function is written in a style that assumes some\n    // calling function (or Promise) will handle exceptions.\n    function invoke(method, arg) {\n      var result = generator[method](arg);\n      var value = result.value;\n      return value instanceof AwaitArgument\n        ? Promise.resolve(value.arg).then(invokeNext, invokeThrow)\n        : Promise.resolve(value).then(function(unwrapped) {\n            // When a yielded Promise is resolved, its final value becomes\n            // the .value of the Promise<{value,done}> result for the\n            // current iteration. If the Promise is rejected, however, the\n            // result for this iteration will be rejected with the same\n            // reason. Note that rejections of yielded Promises are not\n            // thrown back into the generator function, as is the case\n            // when an awaited Promise is rejected. This difference in\n            // behavior between yield and await is important, because it\n            // allows the consumer to decide what to do with the yielded\n            // rejection (swallow it and continue, manually .throw it back\n            // into the generator, abandon iteration, whatever). With\n            // await, by contrast, there is no opportunity to examine the\n            // rejection reason outside the generator function, so the\n            // only option is to throw it from the await expression, and\n            // let the generator function handle the exception.\n            result.value = unwrapped;\n            return result;\n          });\n    }\n\n    if (typeof process === \"object\" && process.domain) {\n      invoke = process.domain.bind(invoke);\n    }\n\n    var invokeNext = invoke.bind(generator, \"next\");\n    var invokeThrow = invoke.bind(generator, \"throw\");\n    var invokeReturn = invoke.bind(generator, \"return\");\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return invoke(method, arg);\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : new Promise(function (resolve) {\n          resolve(callInvokeWithMethodAndArg());\n        });\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          if (method === \"return\" ||\n              (method === \"throw\" && delegate.iterator[method] === undefined)) {\n            // A return or throw (when the delegate iterator has no throw\n            // method) always terminates the yield* loop.\n            context.delegate = null;\n\n            // If the delegate iterator has a return method, give it a\n            // chance to clean up.\n            var returnMethod = delegate.iterator[\"return\"];\n            if (returnMethod) {\n              var record = tryCatch(returnMethod, delegate.iterator, arg);\n              if (record.type === \"throw\") {\n                // If the return method threw an exception, let that\n                // exception prevail over the original return or throw.\n                method = \"throw\";\n                arg = record.arg;\n                continue;\n              }\n            }\n\n            if (method === \"return\") {\n              // Continue with the outer return, now that the delegate\n              // iterator has been terminated.\n              continue;\n            }\n          }\n\n          var record = tryCatch(\n            delegate.iterator[method],\n            delegate.iterator,\n            arg\n          );\n\n          if (record.type === \"throw\") {\n            context.delegate = null;\n\n            // Like returning generator.throw(uncaught), but without the\n            // overhead of an extra function call.\n            method = \"throw\";\n            arg = record.arg;\n            continue;\n          }\n\n          // Delegate generator ran and handled its own exceptions so\n          // regardless of what the method was, we continue as if it is\n          // \"next\" with an undefined arg.\n          method = \"next\";\n          arg = undefined;\n\n          var info = record.arg;\n          if (info.done) {\n            context[delegate.resultName] = info.value;\n            context.next = delegate.nextLoc;\n          } else {\n            state = GenStateSuspendedYield;\n            return info;\n          }\n\n          context.delegate = null;\n        }\n\n        if (method === \"next\") {\n          context._sent = arg;\n\n          if (state === GenStateSuspendedYield) {\n            context.sent = arg;\n          } else {\n            context.sent = undefined;\n          }\n        } else if (method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw arg;\n          }\n\n          if (context.dispatchException(arg)) {\n            // If the dispatched exception was caught by a catch block,\n            // then let that catch block handle the exception normally.\n            method = \"next\";\n            arg = undefined;\n          }\n\n        } else if (method === \"return\") {\n          context.abrupt(\"return\", arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          var info = {\n            value: record.arg,\n            done: context.done\n          };\n\n          if (record.arg === ContinueSentinel) {\n            if (context.delegate && method === \"next\") {\n              // Deliberately forget the last sent value so that we don't\n              // accidentally pass it on to the delegate.\n              arg = undefined;\n            }\n          } else {\n            return info;\n          }\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(arg) call above.\n          method = \"throw\";\n          arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      this.sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n        return !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.next = finallyEntry.finallyLoc;\n      } else {\n        this.complete(record);\n      }\n\n      return ContinueSentinel;\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = record.arg;\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // Among the various tricks for obtaining a reference to the global\n  // object, this seems to be the most reliable technique that does not\n  // use indirect eval (which violates Content Security Policy).\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this\n);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-regenerator-runtime/runtime.js\n ** module id = 1\n ** module chunks = 0\n **/","import * as Utils from './core/Utils';\nimport Cache from './core/Cache';\nimport * as Externals from './core/Externals';\nimport Observable from './core/Observable';\nimport Queue from './core/Queue';\n\nimport Client from './http/Client';\nimport ApiResponse from './http/ApiResponse';\nimport * as HttpUtils from './http/Utils';\n\nimport {default as ClientMock} from './mocks/ClientMock';\nimport Mock from './mocks/Mock';\nimport Registry from './mocks/Registry';\n\nimport Platform from './platform/Platform';\nimport Auth from './platform/Auth';\n\nimport PubnubMockFactory from './pubnub/PubnubFactory';\n\nimport Subscription from './subscription/Subscription';\nimport CachedSubscription from './subscription/CachedSubscription';\n\nexport default class SDK {\n\n    static version = '2.0.1';\n\n    static server = {\n        sandbox: 'https://platform.devtest.ringcentral.com',\n        production: 'https://platform.ringcentral.com'\n    };\n\n    /**\n     * @constructor\n     * @param {object} [options]\n     * @param {string} [options.server]\n     * @param {string} [options.cachePrefix]\n     * @param {string} [options.appSecret]\n     * @param {string} [options.appKey]\n     * @param {string} [options.appName]\n     * @param {string} [options.appVersion]\n     * @param {string} [options.pubnubFactory]\n     * @param {string} [options.client]\n     */\n    constructor(options) {\n\n        options = options || {};\n\n        this._cache = new Cache(Externals.localStorage, options.cachePrefix);\n\n        this._client = options.client || new Client();\n\n        this._platform = new Platform(this._client, this._cache, options.server, options.appKey, options.appSecret);\n\n        this._pubnubFactory = options.pubnubFactory || Externals.PUBNUB;\n\n    }\n\n    /**\n     * @return {Platform}\n     */\n    platform() {\n        return this._platform;\n    }\n\n    /**\n     * @return {Subscription}\n     */\n    createSubscription() {\n        return new Subscription(this._pubnubFactory, this._platform);\n    }\n\n    /**\n     * @return {CachedSubscription}\n     */\n    createCachedSubscription(cacheKey) {\n        return new CachedSubscription(this._pubnubFactory, this._platform, this._cache, cacheKey);\n    }\n\n    /**\n     * @return {Cache}\n     */\n    cache() {\n        return this._cache;\n    }\n\n    static core = {\n        Cache: Cache,\n        Observable: Observable,\n        Utils: Utils,\n        Externals: Externals,\n        Queue: Queue\n    };\n\n    static http = {\n        Client: Client,\n        ApiResponse: ApiResponse,\n        Utils: HttpUtils\n    };\n\n    static platform = {\n        Auth: Auth,\n        Platform: Platform\n    };\n\n    static subscription = {\n        Subscription: Subscription\n    };\n\n    static mocks = {\n        Client: ClientMock,\n        Registry: Registry,\n        Mock: Mock\n    };\n\n    static pubnub = {\n        PubnubMockFactory: PubnubMockFactory\n    };\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/SDK.js\n **/","import {Promise} from './Externals.js';\n\n/**\n * TODO Replace with something better\n * @see https://github.com/joyent/node/blob/master/lib/querystring.js\n * @param {object} parameters\n * @returns {string}\n */\nexport function queryStringify(parameters) {\n\n    var array = [];\n\n    parameters = parameters || {};\n\n    Object.keys(parameters).forEach((k) => {\n\n        var v = parameters[k];\n\n        if (isArray(v)) {\n            v.forEach((vv) => {\n                array.push(encodeURIComponent(k) + '=' + encodeURIComponent(vv));\n            });\n        } else {\n            array.push(encodeURIComponent(k) + '=' + encodeURIComponent(v));\n        }\n\n    });\n\n    return array.join('&');\n\n}\n\n/**\n * TODO Replace with something better\n * @see https://github.com/joyent/node/blob/master/lib/querystring.js\n * @param {string} queryString\n * @returns {object}\n */\nexport function parseQueryString(queryString) {\n\n    var argsParsed = {};\n\n    queryString.split('&').forEach((arg) => {\n\n        arg = decodeURIComponent(arg);\n\n        if (arg.indexOf('=') == -1) {\n\n            argsParsed[arg.trim()] = true;\n\n        } else {\n\n            var pair = arg.split('='),\n                key = pair[0].trim(),\n                value = pair[1].trim();\n\n            if (key in argsParsed) {\n                if (key in argsParsed && !isArray(argsParsed[key])) argsParsed[key] = [argsParsed[key]];\n                argsParsed[key].push(value);\n            } else {\n                argsParsed[key] = value;\n            }\n\n        }\n\n    });\n\n    return argsParsed;\n\n}\n\n/**\n * @param obj\n * @return {boolean}\n */\nexport function isFunction(obj) {\n    return typeof obj === \"function\";\n}\n\n/**\n * @param obj\n * @return {boolean}\n */\nexport function isArray(obj) {\n    return Array.isArray ? Array.isArray(obj) : typeof obj === \"array\";\n}\n\n/**\n * @param fn\n * @param interval\n * @param timeout\n */\nexport function poll(fn, interval, timeout) { //NodeJS.Timer|number\n\n    module.exports.stopPolling(timeout);\n\n    interval = interval || 1000;\n\n    var next = (delay) => {\n\n        delay = delay || interval;\n\n        interval = delay;\n\n        return setTimeout(() => {\n\n            fn(next, delay);\n\n        }, delay);\n\n    };\n\n    return next();\n\n}\n\nexport function stopPolling(timeout) {\n    if (timeout) clearTimeout(timeout);\n}\n\nexport function isNodeJS() {\n    return (typeof process !== 'undefined');\n}\n\nexport function isBrowser() {\n    return (typeof window !== 'undefined');\n}\n\nexport function delay(timeout) {\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n            resolve(null);\n        }, timeout);\n    });\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/Utils.js\n **/","import ES6Promise from 'es6-promise';\nimport nodeFetch from 'node-fetch';\nimport pubnub from 'pubnub';\n\nvar root = (new Function('return this'))();\n\nexport var Promise = (ES6Promise && ES6Promise.Promise) || root.Promise;\n\nexport var fetch = root.fetch || nodeFetch;\nexport var Request = root.Request || fetch.Request;\nexport var Response = root.Response || fetch.Response;\nexport var Headers = root.Headers || fetch.Headers;\n\nexport var PUBNUB = root.PUBNUB || pubnub;\n\nexport var localStorage = (typeof root.localStorage !== 'undefined') ? root.localStorage : {};\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/Externals.js\n **/","/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n * @version   2.2.0\n */\n\n(function() {\n    \"use strict\";\n    function lib$es6$promise$utils$$objectOrFunction(x) {\n      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n    }\n\n    function lib$es6$promise$utils$$isFunction(x) {\n      return typeof x === 'function';\n    }\n\n    function lib$es6$promise$utils$$isMaybeThenable(x) {\n      return typeof x === 'object' && x !== null;\n    }\n\n    var lib$es6$promise$utils$$_isArray;\n    if (!Array.isArray) {\n      lib$es6$promise$utils$$_isArray = function (x) {\n        return Object.prototype.toString.call(x) === '[object Array]';\n      };\n    } else {\n      lib$es6$promise$utils$$_isArray = Array.isArray;\n    }\n\n    var lib$es6$promise$utils$$isArray = lib$es6$promise$utils$$_isArray;\n    var lib$es6$promise$asap$$len = 0;\n    var lib$es6$promise$asap$$toString = {}.toString;\n    var lib$es6$promise$asap$$vertxNext;\n    var lib$es6$promise$asap$$customSchedulerFn;\n\n    function lib$es6$promise$asap$$asap(callback, arg) {\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len] = callback;\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len + 1] = arg;\n      lib$es6$promise$asap$$len += 2;\n      if (lib$es6$promise$asap$$len === 2) {\n        // If len is 2, that means that we need to schedule an async flush.\n        // If additional callbacks are queued before the queue is flushed, they\n        // will be processed by this flush that we are scheduling.\n        if (lib$es6$promise$asap$$customSchedulerFn) {\n          lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush);\n        } else {\n          lib$es6$promise$asap$$scheduleFlush();\n        }\n      }\n    }\n\n    var lib$es6$promise$asap$$default = lib$es6$promise$asap$$asap;\n    function lib$es6$promise$asap$$setScheduler(scheduleFn) {\n      lib$es6$promise$asap$$customSchedulerFn = scheduleFn;\n    }\n\n    var lib$es6$promise$asap$$browserWindow = (typeof window !== 'undefined') ? window : undefined;\n    var lib$es6$promise$asap$$browserGlobal = lib$es6$promise$asap$$browserWindow || {};\n    var lib$es6$promise$asap$$BrowserMutationObserver = lib$es6$promise$asap$$browserGlobal.MutationObserver || lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;\n    var lib$es6$promise$asap$$isNode = typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n    // test for web worker but not in IE10\n    var lib$es6$promise$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n      typeof importScripts !== 'undefined' &&\n      typeof MessageChannel !== 'undefined';\n\n    // node\n    function lib$es6$promise$asap$$useNextTick() {\n      var nextTick = process.nextTick;\n      // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n      // setImmediate should be used instead instead\n      var version = process.versions.node.match(/^(?:(\\d+)\\.)?(?:(\\d+)\\.)?(\\*|\\d+)$/);\n      if (Array.isArray(version) && version[1] === '0' && version[2] === '10') {\n        nextTick = setImmediate;\n      }\n      return function() {\n        nextTick(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    // vertx\n    function lib$es6$promise$asap$$useVertxTimer() {\n      return function() {\n        lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    function lib$es6$promise$asap$$useMutationObserver() {\n      var iterations = 0;\n      var observer = new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);\n      var node = document.createTextNode('');\n      observer.observe(node, { characterData: true });\n\n      return function() {\n        node.data = (iterations = ++iterations % 2);\n      };\n    }\n\n    // web worker\n    function lib$es6$promise$asap$$useMessageChannel() {\n      var channel = new MessageChannel();\n      channel.port1.onmessage = lib$es6$promise$asap$$flush;\n      return function () {\n        channel.port2.postMessage(0);\n      };\n    }\n\n    function lib$es6$promise$asap$$useSetTimeout() {\n      return function() {\n        setTimeout(lib$es6$promise$asap$$flush, 1);\n      };\n    }\n\n    var lib$es6$promise$asap$$queue = new Array(1000);\n    function lib$es6$promise$asap$$flush() {\n      for (var i = 0; i < lib$es6$promise$asap$$len; i+=2) {\n        var callback = lib$es6$promise$asap$$queue[i];\n        var arg = lib$es6$promise$asap$$queue[i+1];\n\n        callback(arg);\n\n        lib$es6$promise$asap$$queue[i] = undefined;\n        lib$es6$promise$asap$$queue[i+1] = undefined;\n      }\n\n      lib$es6$promise$asap$$len = 0;\n    }\n\n    function lib$es6$promise$asap$$attemptVertex() {\n      try {\n        var r = require;\n        var vertx = r('vertx');\n        lib$es6$promise$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext;\n        return lib$es6$promise$asap$$useVertxTimer();\n      } catch(e) {\n        return lib$es6$promise$asap$$useSetTimeout();\n      }\n    }\n\n    var lib$es6$promise$asap$$scheduleFlush;\n    // Decide what async method to use to triggering processing of queued callbacks:\n    if (lib$es6$promise$asap$$isNode) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useNextTick();\n    } else if (lib$es6$promise$asap$$BrowserMutationObserver) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMutationObserver();\n    } else if (lib$es6$promise$asap$$isWorker) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMessageChannel();\n    } else if (lib$es6$promise$asap$$browserWindow === undefined && typeof require === 'function') {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$attemptVertex();\n    } else {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useSetTimeout();\n    }\n\n    function lib$es6$promise$$internal$$noop() {}\n\n    var lib$es6$promise$$internal$$PENDING   = void 0;\n    var lib$es6$promise$$internal$$FULFILLED = 1;\n    var lib$es6$promise$$internal$$REJECTED  = 2;\n\n    var lib$es6$promise$$internal$$GET_THEN_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$selfFullfillment() {\n      return new TypeError(\"You cannot resolve a promise with itself\");\n    }\n\n    function lib$es6$promise$$internal$$cannotReturnOwn() {\n      return new TypeError('A promises callback cannot return that same promise.');\n    }\n\n    function lib$es6$promise$$internal$$getThen(promise) {\n      try {\n        return promise.then;\n      } catch(error) {\n        lib$es6$promise$$internal$$GET_THEN_ERROR.error = error;\n        return lib$es6$promise$$internal$$GET_THEN_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n      try {\n        then.call(value, fulfillmentHandler, rejectionHandler);\n      } catch(e) {\n        return e;\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleForeignThenable(promise, thenable, then) {\n       lib$es6$promise$asap$$default(function(promise) {\n        var sealed = false;\n        var error = lib$es6$promise$$internal$$tryThen(then, thenable, function(value) {\n          if (sealed) { return; }\n          sealed = true;\n          if (thenable !== value) {\n            lib$es6$promise$$internal$$resolve(promise, value);\n          } else {\n            lib$es6$promise$$internal$$fulfill(promise, value);\n          }\n        }, function(reason) {\n          if (sealed) { return; }\n          sealed = true;\n\n          lib$es6$promise$$internal$$reject(promise, reason);\n        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n        if (!sealed && error) {\n          sealed = true;\n          lib$es6$promise$$internal$$reject(promise, error);\n        }\n      }, promise);\n    }\n\n    function lib$es6$promise$$internal$$handleOwnThenable(promise, thenable) {\n      if (thenable._state === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, thenable._result);\n      } else if (thenable._state === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, thenable._result);\n      } else {\n        lib$es6$promise$$internal$$subscribe(thenable, undefined, function(value) {\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleMaybeThenable(promise, maybeThenable) {\n      if (maybeThenable.constructor === promise.constructor) {\n        lib$es6$promise$$internal$$handleOwnThenable(promise, maybeThenable);\n      } else {\n        var then = lib$es6$promise$$internal$$getThen(maybeThenable);\n\n        if (then === lib$es6$promise$$internal$$GET_THEN_ERROR) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$GET_THEN_ERROR.error);\n        } else if (then === undefined) {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        } else if (lib$es6$promise$utils$$isFunction(then)) {\n          lib$es6$promise$$internal$$handleForeignThenable(promise, maybeThenable, then);\n        } else {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        }\n      }\n    }\n\n    function lib$es6$promise$$internal$$resolve(promise, value) {\n      if (promise === value) {\n        lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$selfFullfillment());\n      } else if (lib$es6$promise$utils$$objectOrFunction(value)) {\n        lib$es6$promise$$internal$$handleMaybeThenable(promise, value);\n      } else {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publishRejection(promise) {\n      if (promise._onerror) {\n        promise._onerror(promise._result);\n      }\n\n      lib$es6$promise$$internal$$publish(promise);\n    }\n\n    function lib$es6$promise$$internal$$fulfill(promise, value) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\n      promise._result = value;\n      promise._state = lib$es6$promise$$internal$$FULFILLED;\n\n      if (promise._subscribers.length !== 0) {\n        lib$es6$promise$asap$$default(lib$es6$promise$$internal$$publish, promise);\n      }\n    }\n\n    function lib$es6$promise$$internal$$reject(promise, reason) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n      promise._state = lib$es6$promise$$internal$$REJECTED;\n      promise._result = reason;\n\n      lib$es6$promise$asap$$default(lib$es6$promise$$internal$$publishRejection, promise);\n    }\n\n    function lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n      var subscribers = parent._subscribers;\n      var length = subscribers.length;\n\n      parent._onerror = null;\n\n      subscribers[length] = child;\n      subscribers[length + lib$es6$promise$$internal$$FULFILLED] = onFulfillment;\n      subscribers[length + lib$es6$promise$$internal$$REJECTED]  = onRejection;\n\n      if (length === 0 && parent._state) {\n        lib$es6$promise$asap$$default(lib$es6$promise$$internal$$publish, parent);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publish(promise) {\n      var subscribers = promise._subscribers;\n      var settled = promise._state;\n\n      if (subscribers.length === 0) { return; }\n\n      var child, callback, detail = promise._result;\n\n      for (var i = 0; i < subscribers.length; i += 3) {\n        child = subscribers[i];\n        callback = subscribers[i + settled];\n\n        if (child) {\n          lib$es6$promise$$internal$$invokeCallback(settled, child, callback, detail);\n        } else {\n          callback(detail);\n        }\n      }\n\n      promise._subscribers.length = 0;\n    }\n\n    function lib$es6$promise$$internal$$ErrorObject() {\n      this.error = null;\n    }\n\n    var lib$es6$promise$$internal$$TRY_CATCH_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$tryCatch(callback, detail) {\n      try {\n        return callback(detail);\n      } catch(e) {\n        lib$es6$promise$$internal$$TRY_CATCH_ERROR.error = e;\n        return lib$es6$promise$$internal$$TRY_CATCH_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$invokeCallback(settled, promise, callback, detail) {\n      var hasCallback = lib$es6$promise$utils$$isFunction(callback),\n          value, error, succeeded, failed;\n\n      if (hasCallback) {\n        value = lib$es6$promise$$internal$$tryCatch(callback, detail);\n\n        if (value === lib$es6$promise$$internal$$TRY_CATCH_ERROR) {\n          failed = true;\n          error = value.error;\n          value = null;\n        } else {\n          succeeded = true;\n        }\n\n        if (promise === value) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$cannotReturnOwn());\n          return;\n        }\n\n      } else {\n        value = detail;\n        succeeded = true;\n      }\n\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) {\n        // noop\n      } else if (hasCallback && succeeded) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      } else if (failed) {\n        lib$es6$promise$$internal$$reject(promise, error);\n      } else if (settled === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      } else if (settled === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$initializePromise(promise, resolver) {\n      try {\n        resolver(function resolvePromise(value){\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function rejectPromise(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      } catch(e) {\n        lib$es6$promise$$internal$$reject(promise, e);\n      }\n    }\n\n    function lib$es6$promise$enumerator$$Enumerator(Constructor, input) {\n      var enumerator = this;\n\n      enumerator._instanceConstructor = Constructor;\n      enumerator.promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (enumerator._validateInput(input)) {\n        enumerator._input     = input;\n        enumerator.length     = input.length;\n        enumerator._remaining = input.length;\n\n        enumerator._init();\n\n        if (enumerator.length === 0) {\n          lib$es6$promise$$internal$$fulfill(enumerator.promise, enumerator._result);\n        } else {\n          enumerator.length = enumerator.length || 0;\n          enumerator._enumerate();\n          if (enumerator._remaining === 0) {\n            lib$es6$promise$$internal$$fulfill(enumerator.promise, enumerator._result);\n          }\n        }\n      } else {\n        lib$es6$promise$$internal$$reject(enumerator.promise, enumerator._validationError());\n      }\n    }\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._validateInput = function(input) {\n      return lib$es6$promise$utils$$isArray(input);\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._validationError = function() {\n      return new Error('Array Methods must be provided an Array');\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._init = function() {\n      this._result = new Array(this.length);\n    };\n\n    var lib$es6$promise$enumerator$$default = lib$es6$promise$enumerator$$Enumerator;\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._enumerate = function() {\n      var enumerator = this;\n\n      var length  = enumerator.length;\n      var promise = enumerator.promise;\n      var input   = enumerator._input;\n\n      for (var i = 0; promise._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        enumerator._eachEntry(input[i], i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n      var enumerator = this;\n      var c = enumerator._instanceConstructor;\n\n      if (lib$es6$promise$utils$$isMaybeThenable(entry)) {\n        if (entry.constructor === c && entry._state !== lib$es6$promise$$internal$$PENDING) {\n          entry._onerror = null;\n          enumerator._settledAt(entry._state, i, entry._result);\n        } else {\n          enumerator._willSettleAt(c.resolve(entry), i);\n        }\n      } else {\n        enumerator._remaining--;\n        enumerator._result[i] = entry;\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n      var enumerator = this;\n      var promise = enumerator.promise;\n\n      if (promise._state === lib$es6$promise$$internal$$PENDING) {\n        enumerator._remaining--;\n\n        if (state === lib$es6$promise$$internal$$REJECTED) {\n          lib$es6$promise$$internal$$reject(promise, value);\n        } else {\n          enumerator._result[i] = value;\n        }\n      }\n\n      if (enumerator._remaining === 0) {\n        lib$es6$promise$$internal$$fulfill(promise, enumerator._result);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n      var enumerator = this;\n\n      lib$es6$promise$$internal$$subscribe(promise, undefined, function(value) {\n        enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED, i, value);\n      }, function(reason) {\n        enumerator._settledAt(lib$es6$promise$$internal$$REJECTED, i, reason);\n      });\n    };\n    function lib$es6$promise$promise$all$$all(entries) {\n      return new lib$es6$promise$enumerator$$default(this, entries).promise;\n    }\n    var lib$es6$promise$promise$all$$default = lib$es6$promise$promise$all$$all;\n    function lib$es6$promise$promise$race$$race(entries) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (!lib$es6$promise$utils$$isArray(entries)) {\n        lib$es6$promise$$internal$$reject(promise, new TypeError('You must pass an array to race.'));\n        return promise;\n      }\n\n      var length = entries.length;\n\n      function onFulfillment(value) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      }\n\n      function onRejection(reason) {\n        lib$es6$promise$$internal$$reject(promise, reason);\n      }\n\n      for (var i = 0; promise._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        lib$es6$promise$$internal$$subscribe(Constructor.resolve(entries[i]), undefined, onFulfillment, onRejection);\n      }\n\n      return promise;\n    }\n    var lib$es6$promise$promise$race$$default = lib$es6$promise$promise$race$$race;\n    function lib$es6$promise$promise$resolve$$resolve(object) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (object && typeof object === 'object' && object.constructor === Constructor) {\n        return object;\n      }\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$resolve(promise, object);\n      return promise;\n    }\n    var lib$es6$promise$promise$resolve$$default = lib$es6$promise$promise$resolve$$resolve;\n    function lib$es6$promise$promise$reject$$reject(reason) {\n      /*jshint validthis:true */\n      var Constructor = this;\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$reject(promise, reason);\n      return promise;\n    }\n    var lib$es6$promise$promise$reject$$default = lib$es6$promise$promise$reject$$reject;\n\n    var lib$es6$promise$promise$$counter = 0;\n\n    function lib$es6$promise$promise$$needsResolver() {\n      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n    }\n\n    function lib$es6$promise$promise$$needsNew() {\n      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n    }\n\n    var lib$es6$promise$promise$$default = lib$es6$promise$promise$$Promise;\n    /**\n      Promise objects represent the eventual result of an asynchronous operation. The\n      primary way of interacting with a promise is through its `then` method, which\n      registers callbacks to receive either a promises eventual value or the reason\n      why the promise cannot be fulfilled.\n\n      Terminology\n      -----------\n\n      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n      - `thenable` is an object or function that defines a `then` method.\n      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n      - `exception` is a value that is thrown using the throw statement.\n      - `reason` is a value that indicates why a promise was rejected.\n      - `settled` the final resting state of a promise, fulfilled or rejected.\n\n      A promise can be in one of three states: pending, fulfilled, or rejected.\n\n      Promises that are fulfilled have a fulfillment value and are in the fulfilled\n      state.  Promises that are rejected have a rejection reason and are in the\n      rejected state.  A fulfillment value is never a thenable.\n\n      Promises can also be said to *resolve* a value.  If this value is also a\n      promise, then the original promise's settled state will match the value's\n      settled state.  So a promise that *resolves* a promise that rejects will\n      itself reject, and a promise that *resolves* a promise that fulfills will\n      itself fulfill.\n\n\n      Basic Usage:\n      ------------\n\n      ```js\n      var promise = new Promise(function(resolve, reject) {\n        // on success\n        resolve(value);\n\n        // on failure\n        reject(reason);\n      });\n\n      promise.then(function(value) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Advanced Usage:\n      ---------------\n\n      Promises shine when abstracting away asynchronous interactions such as\n      `XMLHttpRequest`s.\n\n      ```js\n      function getJSON(url) {\n        return new Promise(function(resolve, reject){\n          var xhr = new XMLHttpRequest();\n\n          xhr.open('GET', url);\n          xhr.onreadystatechange = handler;\n          xhr.responseType = 'json';\n          xhr.setRequestHeader('Accept', 'application/json');\n          xhr.send();\n\n          function handler() {\n            if (this.readyState === this.DONE) {\n              if (this.status === 200) {\n                resolve(this.response);\n              } else {\n                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n              }\n            }\n          };\n        });\n      }\n\n      getJSON('/posts.json').then(function(json) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Unlike callbacks, promises are great composable primitives.\n\n      ```js\n      Promise.all([\n        getJSON('/posts'),\n        getJSON('/comments')\n      ]).then(function(values){\n        values[0] // => postsJSON\n        values[1] // => commentsJSON\n\n        return values;\n      });\n      ```\n\n      @class Promise\n      @param {function} resolver\n      Useful for tooling.\n      @constructor\n    */\n    function lib$es6$promise$promise$$Promise(resolver) {\n      this._id = lib$es6$promise$promise$$counter++;\n      this._state = undefined;\n      this._result = undefined;\n      this._subscribers = [];\n\n      if (lib$es6$promise$$internal$$noop !== resolver) {\n        if (!lib$es6$promise$utils$$isFunction(resolver)) {\n          lib$es6$promise$promise$$needsResolver();\n        }\n\n        if (!(this instanceof lib$es6$promise$promise$$Promise)) {\n          lib$es6$promise$promise$$needsNew();\n        }\n\n        lib$es6$promise$$internal$$initializePromise(this, resolver);\n      }\n    }\n\n    lib$es6$promise$promise$$Promise.all = lib$es6$promise$promise$all$$default;\n    lib$es6$promise$promise$$Promise.race = lib$es6$promise$promise$race$$default;\n    lib$es6$promise$promise$$Promise.resolve = lib$es6$promise$promise$resolve$$default;\n    lib$es6$promise$promise$$Promise.reject = lib$es6$promise$promise$reject$$default;\n    lib$es6$promise$promise$$Promise._setScheduler = lib$es6$promise$asap$$setScheduler;\n    lib$es6$promise$promise$$Promise._asap = lib$es6$promise$asap$$default;\n\n    lib$es6$promise$promise$$Promise.prototype = {\n      constructor: lib$es6$promise$promise$$Promise,\n\n    /**\n      The primary way of interacting with a promise is through its `then` method,\n      which registers callbacks to receive either a promise's eventual value or the\n      reason why the promise cannot be fulfilled.\n\n      ```js\n      findUser().then(function(user){\n        // user is available\n      }, function(reason){\n        // user is unavailable, and you are given the reason why\n      });\n      ```\n\n      Chaining\n      --------\n\n      The return value of `then` is itself a promise.  This second, 'downstream'\n      promise is resolved with the return value of the first promise's fulfillment\n      or rejection handler, or rejected if the handler throws an exception.\n\n      ```js\n      findUser().then(function (user) {\n        return user.name;\n      }, function (reason) {\n        return 'default name';\n      }).then(function (userName) {\n        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n        // will be `'default name'`\n      });\n\n      findUser().then(function (user) {\n        throw new Error('Found user, but still unhappy');\n      }, function (reason) {\n        throw new Error('`findUser` rejected and we're unhappy');\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n      });\n      ```\n      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n      ```js\n      findUser().then(function (user) {\n        throw new PedagogicalException('Upstream error');\n      }).then(function (value) {\n        // never reached\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // The `PedgagocialException` is propagated all the way down to here\n      });\n      ```\n\n      Assimilation\n      ------------\n\n      Sometimes the value you want to propagate to a downstream promise can only be\n      retrieved asynchronously. This can be achieved by returning a promise in the\n      fulfillment or rejection handler. The downstream promise will then be pending\n      until the returned promise is settled. This is called *assimilation*.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // The user's comments are now available\n      });\n      ```\n\n      If the assimliated promise rejects, then the downstream promise will also reject.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // If `findCommentsByAuthor` fulfills, we'll have the value here\n      }, function (reason) {\n        // If `findCommentsByAuthor` rejects, we'll have the reason here\n      });\n      ```\n\n      Simple Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var result;\n\n      try {\n        result = findResult();\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n      findResult(function(result, err){\n        if (err) {\n          // failure\n        } else {\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findResult().then(function(result){\n        // success\n      }, function(reason){\n        // failure\n      });\n      ```\n\n      Advanced Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var author, books;\n\n      try {\n        author = findAuthor();\n        books  = findBooksByAuthor(author);\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n\n      function foundBooks(books) {\n\n      }\n\n      function failure(reason) {\n\n      }\n\n      findAuthor(function(author, err){\n        if (err) {\n          failure(err);\n          // failure\n        } else {\n          try {\n            findBoooksByAuthor(author, function(books, err) {\n              if (err) {\n                failure(err);\n              } else {\n                try {\n                  foundBooks(books);\n                } catch(reason) {\n                  failure(reason);\n                }\n              }\n            });\n          } catch(error) {\n            failure(err);\n          }\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findAuthor().\n        then(findBooksByAuthor).\n        then(function(books){\n          // found books\n      }).catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method then\n      @param {Function} onFulfilled\n      @param {Function} onRejected\n      Useful for tooling.\n      @return {Promise}\n    */\n      then: function(onFulfillment, onRejection) {\n        var parent = this;\n        var state = parent._state;\n\n        if (state === lib$es6$promise$$internal$$FULFILLED && !onFulfillment || state === lib$es6$promise$$internal$$REJECTED && !onRejection) {\n          return this;\n        }\n\n        var child = new this.constructor(lib$es6$promise$$internal$$noop);\n        var result = parent._result;\n\n        if (state) {\n          var callback = arguments[state - 1];\n          lib$es6$promise$asap$$default(function(){\n            lib$es6$promise$$internal$$invokeCallback(state, child, callback, result);\n          });\n        } else {\n          lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n        }\n\n        return child;\n      },\n\n    /**\n      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n      as the catch block of a try/catch statement.\n\n      ```js\n      function findAuthor(){\n        throw new Error('couldn't find that author');\n      }\n\n      // synchronous\n      try {\n        findAuthor();\n      } catch(reason) {\n        // something went wrong\n      }\n\n      // async with promises\n      findAuthor().catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method catch\n      @param {Function} onRejection\n      Useful for tooling.\n      @return {Promise}\n    */\n      'catch': function(onRejection) {\n        return this.then(null, onRejection);\n      }\n    };\n    function lib$es6$promise$polyfill$$polyfill() {\n      var local;\n\n      if (typeof global !== 'undefined') {\n          local = global;\n      } else if (typeof self !== 'undefined') {\n          local = self;\n      } else {\n          try {\n              local = Function('return this')();\n          } catch (e) {\n              throw new Error('polyfill failed because global object is unavailable in this environment');\n          }\n      }\n\n      var P = local.Promise;\n\n      if (P && Object.prototype.toString.call(P.resolve()) === '[object Promise]' && !P.cast) {\n        return;\n      }\n\n      local.Promise = lib$es6$promise$promise$$default;\n    }\n    var lib$es6$promise$polyfill$$default = lib$es6$promise$polyfill$$polyfill;\n\n    var lib$es6$promise$umd$$ES6Promise = {\n      'Promise': lib$es6$promise$promise$$default,\n      'polyfill': lib$es6$promise$polyfill$$default\n    };\n\n    /* global define:true module:true window: true */\n    if (typeof define === 'function' && define['amd']) {\n      define(function() { return lib$es6$promise$umd$$ES6Promise; });\n    } else if (typeof module !== 'undefined' && module['exports']) {\n      module['exports'] = lib$es6$promise$umd$$ES6Promise;\n    } else if (typeof this !== 'undefined') {\n      this['ES6Promise'] = lib$es6$promise$umd$$ES6Promise;\n    }\n\n    lib$es6$promise$polyfill$$default();\n}).call(this);\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./bower_components/es6-promise/promise.js\n ** module id = 5\n ** module chunks = 0\n **/","var nextTick = require('process/browser.js').nextTick;\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) { timeout.close(); };\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// That's not how node.js implements it but the exposed api is the same.\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\n  immediateIds[id] = true;\n\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      }\n      // Prevent ids from leaking\n      exports.clearImmediate(id);\n    }\n  });\n\n  return id;\n};\n\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n  delete immediateIds[id];\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/timers-browserify/main.js\n ** module id = 6\n ** module chunks = 0\n **/","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/process/browser.js\n ** module id = 7\n ** module chunks = 0\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/module.js\n ** module id = 8\n ** module chunks = 0\n **/","module.exports = function() { throw new Error(\"define cannot be used indirect\"); };\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/amd-define.js\n ** module id = 9\n ** module chunks = 0\n **/","(function() {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      this.map[name].forEach(function(value) {\n        callback.call(thisArg, value, name, this)\n      }, this)\n    }, this)\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob();\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (!body) {\n        this._bodyText = ''\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n    if (Request.prototype.isPrototypeOf(input)) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = input\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = xhr.getAllResponseHeaders().trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this._initBody(bodyInit)\n    this.type = 'default'\n    this.url = null\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n  }\n\n  Body.call(Response.prototype)\n\n  self.Headers = Headers;\n  self.Request = Request;\n  self.Response = Response;\n\n  self.fetch = function(input, init) {\n    var request\n    if (Request.prototype.isPrototypeOf(input) && !init) {\n      request = input\n    } else {\n      request = new Request(input, init)\n    }\n\n    return new Promise(function(resolve, reject) {\n      var xhr = new XMLHttpRequest()\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return;\n      }\n\n      xhr.onload = function() {\n        var status = (xhr.status === 1223) ? 204 : xhr.status\n        if (status < 100 || status > 599) {\n          reject(new TypeError('Network request failed'))\n          return\n        }\n        var options = {\n          status: status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./bower_components/fetch/fetch.js\n ** module id = 10\n ** module chunks = 0\n **/","// Version: 3.7.16\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n/* =-=========================     JSON     =============================-= */\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n\n(window['JSON'] && window['JSON']['stringify']) || (function () {\n    window['JSON'] || (window['JSON'] = {});\n\n    function toJSON(key) {\n        try      { return this.valueOf() }\n        catch(e) { return null }\n    }\n\n    var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        gap,\n        indent,\n        meta = {    // table of character substitutions\n            '\\b': '\\\\b',\n            '\\t': '\\\\t',\n            '\\n': '\\\\n',\n            '\\f': '\\\\f',\n            '\\r': '\\\\r',\n            '\"' : '\\\\\"',\n            '\\\\': '\\\\\\\\'\n        },\n        rep;\n\n    function quote(string) {\n        escapable.lastIndex = 0;\n        return escapable.test(string) ?\n            '\"' + string.replace(escapable, function (a) {\n                var c = meta[a];\n                return typeof c === 'string' ? c :\n                    '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n            }) + '\"' :\n            '\"' + string + '\"';\n    }\n\n    function str(key, holder) {\n        var i,          // The loop counter.\n            k,          // The member key.\n            v,          // The member value.\n            length,\n            partial,\n            mind  = gap,\n            value = holder[key];\n\n        if (value && typeof value === 'object') {\n            value = toJSON.call( value, key );\n        }\n\n        if (typeof rep === 'function') {\n            value = rep.call(holder, key, value);\n        }\n\n        switch (typeof value) {\n        case 'string':\n            return quote(value);\n\n        case 'number':\n            return isFinite(value) ? String(value) : 'null';\n\n        case 'boolean':\n        case 'null':\n            return String(value);\n\n        case 'object':\n\n            if (!value) {\n                return 'null';\n            }\n\n            gap += indent;\n            partial = [];\n\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n\n                length = value.length;\n                for (i = 0; i < length; i += 1) {\n                    partial[i] = str(i, value) || 'null';\n                }\n\n                v = partial.length === 0 ? '[]' :\n                    gap ? '[\\n' + gap +\n                            partial.join(',\\n' + gap) + '\\n' +\n                                mind + ']' :\n                          '[' + partial.join(',') + ']';\n                gap = mind;\n                return v;\n            }\n            if (rep && typeof rep === 'object') {\n                length = rep.length;\n                for (i = 0; i < length; i += 1) {\n                    k = rep[i];\n                    if (typeof k === 'string') {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            } else {\n                for (k in value) {\n                    if (Object.hasOwnProperty.call(value, k)) {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n\n            v = partial.length === 0 ? '{}' :\n                gap ? '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' +\n                        mind + '}' : '{' + partial.join(',') + '}';\n            gap = mind;\n            return v;\n        }\n    }\n\n    if (typeof JSON['stringify'] !== 'function') {\n        JSON['stringify'] = function (value, replacer, space) {\n            var i;\n            gap = '';\n            indent = '';\n\n            if (typeof space === 'number') {\n                for (i = 0; i < space; i += 1) {\n                    indent += ' ';\n                }\n            } else if (typeof space === 'string') {\n                indent = space;\n            }\n            rep = replacer;\n            if (replacer && typeof replacer !== 'function' &&\n                    (typeof replacer !== 'object' ||\n                     typeof replacer.length !== 'number')) {\n                throw new Error('JSON.stringify');\n            }\n            return str('', {'': value});\n        };\n    }\n\n    if (typeof JSON['parse'] !== 'function') {\n        // JSON is parsed on the server for security.\n        JSON['parse'] = function (text) {return eval('('+text+')')};\n    }\n}());\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n/* =-=========================     UTIL     =============================-= */\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n\nwindow['PUBNUB'] || (function() {\nvar NOW             = 1\n,   READY           = false\n,   READY_BUFFER    = []\n,   PRESENCE_SUFFIX = '-pnpres'\n,   DEF_WINDOWING   = 10     // MILLISECONDS.\n,   DEF_TIMEOUT     = 10000  // MILLISECONDS.\n,   DEF_SUB_TIMEOUT = 310    // SECONDS.\n,   DEF_KEEPALIVE   = 60     // SECONDS (FOR TIMESYNC).\n,   SECOND          = 1000   // A THOUSAND MILLISECONDS.\n,   URLBIT          = '/'\n,   PARAMSBIT       = '&'\n,   PRESENCE_HB_THRESHOLD = 5\n,   PRESENCE_HB_DEFAULT  = 30\n,   SDK_VER         = '3.7.16'\n,   REPL            = /{([\\w\\-]+)}/g;\n\n/**\n * UTILITIES\n */\nfunction unique() { return'x'+ ++NOW+''+(+new Date) }\nfunction rnow()   { return+new Date }\n\n/**\n * NEXTORIGIN\n * ==========\n * var next_origin = nextorigin();\n */\nvar nextorigin = (function() {\n    var max = 20\n    ,   ori = Math.floor(Math.random() * max);\n    return function( origin, failover ) {\n        return origin.indexOf('pubsub.') > 0\n            && origin.replace(\n             'pubsub', 'ps' + (\n                failover ? generate_uuid().split('-')[0] :\n                (++ori < max? ori : ori=1)\n            ) ) || origin;\n    }\n})();\n\n\n/**\n * Build Url\n * =======\n *\n */\nfunction build_url( url_components, url_params ) {\n    var url    = url_components.join(URLBIT)\n    ,   params = [];\n\n    if (!url_params) return url;\n\n    each( url_params, function( key, value ) {\n        var value_str = (typeof value == 'object')?JSON['stringify'](value):value;\n        (typeof value != 'undefined' &&\n            value != null && encode(value_str).length > 0\n        ) && params.push(key + \"=\" + encode(value_str));\n    } );\n\n    url += \"?\" + params.join(PARAMSBIT);\n    return url;\n}\n\n/**\n * UPDATER\n * =======\n * var timestamp = unique();\n */\nfunction updater( fun, rate ) {\n    var timeout\n    ,   last   = 0\n    ,   runnit = function() {\n        if (last + rate > rnow()) {\n            clearTimeout(timeout);\n            timeout = setTimeout( runnit, rate );\n        }\n        else {\n            last = rnow();\n            fun();\n        }\n    };\n\n    return runnit;\n}\n\n/**\n * GREP\n * ====\n * var list = grep( [1,2,3], function(item) { return item % 2 } )\n */\nfunction grep( list, fun ) {\n    var fin = [];\n    each( list || [], function(l) { fun(l) && fin.push(l) } );\n    return fin\n}\n\n/**\n * SUPPLANT\n * ========\n * var text = supplant( 'Hello {name}!', { name : 'John' } )\n */\nfunction supplant( str, values ) {\n    return str.replace( REPL, function( _, match ) {\n        return values[match] || _\n    } );\n}\n\n/**\n * timeout\n * =======\n * timeout( function(){}, 100 );\n */\nfunction timeout( fun, wait ) {\n    return setTimeout( fun, wait );\n}\n\n/**\n * uuid\n * ====\n * var my_uuid = generate_uuid();\n */\nfunction generate_uuid(callback) {\n    var u = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,\n    function(c) {\n        var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\n        return v.toString(16);\n    });\n    if (callback) callback(u);\n    return u;\n}\n\nfunction isArray(arg) {\n  return !!arg && typeof arg !== 'string' && (Array.isArray && Array.isArray(arg) || typeof(arg.length) === \"number\")\n  //return !!arg && (Array.isArray && Array.isArray(arg) || typeof(arg.length) === \"number\")\n}\n\n/**\n * EACH\n * ====\n * each( [1,2,3], function(item) { } )\n */\nfunction each( o, f) {\n    if ( !o || !f ) return;\n\n    if ( isArray(o) )\n        for ( var i = 0, l = o.length; i < l; )\n            f.call( o[i], o[i], i++ );\n    else\n        for ( var i in o )\n            o.hasOwnProperty    &&\n            o.hasOwnProperty(i) &&\n            f.call( o[i], i, o[i] );\n}\n\n/**\n * MAP\n * ===\n * var list = map( [1,2,3], function(item) { return item + 1 } )\n */\nfunction map( list, fun ) {\n    var fin = [];\n    each( list || [], function( k, v ) { fin.push(fun( k, v )) } );\n    return fin;\n}\n\n\nfunction pam_encode(str) {\n  return encodeURIComponent(str).replace(/[!'()*~]/g, function(c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase();\n  });\n}\n\n/**\n * ENCODE\n * ======\n * var encoded_data = encode('path');\n */\nfunction encode(path) { return encodeURIComponent(path) }\n\n/**\n * Generate Subscription Channel List\n * ==================================\n * generate_channel_list(channels_object);\n */\nfunction generate_channel_list(channels, nopresence) {\n    var list = [];\n    each( channels, function( channel, status ) {\n        if (nopresence) {\n            if(channel.search('-pnpres') < 0) {\n                if (status.subscribed) list.push(channel);\n            }\n        } else {\n            if (status.subscribed) list.push(channel);\n        }\n    });\n    return list.sort();\n}\n\n/**\n * Generate Subscription Channel Groups List\n * ==================================\n * generate_channel_group_list(channels_groups object);\n */\nfunction generate_channel_group_list(channel_groups, nopresence) {\n    var list = [];\n    each(channel_groups, function( channel_group, status ) {\n        if (nopresence) {\n            if(channel_group.search('-pnpres') < 0) {\n                if (status.subscribed) list.push(channel_group);\n            }\n        } else {\n            if (status.subscribed) list.push(channel_group);\n        }\n    });\n    return list.sort();\n}\n\n// PUBNUB READY TO CONNECT\nfunction ready() { timeout( function() {\n    if (READY) return;\n    READY = 1;\n    each( READY_BUFFER, function(connect) { connect() } );\n}, SECOND ); }\n\nfunction PNmessage(args) {\n    msg = args || {'apns' : {}},\n    msg['getPubnubMessage'] = function() {\n        var m = {};\n\n        if (Object.keys(msg['apns']).length) {\n            m['pn_apns'] = {\n                    'aps' : {\n                        'alert' : msg['apns']['alert'] ,\n                        'badge' : msg['apns']['badge']\n                    }\n            }\n            for (var k in msg['apns']) {\n                m['pn_apns'][k] = msg['apns'][k];\n            }\n            var exclude1 = ['badge','alert'];\n            for (var k in exclude1) {\n                delete m['pn_apns'][exclude1[k]];\n            }\n        }\n\n\n\n        if (msg['gcm']) {\n            m['pn_gcm'] = {\n                'data' : msg['gcm']\n            }\n        }\n\n        for (var k in msg) {\n            m[k] = msg[k];\n        }\n        var exclude = ['apns','gcm','publish', 'channel','callback','error'];\n        for (var k in exclude) {\n            delete m[exclude[k]];\n        }\n\n        return m;\n    };\n    msg['publish'] = function() {\n\n        var m = msg.getPubnubMessage();\n\n        if (msg['pubnub'] && msg['channel']) {\n            msg['pubnub'].publish({\n                'message' : m,\n                'channel' : msg['channel'],\n                'callback' : msg['callback'],\n                'error' : msg['error']\n            })\n        }\n    };\n    return msg;\n}\n\nfunction PN_API(setup) {\n    var SUB_WINDOWING =  +setup['windowing']   || DEF_WINDOWING\n    ,   SUB_TIMEOUT   = (+setup['timeout']     || DEF_SUB_TIMEOUT) * SECOND\n    ,   KEEPALIVE     = (+setup['keepalive']   || DEF_KEEPALIVE)   * SECOND\n    ,   TIME_CHECK    = setup['timecheck']     || 0\n    ,   NOLEAVE       = setup['noleave']       || 0\n    ,   PUBLISH_KEY   = setup['publish_key']\n    ,   SUBSCRIBE_KEY = setup['subscribe_key']\n    ,   AUTH_KEY      = setup['auth_key']      || ''\n    ,   SECRET_KEY    = setup['secret_key']    || ''\n    ,   hmac_SHA256   = setup['hmac_SHA256']\n    ,   SSL           = setup['ssl']            ? 's' : ''\n    ,   ORIGIN        = 'http'+SSL+'://'+(setup['origin']||'pubsub.pubnub.com')\n    ,   STD_ORIGIN    = nextorigin(ORIGIN)\n    ,   SUB_ORIGIN    = nextorigin(ORIGIN)\n    ,   CONNECT       = function(){}\n    ,   PUB_QUEUE     = []\n    ,   CLOAK         = true\n    ,   TIME_DRIFT    = 0\n    ,   SUB_CALLBACK  = 0\n    ,   SUB_CHANNEL   = 0\n    ,   SUB_RECEIVER  = 0\n    ,   SUB_RESTORE   = setup['restore'] || 0\n    ,   SUB_BUFF_WAIT = 0\n    ,   TIMETOKEN     = 0\n    ,   RESUMED       = false\n    ,   CHANNELS      = {}\n    ,   CHANNEL_GROUPS       = {}\n    ,   SUB_ERROR     = function(){}\n    ,   STATE         = {}\n    ,   PRESENCE_HB_TIMEOUT  = null\n    ,   PRESENCE_HB          = validate_presence_heartbeat(\n        setup['heartbeat'] || setup['pnexpires'] || 0, setup['error']\n    )\n    ,   PRESENCE_HB_INTERVAL = setup['heartbeat_interval'] || (PRESENCE_HB / 2) -1\n    ,   PRESENCE_HB_RUNNING  = false\n    ,   NO_WAIT_FOR_PENDING  = setup['no_wait_for_pending']\n    ,   COMPATIBLE_35 = setup['compatible_3.5']  || false\n    ,   xdr           = setup['xdr']\n    ,   params        = setup['params'] || {}\n    ,   error         = setup['error']      || function() {}\n    ,   _is_online    = setup['_is_online'] || function() { return 1 }\n    ,   jsonp_cb      = setup['jsonp_cb']   || function() { return 0 }\n    ,   db            = setup['db']         || {'get': function(){}, 'set': function(){}}\n    ,   CIPHER_KEY    = setup['cipher_key']\n    ,   UUID          = setup['uuid'] || ( !setup['unique_uuid'] && db && db['get'](SUBSCRIBE_KEY+'uuid') || '')\n    ,   USE_INSTANCEID = setup['instance_id'] || false\n    ,   INSTANCEID    = ''\n    ,   shutdown      = setup['shutdown']\n    ,   use_send_beacon = (typeof setup['use_send_beacon'] != 'undefined')?setup['use_send_beacon']:true\n    ,   sendBeacon    = (use_send_beacon)?setup['sendBeacon']:null\n    ,   _poll_timer\n    ,   _poll_timer2;\n\n    if (PRESENCE_HB === 2) PRESENCE_HB_INTERVAL = 1;\n\n    var crypto_obj    = setup['crypto_obj'] ||\n        {\n            'encrypt' : function(a,key){ return a},\n            'decrypt' : function(b,key){return b}\n        };\n\n    function _get_url_params(data) {\n        if (!data) data = {};\n        each( params , function( key, value ) {\n            if (!(key in data)) data[key] = value;\n        });\n        return data;\n    }\n\n    function _object_to_key_list(o) {\n        var l = []\n        each( o , function( key, value ) {\n            l.push(key);\n        });\n        return l;\n    }\n    function _object_to_key_list_sorted(o) {\n        return _object_to_key_list(o).sort();\n    }\n\n    function _get_pam_sign_input_from_params(params) {\n        var si = \"\";\n        var l = _object_to_key_list_sorted(params);\n\n        for (var i in l) {\n            var k = l[i]\n            si += k + \"=\" + pam_encode(params[k]) ;\n            if (i != l.length - 1) si += \"&\"\n        }\n        return si;\n    }\n\n    function validate_presence_heartbeat(heartbeat, cur_heartbeat, error) {\n        var err = false;\n\n        if (typeof heartbeat === 'undefined') {\n            return cur_heartbeat;\n        }\n\n        if (typeof heartbeat === 'number') {\n            if (heartbeat > PRESENCE_HB_THRESHOLD || heartbeat == 0)\n                err = false;\n            else\n                err = true;\n        } else if(typeof heartbeat === 'boolean'){\n            if (!heartbeat) {\n                return 0;\n            } else {\n                return PRESENCE_HB_DEFAULT;\n            }\n        } else {\n            err = true;\n        }\n\n        if (err) {\n            error && error(\"Presence Heartbeat value invalid. Valid range ( x > \" + PRESENCE_HB_THRESHOLD + \" or x = 0). Current Value : \" + (cur_heartbeat || PRESENCE_HB_THRESHOLD));\n            return cur_heartbeat || PRESENCE_HB_THRESHOLD;\n        } else return heartbeat;\n    }\n\n    function encrypt(input, key) {\n        return crypto_obj['encrypt'](input, key || CIPHER_KEY) || input;\n    }\n    function decrypt(input, key) {\n        return crypto_obj['decrypt'](input, key || CIPHER_KEY) ||\n               crypto_obj['decrypt'](input, CIPHER_KEY) ||\n               input;\n    }\n\n    function error_common(message, callback) {\n        callback && callback({ 'error' : message || \"error occurred\"});\n        error && error(message);\n    }\n    function _presence_heartbeat() {\n\n        clearTimeout(PRESENCE_HB_TIMEOUT);\n\n        if (!PRESENCE_HB_INTERVAL || PRESENCE_HB_INTERVAL >= 500 ||\n            PRESENCE_HB_INTERVAL < 1 ||\n            (!generate_channel_list(CHANNELS,true).length  && !generate_channel_group_list(CHANNEL_GROUPS, true).length ) )\n        {\n            PRESENCE_HB_RUNNING = false;\n            return;\n        }\n\n        PRESENCE_HB_RUNNING = true;\n        SELF['presence_heartbeat']({\n            'callback' : function(r) {\n                PRESENCE_HB_TIMEOUT = timeout( _presence_heartbeat, (PRESENCE_HB_INTERVAL) * SECOND );\n            },\n            'error' : function(e) {\n                error && error(\"Presence Heartbeat unable to reach Pubnub servers.\" + JSON.stringify(e));\n                PRESENCE_HB_TIMEOUT = timeout( _presence_heartbeat, (PRESENCE_HB_INTERVAL) * SECOND );\n            }\n        });\n    }\n\n    function start_presence_heartbeat() {\n        !PRESENCE_HB_RUNNING && _presence_heartbeat();\n    }\n\n    function publish(next) {\n\n        if (NO_WAIT_FOR_PENDING) {\n            if (!PUB_QUEUE.length) return;\n        } else {\n            if (next) PUB_QUEUE.sending = 0;\n            if ( PUB_QUEUE.sending || !PUB_QUEUE.length ) return;\n            PUB_QUEUE.sending = 1;\n        }\n\n        xdr(PUB_QUEUE.shift());\n    }\n    function each_channel_group(callback) {\n        var count = 0;\n\n        each( generate_channel_group_list(CHANNEL_GROUPS), function(channel_group) {\n            var chang = CHANNEL_GROUPS[channel_group];\n\n            if (!chang) return;\n\n            count++;\n            (callback||function(){})(chang);\n        } );\n\n        return count;\n    }\n\n    function each_channel(callback) {\n        var count = 0;\n\n        each( generate_channel_list(CHANNELS), function(channel) {\n            var chan = CHANNELS[channel];\n\n            if (!chan) return;\n\n            count++;\n            (callback||function(){})(chan);\n        } );\n\n        return count;\n    }\n    function _invoke_callback(response, callback, err) {\n        if (typeof response == 'object') {\n            if (response['error']) {\n                var callback_data = {};\n\n                if (response['message']) {\n                    callback_data['message'] = response['message'];\n                }\n\n                if (response['payload']) {\n                    callback_data['payload'] = response['payload'];\n                }\n\n                err && err(callback_data);\n                return;\n\n            }\n            if (response['payload']) {\n                if (response['next_page'])\n                    callback && callback(response['payload'], response['next_page']);\n                else\n                    callback && callback(response['payload']);\n                return;\n            }\n        }\n        callback && callback(response);\n    }\n\n    function _invoke_error(response,err) {\n\n        if (typeof response == 'object' && response['error']) {\n                var callback_data = {};\n\n                if (response['message']) {\n                    callback_data['message'] = response['message'];\n                }\n\n                if (response['payload']) {\n                    callback_data['payload'] = response['payload'];\n                }\n                \n                err && err(callback_data);\n                return;\n        } else {\n            err && err(response);\n        }\n    }\n    function CR(args, callback, url1, data) {\n            var callback        = args['callback']      || callback\n            ,   err             = args['error']         || error\n            ,   jsonp           = jsonp_cb();\n\n            data = data || {};\n            \n            if (!data['auth']) {\n                data['auth'] = args['auth_key'] || AUTH_KEY;\n            }\n            \n            var url = [\n                    STD_ORIGIN, 'v1', 'channel-registration',\n                    'sub-key', SUBSCRIBE_KEY\n                ];\n\n            url.push.apply(url,url1);\n            \n            if (jsonp) data['callback']              = jsonp;\n            \n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n\n    }\n\n    // Announce Leave Event\n    var SELF = {\n        'LEAVE' : function( channel, blocking, auth_key, callback, error ) {\n\n            var data   = { 'uuid' : UUID, 'auth' : auth_key || AUTH_KEY }\n            ,   origin = nextorigin(ORIGIN)\n            ,   callback = callback || function(){}\n            ,   err      = error    || function(){}\n            ,   url\n            ,   params\n            ,   jsonp  = jsonp_cb();\n\n            // Prevent Leaving a Presence Channel\n            if (channel.indexOf(PRESENCE_SUFFIX) > 0) return true;\n\n\n            if (COMPATIBLE_35) {\n                if (!SSL)         return false;\n                if (jsonp == '0') return false;\n            }\n\n            if (NOLEAVE)  return false;\n\n            if (jsonp != '0') data['callback'] = jsonp;\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            url = [\n                    origin, 'v2', 'presence', 'sub_key',\n                    SUBSCRIBE_KEY, 'channel', encode(channel), 'leave'\n                ];\n\n            params = _get_url_params(data);\n\n\n            if (sendBeacon) {\n                url_string = build_url(url, params);\n                if (sendBeacon(url_string)) {\n                    callback && callback({\"status\": 200, \"action\": \"leave\", \"message\": \"OK\", \"service\": \"Presence\"});\n                    return true;\n                }\n            }\n\n\n            xdr({\n                blocking : blocking || SSL,\n                timeout  : 2000,\n                callback : jsonp,\n                data     : params,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n            return true;\n        },\n        'LEAVE_GROUP' : function( channel_group, blocking, auth_key, callback, error ) {\n\n            var data   = { 'uuid' : UUID, 'auth' : auth_key || AUTH_KEY }\n            ,   origin = nextorigin(ORIGIN)\n            ,   url\n            ,   params\n            ,   callback = callback || function(){}\n            ,   err      = error    || function(){}\n            ,   jsonp  = jsonp_cb();\n\n            // Prevent Leaving a Presence Channel Group\n            if (channel_group.indexOf(PRESENCE_SUFFIX) > 0) return true;\n\n            if (COMPATIBLE_35) {\n                if (!SSL)         return false;\n                if (jsonp == '0') return false;\n            }\n\n            if (NOLEAVE)  return false;\n\n            if (jsonp != '0') data['callback'] = jsonp;\n\n            if (channel_group && channel_group.length > 0) data['channel-group'] = channel_group;\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            url = [\n                    origin, 'v2', 'presence', 'sub_key',\n                    SUBSCRIBE_KEY, 'channel', encode(','), 'leave'\n            ];\n\n            params = _get_url_params(data);\n\n            if (sendBeacon) {\n                url_string = build_url(url, params);\n                if (sendBeacon(url_string)) {\n                    callback && callback({\"status\": 200, \"action\": \"leave\", \"message\": \"OK\", \"service\": \"Presence\"});\n                    return true;\n                }\n            }\n\n            xdr({\n                blocking : blocking || SSL,\n                timeout  : 5000,\n                callback : jsonp,\n                data     : params,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n            return true;\n        },\n        'set_resumed' : function(resumed) {\n                RESUMED = resumed;\n        },\n        'get_cipher_key' : function() {\n            return CIPHER_KEY;\n        },\n        'set_cipher_key' : function(key) {\n            CIPHER_KEY = key;\n        },\n        'raw_encrypt' : function(input, key) {\n            return encrypt(input, key);\n        },\n        'raw_decrypt' : function(input, key) {\n            return decrypt(input, key);\n        },\n        'get_heartbeat' : function() {\n            return PRESENCE_HB;\n        },\n        \n        'set_heartbeat' : function(heartbeat, heartbeat_interval) {\n            PRESENCE_HB = validate_presence_heartbeat(heartbeat, PRESENCE_HB, error);\n            PRESENCE_HB_INTERVAL = heartbeat_interval || (PRESENCE_HB / 2) - 1;\n            if (PRESENCE_HB == 2) {\n                PRESENCE_HB_INTERVAL = 1;\n            }\n            CONNECT();\n            _presence_heartbeat();\n        },\n        \n        'get_heartbeat_interval' : function() {\n            return PRESENCE_HB_INTERVAL;\n        },\n        \n        'set_heartbeat_interval' : function(heartbeat_interval) {\n            PRESENCE_HB_INTERVAL = heartbeat_interval;\n            _presence_heartbeat();\n        },\n        \n        'get_version' : function() {\n            return SDK_VER;\n        },\n        'getGcmMessageObject' : function(obj) {\n            return {\n                'data' : obj\n            }\n        },\n        'getApnsMessageObject' : function(obj) {\n            var x =  {\n                'aps' : { 'badge' : 1, 'alert' : ''}\n            }\n            for (k in obj) {\n                k[x] = obj[k];\n            }\n            return x;\n        },\n        'newPnMessage' : function() {\n            var x = {};\n            if (gcm) x['pn_gcm'] = gcm;\n            if (apns) x['pn_apns'] = apns;\n            for ( k in n ) {\n                x[k] = n[k];\n            }\n            return x;\n        },\n\n        '_add_param' : function(key,val) {\n            params[key] = val;\n        },\n\n        'channel_group' : function(args, callback) {\n            var ns_ch       = args['channel_group']\n            ,   callback    = callback         || args['callback']\n            ,   channels    = args['channels'] || args['channel']\n            ,   cloak       = args['cloak']\n            ,   namespace\n            ,   channel_group\n            ,   url = []\n            ,   data = {}\n            ,   mode = args['mode'] || 'add';\n\n\n            if (ns_ch) {\n                var ns_ch_a = ns_ch.split(':');\n\n                if (ns_ch_a.length > 1) {\n                    namespace = (ns_ch_a[0] === '*')?null:ns_ch_a[0];\n\n                    channel_group = ns_ch_a[1];\n                } else {\n                    channel_group = ns_ch_a[0];\n                }\n            }\n\n            namespace && url.push('namespace') && url.push(encode(namespace));\n\n            url.push('channel-group');\n\n            if (channel_group && channel_group !== '*') {\n                url.push(channel_group);\n            }\n\n            if (channels ) {\n                if (isArray(channels)) {\n                    channels = channels.join(',');\n                }\n                data[mode] = channels;\n                data['cloak'] = (CLOAK)?'true':'false';\n            } else {\n                if (mode === 'remove') url.push('remove');\n            }\n\n            if (typeof cloak != 'undefined') data['cloak'] = (cloak)?'true':'false';\n\n            CR(args, callback, url, data);\n        },\n\n        'channel_group_list_groups' : function(args, callback) {\n            var namespace;\n\n            namespace = args['namespace'] || args['ns'] || args['channel_group'] || null;\n            if (namespace) {\n                args[\"channel_group\"] = namespace + \":*\";\n            }\n\n            SELF['channel_group'](args, callback);\n        },\n\n        'channel_group_list_channels' : function(args, callback) {\n            if (!args['channel_group']) return error('Missing Channel Group');\n            SELF['channel_group'](args, callback);\n        },\n\n        'channel_group_remove_channel' : function(args, callback) {\n            if (!args['channel_group']) return error('Missing Channel Group');\n            if (!args['channel'] && !args['channels'] ) return error('Missing Channel');\n\n            args['mode'] = 'remove';\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_remove_group' : function(args, callback) {\n            if (!args['channel_group']) return error('Missing Channel Group');\n            if (args['channel']) return error('Use channel_group_remove_channel if you want to remove a channel from a group.');\n\n            args['mode'] = 'remove';\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_add_channel' : function(args, callback) {\n           if (!args['channel_group']) return error('Missing Channel Group');\n           if (!args['channel'] && !args['channels'] ) return error('Missing Channel');\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_cloak' : function(args, callback) {\n            if (typeof args['cloak'] == 'undefined') {\n                callback(CLOAK);\n                return;\n            }\n            CLOAK = args['cloak'];\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_list_namespaces' : function(args, callback) {\n            var url = ['namespace'];\n            CR(args, callback, url);\n        },\n        'channel_group_remove_namespace' : function(args, callback) {\n            var url = ['namespace',args['namespace'],'remove'];\n            CR(args, callback, url);\n        },\n\n        /*\n            PUBNUB.history({\n                channel  : 'my_chat_channel',\n                limit    : 100,\n                callback : function(history) { }\n            });\n        */\n        'history' : function( args, callback ) {\n            var callback         = args['callback'] || callback\n            ,   count            = args['count']    || args['limit'] || 100\n            ,   reverse          = args['reverse']  || \"false\"\n            ,   err              = args['error']    || function(){}\n            ,   auth_key         = args['auth_key'] || AUTH_KEY\n            ,   cipher_key       = args['cipher_key']\n            ,   channel          = args['channel']\n            ,   channel_group    = args['channel_group']\n            ,   start            = args['start']\n            ,   end              = args['end']\n            ,   include_token    = args['include_token']\n            ,   string_msg_token = args['string_message_token'] || false\n            ,   params           = {}\n            ,   jsonp            = jsonp_cb();\n\n            // Make sure we have a Channel\n            if (!channel && !channel_group) return error('Missing Channel');\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            params['stringtoken'] = 'true';\n            params['count']       = count;\n            params['reverse']     = reverse;\n            params['auth']        = auth_key;\n\n            if (channel_group) {\n                params['channel-group'] = channel_group;\n                if (!channel) {\n                    channel = ','; \n                }\n            }\n            if (jsonp) params['callback']              = jsonp;\n            if (start) params['start']                 = start;\n            if (end)   params['end']                   = end;\n            if (include_token) params['include_token'] = 'true';\n            if (string_msg_token) params['string_message_token'] = 'true';\n\n            // Send Message\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(params),\n                success  : function(response) {\n                    if (typeof response == 'object' && response['error']) {\n                        err({'message' : response['message'], 'payload' : response['payload']});\n                        return;\n                    }\n                    var messages = response[0];\n                    var decrypted_messages = [];\n                    for (var a = 0; a < messages.length; a++) {\n                        if (include_token) {\n                            var new_message = decrypt(messages[a]['message'],cipher_key);\n                            var timetoken = messages[a]['timetoken'];\n                            try {\n                                decrypted_messages['push']({\"message\" : JSON['parse'](new_message), \"timetoken\" : timetoken});\n                            } catch (e) {\n                                decrypted_messages['push'](({\"message\" : new_message, \"timetoken\" : timetoken}));\n                            }\n                        } else {\n                            var new_message = decrypt(messages[a],cipher_key);\n                            try {\n                                decrypted_messages['push'](JSON['parse'](new_message));\n                            } catch (e) {\n                                decrypted_messages['push']((new_message));\n                            }     \n                        }\n                    }\n                    callback([decrypted_messages, response[1], response[2]]);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v2', 'history', 'sub-key',\n                    SUBSCRIBE_KEY, 'channel', encode(channel)\n                ]\n            });\n        },\n\n        /*\n            PUBNUB.replay({\n                source      : 'my_channel',\n                destination : 'new_channel'\n            });\n        */\n        'replay' : function(args, callback) {\n            var callback    = callback || args['callback'] || function(){}\n            ,   auth_key    = args['auth_key'] || AUTH_KEY\n            ,   source      = args['source']\n            ,   destination = args['destination']\n            ,   stop        = args['stop']\n            ,   start       = args['start']\n            ,   end         = args['end']\n            ,   reverse     = args['reverse']\n            ,   limit       = args['limit']\n            ,   jsonp       = jsonp_cb()\n            ,   data        = {}\n            ,   url;\n\n            // Check User Input\n            if (!source)        return error('Missing Source Channel');\n            if (!destination)   return error('Missing Destination Channel');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            // Setup URL Params\n            if (jsonp != '0') data['callback'] = jsonp;\n            if (stop)         data['stop']     = 'all';\n            if (reverse)      data['reverse']  = 'true';\n            if (start)        data['start']    = start;\n            if (end)          data['end']      = end;\n            if (limit)        data['count']    = limit;\n\n            data['auth'] = auth_key;\n\n            // Compose URL Parts\n            url = [\n                STD_ORIGIN, 'v1', 'replay',\n                PUBLISH_KEY, SUBSCRIBE_KEY,\n                source, destination\n            ];\n\n            // Start (or Stop) Replay!\n            xdr({\n                callback : jsonp,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function() { callback([ 0, 'Disconnected' ]) },\n                url      : url,\n                data     : _get_url_params(data)\n            });\n        },\n\n        /*\n            PUBNUB.auth('AJFLKAJSDKLA');\n        */\n        'auth' : function(auth) {\n            AUTH_KEY = auth;\n            CONNECT();\n        },\n\n        /*\n            PUBNUB.time(function(time){ });\n        */\n        'time' : function(callback) {\n            var jsonp = jsonp_cb();\n\n            var data = { 'uuid' : UUID, 'auth' : AUTH_KEY }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                timeout  : SECOND * 5,\n                url      : [STD_ORIGIN, 'time', jsonp],\n                success  : function(response) { callback(response[0]) },\n                fail     : function() { callback(0) }\n            });\n        },\n\n        /*\n            PUBNUB.publish({\n                channel : 'my_chat_channel',\n                message : 'hello!'\n            });\n        */\n        'publish' : function( args, callback ) {\n            var msg      = args['message'];\n            if (!msg) return error('Missing Message');\n\n            var callback = callback || args['callback'] || msg['callback'] || function(){}\n            ,   channel  = args['channel'] || msg['channel']\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   cipher_key = args['cipher_key']\n            ,   err      = args['error'] || msg['error'] || function() {}\n            ,   post     = args['post'] || false\n            ,   store    = ('store_in_history' in args) ? args['store_in_history']: true\n            ,   jsonp    = jsonp_cb()\n            ,   add_msg  = 'push'\n            ,   params\n            ,   url;\n\n            if (args['prepend']) add_msg = 'unshift'\n\n            if (!channel)       return error('Missing Channel');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            if (msg['getPubnubMessage']) {\n                msg = msg['getPubnubMessage']();\n            }\n\n            // If trying to send Object\n            msg = JSON['stringify'](encrypt(msg, cipher_key));\n\n            // Create URL\n            url = [\n                STD_ORIGIN, 'publish',\n                PUBLISH_KEY, SUBSCRIBE_KEY,\n                0, encode(channel),\n                jsonp, encode(msg)\n            ];\n\n            params = { 'uuid' : UUID, 'auth' : auth_key }\n\n            if (!store) params['store'] =\"0\"\n\n            if (USE_INSTANCEID) params['instanceid'] = INSTANCEID;\n\n            // Queue Message Send\n            PUB_QUEUE[add_msg]({\n                callback : jsonp,\n                timeout  : SECOND * 5,\n                url      : url,\n                data     : _get_url_params(params),\n                fail     : function(response){\n                    _invoke_error(response, err);\n                    publish(1);\n                },\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                    publish(1);\n                },\n                mode     : (post)?'POST':'GET'\n            });\n\n            // Send Message\n            publish();\n        },\n\n        /*\n            PUBNUB.unsubscribe({ channel : 'my_chat' });\n        */\n        'unsubscribe' : function(args, callback) {\n            var channel       = args['channel']\n            ,   channel_group = args['channel_group']\n            ,   auth_key      = args['auth_key']    || AUTH_KEY\n            ,   callback      = callback            || args['callback'] || function(){}\n            ,   err           = args['error']       || function(){};\n\n            TIMETOKEN   = 0;\n            SUB_RESTORE = 1;   // REVISIT !!!!\n\n            if (channel) {\n\n                // Prepare LeaveChannel(s)\n                var leave_c = map( (\n                    channel.join ? channel.join(',') : ''+channel\n                ).split(','), function(channel) {\n                    if (!CHANNELS[channel]) return;\n                    return channel;\n                } ).join(',');\n\n                // Prepare Channel(s)\n                channel = map( (\n                    channel.join ? channel.join(',') : ''+channel\n                ).split(','), function(channel) {\n                    if (!CHANNELS[channel]) return;\n                    return channel + ',' + channel + PRESENCE_SUFFIX;\n                } ).join(',');\n\n                // Iterate over Channels\n                each(channel.split(','), function(ch) {\n                    if (!ch) return;\n                    CHANNELS[ch] = 0;\n                    if (ch in STATE) delete STATE[ch];\n                } );\n\n                var CB_CALLED = true;\n                if (READY) {\n                    CB_CALLED = SELF['LEAVE'](leave_c, 0 , auth_key, callback, err);\n                }\n                if (!CB_CALLED) callback({action : \"leave\"});\n            }\n\n            if (channel_group) {\n\n                // Prepare channel group(s)\n                var leave_gc = map( (\n                    channel_group.join ? channel_group.join(',') : ''+channel_group\n                ).split(','), function(channel_group) {\n                    if (!CHANNEL_GROUPS[channel_group]) return;\n                    return channel_group;\n                } ).join(',');\n\n                // Prepare channel group(s)\n                channel_group = map( (\n                    channel_group.join ? channel_group.join(',') : ''+channel_group\n                ).split(','), function(channel_group) {\n                    if (!CHANNEL_GROUPS[channel_group]) return;\n                    return channel_group + ',' + channel_group + PRESENCE_SUFFIX;\n                } ).join(',');\n\n                // Iterate over channel groups\n                each( channel_group.split(','), function(chg) {\n                    if (!chg) return;\n                    CHANNEL_GROUPS[chg] = 0;\n                    if (chg in STATE) delete STATE[chg];\n                } );\n\n                var CB_CALLED = true;\n                if (READY) {\n                    CB_CALLED = SELF['LEAVE_GROUP'](leave_gc, 0 , auth_key, callback, err);\n                }\n                if (!CB_CALLED) callback({action : \"leave\"});\n            }\n\n            // Reset Connection if Count Less\n            CONNECT();\n        },\n\n        /*\n            PUBNUB.subscribe({\n                channel  : 'my_chat'\n                callback : function(message) { }\n            });\n        */\n        'subscribe' : function( args, callback ) {\n            var channel         = args['channel']\n            ,   channel_group   = args['channel_group']\n            ,   callback        = callback            || args['callback']\n            ,   callback        = callback            || args['message']\n            ,   connect         = args['connect']     || function(){}\n            ,   reconnect       = args['reconnect']   || function(){}\n            ,   disconnect      = args['disconnect']  || function(){}\n            ,   SUB_ERROR       = args['error']       || SUB_ERROR || function(){}\n            ,   idlecb          = args['idle']        || function(){}\n            ,   presence        = args['presence']    || 0\n            ,   noheresync      = args['noheresync']  || 0\n            ,   backfill        = args['backfill']    || 0\n            ,   timetoken       = args['timetoken']   || 0\n            ,   sub_timeout     = args['timeout']     || SUB_TIMEOUT\n            ,   windowing       = args['windowing']   || SUB_WINDOWING\n            ,   state           = args['state']\n            ,   heartbeat       = args['heartbeat'] || args['pnexpires']\n            ,   heartbeat_interval = args['heartbeat_interval']\n            ,   restore         = args['restore'] || SUB_RESTORE;\n\n            AUTH_KEY            = args['auth_key']    || AUTH_KEY;\n\n            // Restore Enabled?\n            SUB_RESTORE = restore;\n\n            // Always Reset the TT\n            TIMETOKEN = timetoken;\n\n            // Make sure we have a Channel\n            if (!channel && !channel_group) {\n                return error('Missing Channel');\n            }\n\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            if (heartbeat || heartbeat === 0 || heartbeat_interval || heartbeat_interval === 0) {\n                SELF['set_heartbeat'](heartbeat, heartbeat_interval);\n            }\n\n            // Setup Channel(s)\n            if (channel) {\n                each( (channel.join ? channel.join(',') : ''+channel).split(','),\n                function(channel) {\n                    var settings = CHANNELS[channel] || {};\n\n                    // Store Channel State\n                    CHANNELS[SUB_CHANNEL = channel] = {\n                        name         : channel,\n                        connected    : settings.connected,\n                        disconnected : settings.disconnected,\n                        subscribed   : 1,\n                        callback     : SUB_CALLBACK = callback,\n                        'cipher_key' : args['cipher_key'],\n                        connect      : connect,\n                        disconnect   : disconnect,\n                        reconnect    : reconnect\n                    };\n\n                    if (state) {\n                        if (channel in state) {\n                            STATE[channel] = state[channel];\n                        } else {\n                            STATE[channel] = state;\n                        }\n                    }\n\n                    // Presence Enabled?\n                    if (!presence) return;\n\n                    // Subscribe Presence Channel\n                    SELF['subscribe']({\n                        'channel'  : channel + PRESENCE_SUFFIX,\n                        'callback' : presence,\n                        'restore'  : restore\n                    });\n\n                    // Presence Subscribed?\n                    if (settings.subscribed) return;\n\n                    // See Who's Here Now?\n                    if (noheresync) return;\n                    SELF['here_now']({\n                        'channel'  : channel,\n                        'data'     : _get_url_params({ 'uuid' : UUID, 'auth' : AUTH_KEY }),\n                        'callback' : function(here) {\n                            each( 'uuids' in here ? here['uuids'] : [],\n                            function(uid) { presence( {\n                                'action'    : 'join',\n                                'uuid'      : uid,\n                                'timestamp' : Math.floor(rnow() / 1000),\n                                'occupancy' : here['occupancy'] || 1\n                            }, here, channel ); } );\n                        }\n                    });\n                } );\n            }\n\n            // Setup Channel Groups\n            if (channel_group) {\n                each( (channel_group.join ? channel_group.join(',') : ''+channel_group).split(','),\n                function(channel_group) {\n                    var settings = CHANNEL_GROUPS[channel_group] || {};\n\n                    CHANNEL_GROUPS[channel_group] = {\n                        name         : channel_group,\n                        connected    : settings.connected,\n                        disconnected : settings.disconnected,\n                        subscribed   : 1,\n                        callback     : SUB_CALLBACK = callback,\n                        'cipher_key' : args['cipher_key'],\n                        connect      : connect,\n                        disconnect   : disconnect,\n                        reconnect    : reconnect\n                    };\n\n                    // Presence Enabled?\n                    if (!presence) return;\n\n                    // Subscribe Presence Channel\n                    SELF['subscribe']({\n                        'channel_group'  : channel_group + PRESENCE_SUFFIX,\n                        'callback' : presence,\n                        'restore'  : restore,\n                        'auth_key' : AUTH_KEY\n                    });\n\n                    // Presence Subscribed?\n                    if (settings.subscribed) return;\n\n                    // See Who's Here Now?\n                    if (noheresync) return;\n                    SELF['here_now']({\n                        'channel_group'  : channel_group,\n                        'data'           : _get_url_params({ 'uuid' : UUID, 'auth' : AUTH_KEY }),\n                        'callback' : function(here) {\n                            each( 'uuids' in here ? here['uuids'] : [],\n                            function(uid) { presence( {\n                                'action'    : 'join',\n                                'uuid'      : uid,\n                                'timestamp' : Math.floor(rnow() / 1000),\n                                'occupancy' : here['occupancy'] || 1\n                            }, here, channel_group ); } );\n                        }\n                    });\n                } );\n            }\n\n\n            // Test Network Connection\n            function _test_connection(success) {\n                if (success) {\n                    // Begin Next Socket Connection\n                    timeout( CONNECT, windowing);\n                }\n                else {\n                    // New Origin on Failed Connection\n                    STD_ORIGIN = nextorigin( ORIGIN, 1 );\n                    SUB_ORIGIN = nextorigin( ORIGIN, 1 );\n\n                    // Re-test Connection\n                    timeout( function() {\n                        SELF['time'](_test_connection);\n                    }, SECOND );\n                }\n\n                // Disconnect & Reconnect\n                each_channel(function(channel){\n                    // Reconnect\n                    if (success && channel.disconnected) {\n                        channel.disconnected = 0;\n                        return channel.reconnect(channel.name);\n                    }\n\n                    // Disconnect\n                    if (!success && !channel.disconnected) {\n                        channel.disconnected = 1;\n                        channel.disconnect(channel.name);\n                    }\n                });\n                \n                // Disconnect & Reconnect for channel groups\n                each_channel_group(function(channel_group){\n                    // Reconnect\n                    if (success && channel_group.disconnected) {\n                        channel_group.disconnected = 0;\n                        return channel_group.reconnect(channel_group.name);\n                    }\n\n                    // Disconnect\n                    if (!success && !channel_group.disconnected) {\n                        channel_group.disconnected = 1;\n                        channel_group.disconnect(channel_group.name);\n                    }\n                });\n            }\n\n            // Evented Subscribe\n            function _connect() {\n                var jsonp           = jsonp_cb()\n                ,   channels        = generate_channel_list(CHANNELS).join(',')\n                ,   channel_groups  = generate_channel_group_list(CHANNEL_GROUPS).join(',');\n\n                // Stop Connection\n                if (!channels && !channel_groups) return;\n\n                if (!channels) channels = ',';\n\n                // Connect to PubNub Subscribe Servers\n                _reset_offline();\n\n                var data = _get_url_params({ 'uuid' : UUID, 'auth' : AUTH_KEY });\n\n                if (channel_groups) {\n                    data['channel-group'] = channel_groups;\n                }\n\n\n                var st = JSON.stringify(STATE);\n                if (st.length > 2) data['state'] = JSON.stringify(STATE);\n\n                if (PRESENCE_HB) data['heartbeat'] = PRESENCE_HB;\n\n                if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n                start_presence_heartbeat();\n                SUB_RECEIVER = xdr({\n                    timeout  : sub_timeout,\n                    callback : jsonp,\n                    fail     : function(response) {\n                        if (response && response['error'] && response['service']) {\n                            _invoke_error(response, SUB_ERROR);\n                            _test_connection(1);\n                        } else {\n                            SELF['time'](function(success){\n                                !success && ( _invoke_error(response, SUB_ERROR));\n                                _test_connection(success);\n                            });\n                        }\n                    },\n                    data     : _get_url_params(data),\n                    url      : [\n                        SUB_ORIGIN, 'subscribe',\n                        SUBSCRIBE_KEY, encode(channels),\n                        jsonp, TIMETOKEN\n                    ],\n                    success : function(messages) {\n\n                        // Check for Errors\n                        if (!messages || (\n                            typeof messages == 'object' &&\n                            'error' in messages         &&\n                            messages['error']\n                        )) {\n                            SUB_ERROR(messages['error']);\n                            return timeout( CONNECT, SECOND );\n                        }\n\n                        // User Idle Callback\n                        idlecb(messages[1]);\n\n                        // Restore Previous Connection Point if Needed\n                        TIMETOKEN = !TIMETOKEN               &&\n                                    SUB_RESTORE              &&\n                                    db['get'](SUBSCRIBE_KEY) || messages[1];\n\n                        /*\n                        // Connect\n                        each_channel_registry(function(registry){\n                            if (registry.connected) return;\n                            registry.connected = 1;\n                            registry.connect(channel.name);\n                        });\n                        */\n\n                        // Connect\n                        each_channel(function(channel){\n                            if (channel.connected) return;\n                            channel.connected = 1;\n                            channel.connect(channel.name);\n                        });\n\n                        // Connect for channel groups\n                        each_channel_group(function(channel_group){\n                            if (channel_group.connected) return;\n                            channel_group.connected = 1;\n                            channel_group.connect(channel_group.name);\n                        });\n\n                        if (RESUMED && !SUB_RESTORE) {\n                                TIMETOKEN = 0;\n                                RESUMED = false;\n                                // Update Saved Timetoken\n                                db['set']( SUBSCRIBE_KEY, 0 );\n                                timeout( _connect, windowing );\n                                return;\n                        }\n\n                        // Invoke Memory Catchup and Receive Up to 100\n                        // Previous Messages from the Queue.\n                        if (backfill) {\n                            TIMETOKEN = 10000;\n                            backfill  = 0;\n                        }\n\n                        // Update Saved Timetoken\n                        db['set']( SUBSCRIBE_KEY, messages[1] );\n\n                        // Route Channel <---> Callback for Message\n                        var next_callback = (function() {\n                            var channels = '';\n                            var channels2 = '';\n\n                            if (messages.length > 3) {\n                                channels  = messages[3];\n                                channels2 = messages[2];\n                            } else if (messages.length > 2) {\n                                channels = messages[2];\n                            } else {\n                                channels =  map(\n                                    generate_channel_list(CHANNELS), function(chan) { return map(\n                                        Array(messages[0].length)\n                                        .join(',').split(','),\n                                        function() { return chan; }\n                                    ) }).join(',')\n                            }\n\n                            var list  = channels.split(',');\n                            var list2 = (channels2)?channels2.split(','):[];\n\n                            return function() {\n                                var channel  = list.shift()||SUB_CHANNEL;\n                                var channel2 = list2.shift();\n\n                                var chobj = {};\n\n                                if (channel2) {\n                                    if (channel && channel.indexOf('-pnpres') >= 0 \n                                        && channel2.indexOf('-pnpres') < 0) {\n                                        channel2 += '-pnpres';\n                                    }\n                                    chobj = CHANNEL_GROUPS[channel2] || CHANNELS[channel2] || {'callback' : function(){}};\n                                } else {\n                                    chobj = CHANNELS[channel];\n                                }\n\n                                var r = [\n                                    chobj\n                                    .callback||SUB_CALLBACK,\n                                    channel.split(PRESENCE_SUFFIX)[0]\n                                ];\n                                channel2 && r.push(channel2.split(PRESENCE_SUFFIX)[0]);\n                                return r;\n                            };\n                        })();\n\n                        var latency = detect_latency(+messages[1]);\n                        each( messages[0], function(msg) {\n                            var next = next_callback();\n                            var decrypted_msg = decrypt(msg,\n                                (CHANNELS[next[1]])?CHANNELS[next[1]]['cipher_key']:null);\n                            next[0] && next[0]( decrypted_msg, messages, next[2] || next[1], latency, next[1]);\n                        });\n\n                        timeout( _connect, windowing );\n                    }\n                });\n            }\n\n            CONNECT = function() {\n                _reset_offline();\n                timeout( _connect, windowing );\n            };\n\n            // Reduce Status Flicker\n            if (!READY) return READY_BUFFER.push(CONNECT);\n\n            // Connect Now\n            CONNECT();\n        },\n\n        /*\n            PUBNUB.here_now({ channel : 'my_chat', callback : fun });\n        */\n        'here_now' : function( args, callback ) {\n            var callback = args['callback'] || callback\n            ,   debug    = args['debug']\n            ,   err      = args['error']    || function(){}\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   channel  = args['channel']\n            ,   channel_group = args['channel_group']\n            ,   jsonp    = jsonp_cb()\n            ,   uuids    = ('uuids' in args) ? args['uuids'] : true\n            ,   state    = args['state']\n            ,   data     = { 'uuid' : UUID, 'auth' : auth_key };\n\n            if (!uuids) data['disable_uuids'] = 1;\n            if (state) data['state'] = 1;\n\n            // Make sure we have a Channel\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            var url = [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub_key', SUBSCRIBE_KEY\n                ];\n\n            channel && url.push('channel') && url.push(encode(channel));\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            if (channel_group) {\n                data['channel-group'] = channel_group;\n                !channel && url.push('channel') && url.push(','); \n            }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                debug    : debug,\n                url      : url\n            });\n        },\n\n        /*\n            PUBNUB.current_channels_by_uuid({ channel : 'my_chat', callback : fun });\n        */\n        'where_now' : function( args, callback ) {\n            var callback = args['callback'] || callback\n            ,   err      = args['error']    || function(){}\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   jsonp    = jsonp_cb()\n            ,   uuid     = args['uuid']     || UUID\n            ,   data     = { 'auth' : auth_key };\n\n            // Make sure we have a Channel\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub_key', SUBSCRIBE_KEY,\n                    'uuid', encode(uuid)\n                ]\n            });\n        },\n\n        'state' : function(args, callback) {\n            var callback = args['callback'] || callback || function(r) {}\n            ,   err      = args['error']    || function(){}\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   jsonp    = jsonp_cb()\n            ,   state    = args['state']\n            ,   uuid     = args['uuid'] || UUID\n            ,   channel  = args['channel']\n            ,   channel_group = args['channel_group']\n            ,   url\n            ,   data     = _get_url_params({ 'auth' : auth_key });\n\n            // Make sure we have a Channel\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n            if (!uuid) return error('Missing UUID');\n            if (!channel && !channel_group) return error('Missing Channel');\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            if (typeof channel != 'undefined'\n                && CHANNELS[channel] && CHANNELS[channel].subscribed ) {\n                if (state) STATE[channel] = state;\n            }\n\n            if (typeof channel_group != 'undefined'\n                && CHANNEL_GROUPS[channel_group]\n                && CHANNEL_GROUPS[channel_group].subscribed\n                ) {\n                if (state) STATE[channel_group] = state;\n                data['channel-group'] = channel_group;\n\n                if (!channel) {\n                    channel = ',';\n                }\n            }\n\n            data['state'] = JSON.stringify(state);\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            if (state) {\n                url      = [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub-key', SUBSCRIBE_KEY,\n                    'channel', channel,\n                    'uuid', uuid, 'data'\n                ]\n            } else {\n                url      = [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub-key', SUBSCRIBE_KEY,\n                    'channel', channel,\n                    'uuid', encode(uuid)\n                ]\n            }\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n\n            });\n\n        },\n\n        /*\n            PUBNUB.grant({\n                channel  : 'my_chat',\n                callback : fun,\n                error    : fun,\n                ttl      : 24 * 60, // Minutes\n                read     : true,\n                write    : true,\n                auth_key : '3y8uiajdklytowsj'\n            });\n        */\n        'grant' : function( args, callback ) {\n            var callback        = args['callback'] || callback\n            ,   err             = args['error']    || function(){}\n            ,   channel         = args['channel']  || args['channels']\n            ,   channel_group   = args['channel_group']\n            ,   jsonp           = jsonp_cb()\n            ,   ttl             = args['ttl']\n            ,   r               = (args['read'] )?\"1\":\"0\"\n            ,   w               = (args['write'])?\"1\":\"0\"\n            ,   m               = (args['manage'])?\"1\":\"0\"\n            ,   auth_key        = args['auth_key'] || args['auth_keys'];\n\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SECRET_KEY)    return error('Missing Secret Key');\n\n            var timestamp  = Math.floor(new Date().getTime() / 1000)\n            ,   sign_input = SUBSCRIBE_KEY + \"\\n\" + PUBLISH_KEY + \"\\n\"\n                    + \"grant\" + \"\\n\";\n\n            var data = {\n                'w'         : w,\n                'r'         : r,\n                'timestamp' : timestamp\n            };\n            if (args['manage']) {\n                data['m'] = m;\n            }\n            if (isArray(channel)) {\n                channel = channel['join'](',');\n            }\n            if (isArray(auth_key)) {\n                auth_key = auth_key['join'](',');\n            }\n            if (typeof channel != 'undefined' && channel != null && channel.length > 0) data['channel'] = channel;\n            if (typeof channel_group != 'undefined' && channel_group != null && channel_group.length > 0) {\n                data['channel-group'] = channel_group;\n            }\n            if (jsonp != '0') { data['callback'] = jsonp; }\n            if (ttl || ttl === 0) data['ttl'] = ttl;\n\n            if (auth_key) data['auth'] = auth_key;\n\n            data = _get_url_params(data)\n\n            if (!auth_key) delete data['auth'];\n\n            sign_input += _get_pam_sign_input_from_params(data);\n\n            var signature = hmac_SHA256( sign_input, SECRET_KEY );\n\n            signature = signature.replace( /\\+/g, \"-\" );\n            signature = signature.replace( /\\//g, \"_\" );\n\n            data['signature'] = signature;\n\n            xdr({\n                callback : jsonp,\n                data     : data,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v1', 'auth', 'grant' ,\n                    'sub-key', SUBSCRIBE_KEY\n                ]\n            });\n        },\n\n        /*\n         PUBNUB.mobile_gw_provision ({\n         device_id: 'A655FBA9931AB',\n         op       : 'add' | 'remove',\n         gw_type  : 'apns' | 'gcm',\n         channel  : 'my_chat',\n         callback : fun,\n         error    : fun,\n         });\n         */\n\n        'mobile_gw_provision' : function( args ) {\n\n            var callback = args['callback'] || function(){}\n                ,   auth_key       = args['auth_key'] || AUTH_KEY\n                ,   err            = args['error'] || function() {}\n                ,   jsonp          = jsonp_cb()\n                ,   channel        = args['channel']\n                ,   op             = args['op']\n                ,   gw_type        = args['gw_type']\n                ,   device_id      = args['device_id']\n                ,   params\n                ,   url;\n\n            if (!device_id)     return error('Missing Device ID (device_id)');\n            if (!gw_type)       return error('Missing GW Type (gw_type: gcm or apns)');\n            if (!op)            return error('Missing GW Operation (op: add or remove)');\n            if (!channel)       return error('Missing gw destination Channel (channel)');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            // Create URL\n            url = [\n                STD_ORIGIN, 'v1/push/sub-key',\n                SUBSCRIBE_KEY, 'devices', device_id\n            ];\n\n            params = { 'uuid' : UUID, 'auth' : auth_key, 'type': gw_type};\n\n            if (op == \"add\") {\n                params['add'] = channel;\n            } else if (op == \"remove\") {\n                params['remove'] = channel;\n            }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : params,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n\n        },\n\n        /*\n            PUBNUB.audit({\n                channel  : 'my_chat',\n                callback : fun,\n                error    : fun,\n                read     : true,\n                write    : true,\n                auth_key : '3y8uiajdklytowsj'\n            });\n        */\n        'audit' : function( args, callback ) {\n            var callback        = args['callback'] || callback\n            ,   err             = args['error']    || function(){}\n            ,   channel         = args['channel']\n            ,   channel_group   = args['channel_group']\n            ,   auth_key        = args['auth_key']\n            ,   jsonp           = jsonp_cb();\n\n            // Make sure we have a Channel\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SECRET_KEY)    return error('Missing Secret Key');\n\n            var timestamp  = Math.floor(new Date().getTime() / 1000)\n            ,   sign_input = SUBSCRIBE_KEY + \"\\n\"\n                + PUBLISH_KEY + \"\\n\"\n                + \"audit\" + \"\\n\";\n\n            var data = {'timestamp' : timestamp };\n            if (jsonp != '0') { data['callback'] = jsonp; }\n            if (typeof channel != 'undefined' && channel != null && channel.length > 0) data['channel'] = channel;\n            if (typeof channel_group != 'undefined' && channel_group != null && channel_group.length > 0) {\n                data['channel-group'] = channel_group;\n            }\n            if (auth_key) data['auth']    = auth_key;\n\n            data = _get_url_params(data);\n\n            if (!auth_key) delete data['auth'];\n\n            sign_input += _get_pam_sign_input_from_params(data);\n\n            var signature = hmac_SHA256( sign_input, SECRET_KEY );\n\n            signature = signature.replace( /\\+/g, \"-\" );\n            signature = signature.replace( /\\//g, \"_\" );\n\n            data['signature'] = signature;\n            xdr({\n                callback : jsonp,\n                data     : data,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v1', 'auth', 'audit' ,\n                    'sub-key', SUBSCRIBE_KEY\n                ]\n            });\n        },\n\n        /*\n            PUBNUB.revoke({\n                channel  : 'my_chat',\n                callback : fun,\n                error    : fun,\n                auth_key : '3y8uiajdklytowsj'\n            });\n        */\n        'revoke' : function( args, callback ) {\n            args['read']  = false;\n            args['write'] = false;\n            SELF['grant']( args, callback );\n        },\n        'set_uuid' : function(uuid) {\n            UUID = uuid;\n            CONNECT();\n        },\n        'get_uuid' : function() {\n            return UUID;\n        },\n        'isArray'  : function(arg) {\n            return isArray(arg);\n        },\n        'get_subscibed_channels' : function() {\n            return generate_channel_list(CHANNELS, true);\n        },\n        'presence_heartbeat' : function(args) {\n            var callback = args['callback'] || function() {}\n            var err      = args['error']    || function() {}\n            var jsonp    = jsonp_cb();\n            var data     = { 'uuid' : UUID, 'auth' : AUTH_KEY };\n\n            var st = JSON['stringify'](STATE);\n            if (st.length > 2) data['state'] = JSON['stringify'](STATE);\n\n            if (PRESENCE_HB > 0 && PRESENCE_HB < 320) data['heartbeat'] = PRESENCE_HB;\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            var channels        = encode(generate_channel_list(CHANNELS, true)['join'](','));\n            var channel_groups  = generate_channel_group_list(CHANNEL_GROUPS, true)['join'](',');\n\n            if (!channels) channels = ',';\n            if (channel_groups) data['channel-group'] = channel_groups;\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                timeout  : SECOND * 5,\n                url      : [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub-key', SUBSCRIBE_KEY,\n                    'channel' , channels,\n                    'heartbeat'\n                ],\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) { _invoke_error(response, err); }\n            });\n        },\n        'stop_timers': function () {\n            clearTimeout(_poll_timer);\n            clearTimeout(_poll_timer2);\n            clearTimeout(PRESENCE_HB_TIMEOUT);\n        },\n        'shutdown': function () {\n            SELF['stop_timers']();\n            shutdown && shutdown();\n        },\n\n        // Expose PUBNUB Functions\n        'xdr'           : xdr,\n        'ready'         : ready,\n        'db'            : db,\n        'uuid'          : generate_uuid,\n        'map'           : map,\n        'each'          : each,\n        'each-channel'  : each_channel,\n        'grep'          : grep,\n        'offline'       : function(){ _reset_offline(\n            1, { \"message\" : \"Offline. Please check your network settings.\" })\n        },\n        'supplant'      : supplant,\n        'now'           : rnow,\n        'unique'        : unique,\n        'updater'       : updater\n    };\n\n    function _poll_online() {\n        _is_online() || _reset_offline( 1, {\n            \"error\" : \"Offline. Please check your network settings. \"\n        });\n        _poll_timer && clearTimeout(_poll_timer);\n        _poll_timer = timeout( _poll_online, SECOND );\n    }\n\n    function _poll_online2() {\n        if (!TIME_CHECK) return;\n        SELF['time'](function(success){\n            detect_time_detla( function(){}, success );\n            success || _reset_offline( 1, {\n                \"error\" : \"Heartbeat failed to connect to Pubnub Servers.\" +\n                    \"Please check your network settings.\"\n                });\n            _poll_timer2 && clearTimeout(_poll_timer2);\n            _poll_timer2 = timeout( _poll_online2, KEEPALIVE );\n        });\n    }\n\n    function _reset_offline(err, msg) {\n        SUB_RECEIVER && SUB_RECEIVER(err, msg);\n        SUB_RECEIVER = null;\n\n        clearTimeout(_poll_timer);\n        clearTimeout(_poll_timer2);\n    }\n    \n    if (!UUID) UUID = SELF['uuid']();\n    if (!INSTANCEID) INSTANCEID = SELF['uuid']();\n    db['set']( SUBSCRIBE_KEY + 'uuid', UUID );\n\n    _poll_timer  = timeout( _poll_online,  SECOND    );\n    _poll_timer2 = timeout( _poll_online2, KEEPALIVE );\n    PRESENCE_HB_TIMEOUT = timeout(\n        start_presence_heartbeat,\n        ( PRESENCE_HB_INTERVAL - 3 ) * SECOND\n    );\n\n    // Detect Age of Message\n    function detect_latency(tt) {\n        var adjusted_time = rnow() - TIME_DRIFT;\n        return adjusted_time - tt / 10000;\n    }\n\n    detect_time_detla();\n    function detect_time_detla( cb, time ) {\n        var stime = rnow();\n\n        time && calculate(time) || SELF['time'](calculate);\n\n        function calculate(time) {\n            if (!time) return;\n            var ptime   = time / 10000\n            ,   latency = (rnow() - stime) / 2;\n            TIME_DRIFT = rnow() - (ptime + latency);\n            cb && cb(TIME_DRIFT);\n        }\n    }\n\n    return SELF;\n}\nfunction crypto_obj() {\n\n    function SHA256(s) {\n        return CryptoJS['SHA256'](s)['toString'](CryptoJS['enc']['Hex']);\n    }\n\n    var iv = \"0123456789012345\";\n\n    var allowedKeyEncodings = ['hex', 'utf8', 'base64', 'binary'];\n    var allowedKeyLengths = [128, 256];\n    var allowedModes = ['ecb', 'cbc'];\n\n    var defaultOptions = {\n        'encryptKey': true,\n        'keyEncoding': 'utf8',\n        'keyLength': 256,\n        'mode': 'cbc'\n    };\n\n    function parse_options(options) {\n\n        // Defaults\n        options = options || {};\n        if (!options['hasOwnProperty']('encryptKey')) options['encryptKey'] = defaultOptions['encryptKey'];\n        if (!options['hasOwnProperty']('keyEncoding')) options['keyEncoding'] = defaultOptions['keyEncoding'];\n        if (!options['hasOwnProperty']('keyLength')) options['keyLength'] = defaultOptions['keyLength'];\n        if (!options['hasOwnProperty']('mode')) options['mode'] = defaultOptions['mode'];\n\n        // Validation\n        if (allowedKeyEncodings['indexOf'](options['keyEncoding']['toLowerCase']()) == -1) options['keyEncoding'] = defaultOptions['keyEncoding'];\n        if (allowedKeyLengths['indexOf'](parseInt(options['keyLength'], 10)) == -1) options['keyLength'] = defaultOptions['keyLength'];\n        if (allowedModes['indexOf'](options['mode']['toLowerCase']()) == -1) options['mode'] = defaultOptions['mode'];\n\n        return options;\n\n    }\n\n    function decode_key(key, options) {\n        if (options['keyEncoding'] == 'base64') {\n            return CryptoJS['enc']['Base64']['parse'](key);\n        } else if (options['keyEncoding'] == 'hex') {\n            return CryptoJS['enc']['Hex']['parse'](key);\n        } else {\n            return key;\n        }\n    }\n\n    function get_padded_key(key, options) {\n        key = decode_key(key, options);\n        if (options['encryptKey']) {\n            return CryptoJS['enc']['Utf8']['parse'](SHA256(key)['slice'](0, 32));\n        } else {\n            return key;\n        }\n    }\n\n    function get_mode(options) {\n        if (options['mode'] == 'ecb') {\n            return CryptoJS['mode']['ECB'];\n        } else {\n            return CryptoJS['mode']['CBC'];\n        }\n    }\n\n    function get_iv(options) {\n        return (options['mode'] == 'cbc') ? CryptoJS['enc']['Utf8']['parse'](iv) : null;\n    }\n\n    return {\n\n        'encrypt': function(data, key, options) {\n            if (!key) return data;\n            options = parse_options(options);\n            var iv = get_iv(options);\n            var mode = get_mode(options);\n            var cipher_key = get_padded_key(key, options);\n            var hex_message = JSON['stringify'](data);\n            var encryptedHexArray = CryptoJS['AES']['encrypt'](hex_message, cipher_key, {'iv': iv, 'mode': mode})['ciphertext'];\n            var base_64_encrypted = encryptedHexArray['toString'](CryptoJS['enc']['Base64']);\n            return base_64_encrypted || data;\n        },\n\n        'decrypt': function(data, key, options) {\n            if (!key) return data;\n            options = parse_options(options);\n            var iv = get_iv(options);\n            var mode = get_mode(options);\n            var cipher_key = get_padded_key(key, options);\n            try {\n                var binary_enc = CryptoJS['enc']['Base64']['parse'](data);\n                var json_plain = CryptoJS['AES']['decrypt']({'ciphertext': binary_enc}, cipher_key, {'iv': iv, 'mode': mode})['toString'](CryptoJS['enc']['Utf8']);\n                var plaintext = JSON['parse'](json_plain);\n                return plaintext;\n            }\n            catch (e) {\n                return undefined;\n            }\n        }\n    };\n}\n/**\n * UTIL LOCALS\n */\n\nvar SWF             = 'https://pubnub.a.ssl.fastly.net/pubnub.swf'\n,   ASYNC           = 'async'\n,   UA              = navigator.userAgent\n,   PNSDK           = 'PubNub-JS-' + 'Web' + '/' + '3.7.16'\n,   XORIGN          = UA.indexOf('MSIE 6') == -1;\n\n/**\n * CONSOLE COMPATIBILITY\n */\nwindow.console || (window.console=window.console||{});\nconsole.log    || (\n    console.log   =\n    console.error =\n    ((window.opera||{}).postError||function(){})\n);\n\n/**\n * LOCAL STORAGE OR COOKIE\n */\nvar db = (function(){\n    var store = {};\n    var ls = false;\n    try {\n        ls = window['localStorage'];\n    } catch (e) { }\n    var cookieGet = function(key) {\n        if (document.cookie.indexOf(key) == -1) return null;\n        return ((document.cookie||'').match(\n            RegExp(key+'=([^;]+)')\n        )||[])[1] || null;\n    };\n    var cookieSet = function( key, value ) {\n        document.cookie = key + '=' + value +\n            '; expires=Thu, 1 Aug 2030 20:00:00 UTC; path=/';\n    };\n    var cookieTest = (function() {\n        try {\n            cookieSet('pnctest', '1');\n            return cookieGet('pnctest') === '1';\n        } catch (e) {\n            return false;\n        }\n    }());\n    return {\n        'get' : function(key) {\n            try {\n                if (ls) return ls.getItem(key);\n                if (cookieTest) return cookieGet(key);\n                return store[key];\n            } catch(e) {\n                return store[key];\n            }\n        },\n        'set' : function( key, value ) {\n            try {\n                if (ls) return ls.setItem( key, value ) && 0;\n                if (cookieTest) cookieSet( key, value );\n                store[key] = value;\n            } catch(e) {\n                store[key] = value;\n            }\n        }\n    };\n})();\n\nfunction get_hmac_SHA256(data,key) {\n    var hash = CryptoJS['HmacSHA256'](data, key);\n    return hash.toString(CryptoJS['enc']['Base64']);\n}\n\n/**\n * $\n * =\n * var div = $('divid');\n */\nfunction $(id) { return document.getElementById(id) }\n\n/**\n * ERROR\n * =====\n * error('message');\n */\nfunction error(message) { console['error'](message) }\n\n/**\n * SEARCH\n * ======\n * var elements = search('a div span');\n */\nfunction search( elements, start) {\n    var list = [];\n    each( elements.split(/\\s+/), function(el) {\n        each( (start || document).getElementsByTagName(el), function(node) {\n            list.push(node);\n        } );\n    });\n    return list;\n}\n\n/**\n * BIND\n * ====\n * bind( 'keydown', search('a')[0], function(element) {\n *     ...\n * } );\n */\nfunction bind( type, el, fun ) {\n    each( type.split(','), function(etype) {\n        var rapfun = function(e) {\n            if (!e) e = window.event;\n            if (!fun(e)) {\n                e.cancelBubble = true;\n                e.preventDefault  && e.preventDefault();\n                e.stopPropagation && e.stopPropagation();\n            }\n        };\n\n        if ( el.addEventListener ) el.addEventListener( etype, rapfun, false );\n        else if ( el.attachEvent ) el.attachEvent( 'on' + etype, rapfun );\n        else  el[ 'on' + etype ] = rapfun;\n    } );\n}\n\n/**\n * UNBIND\n * ======\n * unbind( 'keydown', search('a')[0] );\n */\nfunction unbind( type, el, fun ) {\n    if ( el.removeEventListener ) el.removeEventListener( type, false );\n    else if ( el.detachEvent ) el.detachEvent( 'on' + type, false );\n    else  el[ 'on' + type ] = null;\n}\n\n/**\n * HEAD\n * ====\n * head().appendChild(elm);\n */\nfunction head() { return search('head')[0] }\n\n/**\n * ATTR\n * ====\n * var attribute = attr( node, 'attribute' );\n */\nfunction attr( node, attribute, value ) {\n    if (value) node.setAttribute( attribute, value );\n    else return node && node.getAttribute && node.getAttribute(attribute);\n}\n\n/**\n * CSS\n * ===\n * var obj = create('div');\n */\nfunction css( element, styles ) {\n    for (var style in styles) if (styles.hasOwnProperty(style))\n        try {element.style[style] = styles[style] + (\n            '|width|height|top|left|'.indexOf(style) > 0 &&\n            typeof styles[style] == 'number'\n            ? 'px' : ''\n        )}catch(e){}\n}\n\n/**\n * CREATE\n * ======\n * var obj = create('div');\n */\nfunction create(element) { return document.createElement(element) }\n\n\n/**\n * jsonp_cb\n * ========\n * var callback = jsonp_cb();\n */\nfunction jsonp_cb() { return XORIGN || FDomainRequest() ? 0 : unique() }\n\n\n\n/**\n * EVENTS\n * ======\n * PUBNUB.events.bind( 'you-stepped-on-flower', function(message) {\n *     // Do Stuff with message\n * } );\n *\n * PUBNUB.events.fire( 'you-stepped-on-flower', \"message-data\" );\n * PUBNUB.events.fire( 'you-stepped-on-flower', {message:\"data\"} );\n * PUBNUB.events.fire( 'you-stepped-on-flower', [1,2,3] );\n *\n */\nvar events = {\n    'list'   : {},\n    'unbind' : function( name ) { events.list[name] = [] },\n    'bind'   : function( name, fun ) {\n        (events.list[name] = events.list[name] || []).push(fun);\n    },\n    'fire' : function( name, data ) {\n        each(\n            events.list[name] || [],\n            function(fun) { fun(data) }\n        );\n    }\n};\n\n/**\n * XDR Cross Domain Request\n * ========================\n *  xdr({\n *     url     : ['http://www.blah.com/url'],\n *     success : function(response) {},\n *     fail    : function() {}\n *  });\n */\nfunction xdr( setup ) {\n    if (XORIGN || FDomainRequest()) return ajax(setup);\n\n    var script    = create('script')\n    ,   callback  = setup.callback\n    ,   id        = unique()\n    ,   finished  = 0\n    ,   xhrtme    = setup.timeout || DEF_TIMEOUT\n    ,   timer     = timeout( function(){done(1, {\"message\" : \"timeout\"})}, xhrtme )\n    ,   fail      = setup.fail    || function(){}\n    ,   data      = setup.data    || {}\n    ,   success   = setup.success || function(){}\n    ,   append    = function() { head().appendChild(script) }\n    ,   done      = function( failed, response ) {\n            if (finished) return;\n            finished = 1;\n\n            script.onerror = null;\n            clearTimeout(timer);\n\n            (failed || !response) || success(response);\n\n            timeout( function() {\n                failed && fail();\n                var s = $(id)\n                ,   p = s && s.parentNode;\n                p && p.removeChild(s);\n            }, SECOND );\n        };\n\n    window[callback] = function(response) {\n        done( 0, response );\n    };\n\n    if (!setup.blocking) script[ASYNC] = ASYNC;\n\n    script.onerror = function() { done(1) };\n    script.src     = build_url( setup.url, data );\n\n    attr( script, 'id', id );\n\n    append();\n    return done;\n}\n\n/**\n * CORS XHR Request\n * ================\n *  xdr({\n *     url     : ['http://www.blah.com/url'],\n *     success : function(response) {},\n *     fail    : function() {}\n *  });\n */\nfunction ajax( setup ) {\n    var xhr, response\n    ,   finished = function() {\n            if (loaded) return;\n            loaded = 1;\n\n            clearTimeout(timer);\n\n            try       { response = JSON['parse'](xhr.responseText); }\n            catch (r) { return done(1); }\n\n            complete = 1;\n            success(response);\n        }\n    ,   complete = 0\n    ,   loaded   = 0\n    ,   xhrtme   = setup.timeout || DEF_TIMEOUT\n    ,   timer    = timeout( function(){done(1, {\"message\" : \"timeout\"})}, xhrtme )\n    ,   fail     = setup.fail    || function(){}\n    ,   data     = setup.data    || {}\n    ,   success  = setup.success || function(){}\n    ,   async    = !(setup.blocking)\n    ,   done     = function(failed,response) {\n            if (complete) return;\n            complete = 1;\n\n            clearTimeout(timer);\n\n            if (xhr) {\n                xhr.onerror = xhr.onload = null;\n                xhr.abort && xhr.abort();\n                xhr = null;\n            }\n\n            failed && fail(response);\n        };\n\n    // Send\n    try {\n        xhr = FDomainRequest()      ||\n              window.XDomainRequest &&\n              new XDomainRequest()  ||\n              new XMLHttpRequest();\n\n        xhr.onerror = xhr.onabort   = function(e){ done(\n            1, e || (xhr && xhr.responseText) || { \"error\" : \"Network Connection Error\"}\n        ) };\n        xhr.onload  = xhr.onloadend = finished;\n        xhr.onreadystatechange = function() {\n            if (xhr && xhr.readyState == 4) {\n                switch(xhr.status) {\n                    case 200:\n                        break;\n                    default:\n                        try {\n                            response = JSON['parse'](xhr.responseText);\n                            done(1,response);\n                        }\n                        catch (r) { return done(1, {status : xhr.status, payload : null, message : xhr.responseText}); }\n                        return;\n                }\n            }\n        }\n\n        var url = build_url(setup.url,data);\n\n        xhr.open( 'GET', url, async );\n        if (async) xhr.timeout = xhrtme;\n        xhr.send();\n    }\n    catch(eee) {\n        done(0);\n        XORIGN = 0;\n        return xdr(setup);\n    }\n\n    // Return 'done'\n    return done;\n}\n\n// Test Connection State\nfunction _is_online() {\n    if (!('onLine' in navigator)) return 1;\n    try       { return navigator['onLine'] }\n    catch (e) { return true }\n}\n\n\nfunction sendBeacon(url) {\n    if (!('sendBeacon' in navigator)) return false;\n\n    return navigator['sendBeacon'](url);\n}\n\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n/* =-=========================     PUBNUB     ===========================-= */\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n\nvar PDIV          = $('pubnub') || 0\n,   CREATE_PUBNUB = function(setup) {\n\n    // Force JSONP if requested from user.\n    if (setup['jsonp'])  XORIGN = 0;\n    else                 XORIGN = UA.indexOf('MSIE 6') == -1;\n\n    var SUBSCRIBE_KEY = setup['subscribe_key'] || ''\n    ,   KEEPALIVE     = (+setup['keepalive']   || DEF_KEEPALIVE)   * SECOND\n    ,   UUID          = setup['uuid'] || db['get'](SUBSCRIBE_KEY+'uuid')||'';\n\n    var leave_on_unload = setup['leave_on_unload'] || 0;\n\n    setup['xdr']        = xdr;\n    setup['db']         = db;\n    setup['error']      = setup['error'] || error;\n    setup['_is_online'] = _is_online;\n    setup['jsonp_cb']   = jsonp_cb;\n    setup['hmac_SHA256']= get_hmac_SHA256;\n    setup['crypto_obj'] = crypto_obj();\n    setup['sendBeacon'] = sendBeacon;\n    setup['params']     = { 'pnsdk' : PNSDK }\n\n    var SELF = function(setup) {\n        return CREATE_PUBNUB(setup);\n    };\n\n    var PN = PN_API(setup);\n\n    for (var prop in PN) {\n        if (PN.hasOwnProperty(prop)) {\n            SELF[prop] = PN[prop];\n        }\n    }\n    SELF['css']         = css;\n    SELF['$']           = $;\n    SELF['create']      = create;\n    SELF['bind']        = bind;\n    SELF['head']        = head;\n    SELF['search']      = search;\n    SELF['attr']        = attr;\n    SELF['events']      = events;\n    SELF['init']        = SELF;\n    SELF['secure']      = SELF;\n    SELF['crypto_obj']  = crypto_obj(); // export to instance\n\n\n    // Add Leave Functions\n    bind( 'beforeunload', window, function() {\n        if (leave_on_unload) SELF['each-channel'](function(ch){ SELF['LEAVE']( ch.name, 0 ) });\n        return true;\n    } );\n\n    // Return without Testing\n    if (setup['notest']) return SELF;\n\n    bind( 'offline', window,   SELF['offline'] );\n    bind( 'offline', document, SELF['offline'] );\n\n    // Return PUBNUB Socket Object\n    return SELF;\n};\nCREATE_PUBNUB['init']   = CREATE_PUBNUB;\nCREATE_PUBNUB['secure'] = CREATE_PUBNUB;\nCREATE_PUBNUB['crypto_obj'] = crypto_obj(); // export to constructor\n\n// Bind for PUBNUB Readiness to Subscribe\nif (document.readyState === 'complete') {\n    timeout( ready, 0 );\n}\nelse {\n    bind( 'load', window, function(){ timeout( ready, 0 ) } );\n}\n\nvar pdiv = PDIV || {};\n\n// CREATE A PUBNUB GLOBAL OBJECT\nPUBNUB = CREATE_PUBNUB({\n    'notest'        : 1,\n    'publish_key'   : attr( pdiv, 'pub-key' ),\n    'subscribe_key' : attr( pdiv, 'sub-key' ),\n    'ssl'           : !document.location.href.indexOf('https') ||\n                      attr( pdiv, 'ssl' ) == 'on',\n    'origin'        : attr( pdiv, 'origin' ),\n    'uuid'          : attr( pdiv, 'uuid' )\n});\n\n// jQuery Interface\nwindow['jQuery'] && (window['jQuery']['PUBNUB'] = CREATE_PUBNUB);\n\n// For Modern JS + Testling.js - http://testling.com/\ntypeof(module) !== 'undefined' && (module['exports'] = PUBNUB) && ready();\n\nvar pubnubs = $('pubnubs') || 0;\n\n// LEAVE NOW IF NO PDIV.\nif (!PDIV) return;\n\n// PUBNUB Flash Socket\ncss( PDIV, { 'position' : 'absolute', 'top' : -SECOND } );\n\nif ('opera' in window || attr( PDIV, 'flash' )) PDIV['innerHTML'] =\n    '<object id=pubnubs data='  + SWF +\n    '><param name=movie value=' + SWF +\n    '><param name=allowscriptaccess value=always></object>';\n\n// Create Interface for Opera Flash\nPUBNUB['rdx'] = function( id, data ) {\n    if (!data) return FDomainRequest[id]['onerror']();\n    FDomainRequest[id]['responseText'] = unescape(data);\n    FDomainRequest[id]['onload']();\n};\n\nfunction FDomainRequest() {\n    if (!pubnubs || !pubnubs['get']) return 0;\n\n    var fdomainrequest = {\n        'id'    : FDomainRequest['id']++,\n        'send'  : function() {},\n        'abort' : function() { fdomainrequest['id'] = {} },\n        'open'  : function( method, url ) {\n            FDomainRequest[fdomainrequest['id']] = fdomainrequest;\n            pubnubs['get']( fdomainrequest['id'], url );\n        }\n    };\n\n    return fdomainrequest;\n}\nFDomainRequest['id'] = SECOND;\n\n})();\n(function(){\n\n// ---------------------------------------------------------------------------\n// WEBSOCKET INTERFACE\n// ---------------------------------------------------------------------------\nvar WS = PUBNUB['ws'] = function( url, protocols ) {\n    if (!(this instanceof WS)) return new WS( url, protocols );\n\n    var self     = this\n    ,   url      = self.url      = url || ''\n    ,   protocol = self.protocol = protocols || 'Sec-WebSocket-Protocol'\n    ,   bits     = url.split('/')\n    ,   setup    = {\n         'ssl'           : bits[0] === 'wss:'\n        ,'origin'        : bits[2]\n        ,'publish_key'   : bits[3]\n        ,'subscribe_key' : bits[4]\n        ,'channel'       : bits[5]\n    };\n\n    // READY STATES\n    self['CONNECTING'] = 0; // The connection is not yet open.\n    self['OPEN']       = 1; // The connection is open and ready to communicate.\n    self['CLOSING']    = 2; // The connection is in the process of closing.\n    self['CLOSED']     = 3; // The connection is closed or couldn't be opened.\n\n    // CLOSE STATES\n    self['CLOSE_NORMAL']         = 1000; // Normal Intended Close; completed.\n    self['CLOSE_GOING_AWAY']     = 1001; // Closed Unexpecttedly.\n    self['CLOSE_PROTOCOL_ERROR'] = 1002; // Server: Not Supported.\n    self['CLOSE_UNSUPPORTED']    = 1003; // Server: Unsupported Protocol.\n    self['CLOSE_TOO_LARGE']      = 1004; // Server: Too Much Data.\n    self['CLOSE_NO_STATUS']      = 1005; // Server: No reason.\n    self['CLOSE_ABNORMAL']       = 1006; // Abnormal Disconnect.\n\n    // Events Default\n    self['onclose']   = self['onerror'] =\n    self['onmessage'] = self['onopen']  =\n    self['onsend']    =  function(){};\n\n    // Attributes\n    self['binaryType']     = '';\n    self['extensions']     = '';\n    self['bufferedAmount'] = 0;\n    self['trasnmitting']   = false;\n    self['buffer']         = [];\n    self['readyState']     = self['CONNECTING'];\n\n    // Close if no setup.\n    if (!url) {\n        self['readyState'] = self['CLOSED'];\n        self['onclose']({\n            'code'     : self['CLOSE_ABNORMAL'],\n            'reason'   : 'Missing URL',\n            'wasClean' : true\n        });\n        return self;\n    }\n\n    // PubNub WebSocket Emulation\n    self.pubnub       = PUBNUB['init'](setup);\n    self.pubnub.setup = setup;\n    self.setup        = setup;\n\n    self.pubnub['subscribe']({\n        'restore'    : false,\n        'channel'    : setup['channel'],\n        'disconnect' : self['onerror'],\n        'reconnect'  : self['onopen'],\n        'error'      : function() {\n            self['onclose']({\n                'code'     : self['CLOSE_ABNORMAL'],\n                'reason'   : 'Missing URL',\n                'wasClean' : false\n            });\n        },\n        'callback'   : function(message) {\n            self['onmessage']({ 'data' : message });\n        },\n        'connect'    : function() {\n            self['readyState'] = self['OPEN'];\n            self['onopen']();\n        }\n    });\n};\n\n// ---------------------------------------------------------------------------\n// WEBSOCKET SEND\n// ---------------------------------------------------------------------------\nWS.prototype.send = function(data) {\n    var self = this;\n    self.pubnub['publish']({\n        'channel'  : self.pubnub.setup['channel'],\n        'message'  : data,\n        'callback' : function(response) {\n            self['onsend']({ 'data' : response });\n        }\n    });\n};\n\n// ---------------------------------------------------------------------------\n// WEBSOCKET CLOSE\n// ---------------------------------------------------------------------------\nWS.prototype.close = function() {\n    var self = this;\n    self.pubnub['unsubscribe']({ 'channel' : self.pubnub.setup['channel'] });\n    self['readyState'] = self['CLOSED'];\n    self['onclose']({});\n};\n\n})();\n/*\nCryptoJS v3.1.2\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\nvar CryptoJS=CryptoJS||function(h,s){var f={},g=f.lib={},q=function(){},m=g.Base={extend:function(a){q.prototype=this;var c=new q;a&&c.mixIn(a);c.hasOwnProperty(\"init\")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty(\"toString\")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},\nr=g.WordArray=m.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=s?c:4*a.length},toString:function(a){return(a||k).stringify(this)},concat:function(a){var c=this.words,d=a.words,b=this.sigBytes;a=a.sigBytes;this.clamp();if(b%4)for(var e=0;e<a;e++)c[b+e>>>2]|=(d[e>>>2]>>>24-8*(e%4)&255)<<24-8*((b+e)%4);else if(65535<d.length)for(e=0;e<a;e+=4)c[b+e>>>2]=d[e>>>2];else c.push.apply(c,d);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<\n32-8*(c%4);a.length=h.ceil(c/4)},clone:function(){var a=m.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],d=0;d<a;d+=4)c.push(4294967296*h.random()|0);return new r.init(c,a)}}),l=f.enc={},k=l.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var d=[],b=0;b<a;b++){var e=c[b>>>2]>>>24-8*(b%4)&255;d.push((e>>>4).toString(16));d.push((e&15).toString(16))}return d.join(\"\")},parse:function(a){for(var c=a.length,d=[],b=0;b<c;b+=2)d[b>>>3]|=parseInt(a.substr(b,\n2),16)<<24-4*(b%8);return new r.init(d,c/2)}},n=l.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var d=[],b=0;b<a;b++)d.push(String.fromCharCode(c[b>>>2]>>>24-8*(b%4)&255));return d.join(\"\")},parse:function(a){for(var c=a.length,d=[],b=0;b<c;b++)d[b>>>2]|=(a.charCodeAt(b)&255)<<24-8*(b%4);return new r.init(d,c)}},j=l.Utf8={stringify:function(a){try{return decodeURIComponent(escape(n.stringify(a)))}catch(c){throw Error(\"Malformed UTF-8 data\");}},parse:function(a){return n.parse(unescape(encodeURIComponent(a)))}},\nu=g.BufferedBlockAlgorithm=m.extend({reset:function(){this._data=new r.init;this._nDataBytes=0},_append:function(a){\"string\"==typeof a&&(a=j.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,d=c.words,b=c.sigBytes,e=this.blockSize,f=b/(4*e),f=a?h.ceil(f):h.max((f|0)-this._minBufferSize,0);a=f*e;b=h.min(4*a,b);if(a){for(var g=0;g<a;g+=e)this._doProcessBlock(d,g);g=d.splice(0,a);c.sigBytes-=b}return new r.init(g,b)},clone:function(){var a=m.clone.call(this);\na._data=this._data.clone();return a},_minBufferSize:0});g.Hasher=u.extend({cfg:m.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){u.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(c,d){return(new a.init(d)).finalize(c)}},_createHmacHelper:function(a){return function(c,d){return(new t.HMAC.init(a,\nd)).finalize(c)}}});var t=f.algo={};return f}(Math);\n\n// SHA256\n(function(h){for(var s=CryptoJS,f=s.lib,g=f.WordArray,q=f.Hasher,f=s.algo,m=[],r=[],l=function(a){return 4294967296*(a-(a|0))|0},k=2,n=0;64>n;){var j;a:{j=k;for(var u=h.sqrt(j),t=2;t<=u;t++)if(!(j%t)){j=!1;break a}j=!0}j&&(8>n&&(m[n]=l(h.pow(k,0.5))),r[n]=l(h.pow(k,1/3)),n++);k++}var a=[],f=f.SHA256=q.extend({_doReset:function(){this._hash=new g.init(m.slice(0))},_doProcessBlock:function(c,d){for(var b=this._hash.words,e=b[0],f=b[1],g=b[2],j=b[3],h=b[4],m=b[5],n=b[6],q=b[7],p=0;64>p;p++){if(16>p)a[p]=\nc[d+p]|0;else{var k=a[p-15],l=a[p-2];a[p]=((k<<25|k>>>7)^(k<<14|k>>>18)^k>>>3)+a[p-7]+((l<<15|l>>>17)^(l<<13|l>>>19)^l>>>10)+a[p-16]}k=q+((h<<26|h>>>6)^(h<<21|h>>>11)^(h<<7|h>>>25))+(h&m^~h&n)+r[p]+a[p];l=((e<<30|e>>>2)^(e<<19|e>>>13)^(e<<10|e>>>22))+(e&f^e&g^f&g);q=n;n=m;m=h;h=j+k|0;j=g;g=f;f=e;e=k+l|0}b[0]=b[0]+e|0;b[1]=b[1]+f|0;b[2]=b[2]+g|0;b[3]=b[3]+j|0;b[4]=b[4]+h|0;b[5]=b[5]+m|0;b[6]=b[6]+n|0;b[7]=b[7]+q|0},_doFinalize:function(){var a=this._data,d=a.words,b=8*this._nDataBytes,e=8*a.sigBytes;\nd[e>>>5]|=128<<24-e%32;d[(e+64>>>9<<4)+14]=h.floor(b/4294967296);d[(e+64>>>9<<4)+15]=b;a.sigBytes=4*d.length;this._process();return this._hash},clone:function(){var a=q.clone.call(this);a._hash=this._hash.clone();return a}});s.SHA256=q._createHelper(f);s.HmacSHA256=q._createHmacHelper(f)})(Math);\n\n// HMAC SHA256\n(function(){var h=CryptoJS,s=h.enc.Utf8;h.algo.HMAC=h.lib.Base.extend({init:function(f,g){f=this._hasher=new f.init;\"string\"==typeof g&&(g=s.parse(g));var h=f.blockSize,m=4*h;g.sigBytes>m&&(g=f.finalize(g));g.clamp();for(var r=this._oKey=g.clone(),l=this._iKey=g.clone(),k=r.words,n=l.words,j=0;j<h;j++)k[j]^=1549556828,n[j]^=909522486;r.sigBytes=l.sigBytes=m;this.reset()},reset:function(){var f=this._hasher;f.reset();f.update(this._iKey)},update:function(f){this._hasher.update(f);return this},finalize:function(f){var g=\nthis._hasher;f=g.finalize(f);g.reset();return g.finalize(this._oKey.clone().concat(f))}})})();\n\n// Base64\n(function(){var u=CryptoJS,p=u.lib.WordArray;u.enc.Base64={stringify:function(d){var l=d.words,p=d.sigBytes,t=this._map;d.clamp();d=[];for(var r=0;r<p;r+=3)for(var w=(l[r>>>2]>>>24-8*(r%4)&255)<<16|(l[r+1>>>2]>>>24-8*((r+1)%4)&255)<<8|l[r+2>>>2]>>>24-8*((r+2)%4)&255,v=0;4>v&&r+0.75*v<p;v++)d.push(t.charAt(w>>>6*(3-v)&63));if(l=t.charAt(64))for(;d.length%4;)d.push(l);return d.join(\"\")},parse:function(d){var l=d.length,s=this._map,t=s.charAt(64);t&&(t=d.indexOf(t),-1!=t&&(l=t));for(var t=[],r=0,w=0;w<\nl;w++)if(w%4){var v=s.indexOf(d.charAt(w-1))<<2*(w%4),b=s.indexOf(d.charAt(w))>>>6-2*(w%4);t[r>>>2]|=(v|b)<<24-8*(r%4);r++}return p.create(t,r)},_map:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"}})();\n\n// BlockCipher\n(function(u){function p(b,n,a,c,e,j,k){b=b+(n&a|~n&c)+e+k;return(b<<j|b>>>32-j)+n}function d(b,n,a,c,e,j,k){b=b+(n&c|a&~c)+e+k;return(b<<j|b>>>32-j)+n}function l(b,n,a,c,e,j,k){b=b+(n^a^c)+e+k;return(b<<j|b>>>32-j)+n}function s(b,n,a,c,e,j,k){b=b+(a^(n|~c))+e+k;return(b<<j|b>>>32-j)+n}for(var t=CryptoJS,r=t.lib,w=r.WordArray,v=r.Hasher,r=t.algo,b=[],x=0;64>x;x++)b[x]=4294967296*u.abs(u.sin(x+1))|0;r=r.MD5=v.extend({_doReset:function(){this._hash=new w.init([1732584193,4023233417,2562383102,271733878])},\n_doProcessBlock:function(q,n){for(var a=0;16>a;a++){var c=n+a,e=q[c];q[c]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360}var a=this._hash.words,c=q[n+0],e=q[n+1],j=q[n+2],k=q[n+3],z=q[n+4],r=q[n+5],t=q[n+6],w=q[n+7],v=q[n+8],A=q[n+9],B=q[n+10],C=q[n+11],u=q[n+12],D=q[n+13],E=q[n+14],x=q[n+15],f=a[0],m=a[1],g=a[2],h=a[3],f=p(f,m,g,h,c,7,b[0]),h=p(h,f,m,g,e,12,b[1]),g=p(g,h,f,m,j,17,b[2]),m=p(m,g,h,f,k,22,b[3]),f=p(f,m,g,h,z,7,b[4]),h=p(h,f,m,g,r,12,b[5]),g=p(g,h,f,m,t,17,b[6]),m=p(m,g,h,f,w,22,b[7]),\nf=p(f,m,g,h,v,7,b[8]),h=p(h,f,m,g,A,12,b[9]),g=p(g,h,f,m,B,17,b[10]),m=p(m,g,h,f,C,22,b[11]),f=p(f,m,g,h,u,7,b[12]),h=p(h,f,m,g,D,12,b[13]),g=p(g,h,f,m,E,17,b[14]),m=p(m,g,h,f,x,22,b[15]),f=d(f,m,g,h,e,5,b[16]),h=d(h,f,m,g,t,9,b[17]),g=d(g,h,f,m,C,14,b[18]),m=d(m,g,h,f,c,20,b[19]),f=d(f,m,g,h,r,5,b[20]),h=d(h,f,m,g,B,9,b[21]),g=d(g,h,f,m,x,14,b[22]),m=d(m,g,h,f,z,20,b[23]),f=d(f,m,g,h,A,5,b[24]),h=d(h,f,m,g,E,9,b[25]),g=d(g,h,f,m,k,14,b[26]),m=d(m,g,h,f,v,20,b[27]),f=d(f,m,g,h,D,5,b[28]),h=d(h,f,\nm,g,j,9,b[29]),g=d(g,h,f,m,w,14,b[30]),m=d(m,g,h,f,u,20,b[31]),f=l(f,m,g,h,r,4,b[32]),h=l(h,f,m,g,v,11,b[33]),g=l(g,h,f,m,C,16,b[34]),m=l(m,g,h,f,E,23,b[35]),f=l(f,m,g,h,e,4,b[36]),h=l(h,f,m,g,z,11,b[37]),g=l(g,h,f,m,w,16,b[38]),m=l(m,g,h,f,B,23,b[39]),f=l(f,m,g,h,D,4,b[40]),h=l(h,f,m,g,c,11,b[41]),g=l(g,h,f,m,k,16,b[42]),m=l(m,g,h,f,t,23,b[43]),f=l(f,m,g,h,A,4,b[44]),h=l(h,f,m,g,u,11,b[45]),g=l(g,h,f,m,x,16,b[46]),m=l(m,g,h,f,j,23,b[47]),f=s(f,m,g,h,c,6,b[48]),h=s(h,f,m,g,w,10,b[49]),g=s(g,h,f,m,\nE,15,b[50]),m=s(m,g,h,f,r,21,b[51]),f=s(f,m,g,h,u,6,b[52]),h=s(h,f,m,g,k,10,b[53]),g=s(g,h,f,m,B,15,b[54]),m=s(m,g,h,f,e,21,b[55]),f=s(f,m,g,h,v,6,b[56]),h=s(h,f,m,g,x,10,b[57]),g=s(g,h,f,m,t,15,b[58]),m=s(m,g,h,f,D,21,b[59]),f=s(f,m,g,h,z,6,b[60]),h=s(h,f,m,g,C,10,b[61]),g=s(g,h,f,m,j,15,b[62]),m=s(m,g,h,f,A,21,b[63]);a[0]=a[0]+f|0;a[1]=a[1]+m|0;a[2]=a[2]+g|0;a[3]=a[3]+h|0},_doFinalize:function(){var b=this._data,n=b.words,a=8*this._nDataBytes,c=8*b.sigBytes;n[c>>>5]|=128<<24-c%32;var e=u.floor(a/\n4294967296);n[(c+64>>>9<<4)+15]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360;n[(c+64>>>9<<4)+14]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360;b.sigBytes=4*(n.length+1);this._process();b=this._hash;n=b.words;for(a=0;4>a;a++)c=n[a],n[a]=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360;return b},clone:function(){var b=v.clone.call(this);b._hash=this._hash.clone();return b}});t.MD5=v._createHelper(r);t.HmacMD5=v._createHmacHelper(r)})(Math);\n(function(){var u=CryptoJS,p=u.lib,d=p.Base,l=p.WordArray,p=u.algo,s=p.EvpKDF=d.extend({cfg:d.extend({keySize:4,hasher:p.MD5,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,r){for(var p=this.cfg,s=p.hasher.create(),b=l.create(),u=b.words,q=p.keySize,p=p.iterations;u.length<q;){n&&s.update(n);var n=s.update(d).finalize(r);s.reset();for(var a=1;a<p;a++)n=s.finalize(n),s.reset();b.concat(n)}b.sigBytes=4*q;return b}});u.EvpKDF=function(d,l,p){return s.create(p).compute(d,\nl)}})();\n\n// Cipher\nCryptoJS.lib.Cipher||function(u){var p=CryptoJS,d=p.lib,l=d.Base,s=d.WordArray,t=d.BufferedBlockAlgorithm,r=p.enc.Base64,w=p.algo.EvpKDF,v=d.Cipher=t.extend({cfg:l.extend(),createEncryptor:function(e,a){return this.create(this._ENC_XFORM_MODE,e,a)},createDecryptor:function(e,a){return this.create(this._DEC_XFORM_MODE,e,a)},init:function(e,a,b){this.cfg=this.cfg.extend(b);this._xformMode=e;this._key=a;this.reset()},reset:function(){t.reset.call(this);this._doReset()},process:function(e){this._append(e);return this._process()},\nfinalize:function(e){e&&this._append(e);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(b,k,d){return(\"string\"==typeof k?c:a).encrypt(e,b,k,d)},decrypt:function(b,k,d){return(\"string\"==typeof k?c:a).decrypt(e,b,k,d)}}}});d.StreamCipher=v.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var b=p.mode={},x=function(e,a,b){var c=this._iv;c?this._iv=u:c=this._prevBlock;for(var d=0;d<b;d++)e[a+d]^=\nc[d]},q=(d.BlockCipherMode=l.extend({createEncryptor:function(e,a){return this.Encryptor.create(e,a)},createDecryptor:function(e,a){return this.Decryptor.create(e,a)},init:function(e,a){this._cipher=e;this._iv=a}})).extend();q.Encryptor=q.extend({processBlock:function(e,a){var b=this._cipher,c=b.blockSize;x.call(this,e,a,c);b.encryptBlock(e,a);this._prevBlock=e.slice(a,a+c)}});q.Decryptor=q.extend({processBlock:function(e,a){var b=this._cipher,c=b.blockSize,d=e.slice(a,a+c);b.decryptBlock(e,a);x.call(this,\ne,a,c);this._prevBlock=d}});b=b.CBC=q;q=(p.pad={}).Pkcs7={pad:function(a,b){for(var c=4*b,c=c-a.sigBytes%c,d=c<<24|c<<16|c<<8|c,l=[],n=0;n<c;n+=4)l.push(d);c=s.create(l,c);a.concat(c)},unpad:function(a){a.sigBytes-=a.words[a.sigBytes-1>>>2]&255}};d.BlockCipher=v.extend({cfg:v.cfg.extend({mode:b,padding:q}),reset:function(){v.reset.call(this);var a=this.cfg,b=a.iv,a=a.mode;if(this._xformMode==this._ENC_XFORM_MODE)var c=a.createEncryptor;else c=a.createDecryptor,this._minBufferSize=1;this._mode=c.call(a,\nthis,b&&b.words)},_doProcessBlock:function(a,b){this._mode.processBlock(a,b)},_doFinalize:function(){var a=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){a.pad(this._data,this.blockSize);var b=this._process(!0)}else b=this._process(!0),a.unpad(b);return b},blockSize:4});var n=d.CipherParams=l.extend({init:function(a){this.mixIn(a)},toString:function(a){return(a||this.formatter).stringify(this)}}),b=(p.format={}).OpenSSL={stringify:function(a){var b=a.ciphertext;a=a.salt;return(a?s.create([1398893684,\n1701076831]).concat(a).concat(b):b).toString(r)},parse:function(a){a=r.parse(a);var b=a.words;if(1398893684==b[0]&&1701076831==b[1]){var c=s.create(b.slice(2,4));b.splice(0,4);a.sigBytes-=16}return n.create({ciphertext:a,salt:c})}},a=d.SerializableCipher=l.extend({cfg:l.extend({format:b}),encrypt:function(a,b,c,d){d=this.cfg.extend(d);var l=a.createEncryptor(c,d);b=l.finalize(b);l=l.cfg;return n.create({ciphertext:b,key:c,iv:l.iv,algorithm:a,mode:l.mode,padding:l.padding,blockSize:a.blockSize,formatter:d.format})},\ndecrypt:function(a,b,c,d){d=this.cfg.extend(d);b=this._parse(b,d.format);return a.createDecryptor(c,d).finalize(b.ciphertext)},_parse:function(a,b){return\"string\"==typeof a?b.parse(a,this):a}}),p=(p.kdf={}).OpenSSL={execute:function(a,b,c,d){d||(d=s.random(8));a=w.create({keySize:b+c}).compute(a,d);c=s.create(a.words.slice(b),4*c);a.sigBytes=4*b;return n.create({key:a,iv:c,salt:d})}},c=d.PasswordBasedCipher=a.extend({cfg:a.cfg.extend({kdf:p}),encrypt:function(b,c,d,l){l=this.cfg.extend(l);d=l.kdf.execute(d,\nb.keySize,b.ivSize);l.iv=d.iv;b=a.encrypt.call(this,b,c,d.key,l);b.mixIn(d);return b},decrypt:function(b,c,d,l){l=this.cfg.extend(l);c=this._parse(c,l.format);d=l.kdf.execute(d,b.keySize,b.ivSize,c.salt);l.iv=d.iv;return a.decrypt.call(this,b,c,d.key,l)}})}();\n\n// AES\n(function(){for(var u=CryptoJS,p=u.lib.BlockCipher,d=u.algo,l=[],s=[],t=[],r=[],w=[],v=[],b=[],x=[],q=[],n=[],a=[],c=0;256>c;c++)a[c]=128>c?c<<1:c<<1^283;for(var e=0,j=0,c=0;256>c;c++){var k=j^j<<1^j<<2^j<<3^j<<4,k=k>>>8^k&255^99;l[e]=k;s[k]=e;var z=a[e],F=a[z],G=a[F],y=257*a[k]^16843008*k;t[e]=y<<24|y>>>8;r[e]=y<<16|y>>>16;w[e]=y<<8|y>>>24;v[e]=y;y=16843009*G^65537*F^257*z^16843008*e;b[k]=y<<24|y>>>8;x[k]=y<<16|y>>>16;q[k]=y<<8|y>>>24;n[k]=y;e?(e=z^a[a[a[G^z]]],j^=a[a[j]]):e=j=1}var H=[0,1,2,4,8,\n16,32,64,128,27,54],d=d.AES=p.extend({_doReset:function(){for(var a=this._key,c=a.words,d=a.sigBytes/4,a=4*((this._nRounds=d+6)+1),e=this._keySchedule=[],j=0;j<a;j++)if(j<d)e[j]=c[j];else{var k=e[j-1];j%d?6<d&&4==j%d&&(k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255]):(k=k<<8|k>>>24,k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255],k^=H[j/d|0]<<24);e[j]=e[j-d]^k}c=this._invKeySchedule=[];for(d=0;d<a;d++)j=a-d,k=d%4?e[j]:e[j-4],c[d]=4>d||4>=j?k:b[l[k>>>24]]^x[l[k>>>16&255]]^q[l[k>>>\n8&255]]^n[l[k&255]]},encryptBlock:function(a,b){this._doCryptBlock(a,b,this._keySchedule,t,r,w,v,l)},decryptBlock:function(a,c){var d=a[c+1];a[c+1]=a[c+3];a[c+3]=d;this._doCryptBlock(a,c,this._invKeySchedule,b,x,q,n,s);d=a[c+1];a[c+1]=a[c+3];a[c+3]=d},_doCryptBlock:function(a,b,c,d,e,j,l,f){for(var m=this._nRounds,g=a[b]^c[0],h=a[b+1]^c[1],k=a[b+2]^c[2],n=a[b+3]^c[3],p=4,r=1;r<m;r++)var q=d[g>>>24]^e[h>>>16&255]^j[k>>>8&255]^l[n&255]^c[p++],s=d[h>>>24]^e[k>>>16&255]^j[n>>>8&255]^l[g&255]^c[p++],t=\nd[k>>>24]^e[n>>>16&255]^j[g>>>8&255]^l[h&255]^c[p++],n=d[n>>>24]^e[g>>>16&255]^j[h>>>8&255]^l[k&255]^c[p++],g=q,h=s,k=t;q=(f[g>>>24]<<24|f[h>>>16&255]<<16|f[k>>>8&255]<<8|f[n&255])^c[p++];s=(f[h>>>24]<<24|f[k>>>16&255]<<16|f[n>>>8&255]<<8|f[g&255])^c[p++];t=(f[k>>>24]<<24|f[n>>>16&255]<<16|f[g>>>8&255]<<8|f[h&255])^c[p++];n=(f[n>>>24]<<24|f[g>>>16&255]<<16|f[h>>>8&255]<<8|f[k&255])^c[p++];a[b]=q;a[b+1]=s;a[b+2]=t;a[b+3]=n},keySize:8});u.AES=p._createHelper(d)})();\n\n// Mode ECB\nCryptoJS.mode.ECB = (function () {\n    var ECB = CryptoJS.lib.BlockCipherMode.extend();\n\n    ECB.Encryptor = ECB.extend({\n        processBlock: function (words, offset) {\n            this._cipher.encryptBlock(words, offset);\n        }\n    });\n\n    ECB.Decryptor = ECB.extend({\n        processBlock: function (words, offset) {\n            this._cipher.decryptBlock(words, offset);\n        }\n    });\n\n    return ECB;\n}());// Moved to hmac-sha-256.js\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./bower_components/pubnub/web/pubnub.js\n ** module id = 11\n ** module chunks = 0\n **/","export default class Cache {\n\n    static defaultPrefix = 'rc-';\n\n    constructor(storage, prefix) {\n        this.setPrefix(prefix);\n        this._storage = storage;\n    }\n\n    setPrefix(prefix) {\n        this._prefix = prefix || Cache.defaultPrefix;\n        return this;\n    }\n\n    setItem(key, data) {\n        this._storage[this._prefixKey(key)] = JSON.stringify(data);\n        return this;\n    }\n\n    removeItem(key) {\n        delete this._storage[this._prefixKey(key)];\n        return this;\n    }\n\n    getItem(key) {\n        var item = this._storage[this._prefixKey(key)];\n        if (!item) return null;\n        return JSON.parse(item);\n    }\n\n    clean() {\n\n        for (var key in this._storage) {\n\n            if (!this._storage.hasOwnProperty(key)) continue;\n\n            if (key.indexOf(this._prefix) === 0) {\n                delete this._storage[key];\n            }\n\n        }\n\n        return this;\n\n    }\n\n    _prefixKey(key) {\n        return this._prefix + key;\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/Cache.js\n **/","export default class Observable {\n\n    constructor() {\n        this.off();\n    }\n\n    hasListeners(event) {\n        return (event in this._listeners);\n    }\n\n    on(events, callback) {\n\n        if (typeof events == 'string') events = [events];\n        if (!events) throw new Error('No events to subscribe to');\n        if (typeof callback !== 'function') throw new Error('Callback must be a function');\n\n        events.forEach((event) => {\n\n            if (!this.hasListeners(event)) this._listeners[event] = [];\n\n            this._listeners[event].push(callback);\n\n        });\n\n        return this;\n\n    }\n\n    emit(event, ...args) {\n\n        var result = null;\n\n        if (!this.hasListeners(event)) return null;\n\n        this._listeners[event].some((callback) => {\n\n            result = callback.apply(this, args);\n            return (result === false);\n\n        });\n\n        return result;\n\n    }\n\n    off(event, callback) {\n\n        if (!event) {\n\n            this._listeners = {};\n\n        } else {\n\n            if (!callback) {\n\n                delete this._listeners[event];\n\n            } else {\n\n                if (!this.hasListeners(event)) return this;\n\n                this._listeners[event].forEach((cb, i) => {\n\n                    if (cb === callback) delete this._listeners[event][i];\n\n                });\n\n            }\n\n        }\n\n        return this;\n\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/Observable.js\n **/","import {Promise} from '../core/Externals';\nimport {poll, stopPolling} from './Utils';\n\nexport default class Queue {\n\n    static _pollInterval = 250;\n    static _releaseTimeout = 5000;\n\n    constructor(cache, cacheId) {\n\n        this._cache = cache;\n        this._cacheId = cacheId;\n        this._promise = null;\n\n    }\n\n    isPaused() {\n\n        var time = this._cache.getItem(this._cacheId);\n\n        return !!time && Date.now() - parseInt(time) < Queue._releaseTimeout;\n    }\n\n    pause() {\n        this._cache.setItem(this._cacheId, Date.now());\n        return this;\n    }\n\n    resume() {\n        this._cache.removeItem(this._cacheId);\n        return this;\n    }\n\n    poll() {\n\n        if (this._promise) return this._promise;\n\n        this._promise = new Promise((resolve, reject) => {\n\n            poll((next) => {\n\n                if (this.isPaused()) return next();\n\n                this._promise = null;\n\n                this.resume(); // this is actually not needed but why not\n\n                resolve(null);\n\n            }, Queue._pollInterval);\n\n        });\n\n        return this._promise;\n\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/Queue.js\n **/","import {fetch, Request, Response, Headers, Promise} from '../core/Externals';\nimport {queryStringify} from '../core/Utils';\nimport {findHeaderName} from './Utils';\nimport Observable from '../core/Observable';\nimport ApiResponse from './ApiResponse';\n\nexport default class Client extends Observable {\n\n    static _allowedMethods = ['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'OPTIONS', 'HEAD'];\n\n    events = {\n        beforeRequest: 'beforeRequest',\n        requestSuccess: 'requestSuccess',\n        requestError: 'requestError'\n    };\n\n    /**\n     * @param {Request} request\n     * @return {Promise<ApiResponse>}\n     */\n    async sendRequest(request) {\n\n        var apiResponse = new ApiResponse(request);\n\n        try {\n\n            //TODO Stop request if listeners return false\n            this.emit(this.events.beforeRequest, apiResponse);\n\n            apiResponse._response = await this._loadResponse(request);\n\n            if (apiResponse._isMultipart() || apiResponse._isJson()) {\n                apiResponse._text = await apiResponse.response().text();\n            }\n\n            if (!apiResponse.ok()) throw new Error('Response has unsuccessful status');\n\n            this.emit(this.events.requestSuccess, apiResponse);\n\n            return apiResponse;\n\n        } catch (e) {\n\n            if (!e.apiResponse) e = this.makeError(e, apiResponse);\n\n            this.emit(this.events.requestError, e);\n\n            throw e;\n\n        }\n\n    }\n\n    /**\n     * @param {Request} request\n     * @return {Promise<Response>}\n     * @private\n     */\n    async _loadResponse(request) {\n        return await fetch.call(null, request);\n    }\n\n    /**\n     * Wraps the JS Error object with transaction information\n     * @param {Error|IApiError} e\n     * @param {ApiResponse} apiResponse\n     * @return {IApiError}\n     */\n    makeError(e, apiResponse) {\n\n        // Wrap only if regular error\n        if (!e.hasOwnProperty('apiResponse') && !e.hasOwnProperty('originalMessage')) {\n\n            e.apiResponse = apiResponse;\n            e.originalMessage = e.message;\n            e.message = (apiResponse && apiResponse.error(true)) || e.originalMessage;\n\n        }\n\n        return e;\n\n    }\n\n    /**\n     *\n     * @param {object} init\n     * @param {object} [init.url]\n     * @param {object} [init.body]\n     * @param {string} [init.method]\n     * @param {object} [init.query]\n     * @param {object} [init.headers]\n     * @return {Request}\n     */\n    createRequest(init) {\n\n        init = init || {};\n        init.headers = init.headers || {};\n\n        // Sanity checks\n        if (!init.url) throw new Error('Url is not defined');\n        if (!init.method) init.method = 'GET';\n        if (init.method && Client._allowedMethods.indexOf(init.method) < 0) throw new Error('Method has wrong value: ' + init.method);\n\n        // Defaults\n        init.credentials = init.credentials || 'include';\n        init.mode = init.mode || 'cors';\n\n        // Append Query String\n        if (init.query) {\n            init.url = init.url + (init.url.indexOf('?') > -1 ? '&' : '?') + queryStringify(init.query);\n        }\n\n        if (!(findHeaderName('Accept', init.headers))) {\n            init.headers['Accept'] = ApiResponse._jsonContentType;\n        }\n\n        // Serialize body\n        //TODO Check that body is a plain object\n        if (typeof init.body !== 'string' || !init.body) {\n\n            var contentTypeHeaderName = findHeaderName(ApiResponse._contentType, init.headers);\n\n            if (!contentTypeHeaderName) {\n                contentTypeHeaderName = ApiResponse._contentType;\n                init.headers[contentTypeHeaderName] = ApiResponse._jsonContentType;\n            }\n\n            var contentType = init.headers[contentTypeHeaderName];\n\n            // Assign a new encoded body\n            if (contentType.indexOf(ApiResponse._jsonContentType) > -1) {\n                init.body = JSON.stringify(init.body);\n            } else if (contentType.indexOf(ApiResponse._urlencodedContentType) > -1) {\n                init.body = queryStringify(init.body);\n            }\n\n        }\n\n        // Create a request with encoded body\n        var req = new Request(init.url, init);\n\n        // Keep the original body accessible directly (for mocks)\n        req.originalBody = init.body;\n\n        return req;\n\n    }\n\n}\n\n/**\n * @name IApiError\n * @property {string} stack\n * @property {string} originalMessage\n * @property {ApiResponse} apiResponse\n */\n\n\n/** WEBPACK FOOTER **\n ** ./src/http/Client.js\n **/","import {fetch, Request, Response, Headers, Promise} from '../core/Externals';\nimport * as utils from '../core/Utils';\n\n/**\n * Creates a response\n * @param stringBody\n * @param init\n * @return {Response}\n */\nexport function createResponse(stringBody, init) {\n\n    init = init || {};\n\n    var response = new Response(stringBody, init);\n\n    //TODO Wait for https://github.com/bitinn/node-fetch/issues/38\n    if (utils.isNodeJS()) {\n\n        response._text = stringBody;\n        response._decode = function() {\n            return this._text;\n        };\n\n    }\n\n    return response;\n\n}\n\nexport function findHeaderName(name, headers) {\n    name = name.toLowerCase();\n    return Object.keys(headers).reduce(function(res, key) {\n        if (res) return res;\n        if (name == key.toLowerCase()) return key;\n        return res;\n    }, null);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/http/Utils.js\n **/","import {fetch, Request, Response, Headers, Promise} from '../core/Externals';\nimport * as utils from './Utils';\n\nexport default class ApiResponse {\n\n    static _contentType = 'Content-Type';\n    static _jsonContentType = 'application/json';\n    static _multipartContentType = 'multipart/mixed';\n    static _urlencodedContentType = 'application/x-www-form-urlencoded';\n    static _headerSeparator = ':';\n    static _bodySeparator = '\\n\\n';\n    static _boundarySeparator = '--';\n\n    /**\n     * @param {Request} request\n     * @param {Response} response\n     * @param {string} responseText\n     */\n    constructor(request, response, responseText) {\n\n        /** @type {Request} */\n        this._request = request;\n\n        /** @type {Response} */\n        this._response = response;\n\n        this._text = responseText;\n        this._json = null;\n        this._multipart = [];\n\n    }\n\n    /**\n     * @return {Response}\n     */\n    response() {\n        return this._response;\n    }\n\n    /**\n     * @return {Request}\n     */\n    request() {\n        return this._request;\n    }\n\n    /**\n     * @return {boolean}\n     */\n    ok() {\n        return this._response && this._response.ok;\n    }\n\n    /**\n     * @return {string}\n     */\n    text() {\n        if (!this._isJson() && !this._isMultipart()) throw new Error('Response is not text');\n        return this._text;\n    }\n\n    /**\n     * @return {object}\n     */\n    json() {\n        if (!this._isJson()) throw new Error('Response is not JSON');\n        if (!this._json) {\n            this._json = this._text ? JSON.parse(this._text) : null;\n        }\n        return this._json;\n    }\n\n    /**\n     * @param [skipOKCheck]\n     * @return {string}\n     */\n    error(skipOKCheck) {\n\n        if (this.ok() && !skipOKCheck) return null;\n\n        var message = (this._response && this._response.status ? this._response.status + ' ' : '') +\n                      (this._response && this._response.statusText ? this._response.statusText : '');\n\n        try {\n\n            if (this.json().message) message = this.json().message;\n            if (this.json().error_description) message = this.json().error_description;\n            if (this.json().description) message = this.json().description;\n\n        } catch (e) {}\n\n        return message;\n\n    }\n\n    /**\n     * @return {ApiResponse[]}\n     */\n    multipart() {\n\n        if (!this._isMultipart()) throw new Error('Response is not multipart');\n\n        if (!this._multipart.length) {\n\n            // Step 1. Split multipart response\n\n            var text = this.text();\n\n            if (!text) throw new Error('No response body');\n\n            var boundary = this._getContentType().match(/boundary=([^;]+)/i)[1];\n\n            if (!boundary) throw new Error('Cannot find boundary');\n\n            var parts = text.toString().split(ApiResponse._boundarySeparator + boundary);\n\n            if (parts[0].trim() === '') parts.shift();\n            if (parts[parts.length - 1].trim() == ApiResponse._boundarySeparator) parts.pop();\n\n            if (parts.length < 1) throw new Error('No parts in body');\n\n            // Step 2. Parse status info\n\n            var statusInfo = ApiResponse.create(parts.shift(), this._response.status, this._response.statusText).json();\n\n            // Step 3. Parse all other parts\n\n            this._multipart = parts.map((part, i) => {\n\n                var status = statusInfo.response[i].status;\n\n                return ApiResponse.create(part, status);\n\n            });\n\n        }\n\n        return this._multipart;\n\n    }\n\n    _isContentType(contentType) {\n        return this._getContentType().indexOf(contentType) > -1;\n    }\n\n    _getContentType() {\n        return this._response.headers.get(ApiResponse._contentType) || '';\n    }\n\n    _isMultipart() {\n        return this._isContentType(ApiResponse._multipartContentType);\n    }\n\n    _isUrlEncoded() {\n        return this._isContentType(ApiResponse._urlencodedContentType);\n    }\n\n    _isJson() {\n        return this._isContentType(ApiResponse._jsonContentType);\n    }\n\n    /**\n     * Method is used to create ApiResponse object from string parts of multipart/mixed response\n     * @param {string} [text]\n     * @param {number} [status]\n     * @param {string} [statusText]\n     * @return {ApiResponse}\n     */\n    static create(text, status, statusText) {\n\n        text = text || '';\n        status = status || 200;\n        statusText = statusText || 'OK';\n\n        text = text.replace(/\\r/g, '');\n\n        var headers = new Headers(),\n            headersAndBody = text.split(ApiResponse._bodySeparator),\n            headersText = (headersAndBody.length > 1) ? headersAndBody.shift() : '';\n\n        text = headersAndBody.join(ApiResponse._bodySeparator);\n\n        (headersText || '')\n            .split('\\n')\n            .forEach((header) => {\n\n                var split = header.trim().split(ApiResponse._headerSeparator),\n                    key = split.shift().trim(),\n                    value = split.join(ApiResponse._headerSeparator).trim();\n\n                if (key) headers.append(key, value);\n\n            });\n\n        return new ApiResponse(null, utils.createResponse(text, {\n            headers: headers,\n            status: status,\n            statusText: statusText\n        }), text);\n\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/http/ApiResponse.js\n **/","import Registry from './Registry';\nimport {default as HttpClient} from '../http/Client';\n\nexport default class Client extends HttpClient {\n\n    constructor() {\n        super();\n        this._registry = new Registry();\n    }\n\n    registry() {\n        return this._registry;\n    }\n\n    async _loadResponse(request) {\n\n        var mock = this._registry.find(request);\n\n        return await mock.getResponse(request);\n\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/mocks/ClientMock.js\n **/","import Mock from './Mock';\n\nexport default class Registry {\n\n    constructor() {\n        this._mocks = [];\n    }\n\n    add(mock) {\n        this._mocks.push(mock);\n        return this;\n    }\n\n    clear() {\n        this._mocks = [];\n        return this;\n    }\n\n    find(request) {\n\n        //console.log('Registry is looking for', request);\n\n        var mock = this._mocks.shift();\n\n        if (!mock) throw new Error('No mock in registry for request ' + request.method + ' ' + request.url);\n\n        if (!mock.test(request)) throw new Error('Wrong request ' + request.method + ' ' + request.url +\n                                                 ' for expected mock ' + mock.method() + ' ' + mock.path());\n\n        return mock;\n\n    }\n\n    apiCall(method, path, response, status, statusText) {\n\n        this.add(new Mock(method, path, response, status, statusText));\n\n        return this;\n\n    }\n\n    authentication() {\n\n        this.apiCall('POST', '/restapi/oauth/token', {\n            'access_token': 'ACCESS_TOKEN',\n            'token_type': 'bearer',\n            'expires_in': 3600,\n            'refresh_token': 'REFRESH_TOKEN',\n            'refresh_token_expires_in': 60480,\n            'scope': 'SMS RCM Foo Boo',\n            'expireTime': new Date().getTime() + 3600000\n        });\n\n        return this;\n\n    }\n\n    logout() {\n\n        this.apiCall('POST', '/restapi/oauth/revoke', {});\n\n        return this;\n\n    }\n\n    presenceLoad(id) {\n\n        this.apiCall('GET', '/restapi/v1.0/account/~/extension/' + id + '/presence', {\n            \"uri\": \"https://platform.ringcentral.com/restapi/v1.0/account/123/extension/\" + id + \"/presence\",\n            \"extension\": {\n                \"uri\": \"https://platform.ringcentral.com/restapi/v1.0/account/123/extension/\" + id,\n                \"id\": id,\n                \"extensionNumber\": \"101\"\n            },\n            \"activeCalls\": [],\n            \"presenceStatus\": \"Available\",\n            \"telephonyStatus\": \"Ringing\",\n            \"userStatus\": \"Available\",\n            \"dndStatus\": \"TakeAllCalls\",\n            \"extensionId\": id\n        });\n\n        return this;\n\n    }\n\n    subscribeGeneric(expiresIn) {\n\n        expiresIn = expiresIn || 15 * 60 * 60;\n\n        var date = new Date();\n\n        this.apiCall('POST', '/restapi/v1.0/subscription', {\n            'eventFilters': [\n                '/restapi/v1.0/account/~/extension/~/presence'\n            ],\n            'expirationTime': new Date(date.getTime() + (expiresIn * 1000)).toISOString(),\n            'expiresIn': expiresIn,\n            'deliveryMode': {\n                'transportType': 'PubNub',\n                'encryption': false,\n                'address': '123_foo',\n                'subscriberKey': 'sub-c-foo',\n                'secretKey': 'sec-c-bar'\n            },\n            'id': 'foo-bar-baz',\n            'creationTime': date.toISOString(),\n            'status': 'Active',\n            'uri': 'https://platform.ringcentral.com/restapi/v1.0/subscription/foo-bar-baz'\n        });\n\n        return this;\n\n    }\n\n    subscribeOnPresence(id, detailed) {\n\n        id = id || '1';\n\n        var date = new Date();\n\n        this.apiCall('POST', '/restapi/v1.0/subscription', {\n            'eventFilters': ['/restapi/v1.0/account/~/extension/' + id + '/presence' + (detailed ? '?detailedTelephonyState=true' : '')],\n            'expirationTime': new Date(date.getTime() + (15 * 60 * 60 * 1000)).toISOString(),\n            'deliveryMode': {\n                'transportType': 'PubNub',\n                'encryption': true,\n                'address': '123_foo',\n                'subscriberKey': 'sub-c-foo',\n                'secretKey': 'sec-c-bar',\n                'encryptionAlgorithm': 'AES',\n                'encryptionKey': 'VQwb6EVNcQPBhE/JgFZ2zw=='\n            },\n            'creationTime': date.toISOString(),\n            'id': 'foo-bar-baz',\n            'status': 'Active',\n            'uri': 'https://platform.ringcentral.com/restapi/v1.0/subscription/foo-bar-baz'\n        });\n\n        return this;\n\n    }\n\n    tokenRefresh(failure) {\n\n        if (!failure) {\n\n            this.apiCall('POST', '/restapi/oauth/token', {\n                'access_token': 'ACCESS_TOKEN_FROM_REFRESH',\n                'token_type': 'bearer',\n                'expires_in': 3600,\n                'refresh_token': 'REFRESH_TOKEN_FROM_REFRESH',\n                'refresh_token_expires_in': 60480,\n                'scope': 'SMS RCM Foo Boo'\n            });\n\n        } else {\n\n            this.apiCall('POST', '/restapi/oauth/token', {\n                'message': 'Wrong token',\n                'error_description': 'Wrong token',\n                'description': 'Wrong token'\n            }, 400);\n\n        }\n\n        return this;\n\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/mocks/Registry.js\n **/","import ApiResponse from '../http/ApiResponse';\nimport {delay} from '../core/Utils';\nimport {createResponse} from '../http/Utils';\n\nexport default class Mock {\n\n    constructor(method, path, json, status, statusText, delay) {\n        this._method = method.toUpperCase();\n        this._path = path;\n        this._json = json || {};\n        this._delay = delay || 10;\n        this._status = status || 200;\n        this._statusText = statusText || 'OK';\n    }\n\n    path() {\n        return this._path;\n    }\n\n    method() {\n        return this._method;\n    }\n\n    test(request) {\n\n        return request.url.indexOf(this._path) > -1 &&\n               request.method.toUpperCase() == this._method;\n\n    }\n\n    async getResponse(request) {\n\n        await delay(this._delay);\n\n        return this.createResponse(this._json);\n\n    }\n\n    createResponse(json, init) {\n\n        init = init || {};\n\n        init.status = init.status || this._status;\n        init.statusText = init.statusText || this._statusText;\n\n        var str = JSON.stringify(json),\n            res = createResponse(str, init);\n\n        res.headers.set(ApiResponse._contentType, ApiResponse._jsonContentType);\n\n        return res;\n\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/mocks/Mock.js\n **/","import Observable from '../core/Observable';\nimport Queue from '../core/Queue';\nimport Auth from './Auth';\nimport {Promise} from '../core/Externals';\nimport {queryStringify, parseQueryString, delay} from '../core/Utils';\n\nexport default class Platform extends Observable {\n\n    static _urlPrefix = '/restapi';\n    static _apiVersion = 'v1.0';\n    static _accessTokenTtl = null; // Platform server by default sets it to 60 * 60 = 1 hour\n    static _refreshTokenTtl = 10 * 60 * 60; // 10 hours\n    static _refreshTokenTtlRemember = 7 * 24 * 60 * 60; // 1 week\n    static _tokenEndpoint = '/restapi/oauth/token';\n    static _revokeEndpoint = '/restapi/oauth/revoke';\n    static _authorizeEndpoint = '/restapi/oauth/authorize';\n    static _refreshDelayMs = 100;\n    static _cacheId = 'platform';\n    static _clearCacheOnRefreshError = true;\n\n    events = {\n        beforeLogin: 'beforeLogin',\n        loginSuccess: 'loginSuccess',\n        loginError: 'loginError',\n        beforeRefresh: 'beforeRefresh',\n        refreshSuccess: 'refreshSuccess',\n        refreshError: 'refreshError',\n        beforeLogout: 'beforeLogout',\n        logoutSuccess: 'logoutSuccess',\n        logoutError: 'logoutError'\n    };\n\n    constructor(client, cache, server, appKey, appSecret) {\n\n        super();\n\n        this._server = server;\n        this._appKey = appKey;\n        this._appSecret = appSecret;\n\n        /** @type {Cache} */\n        this._cache = cache;\n\n        /** @type {Client} */\n        this._client = client;\n\n        this._queue = new Queue(this._cache, Platform._cacheId + '-refresh');\n\n        this._auth = new Auth(this._cache, Platform._cacheId);\n\n    }\n\n    /**\n     * @return {Auth}\n     */\n    auth() {\n        return this._auth;\n    }\n\n    /**\n     * @return {Client}\n     */\n    client() {\n        return this._client;\n    }\n\n    /**\n     * @param {string} path\n     * @param {object} [options]\n     * @param {boolean} [options.addServer]\n     * @param {string} [options.addMethod]\n     * @param {boolean} [options.addToken]\n     * @return {string}\n     */\n    createUrl(path, options) {\n\n        path = path || '';\n        options = options || {};\n\n        var builtUrl = '',\n            hasHttp = path.indexOf('http://') != -1 || path.indexOf('https://') != -1;\n\n        if (options.addServer && !hasHttp) builtUrl += this._server;\n\n        if (path.indexOf(Platform._urlPrefix) == -1 && !hasHttp) builtUrl += Platform._urlPrefix + '/' + Platform._apiVersion;\n\n        builtUrl += path;\n\n        if (options.addMethod || options.addToken) builtUrl += (path.indexOf('?') > -1 ? '&' : '?');\n\n        if (options.addMethod) builtUrl += '_method=' + options.addMethod;\n        if (options.addToken) builtUrl += (options.addMethod ? '&' : '') + 'access_token=' + this._auth.accessToken();\n\n        return builtUrl;\n\n    }\n\n    /**\n     * @param {string} options.redirectUri\n     * @param {string} options.state\n     * @param {string} options.brandId\n     * @param {string} options.display\n     * @param {string} options.prompt\n     * @return {string}\n     */\n    authUrl(options) {\n\n        options = options || {};\n\n        return this.createUrl(Platform._authorizeEndpoint + '?' + queryStringify({\n                'response_type': 'code',\n                'redirect_uri': options.redirectUri || '',\n                'client_id': this._appKey,\n                'state': options.state || '',\n                'brand_id': options.brandId || '',\n                'display': options.display || '',\n                'prompt': options.prompt || ''\n            }), {addServer: true})\n\n    }\n\n    /**\n     * @param {string} url\n     * @return {Object}\n     */\n    parseAuthRedirectUrl(url) {\n\n        var qs = parseQueryString(url.split('?').reverse()[0]),\n            error = qs.error_description || qs.error;\n\n        if (error) {\n            var e = new Error(error);\n            e.error = qs.error;\n            throw e;\n        }\n\n        return qs;\n\n    }\n\n    /**\n     * @return {Promise<boolean>}\n     */\n    async loggedIn() {\n\n        try {\n            await this._ensureAuthentication();\n            return true;\n        } catch (e) {\n            return false;\n        }\n\n    }\n\n    /**\n     * @param {string} options.username\n     * @param {string} options.password\n     * @param {string} options.extension\n     * @param {string} options.code\n     * @param {string} options.redirectUri\n     * @param {string} options.endpointId\n     * @returns {Promise<ApiResponse>}\n     */\n    async login(options) {\n\n        try {\n\n            options = options || {};\n\n            options.remember = options.remember || false;\n\n            this.emit(this.events.beforeLogin);\n\n            var body = {\n                \"access_token_ttl\": Platform._accessTokenTtl,\n                \"refresh_token_ttl\": options.remember ? Platform._refreshTokenTtlRemember : Platform._refreshTokenTtl\n            };\n\n            if (!options.code) {\n\n                body.grant_type = 'password';\n                body.username = options.username;\n                body.password = options.password;\n                body.extension = options.extension || '';\n\n            } else if (options.code) {\n\n                body.grant_type = 'authorization_code';\n                body.code = options.code;\n                body.redirect_uri = options.redirectUri;\n                //body.client_id = this.getCredentials().key; // not needed\n\n            }\n\n            if (options.endpointId) body.endpoint_id = options.endpointId;\n\n            var apiResponse = await this._tokenRequest(Platform._tokenEndpoint, body),\n                json = apiResponse.json();\n\n            this._auth\n                .setData(json)\n                .setRemember(options.remember);\n\n            this.emit(this.events.loginSuccess, apiResponse);\n\n            return apiResponse;\n\n        } catch (e) {\n\n            this._cache.clean();\n\n            this.emit(this.events.loginError, e);\n\n            throw e;\n\n        }\n\n    }\n\n    /**\n     * @returns {Promise<ApiResponse>}\n     */\n    async refresh() {\n\n        try {\n\n            this.emit(this.events.beforeRefresh);\n\n            if (this._queue.isPaused()) {\n\n                await this._queue.poll();\n\n                if (!this._isAccessTokenValid()) {\n                    throw new Error('Automatic authentification timeout');\n                }\n\n                this.emit(this.events.refreshSuccess, null);\n\n                return null;\n\n            }\n\n            this._queue.pause();\n\n            // Make sure all existing AJAX calls had a chance to reach the server\n            await delay(Platform._refreshDelayMs);\n\n            // Perform sanity checks\n            if (!this._auth.refreshToken()) throw new Error('Refresh token is missing');\n            if (!this._auth.refreshTokenValid()) throw new Error('Refresh token has expired');\n            if (!this._queue.isPaused()) throw new Error('Queue was resumed before refresh call');\n\n            /** @type {ApiResponse} */\n            var res = await this._tokenRequest(Platform._tokenEndpoint, {\n                    \"grant_type\": \"refresh_token\",\n                    \"refresh_token\": this._auth.refreshToken(),\n                    \"access_token_ttl\": Platform._accessTokenTtl,\n                    \"refresh_token_ttl\": this._auth.remember() ? Platform._refreshTokenTtlRemember : Platform._refreshTokenTtl\n                }),\n                json = res.json();\n\n            if (!json.access_token) {\n                throw this._client.makeError(new Error('Malformed OAuth response'), res);\n            }\n\n            this._auth.setData(json);\n            this._queue.resume();\n\n            this.emit(this.events.refreshSuccess, res);\n\n            return res;\n\n        } catch (e) {\n\n            e = this._client.makeError(e);\n\n            if (Platform._clearCacheOnRefreshError) {\n                this._cache.clean();\n            }\n\n            this.emit(this.events.refreshError, e);\n\n            throw e;\n\n        }\n\n    }\n\n    /**\n     * @returns {Promise<ApiResponse>}\n     */\n    async logout() {\n\n        try {\n\n            this.emit(this.events.beforeLogout);\n\n            this._queue.pause();\n\n            var res = await this._tokenRequest(Platform._revokeEndpoint, {\n                token: this._auth.accessToken()\n            });\n\n            this._queue.resume();\n            this._cache.clean();\n\n            this.emit(this.events.logoutSuccess, res);\n\n            return res;\n\n        } catch (e) {\n\n            this._queue.resume();\n\n            this.emit(this.events.logoutError, e);\n\n            throw e;\n\n        }\n\n    }\n\n    /**\n     * @param {Request} request\n     * @param {object} [options]\n     * @param {boolean} [options.skipAuthCheck]\n     * @return {Promise<Request>}\n     */\n    async inflateRequest(request, options) {\n\n        options = options || {};\n\n        if (options.skipAuthCheck) return request;\n\n        await this._ensureAuthentication();\n\n        request.headers.set('Authorization', this._authHeader());\n        //request.url = this.createUrl(request.url, {addServer: true}); //FIXME Spec prevents this...\n\n        //TODO Add User-Agent here\n\n        return request;\n\n    }\n\n    /**\n     * @param {Request} request\n     * @param {object} [options]\n     * @param {boolean} [options.skipAuthCheck]\n     * @return {Promise<ApiResponse>}\n     */\n    async sendRequest(request, options) {\n\n        try {\n\n            request = await this.inflateRequest(request, options);\n\n            return (await this._client.sendRequest(request));\n\n        } catch (e) {\n\n            // Guard is for errors that come from polling\n            if (!e.apiResponse || !e.apiResponse.response() || (e.apiResponse.response().status != 401)) throw e;\n\n            this._auth.cancelAccessToken();\n\n            return (await this.sendRequest(request, options));\n\n        }\n\n    }\n\n    /**\n     * General purpose function to send anything to server\n     * @param {string} options.url\n     * @param {object} [options.body]\n     * @param {string} [options.method]\n     * @param {object} [options.query]\n     * @param {object} [options.headers]\n     * @param {boolean} [options.skipAuthCheck]\n     * @return {Promise<ApiResponse>}\n     */\n    async send(options = {}) {\n\n        //FIXME https://github.com/bitinn/node-fetch/issues/43\n        options.url = this.createUrl(options.url, {addServer: true});\n\n        return await this.sendRequest(this._client.createRequest(options), options);\n\n    }\n\n    /**\n     * @param {string} url\n     * @param {object} [query]\n     * @param {object} [options]\n     * @param {object} [options.headers]\n     * @param {boolean} [options.skipAuthCheck]\n     * @return {Promise<ApiResponse>}\n     */\n    async get(url, query, options) {\n        options = options || {};\n        options.method = 'GET';\n        options.url = url;\n        options.query = query;\n        return await this.send(options);\n    }\n\n    /**\n     * @param {string} url\n     * @param {object} body\n     * @param {object} [query]\n     * @param {object} [options]\n     * @param {object} [options.headers]\n     * @param {boolean} [options.skipAuthCheck]\n     * @return {Promise<ApiResponse>}\n     */\n    async post(url, body, query, options) {\n        options = options || {};\n        options.method = 'POST';\n        options.url = url;\n        options.query = query;\n        options.body = body;\n        return await this.send(options);\n    }\n\n    /**\n     * @param {string} url\n     * @param {object} [body]\n     * @param {object} [query]\n     * @param {object} [options]\n     * @param {object} [options.headers]\n     * @param {boolean} [options.skipAuthCheck]\n     * @return {Promise<ApiResponse>}\n     */\n    async put(url, body, query, options) {\n        options = options || {};\n        options.method = 'PUT';\n        options.url = url;\n        options.query = query;\n        options.body = body;\n        return await this.send(options);\n    }\n\n    /**\n     * @param {string} url\n     * @param {string} [query]\n     * @param {object} [options]\n     * @param {object} [options.headers]\n     * @param {boolean} [options.skipAuthCheck]\n     * @return {Promise<ApiResponse>}\n     */\n    async 'delete'(url, query, options) {\n        options = options || {};\n        options.method = 'DELETE';\n        options.url = url;\n        options.query = query;\n        return await this.send(options);\n    }\n\n    async _tokenRequest(path, body) {\n\n        return await this.send({\n            url: path,\n            skipAuthCheck: true,\n            body: body,\n            method: 'POST',\n            headers: {\n                'Authorization': 'Basic ' + this._apiKey(),\n                'Content-Type': 'application/x-www-form-urlencoded'\n            }\n        });\n\n    }\n\n    async _ensureAuthentication() {\n\n        if (this._isAccessTokenValid()) return null;\n        return await this.refresh();\n\n    }\n\n    _isAccessTokenValid() {\n\n        return (this._auth.accessTokenValid() && !this._queue.isPaused());\n\n    }\n\n    _apiKey() {\n        var apiKey = this._appKey + ':' + this._appSecret;\n        return (typeof btoa == 'function') ? btoa(apiKey) : new Buffer(apiKey).toString('base64');\n    }\n\n    _authHeader() {\n        var token = this._auth.accessToken();\n        return this._auth.tokenType() + (token ? ' ' + token : '');\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/platform/Platform.js\n **/","export default class Auth {\n\n    static refreshHandicapMs = 60 * 1000; // 1 minute\n    static forcedTokenType = 'forced';\n\n    constructor(cache, cacheId) {\n\n        /** @type {Cache} */\n        this._cache = cache;\n        this._cacheId = cacheId;\n\n    }\n\n    accessToken() {\n        return this.data().access_token;\n    }\n\n    refreshToken() {\n        return this.data().refresh_token;\n    }\n\n    tokenType() {\n        return this.data().token_type;\n    }\n\n    /**\n     * @return {{token_type: string, access_token: string, expires_in: number, refresh_token: string, refresh_token_expires_in: number}}\n     */\n    data() {\n\n        return this._cache.getItem(this._cacheId) || {\n                token_type: '',\n                access_token: '',\n                expires_in: 0,\n                refresh_token: '',\n                refresh_token_expires_in: 0\n            };\n\n    }\n\n    /**\n     * @param {object} newData\n     * @return {Auth}\n     */\n    setData(newData) {\n\n        newData = newData || {};\n\n        var data = this.data();\n\n        Object.keys(newData).forEach((key) => {\n            data[key] = newData[key];\n        });\n\n        data.expire_time = Date.now() + (data.expires_in * 1000);\n        data.refresh_token_expire_time = Date.now() + (data.refresh_token_expires_in * 1000);\n\n        this._cache.setItem(this._cacheId, data);\n\n        return this;\n\n    }\n\n    /**\n     * Check if there is a valid (not expired) access token\n     * @return {boolean}\n     */\n    accessTokenValid() {\n\n        var authData = this.data();\n        return (authData.token_type === Auth.forcedTokenType || (authData.expire_time - Auth.refreshHandicapMs > Date.now()));\n\n    }\n\n    /**\n     * Check if there is a valid (not expired) access token\n     * @return {boolean}\n     */\n    refreshTokenValid() {\n\n        return (this.data().refresh_token_expire_time > Date.now());\n\n    }\n\n    /**\n     * @return {Auth}\n     */\n    cancelAccessToken() {\n\n        return this.setData({\n            access_token: '',\n            expires_in: 0\n        });\n\n    }\n\n    /**\n     * This method sets a special authentication mode used in Service Web\n     * @return {Auth}\n     */\n    forceAuthentication() {\n\n        this.setData({\n            token_type: Auth.forcedTokenType,\n            access_token: '',\n            expires_in: 0,\n            refresh_token: '',\n            refresh_token_expires_in: 0\n        });\n\n        return this;\n\n    }\n\n    /**\n     * @param remember\n     * @return {Auth}\n     */\n    setRemember(remember) {\n\n        return this.setData({remember: remember});\n\n    }\n\n    /**\n     * @return {boolean}\n     */\n    remember() {\n\n        return !!this.data().remember;\n\n    }\n\n}\n\n//export interface IAuthData {\n//    remember?:boolean;\n//    token_type?:string;\n//    access_token?:string;\n//    expires_in?:number; // actually it's string\n//    expire_time?:number;\n//    refresh_token?:string;\n//    refresh_token_expires_in?:number; // actually it's string\n//    refresh_token_expire_time?:number;\n//    scope?:string;\n//}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/platform/Auth.js\n **/","import PubnubMock from './PubnubMock.js';\nimport {PUBNUB} from '../core/Externals';\n\nexport default class PubnubMockFactory {\n\n    constructor() {\n        this.crypto_obj = PUBNUB.crypto_obj;\n    }\n\n    init(options) {\n        return new PubnubMock(options);\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/pubnub/PubnubFactory.js\n **/","import Observable from '../core/Observable';\nimport {PUBNUB} from '../core/Externals';\n\nexport default class PubnubMock extends Observable {\n\n    constructor(options) {\n        super();\n        this.options = options;\n        this.crypto_obj = PUBNUB.crypto_obj;\n    }\n\n    ready() {}\n\n    subscribe(options) {\n        this.on('message-' + options.channel, options.message);\n    }\n\n    unsubscribe(options) {\n        this.off('message-' + options.channel);\n    }\n\n    receiveMessage(msg, channel) {\n        this.emit('message-' + channel, msg, 'env', channel);\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/pubnub/PubnubMock.js\n **/","import Observable from '../core/Observable';\nimport Client from '../http/Client';\nimport {poll, stopPolling, delay} from '../core/Utils';\n\nexport default class Subscription extends Observable {\n\n    static _renewHandicapMs = 2 * 60 * 1000;\n    static _pollInterval = 10 * 1000;\n\n    events = {\n        notification: 'notification',\n        removeSuccess: 'removeSuccess',\n        removeError: 'removeError',\n        renewSuccess: 'renewSuccess',\n        renewError: 'renewError',\n        subscribeSuccess: 'subscribeSuccess',\n        subscribeError: 'subscribeError'\n    };\n\n    constructor(pubnubFactory, platform) {\n\n        super();\n\n        this._pubnubFactory = pubnubFactory;\n        this._platform = platform;\n        this._pubnub = null;\n        this._timeout = null;\n        this._subscription = {};\n\n    }\n\n    subscribed(){\n\n        return !!(this._subscription.id &&\n                  this._subscription.deliveryMode &&\n                  this._subscription.deliveryMode.subscriberKey &&\n                  this._subscription.deliveryMode.address);\n\n    }\n\n    /**\n     * @return {boolean}\n     */\n    alive() {\n\n        return this.subscribed() && Date.now() < this.expirationTime();\n\n    }\n\n    expirationTime() {\n        return new Date(this._subscription.expirationTime || 0).getTime() - Subscription._renewHandicapMs;\n    }\n\n    setSubscription(subscription) {\n\n        subscription = subscription || {};\n\n        this._clearTimeout();\n\n        this._subscription = subscription;\n\n        if (!this._pubnub) this._subscribeAtPubnub();\n\n        this._setTimeout();\n\n        return this;\n\n    }\n\n    subscription() {\n        return this._subscription;\n    }\n\n    /**\n     * Creates or updates subscription if there is an active one\n     * @returns {Promise<ApiResponse>}\n     */\n    async register() {\n\n        if (this.alive()) {\n            return await this.renew();\n        } else {\n            return await this.subscribe();\n        }\n\n    }\n\n    eventFilters() {\n        return this._subscription.eventFilters || [];\n    }\n\n    /**\n     * @param {string[]} events\n     * @return {Subscription}\n     */\n    addEventFilters(events) {\n        this.setEventFilters(this.eventFilters().concat(events));\n        return this;\n    }\n\n    /**\n     * @param {string[]} events\n     * @return {Subscription}\n     */\n    setEventFilters(events) {\n        this._subscription.eventFilters = events;\n        return this;\n    }\n\n    /**\n     * @returns {Promise<ApiResponse>}\n     */\n    async subscribe() {\n\n        try {\n\n            this._clearTimeout();\n\n            if (!this.eventFilters().length) throw new Error('Events are undefined');\n\n            var response = await this._platform.post('/restapi/v1.0/subscription', {\n                    eventFilters: this._getFullEventFilters(),\n                    deliveryMode: {\n                        transportType: 'PubNub'\n                    }\n                }),\n                json = response.json();\n\n            this.setSubscription(json)\n                .emit(this.events.subscribeSuccess, response);\n\n            return response;\n\n\n        } catch (e) {\n\n            e = this._platform.client().makeError(e);\n\n            this.reset()\n                .emit(this.events.subscribeError, e);\n\n            throw e;\n\n        }\n\n    }\n\n    /**\n     * @returns {Promise<ApiResponse>}\n     */\n    async renew() {\n\n        try {\n\n            this._clearTimeout();\n\n            if (!this.alive()) throw new Error('Subscription is not alive');\n\n            if (!this.eventFilters().length) throw new Error('Events are undefined');\n\n            var response = await this._platform.put('/restapi/v1.0/subscription/' + this._subscription.id, {\n                eventFilters: this._getFullEventFilters()\n            });\n\n            var json = response.json();\n\n            this.setSubscription(json)\n                .emit(this.events.renewSuccess, response);\n\n            return response;\n\n        } catch (e) {\n\n            e = this._platform.client().makeError(e);\n\n            this.reset()\n                .emit(this.events.renewError, e);\n\n            throw e;\n\n        }\n\n    }\n\n    /**\n     * @returns {Promise<ApiResponse>}\n     */\n    async remove() {\n\n        try {\n\n            if (!this.subscribed()) throw new Error('No subscription');\n\n            var response = await this._platform.delete('/restapi/v1.0/subscription/' + this._subscription.id);\n\n            this.reset()\n                .emit(this.events.removeSuccess, response);\n\n            return response;\n\n        } catch (e) {\n\n            e = this._platform.client().makeError(e);\n\n            this.emit(this.events.removeError, e);\n\n            throw e;\n\n        }\n\n    }\n\n    /**\n     * @returns {Promise<ApiResponse>}\n     */\n    resubscribe() {\n\n        return this.reset().setEventFilters(this.eventFilters()).subscribe();\n\n    }\n\n    /**\n     * Remove subscription and disconnect from PUBNUB\n     * This method resets subscription at client side but backend is not notified\n     */\n    reset() {\n        this._clearTimeout();\n        if (this.subscribed() && this._pubnub) this._pubnub.unsubscribe({channel: this._subscription.deliveryMode.address});\n        this._subscription = {};\n        return this;\n    }\n\n    _getFullEventFilters() {\n\n        return this.eventFilters().map((event) => {\n            return this._platform.createUrl(event);\n        });\n\n    }\n\n    _setTimeout() {\n\n        this._clearTimeout();\n\n        if (!this.alive()) throw new Error('Subscription is not alive');\n\n        poll((next)=> {\n\n            if (this.alive()) return next();\n\n            this.renew();\n\n        }, Subscription._pollInterval, this._timeout);\n\n        return this;\n\n    }\n\n    _clearTimeout() {\n\n        stopPolling(this._timeout);\n\n        return this;\n\n    }\n\n    _decrypt(message) {\n\n        if (!this.subscribed()) throw new Error('No subscription');\n\n        if (this._subscription.deliveryMode.encryptionKey) {\n\n            var PUBNUB = this._pubnubFactory;\n\n            message = PUBNUB.crypto_obj.decrypt(message, this._subscription.deliveryMode.encryptionKey, {\n                encryptKey: false,\n                keyEncoding: 'base64',\n                keyLength: 128,\n                mode: 'ecb'\n            });\n\n        }\n\n        return message;\n\n    }\n\n    _notify(message) {\n\n        this.emit(this.events.notification, this._decrypt(message));\n\n        return this;\n\n    }\n\n    _subscribeAtPubnub() {\n\n        if (!this.alive()) throw new Error('Subscription is not alive');\n\n        var PUBNUB = this._pubnubFactory;\n\n        this._pubnub = PUBNUB.init({\n            ssl: true,\n            subscribe_key: this._subscription.deliveryMode.subscriberKey\n        });\n\n        this._pubnub.ready();\n\n        this._pubnub.subscribe({\n            channel: this._subscription.deliveryMode.address,\n            message: this._notify.bind(this),\n            connect: () => {}\n        });\n\n        return this;\n\n    }\n\n}\n\n//export interface ISubscription {\n//    id?:string;\n//    uri?: string;\n//    eventFilters?:string[];\n//    expirationTime?:string; // 2014-03-12T19:54:35.613Z\n//    expiresIn?:number;\n//    deliveryMode?: {\n//        transportType?:string;\n//        encryption?:boolean;\n//        address?:string;\n//        subscriberKey?:string;\n//        encryptionKey?:string;\n//        secretKey?:string;\n//    };\n//    creationTime?:string; // 2014-03-12T19:54:35.613Z\n//    status?:string; // Active\n//}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/subscription/Subscription.js\n **/","import Subscription from './Subscription';\nimport Queue from '../core/Queue';\n\nexport default class CachedSubscription extends Subscription {\n\n    constructor(pubnubFactory, platform, cache, cacheKey) {\n\n        super(pubnubFactory, platform);\n\n        this._cache = cache;\n        this._cacheKey = cacheKey;\n        this._renewQueue = new Queue(this._cache, cacheKey + '-renew');\n        this._resubscribeQueue = new Queue(this._cache, cacheKey + '-resubscribe');\n\n        this.events = {\n            ...this.events,\n            queuedRenewSuccess: 'queuedRenewSuccess',\n            queuedRenewError: 'queuedRenewError',\n            queuedResubscribeSuccess: 'queuedResubscribeSuccess',\n            queuedResubscribeError: 'queuedResubscribeError'\n        };\n\n        this.on(this.events.renewError, () => {\n            this.resubscribe();\n        });\n\n        this.on([this.events.subscribeSuccess, this.events.renewSuccess], () => {\n            this._cache.setItem(this._cacheKey, this.subscription());\n        });\n\n        this.on(this.events.removeSuccess, () => {\n            this._cache.removeItem(this._cacheKey);\n        });\n\n    }\n\n    /**\n     * TODO Combine with Platform.refresh and move elsewhere\n     * @param actionCb\n     * @param queue\n     * @param successEvent\n     * @param errorEvent\n     * @param errorMessage\n     * @return {*}\n     * @private\n     */\n    async _queue(actionCb, queue, successEvent, errorEvent, errorMessage) {\n\n        try {\n\n            if (queue.isPaused()) {\n\n                await queue.poll();\n\n                if (!this.alive()) {\n                    throw new Error(errorMessage);\n                }\n\n                this.emit(successEvent, null);\n\n                return null;\n\n            }\n\n            queue.pause();\n\n            var res = await actionCb.call(this);\n\n            queue.resume();\n\n            this.emit(successEvent, res);\n\n            return res;\n\n        } catch (e) {\n\n            this.emit(errorEvent, e);\n\n            throw e;\n\n        }\n\n    }\n\n    /**\n     * @returns {Promise<ApiResponse>}\n     */\n    renew() {\n\n        return this._queue(\n            super.renew,\n            this._renewQueue,\n            this.events.queuedRenewSuccess,\n            this.events.queuedRenewError,\n            'Subscription is not alive after renew timeout'\n        );\n\n    }\n\n    /**\n     * @returns {Promise<ApiResponse>}\n     */\n    resubscribe() {\n\n        return this._queue(\n            super.resubscribe,\n            this._resubscribeQueue,\n            this.events.queuedResubscribeSuccess,\n            this.events.queuedResubscribeError,\n            'Subscription is not alive after resubscribe timeout'\n        );\n\n    }\n\n    /**\n     * @param {string[]} events\n     * @return {CachedSubscription}\n     */\n    restore(events) {\n\n        var cachedSubscriptionData = this._cache.getItem(this._cacheKey);\n\n        if (cachedSubscriptionData) {\n            try {\n                this.setSubscription(cachedSubscriptionData);\n            } catch (e) {}\n        } else {\n            this.setEventFilters(events);\n        }\n\n        return this;\n\n    }\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/subscription/CachedSubscription.js\n **/"],"sourceRoot":"/source/"}