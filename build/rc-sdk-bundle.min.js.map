{"version":3,"sources":["webpack/universalModuleDefinition","rc-sdk-bundle.js","webpack/bootstrap f0e6955c7fee778c8e8b","../src/lib/RCSDK.ts","external {\"amd\":\"exports\",\"commonjs\":\"xhr2\",\"commonjs2\":\"xhr2\",\"root\":\"XMLHttpRequest\"}","external {\"amd\":\"exports\",\"commonjs\":\"dom-storage\",\"commonjs2\":\"dom-storage\",\"root\":\"localStorage\"}","../src/lib/core/pubnub/PubnubMock.ts","../src/lib/core/xhr/XhrMock.ts","../src/lib/core/xhr/XhrResponse.ts","../src/lib/core/AjaxObserver.ts","../src/lib/core/Cache.ts","../src/lib/core/Context.ts","../src/lib/core/Helper.ts","../src/lib/core/List.ts","../src/lib/core/Log.ts","../src/lib/core/Observable.ts","../src/lib/core/PageVisibility.ts","../src/lib/core/Platform.ts","../src/lib/core/Subscription.ts","../src/lib/core/Utils.ts","../src/lib/core/Validator.ts","../src/lib/helpers/Account.ts","../src/lib/helpers/BlockedNumber.ts","../src/lib/helpers/Call.ts","../src/lib/helpers/Contact.ts","../src/lib/helpers/ContactGroup.ts","../src/lib/helpers/Conferencing.ts","../src/lib/helpers/Country.ts","../src/lib/helpers/Device.ts","../src/lib/helpers/DeviceModel.ts","../src/lib/helpers/Extension.ts","../src/lib/helpers/ForwardingNumber.ts","../src/lib/helpers/Language.ts","../src/lib/helpers/Location.ts","../src/lib/helpers/Message.ts","../src/lib/helpers/PhoneNumber.ts","../src/lib/helpers/Presence.ts","../src/lib/helpers/Ringout.ts","../src/lib/helpers/Service.ts","../src/lib/helpers/ShippingMethod.ts","../src/lib/helpers/State.ts","../src/lib/helpers/Timezone.ts","bower_components/pubnub/web/pubnub.js","~/crypto-js/aes.js","~/crypto-js/mode-ecb.js","~/crypto-js/core.js","~/es6-promise/dist/es6-promise.js","../src/lib/core/http/Request.ts","~/crypto-js/enc-base64.js","~/crypto-js/md5.js","~/crypto-js/evpkdf.js","~/crypto-js/cipher-core.js","(webpack)/buildin/module.js","(webpack)/buildin/amd-define.js","../src/lib/core/http/Headers.ts","../src/lib/core/http/Response.ts","(webpack)/~/node-libs-browser/~/process/browser.js","~/crypto-js/sha1.js","~/crypto-js/hmac.js"],"names":["root","factory","exports","module","require","e","define","amd","this","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_2__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","pubnubMock","xhrMock","xhrResponse","ajaxObserver","cache","context","helper","list","log","observable","pageVisibility","platform","subscription","utils","validator","accountHelper","blockedNumberHelper","callHelper","contactHelper","contactGroupHelper","conferencingHelper","countryHelper","deviceHelper","deviceModelHelper","extensionHelper","forwardingNumberHelper","languageHelper","locationHelper","messageHelper","phoneNumberHelper","presenceHelper","ringoutHelper","serviceHelper","shippingMethodHelper","stateHelper","timezoneHelper","promise","pubnub","RCSDK","RCSDK.constructor","RCSDK.getContext","RCSDK.getAjaxObserver","RCSDK.getXhrResponse","RCSDK.getPlatform","RCSDK.getCache","RCSDK.getSubscription","RCSDK.getPageVisibility","RCSDK.getHelper","RCSDK.getObservable","RCSDK.getValidator","RCSDK.getLog","RCSDK.getUtils","RCSDK.getList","RCSDK.getCountryHelper","RCSDK.getDeviceModelHelper","RCSDK.getLanguageHelper","RCSDK.getLocationHelper","RCSDK.getShippingMethodHelper","RCSDK.getStateHelper","RCSDK.getTimezoneHelper","RCSDK.getAccountHelper","RCSDK.getBlockedNumberHelper","RCSDK.getCallHelper","RCSDK.getConferencingHelper","RCSDK.getContactHelper","RCSDK.getContactGroupHelper","RCSDK.getDeviceHelper","RCSDK.getExtensionHelper","RCSDK.getForwardingNumberHelper","RCSDK.getMessageHelper","RCSDK.getPhoneNumberHelper","RCSDK.getPresenceHelper","RCSDK.getRingoutHelper","RCSDK.getServiceHelper","Error","code","$get","PubnubMock","PubnubMock.subscribe","PubnubMock.receiveMessage","PubnubFactory","PubnubFactory.constructor","PubnubFactory.init","XhrMock","XhrMock.constructor","XhrMock.getResponseHeader","XhrMock.setRequestHeader","XhrMock.getAllResponseHeaders","XhrMock.open","XhrMock.send","XhrMock.abort","XhrMock.getRequestHeader","XhrMock.setResponseHeader","XhrMock.setStatus","XhrResponse","XhrResponse.constructor","XhrResponse.add","XhrResponse.clear","XhrResponse.find","__extends","d","b","__","constructor","hasOwnProperty","prototype","AjaxObserver","_super","AjaxObserver.constructor","Observable","Cache","Cache.constructor","Cache.setPrefix","Cache.prefixKey","Cache.setItem","Cache.removeItem","Cache.getItem","Cache.clean","injections","Context","Context.constructor","Context.createSingleton","Context.usePubnubStub","Context.useAjaxStub","Context.getCryptoJS","Context.getPubnub","Context.getLocalStorage","Context.getPromise","Context.getXHR","Helper","Helper.constructor","Helper.getContext","Helper.createUrl","Helper.getId","Helper.isNew","Helper.resetAsNew","Helper.getUri","Helper.parseMultipartResponse","Helper.loadRequest","Helper.saveRequest","Helper.deleteRequest","Helper.syncRequest","Helper.nextPageExists","Helper.index","Helper.merge","List","List.constructor","List.propertyExtractor","List.stringComparator","List.numberComparator","List.comparator","List.equalsFilter","List.containsFilter","List.regexpFilter","List.filter","Log","Log.constructor","Log.disableAll","Log.enableAll","Log.parseArguments","Log.debug","Log.info","Log.warn","Log.error","Observable.constructor","Observable.hasListeners","Observable.registerOneTimeEvent","Observable.on","Observable.emit","Observable.off","Observable.isOneTimeEvent","Observable.isOneTimeEventFired","Observable.setOneTimeEventFired","Observable.setOneTimeEventArgumens","Observable.getOneTimeEventArgumens","Observable.offAll","Observable.destroy","Observable.emitAndCallback","PageVisibility","PageVisibility.constructor","PageVisibility.isVisible","request","Platform","Platform.constructor","Platform.getStorage","Platform.getRequest","Platform.clearStorage","Platform.setCredentials","Platform.setServer","Platform.remember","Platform.authorize","Platform.isPaused","Platform.pause","Platform.resume","Platform.refresh","Platform.logout","Platform.refreshPolling","Platform.getToken","Platform.getTokenType","Platform.getAuthData","Platform.isTokenValid","Platform.isAuthorized","Platform.cancelAccessToken","Platform.setCache","Platform.forceAuthentication","Platform.apiCall","Platform.get","Platform.post","Platform.put","Platform.delete","Platform.authCall","Platform.apiUrl","Platform.destroy","Platform.on","Platform.off","Platform.emitAndCallback","Subscription","Subscription.constructor","Subscription.getPubnub","Subscription.getCrypto","Subscription.getPlatform","Subscription.register","Subscription.addEvents","Subscription.setEvents","Subscription.getFullEventFilters","Subscription.subscribe","Subscription.renew","Subscription.remove","Subscription.destroy","Subscription.isSubscribed","Subscription.setTimeout","Subscription.clearTimeout","Subscription.updateSubscription","Subscription.unsubscribe","Subscription.notify","Subscription.subscribeAtPubnub","Subscription.on","Subscription.off","Subscription.emitAndCallback","hasOwn","Object","toString","rdigit","class2type","split","forEach","name","toLowerCase","Utils","Utils.extend","Utils.forEach","Utils.queryStringify","Utils.parseQueryString","Utils.isEmail","Utils.isPhoneNumber","Utils.argumentsToArray","Utils.isDate","Utils.isFunction","Utils.isArray","Utils.isWindow","Utils.isNaN","Utils.type","Utils.isPlainObject","Utils.getProperty","Utils.poll","Utils.stopPolling","Utils.parseString","Utils.parseNumber","Validator","Validator.constructor","Validator.validate","Validator.email","Validator.phone","Validator.required","Validator.length","Account","Account.constructor","Account.createUrl","BlockedNumber","BlockedNumber.constructor","BlockedNumber.createUrl","BlockedNumber.validate","presence","contact","Call","Call.constructor","Call.createUrl","Call.getSessionId","Call.isInProgress","Call.isAlive","Call.isInbound","Call.isOutbound","Call.isMissed","Call.isFindMe","Call.getCallerInfo","Call.getAllCallerInfos","Call.formatDuration","Call.formatDuration.addZero","Call.filter","Call.comparator","Call.attachContacts","Call.checkMergeability","Call.combineCalls","Call.processCalls","Call.parsePresenceCalls","Call.getSignature","Call.mergePresenceCalls","Call.mergeAll","Contact","Contact.constructor","Contact.createUrl","Contact.getFieldValues","Contact.getFullName","Contact.getEmails","Contact.getPhones","Contact.getFaxes","Contact.getAddresses","Contact.isAlive","Contact.match","Contact.matchAsPhone","Contact.attachToCallerInfos","Contact.comparator","Contact.filter","Contact.validate","ContactGroup","ContactGroup.constructor","ContactGroup.createUrl","ContactGroup.validate","Conferencing","Conferencing.constructor","Conferencing.createUrl","Country","Country.constructor","Country.createUrl","extension","deviceModel","Device","Device.constructor","Device.createUrl","Device.validate","DeviceModel","DeviceModel.constructor","DeviceModel.getId","DeviceModel.cleanForSaving","Extension","Extension.constructor","Extension.createUrl","Extension.isUser","Extension.isDepartment","Extension.isAnnouncement","Extension.isVoicemail","Extension.comparator","Extension.filter","ForwardingNumber","ForwardingNumber.constructor","ForwardingNumber.createUrl","ForwardingNumber.getId","ForwardingNumber.hasFeature","ForwardingNumber.comparator","ForwardingNumber.filter","Language","Language.constructor","state","Location","Location.constructor","Location.createUrl","Location.filter","Location.comparator","Message","Message.constructor","Message.createUrl","Message.isInbound","Message.isOutbound","Message.isSMS","Message.isPager","Message.isVoiceMail","Message.isFax","Message.isAlive","Message.isRead","Message.setIsRead","Message.getAttachmentUrl","Message.getAttachmentContentType","Message.getSubscription","Message.getCallerInfos","Message.getAllCallerInfos","Message.comparator","Message.filter","Message.attachContacts","Message.shorten","Message.validateSMS","Message.validatePager","PhoneNumber","PhoneNumber.constructor","PhoneNumber.createUrl","PhoneNumber.isSMS","PhoneNumber.hasFeature","PhoneNumber.reserve","PhoneNumber.unreserve","PhoneNumber.comparator","PhoneNumber.filter","Presence","Presence.constructor","Presence.createUrl","Presence.getId","Presence.isAvailable","Presence.getSubscription","Presence.updateSubscription","Presence.attachToExtensions","Presence.isCallInProgress","Ringout","Ringout.constructor","Ringout.createUrl","Ringout.resetAsNew","Ringout.isInProgress","Ringout.isSuccess","Ringout.isError","Ringout.validate","Service","Service.constructor","Service.createUrl","Service.isEnabled","Service.isServiceFeatureEnabledMethod","ShippingMethod","ShippingMethod.constructor","country","State","State.constructor","State.createUrl","State.filter","Timezone","Timezone.constructor","Timezone.createUrl","unique","NOW","Date","rnow","build_url","url_components","url_params","url","join","URLBIT","params","each","key","value","value_str","JSON","encode","length","push","PARAMSBIT","updater","fun","rate","timeout","last","runnit","clearTimeout","setTimeout","grep","fin","l","supplant","str","values","replace","REPL","_","match","wait","generate_uuid","callback","u","r","Math","random","v","isArray","arg","Array","o","f","i","map","k","path","encodeURIComponent","generate_channel_list","channels","nopresence","channel","status","search","subscribed","sort","generate_channel_group_list","channel_groups","channel_group","ready","READY","READY_BUFFER","connect","SECOND","PNmessage","args","msg","apns","keys","aps","alert","badge","exclude1","data","exclude","getPubnubMessage","publish","message","error","PN_API","setup","_get_url_params","_object_to_key_list","_object_to_key_list_sorted","_get_pam_sign_input_from_params","si","validate_presence_heartbeat","heartbeat","cur_heartbeat","err","PRESENCE_HB_THRESHOLD","PRESENCE_HB_DEFAULT","encrypt","input","crypto_obj","CIPHER_KEY","decrypt","_presence_heartbeat","PRESENCE_HB_TIMEOUT","PRESENCE_HB_INTERVAL","CHANNELS","CHANNEL_GROUPS","PRESENCE_HB_RUNNING","SELF","stringify","start_presence_heartbeat","next","NO_WAIT_FOR_PENDING","PUB_QUEUE","sending","xdr","shift","each_channel_group","count","chang","each_channel","chan","_invoke_callback","response","callback_data","_invoke_error","CR","url1","jsonp","jsonp_cb","AUTH_KEY","STD_ORIGIN","SUBSCRIBE_KEY","apply","success","fail","_poll_online","_is_online","_reset_offline","_poll_timer","_poll_online2","TIME_CHECK","detect_time_detla","_poll_timer2","KEEPALIVE","SUB_RECEIVER","detect_latency","tt","adjusted_time","TIME_DRIFT","cb","time","calculate","ptime","latency","stime","SUB_WINDOWING","DEF_WINDOWING","SUB_TIMEOUT","DEF_SUB_TIMEOUT","DEF_KEEPALIVE","NOLEAVE","PUBLISH_KEY","SECRET_KEY","hmac_SHA256","SSL","ORIGIN","nextorigin","SUB_ORIGIN","CONNECT","CLOAK","SUB_CALLBACK","SUB_CHANNEL","SUB_RESTORE","TIMETOKEN","RESUMED","STATE","PRESENCE_HB","COMPATIBLE_35","db","get","set","UUID","USE_INSTANCEID","INSTANCEID","a","LEAVE","blocking","auth_key","uuid","auth","origin","indexOf","PRESENCE_SUFFIX","LEAVE_GROUP","set_resumed","resumed","get_cipher_key","set_cipher_key","raw_encrypt","raw_decrypt","get_heartbeat","set_heartbeat","heartbeat_interval","get_heartbeat_interval","set_heartbeat_interval","get_version","SDK_VER","getGcmMessageObject","obj","getApnsMessageObject","x","newPnMessage","gcm","n","_add_param","val","namespace","ns_ch","cloak","mode","ns_ch_a","channel_group_list_groups","channel_group_list_channels","channel_group_remove_channel","channel_group_remove_group","channel_group_add_channel","channel_group_cloak","channel_group_list_namespaces","channel_group_remove_namespace","history","reverse","cipher_key","start","end","include_token","payload","messages","decrypted_messages","new_message","replay","source","destination","stop","limit","post","store","add_msg","unsubscribe","ch","CB_CALLED","action","chg","subscribe","_test_connection","disconnected","reconnect","disconnect","_connect","st","sub_timeout","SUB_ERROR","idlecb","connected","windowing","backfill","next_callback","channels2","list2","channel2","chobj","decrypted_msg","noheresync","timetoken","restore","settings","here","uid","timestamp","floor","occupancy","here_now","uuids","where_now","grant","ttl","w","getTime","sign_input","signature","mobile_gw_provision","op","gw_type","device_id","type","audit","revoke","set_uuid","get_uuid","get_subscibed_channels","presence_heartbeat","stop_timers","each-channel","offline","now","SHA256","s","safe_add","y","lsw","msw","S","X","R","Ch","z","Maj","Sigma0256","Sigma1256","Gamma0256","Gamma1256","core_sha256","g","h","j","T1","T2","K","HASH","W","str2binb","bin","mask","chrsz","charCodeAt","Utf8Encode","string","utftext","String","fromCharCode","binb2hex","binarray","hex_tab","hexcase","charAt","crypto","CRYPTO","iv","hex_message","encryptedHexArray","base_64_encrypted","binary_enc","json_plain","plaintext","undefined","window","toJSON","valueOf","quote","escapable","lastIndex","test","meta","slice","holder","partial","mind","gap","rep","isFinite","indent","cx","\b","\t","\n","\f","\r","\"","\\","replacer","space","text","eval","DEF_TIMEOUT","max","ori","failover","Nr","Nk","Decrypt","enc_utf8","unescape","dec_utf8","decodeURIComponent","escape","padBlock","byteArr","cpad","array","block2s","block","lastBlock","padding","a2h","numArr","h2a","ret","parseInt","s2a","binary","size","newsize","randArr","num","result","concat","openSSLKey","passwordArr","saltArr","rounds","md5_hash","data00","GibberishAES","Hash","MD5","rawEncrypt","expandKey","numBlocks","ceil","blocks","cipherBlocks","xorBlocks","encryptBlock","rawDecrypt","cryptArr","plainBlocks","decryptBlock","words","round","addRoundKey","subBytes","shiftRows","mixColumns","SBoxInv","SBox","temp","shiftBy","t","GEX","GBX","GDX","G9X","G2X","G3X","block1","block2","flat","subWord","rotWord","Rcon","tmp","strhex","substr","invertArr","arr","Gxx","Gx","enc","pass","salt","pbe","saltBlock","Base64","dec","decode","rotateLeft","lValue","iShiftBits","addUnsigned","lX","lY","lX4","lY4","lX8","lY8","lResult","funcI","ff","ac","gg","hh","ii","convertToWordArray","lWordCount","lMessageLength","lNumberOfWords_temp1","lNumberOfWords_temp2","lNumberOfWords","lWordArray","lBytePosition","lByteCount","wordToHex","lByte","lCount","wordToHexArr","AA","BB","CC","DD","rnd","_chars","chars","broken_b64","flatArr","b64","get_hmac_SHA256","hash","CryptoJS","$","document","getElementById","console","elements","el","getElementsByTagName","node","bind","etype","rapfun","event","cancelBubble","preventDefault","stopPropagation","addEventListener","attachEvent","head","attr","attribute","setAttribute","getAttribute","css","element","styles","style","create","createElement","XORIGN","FDomainRequest","ajax","script","finished","xhrtme","timer","done","append","appendChild","failed","onerror","parentNode","removeChild","ASYNC","src","xhr","responseText","complete","async","onload","abort","XDomainRequest","XMLHttpRequest","onabort","onloadend","onreadystatechange","readyState","open","send","eee","navigator","pubnubs","fdomainrequest","method","SWF","UA","userAgent","PNSDK","opera","postError","ls","cookieGet","cookie","RegExp","cookieSet","cookieTest","getItem","setItem","events","unbind","fire","PDIV","CREATE_PUBNUB","leave_on_unload","pnsdk","PN","prop","pdiv","PUBNUB","notest","publish_key","subscribe_key","ssl","location","href","position","top","WS","protocols","self","bits","protocol","reason","wasClean","close","lib","q","Base","extend","mixIn","init","$super","arguments","clone","WordArray","sigBytes","clamp","Hex","parse","Latin1","Utf8","BufferedBlockAlgorithm","reset","_data","_nDataBytes","_append","_process","blockSize","_minBufferSize","min","_doProcessBlock","splice","Hasher","cfg","_doReset","update","finalize","_doFinalize","_createHelper","_createHmacHelper","HMAC","algo","sqrt","pow","_hash","HmacSHA256","_hasher","_oKey","_iKey","_map","BlockCipher","AES","_key","_nRounds","_keySchedule","_invKeySchedule","_doCryptBlock","keySize","ECB","BlockCipherMode","Encryptor","processBlock","_cipher","Decryptor","__WEBPACK_AMD_DEFINE_RESULT__","process","global","$$utils$$objectOrFunction","$$utils$$isFunction","$$utils$$isMaybeThenable","$$utils$$F","$$asap$$useNextTick","nextTick","$$asap$$flush","$$asap$$useMutationObserver","iterations","observer","$$asap$$BrowserMutationObserver","createTextNode","observe","characterData","$$asap$$useMessageChannel","MessageChannel","port1","onmessage","port2","postMessage","$$asap$$useSetTimeout","$$asap$$len","$$asap$$queue","$$$internal$$noop","$$$internal$$selfFullfillment","TypeError","$$$internal$$cannotReturnOwn","$$$internal$$getThen","then","$$$internal$$GET_THEN_ERROR","$$$internal$$tryThen","fulfillmentHandler","rejectionHandler","$$$internal$$handleForeignThenable","thenable","$$asap$$default","sealed","$$$internal$$resolve","$$$internal$$fulfill","$$$internal$$reject","_label","$$$internal$$handleOwnThenable","_state","$$$internal$$FULFILLED","_result","$$$internal$$REJECTED","$$$internal$$subscribe","$$$internal$$handleMaybeThenable","maybeThenable","$$$internal$$publishRejection","_onerror","$$$internal$$publish","$$$internal$$PENDING","_subscribers","parent","child","onFulfillment","onRejection","subscribers","settled","detail","$$$internal$$invokeCallback","$$$internal$$ErrorObject","$$$internal$$tryCatch","$$$internal$$TRY_CATCH_ERROR","succeeded","hasCallback","$$$internal$$initializePromise","resolver","$$$enumerator$$Enumerator","Constructor","abortOnReject","label","_instanceConstructor","_abortOnReject","_validateInput","_input","_remaining","_init","_enumerate","_validationError","$$es6$promise$promise$$needsResolver","$$es6$promise$promise$$needsNew","$$es6$promise$promise$$Promise","_id","$$es6$promise$promise$$counter","$$utils$$_isArray","$$asap$$scheduleFlush","$$utils$$isArray","$$asap$$browserGlobal","MutationObserver","WebKitMutationObserver","$$asap$$isWorker","Uint8ClampedArray","importScripts","$$$enumerator$$default","_eachEntry","entry","_settledAt","_willSettleAt","resolve","_makeResult","enumerator","$$promise$all$$default","entries","$$promise$race$$default","$$promise$resolve$$default","object","$$promise$reject$$default","$$es6$promise$promise$$default","all","race","reject","catch","$$es6$promise$polyfill$$default","local","es6PromiseSupport","Promise","es6$promise$umd$$ES6Promise","polyfill","Request","Request.constructor","Request.isLoaded","Request.setHeader","Request.setHeaders","Request.setOptions","Request.checkOptions","Request.getEncodedBody","Request.send","Request.getXHR","Request.destroy","Headers","abs","sin","A","C","B","H","J","HmacMD5","EvpKDF","hasher","compute","Cipher","createEncryptor","_ENC_XFORM_MODE","createDecryptor","_DEC_XFORM_MODE","_xformMode","ivSize","StreamCipher","_iv","CBC","_prevBlock","pad","Pkcs7","unpad","_mode","CipherParams","formatter","format","OpenSSL","ciphertext","SerializableCipher","algorithm","_parse","kdf","execute","PasswordBasedCipher","webpackPolyfill","deprecate","paths","children","Headers.constructor","Headers.setHeader","Headers.getHeader","Headers.hasHeader","Headers.setHeaders","Headers.isContentType","Headers.getContentType","Headers.isMultipart","Headers.isUrlEncoded","Headers.isJson","statusText","body","headers","Response","Response.constructor","Response.isUnauthorized","Response.checkStatus","Response.getError","drainQueue","draining","currentQueue","len","queue","noop","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","cwd","chdir","umask","SHA1","HmacSHA1"],"mappings":"CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,EAAA,WAA0E,IAAM,MAAAG,SAAA,QAA0B,MAAAC,QAAcD,QAAA,gBACxH,kBAAAE,SAAAA,OAAAC,IACAD,QAAA,UAAA,WAAAL,GACA,gBAAAC,SACAA,QAAA,MAAAD,EAAA,WAA4E,IAAM,MAAAG,SAAA,QAA0B,MAAAC,QAAcD,QAAA,gBAE1HJ,EAAA,MAAAC,EAAAD,EAAA,eAAAA,EAAA,eACCQ,KAAA,SAAAC,8BAAAC,+BACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAX,OAGA,IAAAC,GAAAW,EAAAD,IACAX,WACAa,GAAAF,EACAG,QAAA,EAUA,OANAL,GAAAE,GAAAI,KAAAd,EAAAD,QAAAC,EAAAA,EAAAD,QAAAU,GAGAT,EAAAa,QAAA,EAGAb,EAAAD,QAvBA,GAAAY,KAqCA,OATAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAQ,EAAA,GAGAR,EAAA,KDgBM,SAAST,EAAQD,EAASU,GE9ChC,GAAOS,GAAUT,EAAW,GACrBU,EAAOV,EAAW,GAClBW,EAAWX,EAAW,GACtBY,EAAYZ,EAAW,GACvBa,EAAKb,EAAW,GAChBc,EAAOd,EAAW,GAClBe,EAAMf,EAAW,GACjBgB,EAAIhB,EAAW,IACfiB,EAAGjB,EAAW,IACdkB,EAAUlB,EAAW,IACrBmB,EAAcnB,EAAW,IACzBoB,EAAQpB,EAAW,IACnBqB,EAAYrB,EAAW,IACvBsB,EAAKtB,EAAW,IAChBuB,EAASvB,EAAW,IAEpBwB,EAAaxB,EAAW,IACxByB,EAAmBzB,EAAW,IAC9B0B,EAAU1B,EAAW,IACrB2B,EAAa3B,EAAW,IACxB4B,EAAkB5B,EAAW,IAC7B6B,EAAkB7B,EAAW,IAC7B8B,EAAa9B,EAAW,IACxB+B,EAAY/B,EAAW,IACvBgC,EAAiBhC,EAAW,IAC5BiC,EAAejC,EAAW,IAC1BkC,EAAsBlC,EAAW,IACjCmC,EAAcnC,EAAW,IACzBoC,EAAcpC,EAAW,IACzBqC,EAAarC,EAAW,IACxBsC,EAAiBtC,EAAW,IAC5BuC,EAAcvC,EAAW,IACzBwC,EAAaxC,EAAW,IACxByC,EAAazC,EAAW,IACxB0C,EAAoB1C,EAAW,IAC/B2C,EAAW3C,EAAW,IACtB4C,EAAc5C,EAAW,IAEzB6C,EAAO7C,EAAW,IAClB8C,EAAM9C,EAAW,GAGxBA,GAAQ,IACRA,EAAQ,GAER,IAAM+C,GAAK,WA6BPA,QA7BEA,GA6BUA,GAORC,EAAUA,MAEVA,KAAKA,SAAWA,EAAQA,KAAKA,EAAMA,YAEnCA,KAAKA,WACAA,UAAUA,EAAQA,aAAeA,IAEtCA,KAAKA,cACAA,UAAUA,EAAQA,QAAUA,IAC5BA,eAAeA,EAAQA,QAAUA,GAAIA,EAAQA,WAAaA,IAgFvED,MAxEIA,GAAAA,UAAAA,WAAAA,WAAeE,MAAOA,MAAKA,UAI3BF,EAAAA,UAAAA,gBAAAA,WAAoBG,MAAOA,GAAaA,KAAKA,KAAKA,eAElDH,EAAAA,UAAAA,eAAAA,WAAmBI,MAAOA,GAAYA,KAAKA,KAAKA,eAEhDJ,EAAAA,UAAAA,YAAAA,WAAgBK,MAAOA,GAASA,KAAKA,KAAKA,eAE1CL,EAAAA,UAAAA,SAAAA,WAAaM,MAAOA,GAAMA,KAAKA,KAAKA,eAEpCN,EAAAA,UAAAA,gBAAAA,WAAoBO,MAAOA,GAAaA,KAAKA,KAAKA,eAElDP,EAAAA,UAAAA,kBAAAA,WAAsBQ,MAAOA,GAAeA,KAAKA,KAAKA,eAEtDR,EAAAA,UAAAA,UAAAA,WAAcS,MAAOA,GAAOA,KAAKA,KAAKA,eAEtCT,EAAAA,UAAAA,cAAAA,WAAkBU,MAAOA,GAAWA,KAAKA,KAAKA,eAE9CV,EAAAA,UAAAA,aAAAA,WAAiBW,MAAOA,GAAUA,KAAKA,KAAKA,eAE5CX,EAAAA,UAAAA,OAAAA,WAAWY,MAAOA,GAAIA,KAAKA,KAAKA,eAEhCZ,EAAAA,UAAAA,SAAAA,WAAaa,MAAOA,GAAMA,KAAKA,KAAKA,eAEpCb,EAAAA,UAAAA,QAAAA,WAAYc,MAAOA,GAAKA,KAAKA,KAAKA,eAIlCd,EAAAA,UAAAA,iBAAAA,WAAqBe,MAAOA,GAAcA,KAAKA,KAAKA,eAEpDf,EAAAA,UAAAA,qBAAAA,WAAyBgB,MAAOA,GAAkBA,KAAKA,KAAKA,eAE5DhB,EAAAA,UAAAA,kBAAAA,WAAsBiB,MAAOA,GAAeA,KAAKA,KAAKA,eAEtDjB,EAAAA,UAAAA,kBAAAA,WAAsBkB,MAAOA,GAAeA,KAAKA,KAAKA,eAEtDlB,EAAAA,UAAAA,wBAAAA,WAA4BmB,MAAOA,GAAqBA,KAAKA,KAAKA,eAElEnB,EAAAA,UAAAA,eAAAA,WAAmBoB,MAAOA,GAAYA,KAAKA,KAAKA,eAEhDpB,EAAAA,UAAAA,kBAAAA,WAAsBqB,MAAOA,GAAeA,KAAKA,KAAKA,eAEtDrB,EAAAA,UAAAA,iBAAAA,WAAqBsB,MAAOA,GAAcA,KAAKA,KAAKA,eAEpDtB,EAAAA,UAAAA,uBAAAA,WAA2BuB,MAAOA,GAAoBA,KAAKA,KAAKA,eAEhEvB,EAAAA,UAAAA,cAAAA,WAAkBwB,MAAOA,GAAWA,KAAKA,KAAKA,eAE9CxB,EAAAA,UAAAA,sBAAAA,WAA0ByB,MAAOA,GAAmBA,KAAKA,KAAKA,eAE9DzB,EAAAA,UAAAA,iBAAAA,WAAqB0B,MAAOA,GAAcA,KAAKA,KAAKA,eAEpD1B,EAAAA,UAAAA,sBAAAA,WAA0B2B,MAAOA,GAAmBA,KAAKA,KAAKA,eAE9D3B,EAAAA,UAAAA,gBAAAA,WAAoB4B,MAAOA,GAAaA,KAAKA,KAAKA,eAElD5B,EAAAA,UAAAA,mBAAAA,WAAuB6B,MAAOA,GAAgBA,KAAKA,KAAKA,eAExD7B,EAAAA,UAAAA,0BAAAA,WAA8B8B,MAAOA,GAAuBA,KAAKA,KAAKA,eAEtE9B,EAAAA,UAAAA,iBAAAA,WAAqB+B,MAAOA,GAAcA,KAAKA,KAAKA,eAEpD/B,EAAAA,UAAAA,qBAAAA,WAAyBgC,MAAOA,GAAkBA,KAAKA,KAAKA,eAE5DhC,EAAAA,UAAAA,kBAAAA,WAAsBiC,MAAOA,GAAeA,KAAKA,KAAKA,eAEtDjC,EAAAA,UAAAA,iBAAAA,WAAqBkC,MAAOA,GAAcA,KAAKA,KAAKA,eAEpDlC,EAAAA,UAAAA,iBAAAA,WAAqBmC,MAAOA,GAAcA,KAAKA,KAAKA,eAzHtCnC,EAAAA,QAAUA,QAEVA,EAAAA,SAAW/C,EAAQ,IAEnB+C,EAAAA,IAAMA,WAChBA,IAAMA,MAAOA,IAAIA,gBAAoBA,MAAOA,IAC5CA,IAAMA,MAAOA,IAAIA,eAAcA,sBAAyBA,MAAOA,IAC/DA,IAAMA,MAAOA,IAAIA,eAAcA,sBAAyBA,MAAOA,IAC/DA,IAAMA,MAAOA,IAAIA,eAAcA,kBAAqBA,MAAOA,IAC3DA,IAAMA,MAAOA,KAAK/C,EAAQ,IAAmB+C,MAAOA,IACpDA,KAAMA,IAAIA,OAAMA,kDAGNA,EAAAA,YACVA,SAAUA,EAAMA,SAChBA,aAAwCA,mBAAnBA,cACfA,aACA/C,EAAQ,GACd+C,QAA6BA,mBAAdA,SAA4BA,QAAUA,EAAQA,QAC7DA,OAAQA,EACRA,IAAKA,EAAMA,IACXA,WAAYA,EACZA,QAASA,GAqGjBA,IAEexD,GAAAD,QAANyD,GF4EH,SAASxD,GGhQf,GAAA,mBAAAM,+BAAA,CAA0D,GAAAJ,GAAA,GAAA0F,OAAA,iCAAmF,MAA7B1F,GAAA2F,KAAA,mBAA6B3F,EAC7IF,EAAAD,QAAAO,+BHsQM,SAASN,GIvQfA,EAAAD,QAAAQ,+BJ6QM,SAASP,EAAQD,GKzOvB,QAAgB+F,GAAKvE,GACjBuE,MAAOA,IAAIA,GAAcA,GAjC7B,GAAaC,GAAU,WAAvBA,QAAaA,MAgBbA,MAZIA,GAAAA,UAAAA,MAAAA,aAEAA,EAAAA,UAAAA,YAAAA,aAEAA,EAAAA,UAAAA,UAAAA,SAAUA,GACNC,KAAKA,UAAYA,EAAQA,SAG7BD,EAAAA,UAAAA,eAAAA,SAAeA,GACXE,KAAKA,UAAUA,EAAKA,MAAOA,YAGnCF,IAhBahG,GAAAgG,WAAAA,CAkBb,IAAaG,GAAa,WAItBA,QAJSA,GAIGA,GACRC,KAAKA,QAAUA,EAOvBD,MAJIA,GAAAA,UAAAA,KAAAA,WACIE,MAAOA,IAAIA,IAGnBF,IAZanG,GAAAmG,cAAAA,EAcGnG,EAAA+F,KAAAA,GL8QV,SAAS9F,EAAQD,EAASU,GMrKhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,IAAIA,GAAQA,GA7IvB,GAAO/D,GAAKtB,EAAW,IAChBiB,EAAGjB,EAAW,IACdW,EAAWX,EAAW,GAEhB4F,EAAO,WAwBhBA,QAxBSA,GAwBGA,GAGRC,KAAKA,QAAUA,EACfA,KAAKA,UAAYA,EAAYA,KAAKA,GAClCA,KAAKA,IAAMA,EAAIA,KAAKA,GACpBA,KAAKA,MAAQA,EAAMA,KAAKA,GAGxBA,KAAKA,OAAQA,EACbA,KAAKA,OAASA,GACdA,KAAKA,IAAMA,GACXA,KAAKA,kBACLA,KAAKA,iBAAkBA,EAGvBA,KAAKA,KAAOA,KACZA,KAAKA,WAAaA,EAClBA,KAAKA,mBACLA,KAAKA,OAASA,EA2FtBD,MAvFIA,GAAAA,UAAAA,kBAAAA,SAAkBA,GACdE,MAAOA,MAAKA,gBAAgBA,EAAOA,gBAGvCF,EAAAA,UAAAA,iBAAAA,SAAiBA,EAAeA,GAC5BG,KAAKA,eAAeA,EAAOA,eAAiBA,GAGhDH,EAAAA,UAAAA,sBAAAA,WACII,GAAIA,KAIJA,OAHAA,MAAKA,MAAMA,QAAQA,KAAKA,gBAAiBA,SAACA,EAAcA,GACpDA,EAAIA,KAAKA,EAAOA,IAAMA,KAEnBA,EAAIA,KAAKA,OAGpBJ,EAAAA,UAAAA,KAAAA,SAAKA,EAAeA,EAAYA,GAC5BK,KAAKA,OAASA,EACdA,KAAKA,IAAMA,EACXA,KAAKA,MAAQA,GAGjBL,EAAAA,UAAAA,KAAAA,SAAKA,GAALM,GAAAA,GAAAA,KAEQA,EAAcA,KAAKA,iBAAiBA,eAExCA,MAAKA,KAAOA,EAERA,KAAKA,MAA4BA,gBAAbA,MAAKA,OAENA,oBAAfA,IAAmCA,KAAKA,KAAOA,KAAKA,MAAMA,KAAKA,OAChDA,qCAAfA,IAAoDA,KAAKA,KAAOA,KAAKA,MAAMA,iBAAiBA,KAAKA,QAGzGA,KAAKA,IAAIA,MAAMA,cAAeA,KAAKA,OAAQA,KAAKA,IAEhDA,IAAIA,GAAkBA,KAAKA,UAAUA,KAAKA,KAE1CA,KAAKA,EAIDA,WAHAA,YAAWA,WACHA,EAAKA,SAASA,EAAKA,QAAQA,GAAIA,OAAMA,oBAAsBA,EAAKA,OACrEA,EAIPA,MAAKA,UAAUA,KACfA,KAAKA,kBAAkBA,eAAgBA,mBAEvCA,IAAIA,GAAMA,EAAgBA,SAASA,MAC/BA,EAAUA,KAAKA,QAAQA,aACvBA,EAASA,SAACA,GAEwCA,oBAA1CA,EAAKA,kBAAkBA,kBAAuCA,EAAMA,KAAKA,UAAUA,IAEvFA,EAAKA,aAAeA,EAEpBA,WAAWA,WACHA,EAAKA,QAAQA,EAAKA,UACvBA,GAIPA,aAAeA,GAEfA,EAAIA,KAAKA,EAAOA,KAAKA,OAArBA,SAAkCA,KAAKA,QAAQA,KAAKA,OAEjDA,EAAOA,IAIlBN,EAAAA,UAAAA,MAAAA,WACIO,KAAKA,IAAIA,MAAMA,+BAGnBP,EAAAA,UAAAA,iBAAAA,SAAiBA,GACbQ,MAAOA,MAAKA,eAAeA,EAAOA,gBAGtCR,EAAAA,UAAAA,kBAAAA,SAAkBA,EAAeA,GAC7BS,KAAKA,gBAAgBA,EAAOA,eAAiBA,GAGjDT,EAAAA,UAAAA,UAAAA,SAAUA,GAENU,MADAA,MAAKA,OAASA,EACPA,MAGfV,IAtIatG,GAAAsG,QAAAA,EAwIGtG,EAAA+F,KAAAA,GN4QV,SAAS9F,EAAQD,GO9WvB,QAAgB+F,GAAKvE,GACjBuE,MAAOA,GAAQA,gBAAgBA,cAAeA,WAC1CA,MAAOA,IAAIA,GAAYA,KAzC/B,GAAakB,GAAW,WAIpBA,QAJSA,KAKLC,KAAKA,aA0BbD,MAvBIA,GAAAA,UAAAA,IAAAA,SAAIA,GACAE,KAAKA,UAAUA,KAAKA,IAGxBF,EAAAA,UAAAA,MAAAA,WACIG,KAAKA,cAGTH,EAAAA,UAAAA,KAAAA,SAAKA,GAEDI,GAAIA,EAUJA,OARAA,MAAKA,UAAUA,QAAQA,SAACA,GAEhBA,EAAKA,IAAIA,QAAQA,EAASA,MAAQA,MAAQA,EAASA,MAAQA,EAASA,KAAKA,MACzEA,EAAkBA,KAKnBA,GAGfJ,IA/BajH,GAAAiH,YAAAA,EAuCGjH,EAAA+F,KAAAA,GPgZV,SAAS9F,EAAQD,EAASU,GQ5ahC,QAAgBqF,GAAKvE,GAEjBuE,MAAOA,GAAQA,gBAAgBA,eAAgBA,WAC3CA,MAAOA,IAAIA,GAAaA,KR4ahC,GAAIuB,GAAYhH,KAAKgH,WAAa,SAAUC,EAAGC,GAE3C,QAASC,KAAOnH,KAAKoH,YAAcH,EADnC,IAAK,GAAIrG,KAAKsG,GAAOA,EAAEG,eAAezG,KAAIqG,EAAErG,GAAKsG,EAAEtG,GAEnDuG,GAAGG,UAAYJ,EAAEI,UACjBL,EAAEK,UAAY,GAAIH,IQhcf7F,EAAUlB,EAAW,IAGfmH,EAAY,SAAAC,GAAzBD,QAAaA,KAAqBE,EAAAA,MAAAA,KAAAA,WAEvBA,KAAAA,QACHA,cAAeA,gBACfA,eAAgBA,iBAChBA,aAAcA,gBAGtBF,MARkCA,GAArBA,EAAYA,GAQzBA,GARkCjG,EAAWoG,WAAhChI,GAAA6H,aAAAA,EAUG7H,EAAA+F,KAAAA,GR6cV,SAAS9F,EAAQD,GSnavB,QAAgB+F,GAAKvE,GACjBuE,MAAOA,GAAQA,gBAAgBA,QAASA,WACpCA,MAAOA,IAAIA,GAAMA,KAvDzB,GAAakC,GAAK,WAMdA,QANSA,GAMGA,GACRC,KAAKA,YACLA,KAAKA,QAAUA,EACfA,KAAKA,QAAUA,EAAQA,kBA0C/BD,MAvCIA,GAAAA,UAAAA,UAAAA,SAAUA,GAENE,MADAA,MAAKA,OAASA,GAAUA,MACjBA,MAGXF,EAAAA,UAAAA,UAAAA,SAAUA,GACNG,MAAOA,MAAKA,OAASA,GAGzBH,EAAAA,UAAAA,QAAAA,SAAQA,EAAKA,GAETI,MADAA,MAAKA,QAAQA,QAAQA,KAAKA,UAAUA,GAAMA,KAAKA,UAAUA,IAClDA,MAGXJ,EAAAA,UAAAA,WAAAA,SAAWA,GAEPK,MADAA,MAAKA,QAAQA,WAAWA,KAAKA,UAAUA,IAChCA,MAGXL,EAAAA,UAAAA,QAAAA,SAAQA,GACJM,GAAIA,GAAOA,KAAKA,QAAQA,QAAQA,KAAKA,UAAUA,GAC/CA,OAAKA,GACEA,KAAKA,MAAMA,GADAA,MAItBN,EAAAA,UAAAA,MAAAA,WAEIO,IAAKA,GAAIA,KAAOA,MAAKA,QACZA,KAAKA,QAAQA,eAAeA,IACAA,IAA7BA,EAAIA,QAAQA,KAAKA,UACjBA,KAAKA,QAAQA,WAAWA,SACjBA,MAAKA,QAAQA,GAI5BA,OAAOA,OAIfP,IAnDajI,GAAAiI,MAAAA,EAqDGjI,EAAA+F,KAAAA,GTydV,SAAS9F,EAAQD,GUjdvB,QAAgB+F,GAAK0C,GACjB1C,MAAOA,IAAIA,GAAQA,GAhEvB,GAAa2C,GAAO,WAOhBA,QAPSA,GAOGA,GACRC,KAAKA,cACLA,KAAKA,WAAaA,EAClBA,KAAKA,YAAaA,EAClBA,KAAKA,UAAWA,EAkDxBD,MA/CIA,GAAAA,UAAAA,gBAAAA,SAAgBA,EAAaA,GAGzBE,MADKA,MAAKA,WAAWA,KAAOA,KAAKA,WAAWA,GAAQA,KAC7CA,KAAKA,WAAWA,IAI3BF,EAAAA,UAAAA,cAAAA,SAAcA,GAEVG,MADAA,MAAKA,aAAeA,EACbA,MAGXH,EAAAA,UAAAA,YAAAA,SAAYA,GAERI,MADAA,MAAKA,WAAaA,EACXA,MAGXJ,EAAAA,UAAAA,YAAAA,WACIK,MAAOA,MAAKA,WAAWA,UAG3BL,EAAAA,UAAAA,UAAAA,WACIM,MAAOA,MAAKA,WAAaA,KAAKA,WAAWA,WAAWA,KAAKA,MAAQA,KAAKA,WAAWA,QAGrFN,EAAAA,UAAAA,gBAAAA,WAAAO,GAAAA,GAAAA,IAEIA,OAAOA,MAAKA,gBAAgBA,eAAgBA,WAExCA,MAA4CA,kBAAjCA,GAAKA,WAAWA,aAChBA,EAAKA,WAAWA,aAGpBA,GAAWA,GAAKA,WAAWA,gBAM1CP,EAAAA,UAAAA,WAAAA,WACIQ,MAAOA,MAAKA,WAAWA,SAG3BR,EAAAA,UAAAA,OAAAA,WACIS,MAAwBA,MAAKA,SAAWA,KAAKA,WAAWA,QAAQA,KAAKA,MAAcA,KAAKA,WAAWA,OAG3GT,IA7Da1I,GAAA0I,QAAAA,EA+DG1I,EAAA+F,KAAAA,GVwgBV,SAAS9F,EAAQD,EAASU,GWpXhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,IAAIA,GAAOA,GApNtB,GAAO/D,GAAKtB,EAAW,IAKV0I,EAAM,WAOfA,QAPSA,GAOGA,GALFC,KAAAA,gBAAyBA,KAO/BA,KAAKA,QAAUA,EACfA,KAAKA,MAAQA,EAAMA,KAAKA,GAkMhCD,MA9LIA,GAAAA,UAAAA,WAAAA,WACIE,MAAOA,MAAKA,SAGhBF,EAAAA,UAAAA,UAAAA,WACIG,MAAOA,IAGXH,EAAAA,UAAAA,MAAAA,SAAMA,GACFI,MAAOA,IAAUA,EAAOA,KAAKA,kBAGjCJ,EAAAA,UAAAA,MAAAA,SAAMA,GACFK,OAAQA,KAAKA,MAAMA,KAAYA,KAAKA,OAAOA,IAG/CL,EAAAA,UAAAA,WAAAA,SAAWA,GAKPM,MAJIA,WACOA,GAAOA,SACPA,GAAOA,KAEXA,GAGXN,EAAAA,UAAAA,OAAAA,SAAOA,GACHO,MAAOA,IAAUA,EAAOA,KAG5BP,EAAAA,UAAAA,uBAAAA,SAAuBA,GAEnBQ,MAAIA,GAAKA,cAGEA,EAAKA,KAAKA,OAAOA,SAACA,GACrBA,OAASA,EAAOA,QACjBA,IAAIA,SAACA,GACJA,MAAOA,GAAOA,QAKVA,EAAKA,OAUrBR,EAAAA,UAAAA,YAAAA,SAAYA,EAASA,GAEjBS,MAAOA,MAAKA,MAAMA,OAAOA,OACrBA,IAAMA,GAAWA,EAAQA,KAASA,GAAUA,KAAKA,OAAOA,IAAYA,KAAKA,YACzEA,OAASA,GAAWA,EAAQA,QAAWA,SAS/CT,EAAAA,UAAAA,YAAAA,SAAYA,EAASA,GAEjBU,KAAKA,GAAYA,IAAYA,EAAQA,MAAQA,EAAQA,OAAQA,KAAMA,IAAIA,OAAMA,YAE7EA,OAAOA,MAAKA,MAAMA,OAAOA,OACrBA,OAASA,GAAWA,EAAQA,SAAYA,KAAKA,MAAMA,GAAUA,OAASA,OACtEA,IAAMA,GAAWA,EAAQA,KAAQA,KAAKA,OAAOA,IAAWA,KAAKA,YAC7DA,KAAOA,IAAYA,EAAQA,MAAQA,EAAQA,OAAUA,KAS7DV,EAAAA,UAAAA,cAAAA,SAAcA,EAASA,GAInBW,GAFAA,EAAUA,QAELA,KAAKA,OAAOA,IAAaA,GAAWA,EAAQA,KAAMA,KAAMA,IAAIA,OAAMA,mDAEvEA,OAAOA,MAAKA,MAAMA,OAAOA,OACrBA,OAASA,GAAWA,EAAQA,QAAWA,SACvCA,IAAMA,GAAWA,EAAQA,KAAQA,KAAKA,OAAOA,MAQrDX,EAAAA,UAAAA,YAAAA,SAAYA,GAgBRY,MAdAA,GAAUA,MAEVA,EAAQA,IAAMA,EAAQA,KAAOA,KAAKA,WAAWA,MAAMA,IACnDA,EAAQA,MAAQA,EAAQA,OAASA,EAAQA,QAEnCA,EAAQA,MAAMA,UAChBA,EAAQA,OACJA,SAAUA,QACVA,UAAWA,EAAQA,IAAIA,WAG3BA,EAAQA,MAAMA,SAAWA,QAGtBA,GAIXZ,EAAAA,UAAAA,eAAAA,SAAeA,GAEXa,MAAQA,IAAQA,EAAKA,YAAeA,YAAcA,GAAKA,YAU3Db,EAAAA,UAAAA,MAAAA,SAAMA,EAAuBA,EAAsCA,GAK/Dc,MAHAA,GAAUA,GAAWA,KAAKA,MAAMA,KAAKA,MACrCA,EAAQA,MAEDA,EAAMA,OAAOA,SAACA,EAAOA,GAExBA,GAAIA,GAAKA,EAAQA,EAEjBA,QAAKA,GAAOA,EAAMA,KAAQA,EAAgBA,GAEtCA,GACKA,EAAMA,KAAKA,EAAMA,OACtBA,EAAMA,GAAIA,KAAKA,IAEfA,EAAMA,GAAMA,EAGTA,SAYfd,EAAAA,UAAAA,MAAAA,SAAMA,EACAA,EACAA,EAAsCA,GAF5Ce,GAAAA,GAAAA,IAIIA,GAAUA,GAAWA,KAAKA,MAAMA,KAAKA,MACrCA,EAASA,MACTA,EAAaA,KAEbA,IAAIA,GAAkBA,KAAKA,MAAMA,EAAYA,GACzCA,KACAA,EAASA,EAAOA,IAAIA,SAACA,GAEjBA,GAAIA,GAAKA,EAAQA,GACbA,EAAUA,EAAgBA,EAI9BA,OAFIA,IAASA,EAAWA,KAAKA,GAEtBA,EAAWA,EAAaA,EAAKA,MAAMA,OAAOA,EAAMA,GAAWA,EAAWA,GAUrFA,OANAA,GAAWA,QAAQA,SAACA,GAEyBA,IAArCA,EAAWA,QAAQA,EAAQA,KAAcA,EAAOA,KAAKA,KAItDA,GAKff,IA5MapJ,GAAAoJ,OAAAA,EA8MGpJ,EAAA+F,KAAAA,GXohBV,SAAS9F,EAAQD,EAASU,GYhmBhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,GAAQA,gBAAgBA,OAAQA,WACnCA,MAAOA,IAAIA,GAAKA,KAzIxB,GAAO/D,GAAKtB,EAAW,IAGV0J,EAAI,WAKbA,QALSA,GAKGA,GACRC,KAAKA,QAAUA,EACfA,KAAKA,MAAQA,EAAMA,KAAKA,GACxBA,KAAKA,iBAAmBA,KAAKA,iBAAiBA,KAAKA,MACnDA,KAAKA,iBAAmBA,KAAKA,iBAAiBA,KAAKA,MAyH3DD,MAjHIA,GAAAA,UAAAA,kBAAAA,SAAkBA,GACdE,MAAOA,UAACA,GACJA,MAAOA,GAAaA,GAAQA,EAAKA,IAAcA,KAAQA,IAc/DF,EAAAA,UAAAA,iBAAAA,SAAiBA,EAAUA,GAEvBG,MAAOA,MAAKA,MAAMA,YAAYA,GAAGA,cAAcA,KAAKA,MAAMA,YAAYA,KAgB1EH,EAAAA,UAAAA,iBAAAA,SAAiBA,EAAOA,GAEpBI,MAAQA,MAAKA,MAAMA,YAAYA,GAAKA,KAAKA,MAAMA,YAAYA,IAU/DJ,EAAAA,UAAAA,WAAAA,SAAWA,GAOPK,MALAA,GAAUA,KAAKA,MAAMA,QACjBA,UAAWA,KAAKA,kBAAmBA,GAAWA,EAAQA,QAAWA,MAAMA,KAAKA,MAC5EA,UAAWA,KAAKA,iBAAiBA,KAAKA,OACvCA,GAEIA,SAACA,EAAWA,GAEfA,MAAOA,GAAQA,UAAUA,EAAQA,UAAUA,EAAOA,GAAUA,EAAQA,UAAUA,EAAOA,GAAUA,KAMvGL,EAAAA,UAAAA,aAAAA,SAAaA,EAASA,GAClBM,MAAQA,GAAQA,YAAcA,GAQlCN,EAAAA,UAAAA,eAAAA,SAAeA,EAASA,GACpBO,MAAQA,IAAOA,EAAIA,WAAWA,QAAQA,EAAQA,WAAaA,IAG/DP,EAAAA,UAAAA,aAAAA,SAAaA,EAAKA,GACdQ,KAAMA,EAAQA,oBAAqBA,SAASA,KAAMA,IAAIA,OAAMA,0CAC5DA,OAAQA,GAAQA,UAAUA,KAAKA,IAUnCR,EAAAA,UAAAA,OAAAA,SAAOA,GAAPS,GAAAA,GAAAA,KAEQA,EAAOA,IAYXA,OAVAA,IAAiBA,OAAqBA,IAAIA,SAACA,GAEvCA,MAAOA,GAAKA,MAAMA,QACdA,UAAWA,GACXA,UAAWA,EAAKA,kBAAmBA,GAAOA,EAAIA,UAAaA,MAAMA,KAAKA,GACtEA,SAAUA,EAAKA,aAAaA,KAAKA,IAClCA,KAIAA,SAACA,GAEJA,MAAgBA,GAAcA,OAAOA,SAACA,EAAMA,GAExCA,MAAKA,IAASA,EAAIA,UACXA,EAAIA,SAASA,EAAIA,UAAUA,EAAMA,GAAMA,GADVA,IAGrCA,KAMfT,IAlIapK,GAAAoK,KAAAA,EAoIGpK,EAAA+F,KAAAA,GZstBV,SAAS9F,EAAQD,EAASU,GahxBhC,QAAgBqF,GAAKvE,GAEjBuE,MAAOA,GAAQA,gBAAgBA,MAAOA,WAClCA,MAAOA,IAAIA,GAAIA,EAASA,WAhFhC,GAAO/D,GAAKtB,EAAW,IAGVoK,EAAG,WAYZA,QAZSA,GAYGA,EAAyBA,GAE5BC,IACDA,GACIA,IAAKA,aACLA,KAAMA,aACNA,KAAMA,aACNA,MAAOA,eAIfA,KAAKA,QAAUA,EACfA,KAAKA,QAAUA,EACfA,KAAKA,MAAQA,EAAMA,KAAKA,GAExBA,KAAKA,UAAWA,EAChBA,KAAKA,SAAUA,EACfA,KAAKA,aAAcA,EACnBA,KAAKA,WAAYA,EAEjBA,KAAKA,eAAgBA,EAwC7BD,MApCIA,GAAAA,UAAAA,WAAAA,WACIE,KAAKA,UAAWA,EAChBA,KAAKA,SAAUA,EACfA,KAAKA,aAAcA,EACnBA,KAAKA,WAAYA,GAGrBF,EAAAA,UAAAA,UAAAA,WACIG,KAAKA,UAAWA,EAChBA,KAAKA,SAAUA,EACfA,KAAKA,aAAcA,EACnBA,KAAKA,WAAYA,GAGrBH,EAAAA,UAAAA,eAAAA,SAAeA,GAGXI,MAFAA,GAAOA,KAAKA,MAAMA,iBAAiBA,GAC/BA,KAAKA,eAAeA,EAAKA,SAAQA,GAAIA,OAAOA,iBAAkBA,KAC3DA,GAGXJ,EAAAA,UAAAA,MAAAA,Wbi1BI,Iaj1BEK,GAAAA,MAAAA,EAAAA,EAAAA,EAAAA,UAAAA,OAAAA,IAAAA,EAAAA,EAAAA,GAAAA,UAAAA,EACEA,MAAKA,UAAUA,KAAKA,QAAQA,IAAIA,MAAMA,KAAKA,QAASA,KAAKA,eAAeA,aAGhFL,EAAAA,UAAAA,KAAAA,Wbq1BI,Iar1BCM,GAAAA,MAAAA,EAAAA,EAAAA,EAAAA,UAAAA,OAAAA,IAAAA,EAAAA,EAAAA,GAAAA,UAAAA,EACGA,MAAKA,SAASA,KAAKA,QAAQA,KAAKA,MAAMA,KAAKA,QAASA,KAAKA,eAAeA,aAGhFN,EAAAA,UAAAA,KAAAA,Wby1BI,Iaz1BCO,GAAAA,MAAAA,EAAAA,EAAAA,EAAAA,UAAAA,OAAAA,IAAAA,EAAAA,EAAAA,GAAAA,UAAAA,EACGA,MAAKA,aAAaA,KAAKA,QAAQA,KAAKA,MAAMA,KAAKA,QAASA,KAAKA,eAAeA,aAGpFP,EAAAA,UAAAA,MAAAA,Wb61BI,Ia71BEQ,GAAAA,MAAAA,EAAAA,EAAAA,EAAAA,UAAAA,OAAAA,IAAAA,EAAAA,EAAAA,GAAAA,UAAAA,EACEA,MAAKA,WAAWA,KAAKA,QAAQA,MAAMA,MAAMA,KAAKA,QAASA,KAAKA,eAAeA,aAGvFR,IAxEa9K,GAAA8K,IAAAA,EA0EG9K,EAAA+F,KAAAA,Gb02BV,SAAS9F,EAAQD,EAASU,GcpyBhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,IAAIA,GAAWA,GApJ1B,GAAO/D,GAAKtB,EAAW,IAChBiB,EAAGjB,EAAW,IAGRsH,EAAU,WAcnBA,QAdSA,GAcGA,GACRuD,KAAMA,eAAgBA,IAAaA,KAAMA,IAAIA,OAAMA,yCACnDA,QAAOA,eAAeA,KAAMA,aAAcA,SAAWA,YAAYA,EAAOA,UAAUA,IAClFA,OAAOA,eAAeA,KAAMA,iBAAkBA,SAAWA,YAAYA,EAAOA,UAAUA,IACtFA,OAAOA,eAAeA,KAAMA,oBAAqBA,SAAWA,YAAYA,EAAOA,UAAUA,IACzFA,KAAKA,QAAUA,EACfA,KAAKA,MAAQA,EAAMA,KAAKA,GACxBA,KAAKA,IAAMA,EAAIA,KAAKA,GAwH5BvD,MArHIA,GAAAA,UAAAA,aAAAA,SAAaA,GACTwD,MAAQA,KAASA,MAAKA,WAG1BxD,EAAAA,UAAAA,qBAAAA,SAAqBA,GACjByD,KAAKA,cAAcA,IAASA,EAC5BA,KAAKA,iBAAiBA,OAG1BzD,EAAAA,UAAAA,GAAAA,SAAGA,EAAQA,GAAX0D,GAAAA,GAAAA,IAGIA,IADqBA,gBAAVA,KAAoBA,GAAUA,KACpCA,EAAQA,KAAMA,IAAIA,OAAMA,4BAC7BA,IAAwBA,kBAAbA,GAAyBA,KAAMA,IAAIA,OAAMA,8BAEpDA,IAAIA,GAAOA,IAeXA,OAbAA,GAAOA,QAAQA,SAACA,GAEPA,EAAKA,aAAaA,KAAQA,EAAKA,UAAUA,OAE9CA,EAAKA,UAAUA,GAAOA,KAAKA,GAEvBA,EAAKA,oBAAoBA,KACzBA,EAAKA,IAAIA,MAAMA,+EAAgFA,GAC/FA,EAASA,MAAMA,EAAMA,EAAKA,wBAAwBA,OAKnDA,MAIX1D,EAAAA,UAAAA,KAAAA,SAAKA,Gd26BD,Ic36BQ2D,GAAZA,GAAAA,KAAYA,KAAAA,EAAAA,EAAAA,EAAAA,UAAAA,OAAAA,IAAAA,EAAAA,EAAAA,GAAAA,UAAAA,EAERA,IAAIA,KAAKA,oBAAoBA,GAEzBA,MADAA,MAAKA,IAAIA,MAAMA,6DAA8DA,GACtEA,IAGXA,IAAIA,GAASA,IAObA,OALIA,MAAKA,eAAeA,KACpBA,KAAKA,qBAAqBA,GAC1BA,KAAKA,wBAAwBA,EAAOA,IAGnCA,KAAKA,aAAaA,IAEvBA,KAAKA,UAAUA,GAAOA,KAAKA,SAACA,GAGxBA,MADAA,GAASA,EAASA,MAAMA,EAAMA,GACtBA,KAAWA,IAIhBA,GAT+BA,MAa1C3D,EAAAA,UAAAA,IAAAA,SAAIA,EAAOA,GAAX4D,GAAAA,GAAAA,IAEIA,IAAKA,EAEEA,CACHA,IAAKA,KAAKA,aAAaA,GAAQA,MAAOA,KACtCA,MAAKA,UAAUA,GAAOA,QAAQA,SAACA,EAAIA,GAE3BA,IAAOA,SAAiBA,GAAKA,UAAUA,GAAOA,gBAL/CA,MAAKA,UAAUA,EAS1BA,OAAOA,OAGX5D,EAAAA,UAAAA,eAAAA,SAAeA,GACX6D,MAAQA,KAASA,MAAKA,eAG1B7D,EAAAA,UAAAA,oBAAAA,SAAoBA,GAChB8D,MAAKA,MAAKA,eAAeA,GACjBA,KAAKA,cAAcA,IADaA,GAI5C9D,EAAAA,UAAAA,qBAAAA,SAAqBA,GACjB+D,KAAKA,cAAcA,IAASA,GAGhC/D,EAAAA,UAAAA,wBAAAA,SAAwBA,EAAOA,GAC3BgE,KAAKA,iBAAiBA,GAASA,GAGnChE,EAAAA,UAAAA,wBAAAA,SAAwBA,GACpBiE,MAAOA,MAAKA,iBAAiBA,IAGjCjE,EAAAA,UAAAA,OAAAA,WAIIkE,MAHAA,MAAKA,aACLA,KAAKA,iBACLA,KAAKA,oBACEA,MAGXlE,EAAAA,UAAAA,QAAAA,WAGImE,MAFAA,MAAKA,SACLA,KAAKA,IAAIA,MAAMA,kDACRA,MAGXnE,EAAAA,UAAAA,gBAAAA,SAAgBA,EAAOA,EAAOA,GAI1BoE,MAHAA,GAAOA,KAAKA,MAAMA,iBAAiBA,GAC/BA,GAAOA,KAAKA,KAAKA,MAAMA,MAAOA,GAAOA,OAAOA,IAC5CA,GAAUA,EAASA,MAAMA,KAAMA,GAC5BA,MAGfpE,IA7IahI,GAAAgI,WAAAA,EA+IGhI,EAAA+F,KAAAA,Gdy6BV,SAAS9F,EAAQD,EAASU,Ge//BhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,IAAIA,GAAeA,GfigC9B,GAAIuB,GAAYhH,KAAKgH,WAAa,SAAUC,EAAGC,GAE3C,QAASC,KAAOnH,KAAKoH,YAAcH,EADnC,IAAK,GAAIrG,KAAKsG,GAAOA,EAAEG,eAAezG,KAAIqG,EAAErG,GAAKsG,EAAEtG,GAEnDuG,GAAGG,UAAYJ,EAAEI,UACjBL,EAAEK,UAAY,GAAIH,IelkCf7F,EAAUlB,EAAW,IAEf2L,EAAc,SAAAvE,GAQvBuE,QARSA,GAQGA,GARhBC,GAAAA,GAAAA,IAUQA,GAAAA,KAAAA,KAAMA,GARHA,KAAAA,QACHA,OAAQA,SASRA,IAAIA,GAASA,SACTA,EAAWA,SAACA,GAERA,EAAMA,GAAOA,OAAOA,KAEpBA,IAAIA,GAAIA,UACJA,EAAIA,SACJA,GACIA,MAAOA,EAAGA,QAASA,EAAGA,SAAUA,EAAGA,KAAMA,EAAGA,SAAUA,EAAGA,SAAUA,EAG3EA,GAAKA,QAAWA,EAAIA,OAAQA,GAAUA,EAAOA,EAAIA,OAASA,GAAKA,SAASA,GAExEA,EAAKA,KAAKA,EAAKA,OAAOA,OAAQA,EAAKA,SAI3CA,MAAKA,SAAUA,EAEQA,mBAAZA,WAA4CA,mBAAVA,UAIzCA,IAAUA,UACVA,SAASA,iBAAiBA,mBAAoBA,IACxCA,EAASA,cAAgBA,UAC/BA,SAASA,iBAAiBA,sBAAuBA,IAC3CA,EAASA,iBAAmBA,UAClCA,SAASA,iBAAiBA,yBAA0BA,IAC9CA,EAASA,aAAeA,UAC9BA,SAASA,iBAAiBA,qBAAsBA,GAE3CA,aAAeA,UACpBA,SAASA,UAAYA,SAASA,WAAaA,EAG3CA,OAAOA,WAAaA,OAAOA,WAAaA,OAAOA,QAAUA,OAAOA,OAASA,GAQrFD,MAxDoCA,GAAvBA,EAAcA,GAoDvBA,EAAAA,UAAAA,UAAAA,WACIE,MAAOA,MAAKA,SAGpBF,GAxDoCzK,EAAWoG,WAAlChI,GAAAqM,eAAAA,EA0DGrM,EAAA+F,KAAAA,Gf6jCV,SAAS9F,EAAQD,EAASU,GgB5mBhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,GAAQA,gBAAgBA,WAAYA,WACvCA,MAAOA,IAAIA,GAASA,KhB6mB5B,GAAIuB,GAAYhH,KAAKgH,WAAa,SAAUC,EAAGC,GAE3C,QAASC,KAAOnH,KAAKoH,YAAcH,EADnC,IAAK,GAAIrG,KAAKsG,GAAOA,EAAEG,eAAezG,KAAIqG,EAAErG,GAAKsG,EAAEtG,GAEnDuG,GAAGG,UAAYJ,EAAEI,UACjBL,EAAEK,UAAY,GAAIH,IgB1nCf7F,EAAUlB,EAAW,IACrBa,EAAKb,EAAW,GAEhB8L,EAAO9L,EAAW,IAGZ+L,EAAQ,SAAA3E,GAgCjB2E,QAhCSA,GAgCGA,GAERC,EAAAA,KAAAA,KAAMA,GAdHA,KAAAA,QACHA,gBAAiBA,kBACjBA,cAAeA,gBACfA,YAAaA,cACbA,iBAAkBA,mBAClBA,eAAgBA,iBAChBA,eAAgBA,iBAChBA,aAAcA,gBASdA,KAAKA,OAASA,GACdA,KAAKA,OAASA,GACdA,KAAKA,QAAUA,IACfA,KAAKA,UAAYA,WACjBA,KAAKA,WAAaA,OAClBA,KAAKA,cAAgBA,YACrBA,KAAKA,eAAiBA,KACtBA,KAAKA,gBAAkBA,KACvBA,KAAKA,wBAA0BA,OAC/BA,KAAKA,kBAAoBA,IACzBA,KAAKA,eAAiBA,IACtBA,KAAKA,0BAA2BA,EAChCA,KAAKA,eAAiBA,KAEtBA,KAAKA,QAAUA,WACfA,KAAKA,aAAeA,IACpBA,KAAKA,eAAiBA,IAgc9BD,MApf8BA,GAAjBA,EAAQA,GAwDjBA,EAAAA,UAAAA,WAAAA,WAEIE,MAAOA,GAAMA,KAAKA,KAAKA,UAI3BF,EAAAA,UAAAA,WAAAA,WAEIG,MAAOA,GAAQA,KAAKA,KAAKA,UAI7BH,EAAAA,UAAAA,aAAAA,WAIII,MAFAA,MAAKA,aAAaA,QAEXA,MAIXJ,EAAAA,UAAAA,eAAAA,SAAeA,EAAQA,GAEnBK,GAAIA,IAAUA,GAAUA,IAAMA,KAAOA,GAAaA,GAElDA,OAAcA,KAAVA,EAAsBA,MAE1BA,KAAKA,OAAyBA,kBAARA,MAAsBA,KAAKA,GAAUA,GAAIA,QAAOA,GAAQA,SAASA,UAEhFA,OAIXL,EAAAA,UAAAA,UAAAA,SAAUA,GAINM,MAFAA,MAAKA,OAASA,GAAUA,GAEjBA,MAIXN,EAAAA,UAAAA,SAAAA,SAASA,GAELO,GAAIA,GAAMA,KAAKA,QAAUA,WAEzBA,OAAiBA,UAAbA,GAEAA,KAAKA,aAAaA,QAAQA,EAAKA,GACxBA,MAIJA,KAAKA,aAAaA,QAAQA,KAAQA,GAI7CP,EAAAA,UAAAA,UAAAA,SAAUA,GAAVQ,GAAAA,GAAAA,IAMIA,OAJAA,GAAUA,MAEVA,EAAQA,SAAWA,EAAQA,WAAYA,EAEhCA,KAAKA,UACRA,IAAKA,uBACLA,MACIA,WAAcA,WACdA,SAAYA,EAAQA,SACpBA,UAAaA,EAAQA,WAAaA,GAClCA,SAAYA,EAAQA,SACpBA,iBAAoBA,KAAKA,eACzBA,kBAAqBA,EAAQA,SAAWA,KAAKA,wBAA0BA,KAAKA,mBAEjFA,KAAKA,SAACA,GAMLA,MAJAA,GAAKA,SAASA,EAASA,MAClBA,SAASA,EAAQA,UACjBA,gBAAgBA,EAAKA,OAAOA,qBAE1BA,IAhBJA,SAkBEA,SAACA,GAKNA,KAHAA,GAAKA,eACAA,gBAAgBA,EAAKA,OAAOA,gBAAiBA,IAE5CA,KAMdR,EAAAA,UAAAA,SAAAA,WACIS,GAAIA,GAAUA,KAAKA,aACfA,EAAUA,KAAKA,QAAUA,UAC7BA,SAASA,EAAQA,QAAQA,IAAYA,KAAKA,MAAQA,SAASA,EAAQA,QAAQA,IAAYA,KAAKA,gBAGhGT,EAAAA,UAAAA,MAAAA,WAEIU,MADAA,MAAKA,aAAaA,QAAQA,KAAKA,QAAUA,WAAYA,KAAKA,OACnDA,MAOXV,EAAAA,UAAAA,OAAAA,WAEIW,MADAA,MAAKA,aAAaA,WAAWA,KAAKA,QAAUA,YACrCA,MAGXX,EAAAA,UAAAA,QAAAA,WAAAY,GAAAA,GAAAA,KAEQA,EAAUA,IAAKA,KAAKA,QAAQA,cAAcA,SAACA,EAASA,GAEpDA,MAAIA,GAAKA,WACEA,EAAQA,EAAKA,eAAeA,QAEnCA,EAAKA,YAITA,YAAWA,WAEPA,GAAIA,GAAWA,EAAKA,aAIpBA,OAFAA,GAAKA,IAAIA,MAAMA,6DAA8DA,EAASA,aAAcA,kBAAmBA,EAASA,cAAeA,KAE1IA,GAAaA,EAASA,cACvBA,KAAKA,MAAQA,EAASA,kBAA0BA,EAAOA,GAAIA,OAAMA,8BAChEA,EAAKA,eAEVA,GAAQA,EAAKA,UACTA,IAAKA,uBACLA,MACIA,WAAcA,gBACdA,cAAiBA,EAASA,cAC1BA,iBAAoBA,EAAKA,eACzBA,kBAAqBA,EAAKA,WAAaA,EAAKA,wBAA0BA,EAAKA,oBARtDA,EAAOA,GAAIA,OAAMA,0CAFGA,EAAOA,GAAIA,OAAMA,8BAcnEA,EAAKA,kBAIZA,OAAOA,GAAQA,KAAKA,SAACA,GAGjBA,IAAKA,IAAaA,EAASA,KAAMA,MAAOA,EAIxCA,IAFAA,EAAKA,IAAIA,KAAKA,4CAETA,EAASA,KAAKA,gBAAkBA,EAASA,KAAKA,aAAcA,CAC7DA,GAAIA,GAAwBA,GAAIA,OAAMA,2BAEtCA,MADAA,GAAEA,KAAOA,EACHA,EAMVA,MAHAA,GAAKA,SAASA,EAASA,MAClBA,SAEEA,IAERA,KAAKA,SAACA,GAGLA,MADAA,GAAKA,KAAKA,EAAKA,OAAOA,eAAgBA,GAC/BA,IArBJA,SAuBEA,SAACA,GAONA,KALIA,GAAKA,0BAA0BA,EAAKA,eAExCA,EAAKA,gBAAgBA,EAAKA,OAAOA,iBAAkBA,IAC9CA,gBAAgBA,EAAKA,OAAOA,cAAeA,IAE1CA,KASdZ,EAAAA,UAAAA,OAAAA,WAAAa,GAAAA,GAAAA,IAIIA,OAFAA,MAAKA,QAEEA,KAAKA,UACRA,IAAKA,wBACLA,MACIA,MAAOA,KAAKA,cAEjBA,KAAKA,SAACA,GAMLA,MAJAA,GAAKA,SACAA,eACAA,KAAKA,EAAKA,OAAOA,cAAeA,GAE9BA,IAXJA,SAaEA,SAACA,GAMNA,KAJAA,GAAKA,SACAA,gBAAgBA,EAAKA,OAAOA,iBAAkBA,IAC9CA,gBAAgBA,EAAKA,OAAOA,aAAcA,IAEzCA,KAMdb,EAAAA,UAAAA,eAAAA,SAAeA,GAAfc,GAAAA,GAAAA,IAEIA,OAAIA,MAAKA,eAAuBA,KAAKA,gBAErCA,KAAKA,eAAiBA,IAAKA,KAAKA,QAAQA,cAAcA,SAACA,EAASA,GAE5DA,EAAKA,IAAIA,KAAKA,sEAEdA,EAAKA,MAAMA,KAAKA,SAACA,GAEbA,MAAIA,GAAKA,WAAmBA,KAE5BA,EAAKA,eAAiBA,KACtBA,EAAKA,cAEDA,EAAKA,eACLA,EAAQA,GAERA,EAAOA,GAAIA,OAAMA,0CAGtBA,EAAKA,gBAILA,KAAKA,iBAIhBd,EAAAA,UAAAA,SAAAA,WAEIe,MAAOA,MAAKA,cAAcA,cAI9Bf,EAAAA,UAAAA,aAAAA,WAEIgB,MAAOA,MAAKA,cAAcA,YAI9BhB,EAAAA,UAAAA,YAAAA,WAEIiB,MAAOA,MAAKA,aAAaA,QAAQA,KAAKA,WAC9BA,WAAYA,GACZA,aAAcA,GACdA,WAAYA,EACZA,cAAeA,GACfA,yBAA0BA,IAQtCjB,EAAAA,UAAAA,aAAAA,WAEIkB,GAAIA,GAAWA,KAAKA,aACpBA,OAAQA,GAASA,YAAcA,EAASA,iBAAoBA,GAAIA,MAAKA,EAASA,YAAYA,UAAYA,KAAKA,kBAAqBA,KAAKA,QAAUA,KAAKA,YAQxJlB,EAAAA,UAAAA,aAAAA,WAEImB,MAAIA,MAAKA,eAAuBA,KAAKA,QAAQA,aAAaA,SAAQA,GAC3DA,KAAKA,WAIhBnB,EAAAA,UAAAA,kBAAAA,WAEIoB,MAAOA,MAAKA,SAASA,KAAKA,MAAMA,OAAOA,KAAKA,eACxCA,aAAcA,GACdA,WAAYA,MAKpBpB,EAAAA,UAAAA,SAAAA,SAASA,GAELqB,GAAIA,GAAcA,KAAKA,aASvBA,OAPAA,MAAKA,IAAIA,KAAKA,iDAAkDA,EAAUA,SAAUA,GAEpFA,EAASA,WAAaA,KAAKA,MAA+BA,IAAtBA,EAASA,WAC7CA,EAASA,kBAAoBA,KAAKA,MAA6CA,IAApCA,EAASA,yBAEpDA,KAAKA,aAAaA,QAAQA,KAAKA,QAASA,GAEjCA,MAIXrB,EAAAA,UAAAA,oBAAAA,WAUIsB,MARAA,MAAKA,UACDA,WAAYA,EAASA,gBACrBA,aAAcA,GACdA,WAAYA,EACZA,cAAeA,GACfA,yBAA0BA,IAGvBA,MAIXtB,EAAAA,UAAAA,QAAAA,SAAQA,GAARuB,GAAAA,GAAAA,IAKIA,OAHAA,GAAUA,MACVA,EAAQA,IAAMA,KAAKA,OAAOA,EAAQA,KAAMA,WAAWA,IAE5CA,KAAKA,eAAeA,KAAKA,WAE5BA,GAAIA,GAAQA,EAAKA,UAEjBA,OAAOA,GAAKA,aACPA,WAAWA,GACXA,UAAUA,gBAAiBA,EAAKA,gBAAkBA,EAAQA,IAAMA,EAAQA,KACxEA,SAPFA,SASEA,SAACA,GAENA,IAAKA,EAAEA,WAAaA,EAAEA,SAASA,iBAAkBA,KAAMA,EAIvDA,OAFAA,GAAKA,oBAEEA,EACFA,UACAA,KAAKA,WAGIA,MAAOA,GAAKA,QAAQA,QAQ1CvB,EAAAA,UAAAA,IAAAA,SAAIA,EAAYA,GAIZwB,MAHAA,GAAUA,MACVA,EAAQA,IAAMA,EACdA,EAAQA,OAASA,MACVA,KAAKA,QAAQA,IAGxBxB,EAAAA,UAAAA,KAAAA,SAAKA,EAAYA,GAIbyB,MAHAA,GAAUA,MACVA,EAAQA,IAAMA,EACdA,EAAQA,OAASA,OACVA,KAAKA,QAAQA,IAGxBzB,EAAAA,UAAAA,IAAAA,SAAIA,EAAYA,GAIZ0B,MAHAA,GAAUA,MACVA,EAAQA,IAAMA,EACdA,EAAQA,OAASA,MACVA,KAAKA,QAAQA,IAGxB1B,EAAAA,UAAAA,UAAAA,SAASA,EAAYA,GAIjB2B,MAHAA,GAAUA,MACVA,EAAQA,IAAMA,EACdA,EAAQA,OAASA,SACVA,KAAKA,QAAQA,IAGxB3B,EAAAA,UAAAA,SAAAA,SAASA,GAML4B,MAJAA,GAAUA,MACVA,EAAQA,OAASA,EAAQA,QAAUA,OACnCA,EAAQA,IAAMA,KAAKA,OAAOA,EAAQA,KAAMA,WAAWA,IAE5CA,KAAKA,aACPA,WAAWA,GACXA,UAAUA,eAAgBA,qCAC1BA,UAAUA,SAAUA,oBACpBA,UAAUA,gBAAiBA,SAAWA,KAAKA,QAC3CA,QAIT5B,EAAAA,UAAAA,OAAAA,SAAOA,EAAKA,GAER6B,EAAMA,GAAOA,GACbA,EAAUA,KAEVA,IAAIA,GAAWA,EAefA,OAbIA,GAAQA,WAAuCA,IAA1BA,EAAIA,QAAQA,YAA+CA,IAA3BA,EAAIA,QAAQA,cAAmBA,GAAYA,KAAKA,QAEtEA,IAA/BA,EAAIA,QAAQA,KAAKA,aAAkBA,GAAYA,KAAKA,UAAYA,IAAMA,KAAKA,YAE3EA,EAAIA,QAAQA,KAAKA,eAAiBA,IAAIA,EAASA,QAAQA,KAAKA,cAAgBA,IAAKA,KAAKA,cAAgBA,KAAKA,SAE/GA,GAAYA,GAERA,EAAQA,WAAaA,EAAQA,YAAUA,GAAaA,EAAIA,QAAQA,KAAOA,GAAKA,IAAMA,KAElFA,EAAQA,YAAWA,GAAYA,WAAaA,EAAQA,WACpDA,EAAQA,WAAUA,IAAaA,EAAQA,UAAYA,IAAMA,IAAMA,gBAAkBA,KAAKA,YAEnFA,GAIX7B,EAAAA,UAAAA,QAAAA,WAEI8B,MADAA,GAAAA,UAAMA,QAAOA,KAAAA,MACNA,MAGX9B,EAAAA,UAAAA,GAAAA,SAAGA,EAAQA,GAEP+B,MADAA,GAAAA,UAAMA,GAAEA,KAAAA,KAACA,EAAQA,GACVA,MAGX/B,EAAAA,UAAAA,IAAAA,SAAIA,EAAQA,GAERgC,MADAA,GAAAA,UAAMA,GAAEA,KAAAA,KAACA,EAAQA,GACVA,MAEXhC,EAAAA,UAAAA,gBAAAA,SAAgBA,EAAOA,EAAOA,GAE1BiC,MADAA,GAAAA,UAAMA,gBAAeA,KAAAA,KAACA,EAAOA,EAAMA,GAC5BA,MAndJjC,EAAAA,gBAAkBA,SAsd7BA,GApf8B7K,EAAWoG,WAA5BhI,GAAAyM,SAAAA,EAigBGzM,EAAA+F,KAAAA,GhB48BV,SAAS9F,EAAQD,EAASU,GiBvnChC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,IAAIA,GAAaA,GjBynC5B,GAAIuB,GAAYhH,KAAKgH,WAAa,SAAUC,EAAGC,GAE3C,QAASC,KAAOnH,KAAKoH,YAAcH,EADnC,IAAK,GAAIrG,KAAKsG,GAAOA,EAAEG,eAAezG,KAAIqG,EAAErG,GAAKsG,EAAEtG,GAEnDuG,GAAGG,UAAYJ,EAAEI,UACjBL,EAAEK,UAAY,GAAIH,IiBj+Cf7F,EAAUlB,EAAW,IAIrBoB,EAAQpB,EAAW,IAGbiO,EAAY,SAAA7G,GAmBrB6G,QAnBSA,GAmBGA,GAERC,EAAAA,KAAAA,KAAMA,GAZHA,KAAAA,QACHA,aAAcA,eACdA,cAAeA,gBACfA,YAAaA,cACbA,aAAcA,eACdA,WAAYA,aACZA,iBAAkBA,mBAClBA,eAAgBA,kBAOhBA,KAAKA,OAASA,KACdA,KAAKA,gBACLA,KAAKA,QAAUA,KACfA,KAAKA,cACDA,gBACAA,eAAgBA,GAChBA,UAAWA,EACXA,cACIA,cAAeA,SACfA,YAAYA,EACZA,QAASA,GACTA,cAAeA,GACfA,UAAWA,IAEfA,GAAIA,GACJA,aAAcA,GACdA,OAAQA,GACRA,IAAKA,IAkTjBD,MA1VkCA,GAArBA,EAAYA,GA6CrBA,EAAAA,UAAAA,UAAAA,WAEIE,MAAOA,MAAKA,QAAQA,aAIxBF,EAAAA,UAAAA,UAAAA,WAEIG,MAAOA,MAAKA,QAAQA,eAIxBH,EAAAA,UAAAA,YAAAA,WAEII,MAAOA,GAASA,KAAKA,KAAKA,UAS9BJ,EAAAA,UAAAA,SAAAA,SAASA,GAELK,MAAIA,MAAKA,eACEA,KAAKA,MAAMA,GAEXA,KAAKA,UAAUA,IAK9BL,EAAAA,UAAAA,UAAAA,SAAUA,GAENM,MADAA,MAAKA,aAAeA,KAAKA,aAAaA,OAAOA,GACtCA,MAGXN,EAAAA,UAAAA,UAAAA,SAAUA,GAENO,MADAA,MAAKA,aAAeA,EACbA,MAGXP,EAAAA,UAAAA,oBAAAA,WAAAQ,GAAAA,GAAAA,IAEIA,OAAOA,MAAKA,aAAaA,IAAIA,SAACA,GAC1BA,MAAOA,GAAKA,cAAcA,OAAOA,MAKzCR,EAAAA,UAAAA,UAAAA,SAAUA,GAAVS,GAAAA,GAAAA,IAOIA,OALAA,GAAUA,MACNA,EAAQA,SAAQA,KAAKA,aAAeA,EAAQA,QAEhDA,KAAKA,eAEOA,IAAKA,KAAKA,QAAQA,cAAcA,SAACA,GAEzCA,IAAKA,EAAKA,eAAiBA,EAAKA,aAAaA,OAAQA,KAAMA,IAAIA,OAAMA,uBAErEA,GAAQA,EAAKA,cAAcA,SACvBA,OAAQA,OACRA,IAAKA,6BACLA,MACIA,aAAcA,EAAKA,sBACnBA,cACIA,cAAeA,gBAK5BA,KAAKA,SAACA,GAMGA,MAJAA,GAAKA,mBAAmBA,EAAKA,MACxBA,oBACAA,KAAKA,EAAKA,OAAOA,iBAAkBA,EAAKA,MAEtCA,IArBPA,SAuBKA,SAACA,GAKGA,KAHAA,GAAKA,cACAA,KAAKA,EAAKA,OAAOA,eAAgBA,GAEhCA,KAM/BT,EAAAA,UAAAA,MAAAA,SAAMA,GAANU,GAAAA,GAAAA,IAOIA,OALAA,GAAUA,MACNA,EAAQA,SAAQA,KAAKA,aAAeA,EAAQA,QAEhDA,KAAKA,eAEOA,IAAKA,KAAKA,QAAQA,cAAcA,SAACA,GAEzCA,IAAKA,EAAKA,eAAiBA,EAAKA,aAAaA,GAAIA,KAAMA,IAAIA,OAAMA,8BACjEA,KAAKA,EAAKA,eAAiBA,EAAKA,aAAaA,OAAQA,KAAMA,IAAIA,OAAMA,uBAErEA,OAEDA,KAAKA,WAEIA,MAAOA,GAAKA,cAAcA,SACtBA,OAAQA,MACRA,IAAKA,8BAAgCA,EAAKA,aAAaA,GACvDA,MACIA,aAAcA,EAAKA,2BAKlCA,KAAKA,SAACA,GAKGA,MAHAA,GAAKA,mBAAmBA,EAAKA,MACxBA,KAAKA,EAAKA,OAAOA,aAAcA,EAAKA,MAElCA,IAvBTA,SA0BDA,SAACA,GAKGA,KAHAA,GAAKA,cACAA,KAAKA,EAAKA,OAAOA,WAAYA,GAE5BA,KAMzBV,EAAAA,UAAAA,OAAAA,SAAOA,GAAPW,GAAAA,GAAAA,IAMIA,OAJAA,GAAUA,KAAKA,MAAMA,QACjBA,OAAOA,GACRA,GAESA,IAAKA,KAAKA,QAAQA,cAAcA,SAACA,GAEzCA,IAAKA,EAAKA,eAAiBA,EAAKA,aAAaA,GAAIA,KAAMA,IAAIA,OAAMA,8BAEjEA,GAAQA,EAAKA,cAAcA,SACvBA,QAASA,EAAQA,MAEjBA,OAAQA,SACRA,IAAKA,8BAAgCA,EAAKA,aAAaA,QAG5DA,KAAKA,SAACA,GAKGA,MAHAA,GAAKA,cACAA,KAAKA,EAAKA,OAAOA,cAAeA,GAE9BA,IAhBPA,SAkBKA,SAACA,GAIGA,KAFAA,GAAKA,KAAKA,EAAKA,OAAOA,YAAaA,GAE7BA,KAM/BX,EAAAA,UAAAA,QAAAA,WAMIY,MAJAA,MAAKA,cAELA,KAAKA,IAAIA,KAAKA,mCAEPA,EAAAA,UAAMA,QAAOA,KAAAA,OAIxBZ,EAAAA,UAAAA,aAAAA,WAEIa,MAAOA,MAAKA,cACRA,KAAKA,aAAaA,cAClBA,KAAKA,aAAaA,aAAaA,eAC/BA,KAAKA,aAAaA,aAAaA,SAI7Bb,EAAAA,UAAAA,WAAVA,WAAAc,GAAAA,GAAAA,KAEQA,EAAkDA,IAA9BA,KAAKA,aAAaA,UAAoBA,EAAaA,eAE3EA,MAAKA,QAAUA,WAAWA,WAEtBA,EAAKA,WAENA,IAIGd,EAAAA,UAAAA,aAAVA,WAEIe,aAAaA,KAAKA,UAIZf,EAAAA,UAAAA,mBAAVA,SAA6BA,GAKzBgB,MAHAA,MAAKA,eACLA,KAAKA,aAAeA,EACpBA,KAAKA,aACEA,MAODhB,EAAAA,UAAAA,YAAVA,WAIIiB,MAHAA,MAAKA,eACDA,KAAKA,QAAUA,KAAKA,gBAAgBA,KAAKA,OAAOA,aAAaA,QAASA,KAAKA,aAAaA,aAAaA,UACzGA,KAAKA,aAAeA,KACbA,MAQXjB,EAAAA,UAAAA,OAAAA,SAAOA,GAEHkB,GAAIA,KAAKA,gBAAkBA,KAAKA,aAAaA,aAAaA,cAAeA,CAErEA,GAAIA,GAAWA,KAAKA,YAEhBA,EAAMA,EAASA,IAAIA,OAAOA,MAAMA,KAAKA,aAAaA,aAAaA,eAC/DA,EAAOA,EAASA,IAAIA,OAAOA,MAAMA,GACjCA,EAAYA,EAASA,IAAIA,SAASA,WAAYA,GAAOA,GACrDA,KAAMA,EAASA,KAAKA,IACpBA,QAASA,EAASA,IAAIA,QACvBA,SAASA,EAASA,IAAIA,KACzBA,GAAUA,KAAKA,MAAMA,GAMzBA,MAFAA,MAAKA,KAAKA,KAAKA,OAAOA,aAAcA,GAE7BA,MAQXlB,EAAAA,UAAAA,kBAAAA,WAAAmB,GAAAA,GAAAA,IAEIA,KAAKA,KAAKA,eAAgBA,MAAOA,KAEjCA,IAAIA,GAASA,KAAKA,WAsBlBA,OApBAA,MAAKA,OAASA,EAAOA,MACjBA,KAAKA,EACLA,cAAeA,KAAKA,aAAaA,aAAaA,gBAGlDA,KAAKA,OAAOA,QAEZA,KAAKA,OAAOA,WACRA,QAASA,KAAKA,aAAaA,aAAaA,QACxCA,QAASA,SAACA,GAENA,EAAKA,IAAIA,KAAKA,yCAA0CA,GACxDA,EAAKA,OAAOA,IAGhBA,QAASA,WACLA,EAAKA,IAAIA,KAAKA,6CAIfA,MAIXnB,EAAAA,UAAAA,GAAAA,SAAGA,EAAQA,GAEPoB,MADAA,GAAAA,UAAMA,GAAEA,KAAAA,KAACA,EAAQA,GACVA,MAGXpB,EAAAA,UAAAA,IAAAA,SAAIA,EAAQA,GAERqB,MADAA,GAAAA,UAAMA,GAAEA,KAAAA,KAACA,EAAQA,GACVA,MAEXrB,EAAAA,UAAAA,gBAAAA,SAAgBA,EAAOA,EAAOA,GAE1BsB,MADAA,GAAAA,UAAMA,gBAAeA,KAAAA,KAACA,EAAOA,EAAMA,GAC5BA,MArVJtB,EAAAA,gBAAkBA,IAwV7BA,GA1VkC/M,EAAWoG,WAAhChI,GAAA2O,aAAAA,EA4VG3O,EAAA+F,KAAAA,GjB23CV,SAAS9F,EAAQD,GkBx7CvB,QAAgB+F,GAAKvE,GACjBuE,MAAOA,GAAQA,gBAAgBA,QAASA,WACpCA,MAAOA,IAAIA,KAtSnB,GAAImK,GAASC,OAAOvI,UAAUD,eAC1ByI,EAAWD,OAAOvI,UAAUwI,SAC5BC,EAAS,KACTC,IAGJ,2DAA0DC,MAAM,KAAKC,QAAQ,SAACC,GAC1EH,EAAW,WAAaG,EAAO,KAAOA,EAAKC,eAG/C,IAAaC,GAAK,WAEdA,QAFSA,MAwRbA,MAhRIA,GAAAA,UAAAA,OAAAA,WlB2tDI,IkB3tDuCC,GAAAA,MAAAA,EAAAA,EAAAA,EAAAA,UAAAA,OAAAA,IAAAA,EAAAA,EAAAA,GAAAA,UAAAA,EAEvCA,IAAIA,GAASA,EAAMA,EAAKA,EAAMA,EAAaA,EACvCA,EAASA,UAAUA,OACnBA,EAAIA,EACJA,EAASA,UAAUA,OACnBA,GAAOA,CAgBXA,KAbsBA,iBAAXA,KACPA,EAAOA,EAGPA,EAASA,UAAUA,OACnBA,KAIkBA,gBAAXA,IAAwBA,KAAKA,WAAWA,KAC/CA,MAGOA,EAAJA,EAAYA,IAGfA,GAAiCA,QAA5BA,EAAUA,UAAUA,IAGrBA,IAAKA,IAAQA,GAETA,EAAMA,EAAOA,GACbA,EAAOA,EAAQA,GAGXA,IAAWA,IAKXA,GAAQA,IAASA,KAAKA,cAAcA,KAAUA,EAAcA,KAAKA,QAAQA,MAErEA,GACAA,GAAcA,EACdA,EAAQA,GAAOA,KAAKA,QAAQA,GAAOA,MAEnCA,EAAQA,GAAOA,KAAKA,cAAcA,GAAOA,KAI7CA,EAAOA,GAAQA,KAAKA,OAAOA,EAAMA,EAAOA,IAGxBA,SAATA,IAEPA,EAAOA,GAAQA,GAQ/BA,OAAOA,IAIXD,EAAAA,UAAAA,QAAAA,SAAQA,EAAQA,GAEZE,IAAKA,GAAIA,KAAKA,GAEVA,GAAKA,EAAOA,eAAeA,GAA3BA,CAEAA,GAAIA,GAAMA,EAAGA,EAAOA,GAAIA,EAExBA,IAAIA,KAAQA,EAAOA,QAY3BF,EAAAA,UAAAA,eAAAA,SAAeA,GAAfG,GAAAA,GAAAA,KAEQA,IAcJA;MAZAA,MAAKA,QAAQA,EAAYA,SAACA,EAAGA,GAErBA,EAAKA,QAAQA,GACbA,EAAEA,QAAQA,SAACA,GACPA,EAAMA,KAAKA,mBAAmBA,GAAKA,IAAMA,mBAAmBA,MAGhEA,EAAMA,KAAKA,mBAAmBA,GAAKA,IAAMA,mBAAmBA,MAK7DA,EAAMA,KAAKA,MAUtBH,EAAAA,UAAAA,iBAAAA,SAAiBA,GAEbI,GAAIA,MACAA,EAAOA,IA2BXA,OAzBAA,GAAYA,MAAMA,KAAKA,QAAQA,SAACA,GAI5BA,GAFAA,EAAMA,mBAAmBA,GAEDA,IAApBA,EAAIA,QAAQA,KAEZA,EAAWA,EAAIA,SAAUA,MAEtBA,CAEHA,GAAIA,GAAOA,EAAIA,MAAMA,KACjBA,EAAMA,EAAKA,GAAGA,OACdA,EAAQA,EAAKA,GAAGA,MAEhBA,KAAOA,IACHA,IAAOA,KAAeA,EAAKA,QAAQA,EAAWA,MAAOA,EAAWA,IAAQA,EAAWA,KACvFA,EAAWA,GAAKA,KAAKA,IAErBA,EAAWA,GAAOA,KAOvBA,GAQXJ,EAAAA,UAAAA,QAAAA,SAAQA,EAAUA,GACdK,MAAMA,GAEKA,wJAAwJA,KAAKA,GAE7JA,6IAA6IA,KAAKA,IAKjKL,EAAAA,UAAAA,cAAAA,SAAcA,GACVM,MAAQA,4BAA4BA,KAAKA,EAAEA,WAAWA,MAAMA,iBAAiBA,KAAKA,MAOtFN,EAAAA,UAAAA,iBAAAA,SAAiBA,GACbO,MAAOA,OAAMA,UAAUA,MAAMA,KAAKA,MAAYA,IAGlDP,EAAAA,UAAAA,OAAAA,SAAOA,GACHQ,MAA0BA,SAAnBA,KAAKA,KAAKA,IAGrBR,EAAAA,UAAAA,WAAAA,SAAWA,GACPS,MAA0BA,aAAnBA,KAAKA,KAAKA,IAGrBT,EAAAA,UAAAA,QAAAA,SAAQA,GACJU,MAAOA,OAAMA,QAAUA,MAAMA,QAAQA,GAA0BA,UAAnBA,KAAKA,KAAKA,IAI1DV,EAAAA,UAAAA,SAAAA,SAASA,GACLW,MAAOA,IAAsBA,gBAARA,IAAoBA,eAAiBA,IAG9DX,EAAAA,UAAAA,MAAAA,SAAMA,GACFY,MAAeA,QAARA,IAAiBA,EAAOA,KAAKA,IAAQA,MAAMA,IAGtDZ,EAAAA,UAAAA,KAAAA,SAAKA,GACDa,MAAeA,QAARA,EACAA,OAAOA,GACPA,EAAWA,EAASA,KAAKA,KAASA,UAG7Cb,EAAAA,UAAAA,cAAAA,SAAcA,GAKVc,IAAKA,GAA0BA,WAAnBA,KAAKA,KAAKA,IAAqBA,EAAIA,UAAYA,KAAKA,SAASA,GACrEA,OAAOA,CAIXA,IAAIA,EAAIA,cAAgBA,EAAOA,KAAKA,EAAKA,iBAAmBA,EAAOA,KAAKA,EAAIA,YAAYA,UAAWA,iBAC/FA,OAAOA,ClBuqDX,IkBjqDIA,EACJA,KAAKA,IAAOA,IAEZA,MAAeA,UAARA,GAAqBA,EAAOA,KAAKA,EAAKA,IAIjDd,EAAAA,UAAAA,YAAAA,SAAYA,EAAKA,GAEbe,MAAOA,GACFA,MAAMA,UACNA,OAAOA,SAACA,EAAKA,GACFA,MAAKA,GACEA,EAAOA,EAAIA,GAAQA,EADTA,QAElBA,IAInBf,EAAAA,UAAAA,KAAAA,SAAKA,EAAIA,EAAkBA,GAEvBgB,KAAKA,YAAYA,GAEjBA,EAAWA,GAAYA,GAEvBA,IAAIA,GAAOA,SAACA,GAMRA,MAJAA,GAAQA,GAASA,EAEjBA,EAAWA,EAEJA,WAAWA,WAEdA,EAAGA,EAAMA,IAEVA,GAIPA,OAAOA,MAIXhB,EAAAA,UAAAA,YAAAA,SAAYA,GACJiB,GAASA,aAAaA,IAG9BjB,EAAAA,UAAAA,YAAAA,SAAYA,GACRkB,MAAOA,GAAIA,EAAEA,WAAaA,IAG9BlB,EAAAA,UAAAA,YAAAA,SAAYA,GACRmB,MAAKA,IACLA,EAAIA,WAAWA,GACRA,MAAMA,GAAKA,EAAIA,GAFPA,GAKvBnB,IAxRa3Q,GAAA2Q,MAAAA,EA0RG3Q,EAAA+F,KAAAA,GlBypDV,SAAS9F,EAAQD,EAASU,GmBx2DhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,GAAQA,gBAAgBA,YAAaA,WACxCA,MAAOA,IAAIA,GAAUA,KAxF7B,GAAO/D,GAAKtB,EAAW,IAEVqR,EAAS,WAKlBA,QALSA,GAKGA,GACRC,KAAKA,QAAUA,EACfA,KAAKA,MAAQA,EAAMA,KAAKA,GA2EhCD,MAxEIA,GAAAA,UAAAA,SAAAA,SAASA,GAELE,GAAIA,IACAA,UACAA,SAASA,EAiBbA,OAdAA,GAAOA,OAAcA,EAAWA,OAAOA,SAACA,EAAQA,GAE5CA,GAAIA,GAAMA,EAAUA,WAQpBA,OANIA,GAAIA,OAASA,IACbA,EAAOA,SAAUA,EACjBA,EAAOA,EAAUA,OAASA,EAAOA,EAAUA,WAC3CA,EAAOA,EAAUA,OAASA,EAAOA,EAAUA,OAAOA,OAAOA,IAGtDA,OAIJA,GAQXF,EAAAA,UAAAA,MAAAA,SAAMA,EAAcA,GAApBG,GAAAA,GAAAA,IACIA,OAAOA,YACHA,MAAKA,GACEA,EAAKA,MAAMA,QAAQA,EAAOA,OAAkBA,GAAIA,OAAMA,uCASrEH,EAAAA,UAAAA,MAAAA,SAAMA,GAANI,GAAAA,GAAAA,IACIA,OAAOA,YACHA,MAAKA,GACEA,EAAKA,MAAMA,cAAcA,OAAeA,GAAIA,OAAMA,iDAIjEJ,EAAAA,UAAAA,SAAAA,SAASA,GACLK,MAAOA,YACHA,MAAQA,OAASA,GAAIA,OAAMA,wBAInCL,EAAAA,UAAAA,OAAAA,SAAOA,EAAcA,EAAaA,GAC9BM,MAAOA,YAEHA,GAAIA,KAEJA,OAAKA,IAELA,EAAQA,EAAMA,WAEVA,GAAOA,EAAMA,OAASA,GAAKA,EAAOA,KAAKA,GAAIA,OAAMA,qBAAuBA,EAAMA,4BAC9EA,GAAOA,EAAMA,OAASA,GAAKA,EAAOA,KAAKA,GAAIA,OAAMA,qBAAuBA,EAAMA,4BAE3EA,GAPYA,IAa/BN,IAlFa/R,GAAA+R,UAAAA,EAoFG/R,EAAA+F,KAAAA,GnBy7DV,SAAS9F,EAAQD,EAASU,GoBrgEhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,GAAQA,gBAAgBA,UAAWA,WACtCA,MAAOA,IAAIA,GAAQA,KpBsgE3B,GAAIuB,GAAYhH,KAAKgH,WAAa,SAAUC,EAAGC,GAE3C,QAASC,KAAOnH,KAAKoH,YAAcH,EADnC,IAAK,GAAIrG,KAAKsG,GAAOA,EAAEG,eAAezG,KAAIqG,EAAErG,GAAKsG,EAAEtG,GAEnDuG,GAAGG,UAAYJ,EAAEI,UACjBL,EAAEK,UAAY,GAAIH,IoBthEfhG,EAAMf,EAAW,GAEX4R,EAAO,SAAAxK,GAApBwK,QAAaA,KAAgBC,EAAAA,MAAAA,KAAAA,WAM7BD,MAN6BA,GAAhBA,EAAOA,GAEhBA,EAAAA,UAAAA,UAAAA,WACIE,MAAOA,cAGfF,GAN6B7Q,EAAO2H,OAAvBpJ,GAAAsS,QAAAA,EAQGtS,EAAA+F,KAAAA,GpBoiEV,SAAS9F,EAAQD,EAASU,GqB3gEhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,GAAQA,gBAAgBA,gBAAiBA,WAC5CA,MAAOA,IAAIA,GAAcA,KrB4gEjC,GAAIuB,GAAYhH,KAAKgH,WAAa,SAAUC,EAAGC,GAE3C,QAASC,KAAOnH,KAAKoH,YAAcH,EADnC,IAAK,GAAIrG,KAAKsG,GAAOA,EAAEG,eAAezG,KAAIqG,EAAErG,GAAKsG,EAAEtG,GAEnDuG,GAAGG,UAAYJ,EAAEI,UACjBL,EAAEK,UAAY,GAAIH,IqBrjEfhG,EAAMf,EAAW,GACjBuB,EAASvB,EAAW,IAEd+R,EAAa,SAAA3K,GAItB2K,QAJSA,GAIGA,GACRC,EAAAA,KAAAA,KAAMA,GACNA,KAAKA,UAAYA,EAAUA,KAAKA,GAwBxCD,MA9BmCA,GAAtBA,EAAaA,GAStBA,EAAAA,UAAAA,UAAAA,SAAUA,EAAgCA,GAItCE,MAFAA,GAAUA,MAEHA,yBACFA,EAAQA,YAAcA,EAAQA,YAAcA,KAC7CA,mBACCA,EAAKA,IAAMA,EAAKA,KAIzBF,EAAAA,UAAAA,SAAAA,SAASA,GAELG,MAAOA,MAAKA,UAAUA,WACjBA,MAAOA,cAAeA,UAAWA,KAAKA,UAAUA,MAAMA,EAAKA,eAC3DA,MAAOA,cAAeA,UAAWA,KAAKA,UAAUA,SAASA,EAAKA,eAC9DA,MAAOA,OAAQA,UAAWA,KAAKA,UAAUA,SAASA,EAAKA,UAKpEH,GA9BmChR,EAAO2H,OAA7BpJ,GAAAyS,cAAAA,EAgCGzS,EAAA+F,KAAAA,GrBojEV,SAAS9F,EAAQD,EAASU,GsBnxDhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,GAAQA,gBAAgBA,OAAQA,WACnCA,MAAOA,IAAIA,GAAKA,KtBoxDxB,GAAIuB,GAAYhH,KAAKgH,WAAa,SAAUC,EAAGC,GAE3C,QAASC,KAAOnH,KAAKoH,YAAcH,EADnC,IAAK,GAAIrG,KAAKsG,GAAOA,EAAEG,eAAezG,KAAIqG,EAAErG,GAAKsG,EAAEtG,GAEnDuG,GAAGG,UAAYJ,EAAEI,UACjBL,EAAEK,UAAY,GAAIH,IsB9lEfhG,EAAMf,EAAW,GAEjBgB,EAAIhB,EAAW,IACfmS,EAAQnS,EAAW,IACnBoS,EAAOpS,EAAW,IAEZqS,EAAI,SAAAjL,GAMbiL,QANSA,GAMGA,GACRC,EAAAA,KAAAA,KAAMA,GACNA,KAAKA,KAAOA,EAAKA,KAAKA,GACtBA,KAAKA,QAAUA,EAAQA,KAAKA,GAC5BA,KAAKA,SAAWA,EAASA,KAAKA,GAkTtCD,MA5T0BA,GAAbA,EAAIA,GAabA,EAAAA,UAAAA,UAAAA,SAAUA,EAAuBA,GAM7BE,MAJAA,GAAUA,MAEJA,YAAcA,IAAcA,eAAiBA,KAAUA,EAAQA,UAAWA,GAEzEA,eACFA,EAAQA,UAAYA,EAAQA,YAAeA,cAAgBA,EAAQA,aAAeA,KAAOA,IAAOA,KAChGA,EAAQA,OAASA,eAAiBA,aAClCA,EAAKA,IAAMA,EAAKA,KAIzBF,EAAAA,UAAAA,aAAAA,SAAaA,GACTG,MAAQA,IAAQA,EAAKA,WAGzBH,EAAAA,UAAAA,aAAAA,SAAaA,GACTI,MAAQA,IAAuBA,eAAfA,EAAKA,QAGzBJ,EAAAA,UAAAA,QAAAA,SAAQA,GACJK,MAAQA,IAA6BA,SAArBA,EAAKA,cAGzBL,EAAAA,UAAAA,UAAAA,SAAUA,GACNM,MAAQA,IAA0BA,WAAlBA,EAAKA,WAGzBN,EAAAA,UAAAA,WAAAA,SAAWA,GACPO,OAAQA,KAAKA,UAAUA,IAG3BP,EAAAA,UAAAA,SAAAA,SAASA,GACLQ,MAAQA,IAAuBA,UAAfA,EAAKA,QAGzBR,EAAAA,UAAAA,SAAAA,SAASA,GACLS,MAAQA,IAAuBA,UAAfA,EAAKA,QAGzBT,EAAAA,UAAAA,cAAAA,SAAcA,GACVU,MAAOA,MAAKA,UAAUA,GAAQA,EAAKA,KAAOA,EAAKA,IAGnDV,EAAAA,UAAAA,kBAAAA,SAAkBA,GACdW,OAAQA,KAAKA,cAAcA,IAAOA,OAAOA,KAAKA,UAAUA,GAAQA,EAAKA,GAAKA,EAAKA,OAGnFX,EAAAA,UAAAA,eAAAA,SAAeA,GAEXY,QAASA,GAAQA,GACbC,MAAYA,IAAJA,EAAUA,IAAMA,EAAIA,EAGhCD,GAAIA,GAAWA,SAAcA,EAAKA,UAC9BA,EAAQA,KAAKA,MAAMA,EAAWA,MAC9BA,EAAOA,KAAKA,MAAOA,EAAWA,KAAaA,IAC3CA,EAAOA,KAAKA,MAAMA,EAAWA,GAEjCA,QAAQA,EAAQA,EAAQA,IAAMA,IAAMA,EAAQA,GAAQA,IAAMA,EAAQA,IAItEZ,EAAAA,UAAAA,OAAAA,SAAOA,GAQHc,MANAA,GAAUA,KAAKA,MAAMA,QACjBA,OAAOA,EACPA,UAAWA,GACXA,KAAMA,IACPA,GAEIA,KAAKA,KAAKA,SAEZA,SAAUA,YAAaA,UAAWA,EAAQA,YAC1CA,SAAUA,OAAQA,UAAWA,EAAQA,SAK9Cd,EAAAA,UAAAA,WAAAA,SAAWA,GAEPe,MAAOA,MAAKA,KAAKA,WAAWA,KAAKA,MAAMA,QACnCA,OAAQA,aACTA,KASPf,EAAAA,UAAAA,eAAAA,SAAeA,EAA6BA,EAAeA,GAA3DgB,GAAAA,GAAAA,KAGQA,EAAcA,EAAMA,OAAOA,SAACA,EAAaA,GAEzCA,MAAOA,GAAYA,OAAOA,EAAKA,kBAAkBA,QAIrDA,MAAKA,QAAQA,oBAAoBA,EAAaA,EAAUA,IAO5DhB,EAAAA,UAAAA,kBAAAA,SAAkBA,EAA2BA,EAAmBA,GAE5DiB,GAAIA,GAAUA,SAACA,GACXA,MAAOA,IAAKA,MAAKA,GAAaA,UAGlCA,SACEA,EAAQA,QAAUA,EAAoBA,QAAyEA,IAA/DA,EAAoBA,OAAOA,cAAcA,QAAQA,aAElEA,YAAjCA,EAAoBA,WACKA,WAAzBA,EAAYA,aAETA,EAAYA,YAAcA,EAAoBA,WAAcA,KAAKA,IAAIA,EAAQA,EAAYA,WAAaA,EAAQA,EAAoBA,aAAeA,EAAQA,yBAA2BA,OAEvLA,EAAYA,KAAKA,aAAeA,EAAoBA,GAAGA,cACtDA,EAAYA,GAAGA,aAAeA,EAAoBA,KAAKA,aAAeA,EAAYA,GAAGA,MAAQA,EAAoBA,KAAKA,OAK3HjB,EAAAA,UAAAA,aAAAA,SAAaA,EAA2BA,EAAmBA,GAEvDkB,EAAUA,KAEVA,IAAIA,KA4BJA,OA1BAA,GAAoBA,eAAgBA,EAEhCA,EAAQA,OAERA,EAAoBA,SAAYA,EAAoBA,SAAWA,EAAYA,SAAYA,EAAoBA,SAAWA,EAAYA,SAGlIA,EAAoBA,KAAOA,EAAYA,GACvCA,EAAoBA,GAAKA,EAAYA,KAGrCA,EAAOA,KAAKA,KAKZA,EAAYA,YAAaA,EAEzBA,EAAYA,UAAYA,EAAoBA,UAG5CA,EAAOA,KAAKA,GACZA,EAAOA,KAAKA,IAITA,GAwBXlB,EAAAA,UAAAA,aAAAA,SAAaA,EAAeA,GAExBmB,GAAIA,MACAA,KACAA,EAAOA,IA0CXA,OAvCAA,GAAMA,QAAQA,SAACA,GAEXA,GAAIA,IAASA,CAEbA,GAAKA,YAAaA,EAClBA,EAAKA,eAAgBA,EAIrBA,EAAMA,KAAKA,SAACA,GAERA,MAAIA,KAASA,GAAmBA,GAE5BA,EAAKA,kBAAkBA,EAAMA,EAAYA,KAGzCA,EAAiBA,EAAeA,OAAOA,EAAKA,aAAaA,EAAMA,EAAYA,IAG3EA,EAAaA,KAAKA,GAClBA,EAAaA,KAAKA,GAElBA,GAASA,GAINA,OAOfA,EAAMA,QAAQA,SAACA,GAEuBA,IAA9BA,EAAaA,QAAQA,IAAaA,EAAeA,KAAKA,KAIvDA,GAOXnB,EAAAA,UAAAA,mBAAAA,SAAmBA,GAAnBoB,GAAAA,GAAAA,IAEIA,OAAOA,GAAYA,IAAIA,SAACA,GAEpBA,OACIA,GAAIA,EAAWA,GACfA,IAAKA,GACLA,UAAWA,EAAWA,UACtBA,MAAOA,YAAaA,EAAWA,MAC/BA,IAAKA,YAAaA,EAAWA,IAC7BA,UAAWA,EAAWA,UACtBA,UAAWA,GACXA,SAAUA,EACVA,KAAMA,GACNA,OAAQA,GACRA,OAAQA,EAAKA,SAASA,iBAAiBA,GAAcA,cAAgBA,EAAWA,gBAChFA,gBAAiBA,EAAWA,oBAOxCpB,EAAAA,UAAAA,aAAAA,SAAaA,GAETqB,GAAIA,GAAUA,SAACA,GACXA,OAAQA,GAAeA,IAAIA,WAAWA,QAAQA,WAAYA,IAG9DA,OAAOA,GAAKA,UAAYA,KAAOA,EAAKA,MAAQA,EAAQA,EAAKA,KAAKA,cAAgBA,KAAOA,EAAKA,IAAMA,EAAQA,EAAKA,GAAGA,eAIpHrB,EAAAA,UAAAA,mBAAAA,SAAmBA,EAAuBA,GAEtCsB,GAAIA,GAAcA,GAAIA,MAElBA,EAAcA,KACTA,mBAAmBA,GAAYA,EAASA,iBACxCA,IAAIA,SAACA,GAGGA,aADOA,GAAKA,UACLA,GASxBA,OANAA,GAAgBA,KAAKA,MAAMA,MAAqBA,EAAaA,KAAKA,cAAcA,GAEhFA,EAAcA,QAAQA,SAACA,GACdA,EAAKA,YAAWA,EAAKA,UAAYA,EAAYA,iBAG/CA,GAIXtB,EAAAA,UAAAA,SAAAA,SAASA,EAAuBA,EAAeA,GtBq/D3C,GsBl/DIuB,GAAmBA,KAAKA,MAAMA,MAAqBA,MAAaA,KAAKA,cAAcA,EAGvFA,OAAOA,MAAKA,MAAMA,EAAkBA,MAAmBA,KAAKA,cAAcA,IAIlFvB,GA5T0BtR,EAAO2H,OAApBpJ,GAAA+S,KAAAA,EA8TG/S,EAAA+F,KAAAA,GtB0/DV,SAAS9F,EAAQD,EAASU,GuBhiEhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,GAAQA,gBAAgBA,UAAWA,WACtCA,MAAOA,IAAIA,GAAQA,KvBiiE3B,GAAIuB,GAAYhH,KAAKgH,WAAa,SAAUC,EAAGC,GAE3C,QAASC,KAAOnH,KAAKoH,YAAcH,EADnC,IAAK,GAAIrG,KAAKsG,GAAOA,EAAEG,eAAezG,KAAIqG,EAAErG,GAAKsG,EAAEtG,GAEnDuG,GAAGG,UAAYJ,EAAEI,UACjBL,EAAEK,UAAY,GAAIH,IuBr0EfhG,EAAMf,EAAW,GACjBuB,EAASvB,EAAW,IACpBgB,EAAIhB,EAAW,IAGT6T,EAAO,SAAAzM,GAKhByM,QALSA,GAKGA,GACRC,EAAAA,KAAAA,KAAMA,GA6NVA,KAAAA,aACIA,YACAA,aACAA,gBACAA,iBACAA,cACAA,eACAA,iBACAA,WACAA,aACAA,iBAGJA,KAAAA,WACIA,cACAA,YAGJA,KAAAA,eACIA,cACAA,kBACAA,gBAGJA,KAAAA,kBACIA,SACAA,OACAA,QACAA,OAGJA,KAAAA,YACIA,YACAA,aACAA,WACAA,YAGJA,KAAAA,aACIA,UACAA,WACAA,UACAA,SAGJA,KAAAA,aACIA,QACAA,SACAA,UA5QAA,KAAKA,KAAOA,EAAKA,KAAKA,GACtBA,KAAKA,UAAYA,EAAUA,KAAKA,GA+QxCD,MAvR6BA,GAAhBA,EAAOA,GAWhBA,EAAAA,UAAAA,UAAAA,SAAUA,EAA0BA,GAEhCE,EAAUA,KAEVA,IAAIA,GAAOA,yBACCA,EAAQA,YAAcA,EAAQA,YAAcA,KAC7CA,eAEXA,OAAIA,GAAQA,KAAaA,EAAOA,QAEzBA,GACCA,EAAQA,QAAUA,UAAYA,EAAQA,QAAUA,WAAaA,aAC7DA,EAAKA,IAAMA,EAAKA,KAOlBF,EAAAA,UAAAA,eAAVA,SAAyBA,EAAgBA,EAAkBA,GAEvDG,MAAOA,GAAOA,OAAOA,SAACA,EAAiBA,GAUnCA,MARIA,IAASA,EAAMA,KACXA,EACAA,EAAOA,GAASA,EAAMA,GAEtBA,EAAOA,KAAKA,EAAMA,KAInBA,GAERA,UAIPH,EAAAA,UAAAA,YAAAA,SAAYA,GACRI,MAAOA,MAAKA,eAAeA,EAASA,KAAKA,YAAYA,KAAKA,MAG9DJ,EAAAA,UAAAA,UAAAA,SAAUA,EAAkBA,GACxBK,MAAOA,MAAKA,eAAeA,EAASA,KAAKA,YAAaA,IAG1DL,EAAAA,UAAAA,UAAAA,SAAUA,EAAkBA,GACxBM,MAAOA,MAAKA,eAAeA,EAASA,KAAKA,YAAaA,IAG1DN,EAAAA,UAAAA,SAAAA,SAASA,EAAkBA,GACvBO,MAAOA,MAAKA,eAAeA,EAASA,KAAKA,UAAWA,IAGxDP,EAAAA,UAAAA,aAAAA,SAAaA,EAAkBA,GAC3BQ,MAAOA,MAAKA,eAAeA,EAASA,KAAKA,cAAeA,IAG5DR,EAAAA,UAAAA,QAAAA,SAAQA,GACJS,MAAgCA,SAAxBA,EAAQA,cAMpBT,EAAAA,UAAAA,MAAAA,SAAMA,EAAkBA,EAAeA,GAAvCU,GAAAA,GAAAA,IAEIA,GAAUA,KAAKA,MAAMA,QACjBA,UAAWA,OAAOA,KAAKA,WAAYA,KAAKA,YAAaA,KAAKA,YAAaA,KAAKA,UAAWA,KAAKA,aAC5FA,aAAaA,EACbA,YAAaA,SAACA,GACVA,MAAOA,GAAQA,EAAMA,WAAWA,oBAAsBA,IAE1DA,QAAQA,GACTA,GAEHA,EAASA,EAAQA,YAAYA,EAAQA,EAErCA,IAAIA,GAAQA,IAEZA,KAAKA,EAAQA,MAAOA,EAEpBA,IAAIA,GAAYA,SAACA,GAGbA,IAAIA,EAAJA,CAEAA,GAAIA,GAAcA,EAAQA,YAAYA,EAAOA,EAE7CA,IAAKA,EAALA,CAEAA,GAAIA,GAASA,EAAQA,OAASA,GAAeA,EAASA,EAAYA,QAAQA,GAAUA,EAEhFA,KAAOA,EAAQA,KAqBvBA,OAhBAA,GAAQA,OAAOA,QAAQA,SAACA,GACpBA,EAAUA,EAAQA,MAIlBA,EAAQA,cAAgBA,GAAOA,KAAKA,cAAcA,QAAQA,SAACA,GAGtDA,EAAQA,KAAUA,GAEvBA,EAAKA,iBAAiBA,QAAQA,SAACA,GAC3BA,EAAUA,EAAQA,GAAOA,QAK1BA,GAOXV,EAAAA,UAAAA,aAAAA,SAAaA,EAAkBA,EAAcA,GAEzCW,MAAOA,MAAKA,MAAMA,EAASA,EAAOA,KAAKA,MAAMA,QACzCA,UAAWA,OAAOA,KAAKA,YAAaA,KAAKA,WACzCA,aAAaA,EACbA,YAAaA,SAACA,GACVA,MAAOA,GAAQA,EAAMA,WAAWA,QAAQA,YAAaA,IAAMA,IAE/DA,QAAQA,GACTA,KASPX,EAAAA,UAAAA,oBAAAA,SAAoBA,EAAgCA,EAAqBA,GAErEY,GAAIA,GAAOA,KACPA,EAAkBA,KAAKA,MAAMA,EAAaA,SAACA,GACvCA,MAAOA,GAAWA,cACnBA,EAEPA,MAAKA,MAAMA,QAAQA,EAAiBA,SAACA,EAAoBA,GAErDA,GAAIA,GAAwBA,KACxBA,EAAaA,IAEjBA,GAASA,KAAKA,SAACA,GAMXA,MAJAA,GAAaA,EAAKA,aAAaA,EAASA,EAAaA,GAEjDA,IAAYA,EAAeA,GAExBA,IAIPA,GAEAA,EAAmBA,QAAQA,SAACA,GACxBA,EAAWA,QAAUA,EACrBA,EAAWA,aAAeA,OAS1CZ,EAAAA,UAAAA,WAAAA,SAAWA,GAAXa,GAAAA,GAAAA,IAEIA,OAAOA,MAAKA,KAAKA,WAAWA,KAAKA,MAAMA,QACnCA,UAAWA,SAACA,GACRA,MAAOA,GAAKA,YAAYA,KAE7BA,KAOPb,EAAAA,UAAAA,OAAAA,SAAOA,GAAPc,GAAAA,GAAAA,IASIA,OAPAA,GAAUA,KAAKA,MAAMA,QACjBA,OAAOA,EACPA,WAAYA,GACZA,YAAYA,EACZA,WAAWA,GACZA,GAEIA,KAAKA,KAAKA,SACZA,UAAWA,EAAQA,MAAOA,SAAUA,KAAKA,UACzCA,UAAWA,EAAQA,WAAYA,SAAUA,SAACA,EAAMA,GAAWA,MAAOA,GAAKA,MAAMA,EAAMA,EAAKA,cACxFA,UAAWA,EAAQA,WAAYA,SAAUA,SAACA,GAAiBA,MAAQA,GAAKA,UAAUA,GAAMA,OAASA,KACjGA,UAAWA,EAAQA,UAAWA,SAAUA,SAACA,GAAiBA,MAAQA,GAAKA,SAASA,GAAMA,OAASA,OAKxGd,EAAAA,UAAAA,SAAAA,SAASA,GAELe,MAAOA,MAAKA,UAAUA,WACjBA,MAAOA,YAAaA,UAAWA,KAAKA,UAAUA,SAASA,EAAKA,aAC5DA,MAAOA,WAAYA,UAAWA,KAAKA,UAAUA,SAASA,EAAKA,YAC3DA,MAAOA,QAASA,UAAWA,KAAKA,UAAUA,MAAMA,EAAKA,SACrDA,MAAOA,SAAUA,UAAWA,KAAKA,UAAUA,MAAMA,EAAKA,UACtDA,MAAOA,SAAUA,UAAWA,KAAKA,UAAUA,MAAMA,EAAKA,YAyDnEf,GAvR6B9S,EAAO2H,OAAvBpJ,GAAAuU,QAAAA,EAyRGvU,EAAA+F,KAAAA,GvB+wEV,SAAS9F,EAAQD,EAASU,GwBnhFhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,GAAQA,gBAAgBA,eAAgBA,WAC3CA,MAAOA,IAAIA,GAAaA,KxBohFhC,GAAIuB,GAAYhH,KAAKgH,WAAa,SAAUC,EAAGC,GAE3C,QAASC,KAAOnH,KAAKoH,YAAcH,EADnC,IAAK,GAAIrG,KAAKsG,GAAOA,EAAEG,eAAezG,KAAIqG,EAAErG,GAAKsG,EAAEtG,GAEnDuG,GAAGG,UAAYJ,EAAEI,UACjBL,EAAEK,UAAY,GAAIH,IwBpjFfhG,EAAMf,EAAW,GACjBuB,EAASvB,EAAW,IAEd6U,EAAY,SAAAzN,GAIrByN,QAJSA,GAIGA,GACRC,EAAAA,KAAAA,KAAMA,GACNA,KAAKA,UAAYA,EAAUA,KAAKA,GAexCD,MArBkCA,GAArBA,EAAYA,GASrBA,EAAAA,UAAAA,UAAAA,SAAUA,EAAcA,GACpBE,MAAOA,6CAA+CA,EAAKA,IAAMA,EAAKA,KAG1EF,EAAAA,UAAAA,SAAAA,SAASA,GAELG,MAAOA,MAAKA,UAAUA,WACjBA,MAAOA,YAAaA,UAAWA,KAAKA,UAAUA,SAASA,GAAQA,EAAKA,eAKjFH,GArBkC9T,EAAO2H,OAA5BpJ,GAAAuV,aAAAA,EAuBGvV,EAAA+F,KAAAA,GxByjFV,SAAS9F,EAAQD,EAASU,GyBzkFhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,GAAQA,gBAAgBA,eAAgBA,WAC3CA,MAAOA,IAAIA,GAAaA,KzB0kFhC,GAAIuB,GAAYhH,KAAKgH,WAAa,SAAUC,EAAGC,GAE3C,QAASC,KAAOnH,KAAKoH,YAAcH,EADnC,IAAK,GAAIrG,KAAKsG,GAAOA,EAAEG,eAAezG,KAAIqG,EAAErG,GAAKsG,EAAEtG,GAEnDuG,GAAGG,UAAYJ,EAAEI,UACjBL,EAAEK,UAAY,GAAIH,IyB1lFfhG,EAAMf,EAAW,GAEXiV,EAAY,SAAA7N,GAAzB6N,QAAaA,KAAqBC,EAAAA,MAAAA,KAAAA,WAMlCD,MANkCA,GAArBA,EAAYA,GAErBA,EAAAA,UAAAA,UAAAA,WACIE,MAAOA,uCAGfF,GANkClU,EAAO2H,OAA5BpJ,GAAA2V,aAAAA,EAQG3V,EAAA+F,KAAAA,GzBwmFV,SAAS9F,EAAQD,EAASU,G0BxmFhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,GAAQA,gBAAgBA,UAAWA,WACtCA,MAAOA,IAAIA,GAAQA,K1BymF3B,GAAIuB,GAAYhH,KAAKgH,WAAa,SAAUC,EAAGC,GAE3C,QAASC,KAAOnH,KAAKoH,YAAcH,EADnC,IAAK,GAAIrG,KAAKsG,GAAOA,EAAEG,eAAezG,KAAIqG,EAAErG,GAAKsG,EAAEtG,GAEnDuG,GAAGG,UAAYJ,EAAEI,UACjBL,EAAEK,UAAY,GAAIH,I0BznFfhG,EAAMf,EAAW,GAEXoV,EAAO,SAAAhO,GAApBgO,QAAaA,KAAgBC,EAAAA,MAAAA,KAAAA,WAM7BD,MAN6BA,GAAhBA,EAAOA,GAEhBA,EAAAA,UAAAA,UAAAA,WACIE,MAAOA,uBAGfF,GAN6BrU,EAAO2H,OAAvBpJ,GAAA8V,QAAAA,EAQG9V,EAAA+F,KAAAA,G1BuoFV,SAAS9F,EAAQD,EAASU,G2B5lFhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,GAAQA,gBAAgBA,SAAUA,WACrCA,MAAOA,IAAIA,GAAOA,K3B6lF1B,GAAIuB,GAAYhH,KAAKgH,WAAa,SAAUC,EAAGC,GAE3C,QAASC,KAAOnH,KAAKoH,YAAcH,EADnC,IAAK,GAAIrG,KAAKsG,GAAOA,EAAEG,eAAezG,KAAIqG,EAAErG,GAAKsG,EAAEtG,GAEnDuG,GAAGG,UAAYJ,EAAEI,UACjBL,EAAEK,UAAY,GAAIH,I2BxpFfhG,EAAMf,EAAW,GACjBuB,EAASvB,EAAW,IACpBuV,EAASvV,EAAW,IACpBwV,EAAWxV,EAAW,IAIhByV,EAAM,SAAArO,GAMfqO,QANSA,GAMGA,GACRC,EAAAA,KAAAA,KAAMA,GACNA,KAAKA,UAAYA,EAAUA,KAAKA,GAChCA,KAAKA,UAAYA,EAAUA,KAAKA,GAChCA,KAAKA,YAAcA,EAAYA,KAAKA,GAkC5CD,MA5C4BA,GAAfA,EAAMA,GAafA,EAAAA,UAAAA,UAAAA,SAAUA,EAAyBA,GAI/BE,MAFAA,GAAUA,MAENA,EAAQA,MAAcA,mBAEnBA,cACCA,EAAQA,YAAcA,cAAgBA,EAAQA,YAAcA,IAC7DA,WACCA,EAAKA,IAAMA,EAAKA,KAO5BF,EAAAA,UAAAA,SAAAA,SAASA,GAELG,MAAOA,MAAKA,UAAUA,WACjBA,MAAOA,iCAAkCA,UAAWA,KAAKA,UAAUA,SAASA,GAAQA,EAAKA,yBAA2BA,EAAKA,wBAAwBA,UACjJA,MAAOA,+BAAgCA,UAAWA,KAAKA,UAAUA,SAASA,GAAQA,EAAKA,yBAA2BA,EAAKA,wBAAwBA,QAC/IA,MAAOA,gCAAiCA,UAAWA,KAAKA,UAAUA,SAASA,GAAQA,EAAKA,yBAA2BA,EAAKA,wBAAwBA,SAChJA,MAAOA,kCAAmCA,UAAWA,KAAKA,UAAUA,SAASA,GAAQA,EAAKA,yBAA2BA,EAAKA,wBAAwBA,WAClJA,MAAOA,8BAA+BA,UAAWA,KAAKA,UAAUA,SAASA,GAAQA,EAAKA,yBAA2BA,EAAKA,wBAAwBA,OAC9IA,MAAOA,uCAAwCA,UAAWA,KAAKA,UAAUA,SAASA,GAAQA,EAAKA,yBAA2BA,EAAKA,wBAAwBA,gBACvJA,MAAOA,YAAaA,UAAWA,KAAKA,UAAUA,SAASA,KAAKA,UAAUA,MAAMA,GAAQA,EAAKA,cACzFA,MAAOA,QAASA,UAAWA,KAAKA,UAAUA,SAASA,KAAKA,YAAYA,MAAMA,GAAQA,EAAKA,YAKpGH,GA5C4B1U,EAAO2H,OAAtBpJ,GAAAmW,OAAAA,EA8CGnW,EAAA+F,KAAAA,G3BmpFV,SAAS9F,EAAQD,EAASU,G4B9/EhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,GAAQA,gBAAgBA,cAAeA,WAC1CA,MAAOA,IAAIA,GAAYA,K5B+/E/B,GAAIuB,GAAYhH,KAAKgH,WAAa,SAAUC,EAAGC,GAE3C,QAASC,KAAOnH,KAAKoH,YAAcH,EADnC,IAAK,GAAIrG,KAAKsG,GAAOA,EAAEG,eAAezG,KAAIqG,EAAErG,GAAKsG,EAAEtG,GAEnDuG,GAAGG,UAAYJ,EAAEI,UACjBL,EAAEK,UAAY,GAAIH,I4B/sFfhG,EAAMf,EAAW,GAEX6V,EAAW,SAAAzO,GAAxByO,QAAaA,KAAoBC,EAAAA,MAAAA,KAAAA,WA4C7BA,KAAAA,UAEQA,GAAIA,KACJA,KAAMA,cAGNA,GAAIA,IACJA,KAAMA,oBAGNA,GAAIA,KACJA,KAAMA,6BACNA,YAAaA,eAGbA,GAAIA,KACJA,KAAMA,gCACNA,YAAaA,eAGbA,GAAIA,KACJA,KAAMA,qCACNA,YAAaA,eAGbA,GAAIA,KACJA,KAAMA,mCACNA,YAAaA,qBAGbA,GAAIA,KACJA,KAAMA,6BACNA,YAAaA,eAGbA,GAAIA,KACJA,KAAMA,2BACNA,YAAaA,eAGbA,GAAIA,KACJA,KAAMA,oDACNA,YAAaA,aACbA,SAEQA,GAAIA,IACJA,KAAMA,gBACNA,MAAOA,QAKfA,GAAIA,KACJA,KAAMA,qDACNA,YAAaA,aACbA,SAEQA,GAAIA,IACJA,KAAMA,gBACNA,MAAOA,QAKfA,GAAIA,KACJA,KAAMA,4BACNA,YAAaA,eAGbA,GAAIA,KACJA,KAAMA,qDACNA,YAAaA,aACbA,SAEQA,GAAIA,IACJA,KAAMA,gBACNA,MAAOA,QAKfA,GAAIA,KACJA,KAAMA,iEACNA,SAEQA,GAAIA,IACJA,KAAMA,gBACNA,MAAOA,QAKfA,GAAIA,KACJA,KAAMA,+DACNA,YAAaA,aACbA,SAEQA,GAAIA,IACJA,KAAMA,qBACNA,MAAOA,QAKfA,GAAIA,KACJA,KAAMA,gEACNA,YAAaA,aACbA,SAEQA,GAAIA,IACJA,KAAMA,qBACNA,MAAOA,QAKfA,GAAIA,KACJA,KAAMA,gEACNA,YAAaA,aACbA,SAEQA,GAAIA,IACJA,KAAMA,qBACNA,MAAOA,QAKfA,GAAIA,KACJA,KAAMA,uCACNA,YAAaA,eAGbA,GAAIA,KACJA,KAAMA,oBACNA,YAAaA,mBAGbA,GAAIA,KACJA,KAAMA,oCACNA,YAAaA,eAGbA,GAAIA,KACJA,KAAMA,yCACNA,YAAaA,eAGbA,GAAIA,KACJA,KAAMA,+CACNA,YAAaA,eAIzBD,MAtMiCA,GAApBA,EAAWA,GAEpBA,EAAAA,UAAAA,MAAAA,SAAMA,GAEFE,MAAKA,GAEEA,EAAOA,IACNA,EAAOA,QAAUA,EAAOA,OAAOA,GACzBA,IAAMA,EAAOA,OAAOA,GAAGA,GAAKA,IAAMA,EAAOA,OAAOA,GAAGA,MACnDA,IALMA,MAcxBF,EAAAA,UAAAA,eAAAA,SAAeA,GAEXG,MAAKA,UAEEA,GAAOA,WACPA,GAAOA,YAEVA,EAAOA,QAAUA,EAAOA,OAAOA,OAASA,EAExCA,EAAOA,OAAOA,QAAQA,SAACA,EAAOA,SACnBA,GAAOA,OAAOA,GAAGA,aAKrBA,GAAOA,OAIXA,GAjBaA,MAkL5BH,GAtMiC9U,EAAO2H,OAA3BpJ,GAAAuW,YAAAA,EAwMGvW,EAAA+F,KAAAA,G5B8sFV,SAAS9F,EAAQD,EAASU,G6Br0FhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,GAAQA,gBAAgBA,YAAaA,WACxCA,MAAOA,IAAIA,GAAUA,K7Bs0F7B,GAAIuB,GAAYhH,KAAKgH,WAAa,SAAUC,EAAGC,GAE3C,QAASC,KAAOnH,KAAKoH,YAAcH,EADnC,IAAK,GAAIrG,KAAKsG,GAAOA,EAAEG,eAAezG,KAAIqG,EAAErG,GAAKsG,EAAEtG,GAEnDuG,GAAGG,UAAYJ,EAAEI,UACjBL,EAAEK,UAAY,GAAIH,I6B/5FfhG,EAAMf,EAAW,GACjBgB,EAAIhB,EAAW,IAQTiW,EAAS,SAAA7O,GAWlB6O,QAXSA,GAWGA,GACRC,EAAAA,KAAAA,KAAMA,GARVA,KAAAA,MACIA,WAAYA,aACZA,KAAMA,OACNA,aAAcA,eACdA,UAAWA,aAKXA,KAAKA,KAAOA,EAAKA,KAAKA,GA2D9BD,MAxE+BA,GAAlBA,EAASA,GAgBlBA,EAAAA,UAAAA,UAAAA,SAAUA,EAA4BA,GAIlCE,MAFAA,GAAUA,MAEHA,cACFA,EAAQA,aAAeA,eAAiBA,EAAQA,aAAeA,WAAaA,eAC5EA,EAAKA,IAAMA,EAAKA,KAIzBF,EAAAA,UAAAA,OAAAA,SAAOA,GACHG,MAAOA,IAAaA,EAAUA,MAAQA,KAAKA,KAAKA,MAGpDH,EAAAA,UAAAA,aAAAA,SAAaA,GACTI,MAAOA,IAAaA,EAAUA,MAAQA,KAAKA,KAAKA,YAGpDJ,EAAAA,UAAAA,eAAAA,SAAeA,GACXK,MAAOA,IAAaA,EAAUA,MAAQA,KAAKA,KAAKA,cAGpDL,EAAAA,UAAAA,YAAAA,SAAYA,GACRM,MAAOA,IAAaA,EAAUA,MAAQA,KAAKA,KAAKA,WAGpDN,EAAAA,UAAAA,WAAAA,SAAWA,GAEPO,MAAOA,MAAKA,KAAKA,WAAWA,KAAKA,MAAMA,QACnCA,OAAQA,kBACRA,UAAWA,KAAKA,KAAKA,kBACtBA,KAIPP,EAAAA,UAAAA,OAAAA,SAAOA,GAOHQ,MALAA,GAAUA,KAAKA,MAAMA,QACjBA,OAAQA,GACRA,KAAMA,IACPA,GAEIA,KAAKA,KAAKA,SACZA,SAAUA,OAAQA,UAAWA,EAAQA,OAElCA,UAAWA,EAAQA,OAAOA,oBAC1BA,SAAUA,KAAKA,KAAKA,eACpBA,UAAWA,SAACA,GACRA,OAAQA,EAAKA,MAASA,EAAKA,KAAKA,oBAAsBA,MACjDA,EAAKA,iBAAmBA,EAAKA,gBAAgBA,WAAWA,0BAOjFR,GAxE+BlV,EAAO2H,OAAzBpJ,GAAA2W,UAAAA,EA0EG3W,EAAA+F,KAAAA,G7B+4FV,SAAS9F,EAAQD,EAASU,G8Bz6FhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,GAAQA,gBAAgBA,mBAAoBA,WAC/CA,MAAOA,IAAIA,GAAiBA,K9B06FpC,GAAIuB,GAAYhH,KAAKgH,WAAa,SAAUC,EAAGC,GAE3C,QAASC,KAAOnH,KAAKoH,YAAcH,EADnC,IAAK,GAAIrG,KAAKsG,GAAOA,EAAEG,eAAezG,KAAIqG,EAAErG,GAAKsG,EAAEtG,GAEnDuG,GAAGG,UAAYJ,EAAEI,UACjBL,EAAEK,UAAY,GAAIH,I8Bz+FfhG,EAAMf,EAAW,GACjBgB,EAAIhB,EAAW,IAET0W,EAAgB,SAAAtP,GAIzBsP,QAJSA,GAIGA,GACRC,EAAAA,KAAAA,KAAMA,GACNA,KAAKA,KAAOA,EAAKA,KAAKA,GA8C9BD,MApDsCA,GAAzBA,EAAgBA,GASzBA,EAAAA,UAAAA,UAAAA,SAAUA,EAAgCA,GAItCE,MAFAA,GAAUA,MAEHA,yBAA2BA,EAAQA,aAAeA,KAAOA,sBAAwBA,EAAKA,IAAMA,EAAKA,KAI5GF,EAAAA,UAAAA,MAAAA,SAAMA,GACFG,MAAOA,KAAqBA,EAAiBA,IAAOA,EAA4BA,cAGpFH,EAAAA,UAAAA,WAAAA,SAAWA,EAA+BA,GACtCI,QAAUA,KAAiBA,EAAYA,UAAqDA,IAAzCA,EAAYA,SAASA,QAAQA,IAGpFJ,EAAAA,UAAAA,WAAAA,SAAWA,GAEPK,MAAOA,MAAKA,KAAKA,WAAWA,KAAKA,MAAMA,QACnCA,OAAQA,SACTA,KAIPL,EAAAA,UAAAA,OAAAA,SAAOA,GAAPM,GAAAA,GAAAA,IAMIA,OAJAA,GAAUA,KAAKA,MAAMA,QACjBA,aACDA,GAEIA,KAAKA,KAAKA,SACbA,UAAWA,EAAQA,SAASA,OAC5BA,SAAUA,SAACA,GAEPA,MAAOA,GAAQA,SAASA,KAAKA,SAACA,GAC1BA,MAAOA,GAAKA,WAAWA,EAAMA,UAQjDN,GApDsC3V,EAAO2H,OAAhCpJ,GAAAoX,iBAAAA,EAsDGpX,EAAA+F,KAAAA,G9Bo+FV,SAAS9F,EAAQD,EAASU,G+B5gGhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,GAAQA,gBAAgBA,WAAYA,WACvCA,MAAOA,IAAIA,GAASA,K/B6gG5B,GAAIuB,GAAYhH,KAAKgH,WAAa,SAAUC,EAAGC,GAE3C,QAASC,KAAOnH,KAAKoH,YAAcH,EADnC,IAAK,GAAIrG,KAAKsG,GAAOA,EAAEG,eAAezG,KAAIqG,EAAErG,GAAKsG,EAAEtG,GAEnDuG,GAAGG,UAAYJ,EAAEI,UACjBL,EAAEK,UAAY,GAAIH,I+BpiGfhG,EAAMf,EAAW,GAEXiX,EAAQ,SAAA7P,GAArB6P,QAAaA,KAAiBC,EAAAA,MAAAA,KAAAA,WAE1BA,KAAAA,YAEQA,GAAIA,OACJA,KAAMA,iBAGNA,GAAIA,OACJA,KAAMA,oBAIlBD,MAb8BA,GAAjBA,EAAQA,GAarBA,GAb8BlW,EAAO2H,OAAxBpJ,GAAA2X,SAAAA,EAeG3X,EAAA+F,KAAAA,G/BkjGV,SAAS9F,EAAQD,EAASU,GgC3/FhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,GAAQA,gBAAgBA,WAAYA,WACvCA,MAAOA,IAAIA,GAASA,KhC4/F5B,GAAIuB,GAAYhH,KAAKgH,WAAa,SAAUC,EAAGC,GAE3C,QAASC,KAAOnH,KAAKoH,YAAcH,EADnC,IAAK,GAAIrG,KAAKsG,GAAOA,EAAEG,eAAezG,KAAIqG,EAAErG,GAAKsG,EAAEtG,GAEnDuG,GAAGG,UAAYJ,EAAEI,UACjBL,EAAEK,UAAY,GAAIH,IgC1kGfhG,EAAMf,EAAW,GACjBgB,EAAIhB,EAAW,IACfmX,EAAKnX,EAAW,IAEVoX,EAAQ,SAAAhQ,GAKjBgQ,QALSA,GAKGA,GACRC,EAAAA,KAAAA,KAAMA,GACNA,KAAKA,KAAOA,EAAKA,KAAKA,GACtBA,KAAKA,MAAQA,EAAMA,KAAKA,GA0DhCD,MAlE8BA,GAAjBA,EAAQA,GAWjBA,EAAAA,UAAAA,UAAAA,WACIE,MAAOA,wBAGXF,EAAAA,UAAAA,OAAAA,SAAOA,GAAPG,GAAAA,GAAAA,KAEQA,IAOJA,OALAA,GAAUA,KAAKA,MAAMA,QACjBA,QAASA,GACTA,eAAeA,GAChBA,GAEIA,KAAKA,KAAKA,SAETA,UAAWA,EAAQA,QACnBA,SAAUA,SAACA,EAAgBA,GACvBA,MAAQA,GAAKA,MAAMA,MAAMA,EAAKA,QAAUA,EAAKA,aAIjDA,UAAWA,EAAQA,cACnBA,SAAUA,SAACA,GACPA,MAAoCA,IAAhCA,EAAWA,QAAQA,EAAKA,MACxBA,EAAWA,KAAKA,EAAKA,MACdA,IAEAA,OAQ3BH,EAAAA,UAAAA,WAAAA,SAAWA,GAgBPI,MAdAA,GAAUA,KAAKA,MAAMA,QACjBA,OAAQA,OACTA,GAEmBA,OAAlBA,EAAQA,SAERA,EAAQA,UAAYA,SAACA,GACjBA,MAA6BA,KAArBA,SAASA,EAAKA,KAAkBA,SAASA,EAAKA,MAG1DA,EAAQA,UAAYA,KAAKA,KAAKA,kBAI3BA,KAAKA,KAAKA,WAAWA,IAIpCJ,GAlE8BrW,EAAO2H,OAAxBpJ,GAAA8X,SAAAA,EAoEG9X,EAAA+F,KAAAA,GhCskGV,SAAS9F,EAAQD,EAASU,GiC78FhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,GAAQA,gBAAgBA,UAAWA,WACtCA,MAAOA,IAAIA,GAAQA,KjC88F3B,GAAIuB,GAAYhH,KAAKgH,WAAa,SAAUC,EAAGC,GAE3C,QAASC,KAAOnH,KAAKoH,YAAcH,EADnC,IAAK,GAAIrG,KAAKsG,GAAOA,EAAEG,eAAezG,KAAIqG,EAAErG,GAAKsG,EAAEtG,GAEnDuG,GAAGG,UAAYJ,EAAEI,UACjBL,EAAEK,UAAY,GAAIH,IiCrpGfhG,EAAMf,EAAW,GACjBgB,EAAIhB,EAAW,IACfuB,EAASvB,EAAW,IACpBqB,EAAYrB,EAAW,IACvBoB,EAAQpB,EAAW,IACnBoS,EAAOpS,EAAW,IAGZyX,EAAO,SAAArQ,GAOhBqQ,QAPSA,GAOGA,GACRC,EAAAA,KAAAA,KAAMA,GACNA,KAAKA,QAAUA,EAAQA,KAAKA,GAC5BA,KAAKA,KAAOA,EAAKA,KAAKA,GACtBA,KAAKA,SAAWA,EAASA,KAAKA,GAC9BA,KAAKA,UAAYA,EAAUA,KAAKA,GA2KxCD,MAvL6BA,GAAhBA,EAAOA,GAmBhBA,EAAAA,UAAAA,UAAAA,SAAUA,EAA0BA,GAEhCE,EAAUA,KAEVA,IAAIA,GAAOA,yBAA2BA,EAAQA,aAAeA,IAE7DA,OAAIA,GAAQA,IAAYA,EAAOA,OAC3BA,EAAQA,IAAYA,EAAOA,OAC3BA,EAAQA,MAAcA,EAAOA,iBAC7BA,EAAQA,KAAaA,EAAOA,gBAEzBA,EAAOA,kBAAoBA,EAAKA,IAAMA,EAAKA,KAItDF,EAAAA,UAAAA,UAAAA,SAAUA,GACNG,MAAQA,IAAgCA,WAArBA,EAAQA,WAG/BH,EAAAA,UAAAA,WAAAA,SAAWA,GACPI,OAAQA,KAAKA,UAAUA,IAG3BJ,EAAAA,UAAAA,MAAAA,SAAMA,GACFK,MAAQA,IAA2BA,OAAhBA,EAAQA,MAG/BL,EAAAA,UAAAA,QAAAA,SAAQA,GACJM,MAAQA,IAA2BA,SAAhBA,EAAQA,MAG/BN,EAAAA,UAAAA,YAAAA,SAAYA,GACRO,MAAQA,IAA2BA,aAAhBA,EAAQA,MAG/BP,EAAAA,UAAAA,MAAAA,SAAMA,GACFQ,MAAQA,IAA2BA,OAAhBA,EAAQA,MAG/BR,EAAAA,UAAAA,QAAAA,SAAQA,GAEJS,MAAQA,IAAmCA,SAAxBA,EAAQA,cAG/BT,EAAAA,UAAAA,OAAAA,SAAOA,GACHU,MAA8BA,QAAtBA,EAAQA,YAGpBV,EAAAA,UAAAA,UAAAA,SAAUA,EAAkBA,GAExBW,MADAA,GAAQA,WAAgBA,EAAUA,OAASA,SACpCA,GAGXX,EAAAA,UAAAA,iBAAAA,SAAiBA,EAAkBA,GAC/BY,MAAOA,GAAQA,YAAYA,GAAKA,KAAKA,SAASA,OAAOA,EAAQA,YAAYA,GAAGA,KAAMA,UAAWA,MAAOA,WAAWA,EAAMA,UAAUA,IAASA,IAG5IZ,EAAAA,UAAAA,yBAAAA,SAAyBA,EAAkBA,GACvCa,MAAOA,GAAQA,YAAYA,GAAKA,EAAQA,YAAYA,GAAGA,YAAcA,IAGzEb,EAAAA,UAAAA,gBAAAA,SAAgBA,GAEZc,MAAOA,GAAaA,KAAKA,KAAKA,SAASA,WAAWA,KAAKA,UAAUA,MAOrEd,EAAAA,UAAAA,eAAAA,SAAeA,GACXe,MAAOA,MAAKA,UAAUA,IAAYA,EAAQA,MAAQA,EAAQA,IAM9Df,EAAAA,UAAAA,kBAAAA,SAAkBA,GACdgB,MAAOA,MAAKA,eAAeA,GAASA,OAAOA,KAAKA,UAAUA,GAAWA,EAAQA,IAAMA,EAAQA,QAM/FhB,EAAAA,UAAAA,WAAAA,SAAWA,GAEPiB,MAAOA,MAAKA,KAAKA,WAAWA,KAAKA,MAAMA,QACnCA,OAAQA,gBACTA,KAIPjB,EAAAA,UAAAA,OAAAA,SAAOA,GAUHkB,MARAA,GAAUA,KAAKA,MAAMA,QACjBA,OAAQA,GACRA,OAAOA,EACPA,UAAWA,GACXA,eAAgBA,GAChBA,WAAYA,IACbA,GAEIA,KAAKA,KAAKA,SACZA,UAAWA,EAAQA,MAAOA,SAAUA,KAAKA,UACzCA,SAAUA,OAAQA,UAAWA,EAAQA,OACrCA,SAAUA,YAAaA,UAAWA,EAAQA,YAC1CA,SAAUA,iBAAkBA,UAAWA,EAAQA,iBAC/CA,SAAUA,aAAcA,UAAWA,EAAQA,aAC3CA,SAAUA,UAAWA,UAAWA,EAAQA,OAAQA,SAAUA,KAAKA,KAAKA,mBAS7ElB,EAAAA,UAAAA,eAAAA,SAAeA,EAA6BA,EAAqBA,GAE7DmB,GAAIA,GAAOA,KAGPA,EAAcA,EAASA,OAAOA,SAACA,EAAaA,GAE5CA,MAAOA,GAAYA,OAAOA,EAAKA,kBAAkBA,QAIrDA,MAAKA,QAAQA,oBAAoBA,EAAaA,EAAUA,IAI5DnB,EAAAA,UAAAA,QAAAA,SAAQA,GAEJoB,OACIA,KAAMA,EAAQA,KACdA,GAAIA,EAAQA,GACZA,KAAMA,EAAQA,UAKtBpB,EAAAA,UAAAA,YAAAA,SAAYA,GAERqB,MAAOA,MAAKA,UAAUA,WACjBA,MAAOA,KAAMA,UAAWA,KAAKA,UAAUA,SAASA,KAAKA,MAAMA,YAAYA,EAAMA,wBAC7EA,MAAOA,OAAQA,UAAWA,KAAKA,UAAUA,SAASA,KAAKA,MAAMA,YAAYA,EAAMA,uBAC/EA,MAAOA,UAAWA,UAAWA,KAAKA,UAAUA,SAASA,KAAKA,MAAMA,YAAYA,EAAMA,cAClFA,MAAOA,UAAWA,UAAWA,KAAKA,UAAUA,OAAOA,KAAKA,MAAMA,YAAYA,EAAMA,WAAYA,SAKrGrB,EAAAA,UAAAA,cAAAA,SAAcA,GAEVsB,MAAOA,MAAKA,UAAUA,WACjBA,MAAOA,KAAMA,UAAWA,KAAKA,UAAUA,SAASA,KAAKA,MAAMA,YAAYA,EAAMA,yBAC7EA,MAAOA,OAAQA,UAAWA,KAAKA,UAAUA,SAASA,KAAKA,MAAMA,YAAYA,EAAMA,2BAC/EA,MAAOA,UAAWA,UAAWA,KAAKA,UAAUA,SAASA,KAAKA,MAAMA,YAAYA,EAAMA,cAClFA,MAAOA,UAAWA,UAAWA,KAAKA,UAAUA,OAAOA,KAAKA,MAAMA,YAAYA,EAAMA,WAAYA,SAKzGtB,GAvL6B1W,EAAO2H,OAAvBpJ,GAAAmY,QAAAA,EAyLGnY,EAAA+F,KAAAA,GjCinGV,SAAS9F,EAAQD,EAASU,GkC1tGhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,GAAQA,gBAAgBA,cAAeA,WAC1CA,MAAOA,IAAIA,GAAYA,KlC2tG/B,GAAIuB,GAAYhH,KAAKgH,WAAa,SAAUC,EAAGC,GAE3C,QAASC,KAAOnH,KAAKoH,YAAcH,EADnC,IAAK,GAAIrG,KAAKsG,GAAOA,EAAEG,eAAezG,KAAIqG,EAAErG,GAAKsG,EAAEtG,GAEnDuG,GAAGG,UAAYJ,EAAEI,UACjBL,EAAEK,UAAY,GAAIH,IkCzzGfhG,EAAMf,EAAW,GACjBgB,EAAIhB,EAAW,IACfuV,EAASvV,EAAW,IAEdgZ,EAAW,SAAA5R,GAKpB4R,QALSA,GAKGA,GACRC,EAAAA,KAAAA,KAAMA,GACNA,KAAKA,UAAYA,EAAUA,KAAKA,GAChCA,KAAKA,KAAOA,EAAKA,KAAKA,GA0E9BD,MAlFiCA,GAApBA,EAAWA,GAWpBA,EAAAA,UAAAA,UAAAA,SAAUA,EAA8BA,GAIpCE,MAFAA,GAAUA,MAENA,EAAQA,OAAeA,sBAEpBA,cACFA,EAAQA,YAAcA,cAAgBA,EAAQA,YAAcA,IAC7DA,iBACCA,EAAKA,IAAMA,EAAKA,KAIzBF,EAAAA,UAAAA,MAAAA,SAAMA,GACFG,MAAOA,MAAKA,WAAWA,EAAaA,cAGxCH,EAAAA,UAAAA,WAAAA,SAAWA,EAA0BA,GACjCI,QAAUA,EAAYA,UAAqDA,IAAzCA,EAAYA,SAASA,QAAQA,IAGnEJ,EAAAA,UAAAA,QAAAA,SAAQA,EAA0BA,GAC9BK,EAAYA,aAAeA,GAAIA,MAAKA,GAAMA,eAG9CL,EAAAA,UAAAA,UAAAA,SAAUA,GACNM,EAAYA,aAAeA,MAG/BN,EAAAA,UAAAA,WAAAA,SAAWA,GAEPO,MAAOA,MAAKA,KAAKA,WAAWA,KAAKA,MAAMA,QACnCA,UAAWA,SAACA,GACRA,MAAOA,GAAKA,UAAYA,IACpBA,EAAKA,YAAcA,IACnBA,EAAKA,OAEdA,KAOPP,EAAAA,UAAAA,OAAAA,SAAOA,GAAPQ,GAAAA,GAAAA,IASIA,OAPAA,GAAUA,KAAKA,MAAMA,QACjBA,UAAWA,GACXA,YAAaA,GACbA,KAAMA,GACNA,aACDA,GAEIA,KAAKA,KAAKA,SACZA,SAAUA,YAAaA,UAAWA,EAAQA,YAC1CA,SAAUA,cAAeA,UAAWA,EAAQA,cAC5CA,SAAUA,OAAQA,UAAWA,EAAQA,OAElCA,UAAWA,EAAQA,SAASA,OAC5BA,SAAUA,SAACA,GAEPA,MAAOA,GAAQA,SAASA,KAAKA,SAACA,GAC1BA,MAAOA,GAAKA,WAAWA,EAAMA,UASrDR,GAlFiCjY,EAAO2H,OAA3BpJ,GAAA0Z,YAAAA,EAoFG1Z,EAAA+F,KAAAA,GlC4yGV,SAAS9F,EAAQD,EAASU,GmCtzGhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,GAAQA,gBAAgBA,WAAYA,WACvCA,MAAOA,IAAIA,GAASA,KnCuzG5B,GAAIuB,GAAYhH,KAAKgH,WAAa,SAAUC,EAAGC,GAE3C,QAASC,KAAOnH,KAAKoH,YAAcH,EADnC,IAAK,GAAIrG,KAAKsG,GAAOA,EAAEG,eAAezG,KAAIqG,EAAErG,GAAKsG,EAAEtG,GAEnDuG,GAAGG,UAAYJ,EAAEI,UACjBL,EAAEK,UAAY,GAAIH,ImC34GfhG,EAAMf,EAAW,GACjBqB,EAAYrB,EAAW,IACvBuV,EAASvV,EAAW,IAEdyZ,EAAQ,SAAArS,GAIjBqS,QAJSA,GAIGA,GACRC,EAAAA,KAAAA,KAAMA,GACNA,KAAKA,UAAYA,EAAUA,KAAKA,GAkExCD,MAxE8BA,GAAjBA,EAAQA,GASjBA,EAAAA,UAAAA,UAAAA,SAAUA,EAA2BA,GAIjCE,MAFAA,GAAUA,MAEHA,yBAA2BA,GAAMA,KAAOA,aAAeA,EAAQA,SAAWA,+BAAiCA,KAItHF,EAAAA,UAAAA,MAAAA,SAAMA,GACFG,MAAOA,KAAaA,KAAKA,UAAUA,MAAMA,EAASA,YAAcA,EAASA,cAG7EH,EAAAA,UAAAA,YAAAA,SAAYA,GACRI,MAAOA,IAAuCA,aAA3BA,EAASA,gBAGhCJ,EAAAA,UAAAA,gBAAAA,SAAgBA,EAA2BA,GAEvCK,MAAOA,GAAaA,KAAKA,KAAKA,SAASA,WAAWA,KAAKA,UAAUA,EAASA,MAI9EL,EAAAA,UAAAA,mBAAAA,SAAmBA,EACAA,EACAA,GAFnBM,GAAAA,GAAAA,KAIQA,EAASA,EAAUA,IAAIA,KAAKA,MAAOA,MAAMA,IAAIA,SAACA,GAC9CA,MAAOA,GAAKA,UAAUA,EAASA,IAChCA,KAIHA,OAFAA,GAAaA,UAAUA,GAEhBA,GAIXN,EAAAA,UAAAA,mBAAAA,SAAmBA,EAAmCA,EAAuBA,GAA7EO,GAAAA,GAAAA,KAEQA,EAAQA,KAAKA,MAAMA,EAgBvBA,OAdAA,GAAWA,QAAQA,SAACA,GAEhBA,GAAIA,GAAWA,EAAMA,EAAKA,UAAUA,MAAMA,GAEtCA,KACIA,YAAcA,IAAMA,EACpBA,EAAKA,MAAMA,OAAOA,EAAGA,SAAUA,GAE/BA,EAAGA,SAAWA,IAIvBA,MAEIA,MAIXP,EAAAA,UAAAA,iBAAAA,SAAiBA,GACbQ,MAAQA,IAAgDA,UAAhCA,EAAaA,iBAI7CR,GAxE8B1Y,EAAO2H,OAAxBpJ,GAAAma,SAAAA,EA0EGna,EAAA+F,KAAAA,GnC63GV,SAAS9F,EAAQD,EAASU,GoCv5GhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,GAAQA,gBAAgBA,UAAWA,WACtCA,MAAOA,IAAIA,GAAQA,KpCw5G3B,GAAIuB,GAAYhH,KAAKgH,WAAa,SAAUC,EAAGC,GAE3C,QAASC,KAAOnH,KAAKoH,YAAcH,EADnC,IAAK,GAAIrG,KAAKsG,GAAOA,EAAEG,eAAezG,KAAIqG,EAAErG,GAAKsG,EAAEtG,GAEnDuG,GAAGG,UAAYJ,EAAEI,UACjBL,EAAEK,UAAY,GAAIH,IoCl9GfhG,EAAMf,EAAW,GACjBuB,EAASvB,EAAW,IAGdka,EAAO,SAAA9S,GAIhB8S,QAJSA,GAIGA,GACRC,EAAAA,KAAAA,KAAMA,GACNA,KAAKA,UAAYA,EAAUA,KAAKA,GAwCxCD,MA9C6BA,GAAhBA,EAAOA,GAShBA,EAAAA,UAAAA,UAAAA,SAAUA,EAAgCA,GAItCE,MAFAA,GAAUA,MAEHA,yBAA2BA,EAAQA,aAAeA,KAAOA,YAAcA,EAAKA,IAAMA,EAAKA,KAIlGF,EAAAA,UAAAA,WAAAA,SAAWA,GAKPG,MAJAA,GAASA,EAAAA,UAAMA,WAAUA,KAAAA,KAACA,GACtBA,SACOA,GAAOA,OAEXA,GAGXH,EAAAA,UAAAA,aAAAA,SAAaA,GACTI,MAAOA,KAAYA,KAAKA,MAAMA,IAAYA,EAAQA,QAAuCA,cAA7BA,EAAQA,OAAOA,YAG/EJ,EAAAA,UAAAA,UAAAA,SAAUA,GACNK,MAAOA,KAAYA,KAAKA,MAAMA,IAAYA,EAAQA,QAAuCA,WAA7BA,EAAQA,OAAOA,YAG/EL,EAAAA,UAAAA,QAAAA,SAAQA,GACJM,OAAQA,KAAKA,MAAMA,KAAaA,KAAKA,aAAaA,KAAaA,KAAKA,UAAUA,IAGlFN,EAAAA,UAAAA,SAAAA,SAASA,GAELO,MAAOA,MAAKA,UAAUA,WACjBA,MAAOA,KAAMA,UAAWA,KAAKA,UAAUA,SAASA,GAAQA,EAAKA,IAAMA,EAAKA,GAAGA,eAC3EA,MAAOA,OAAQA,UAAWA,KAAKA,UAAUA,SAASA,GAAQA,EAAKA,MAAQA,EAAKA,KAAKA,iBAK9FP,GA9C6BnZ,EAAO2H,OAAvBpJ,GAAA4a,QAAAA,EAgDG5a,EAAA+F,KAAAA,GpC+8GV,SAAS9F,EAAQD,EAASU,GqCl9GhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,GAAQA,gBAAgBA,UAAWA,WACtCA,MAAOA,IAAIA,GAAQA,KrCm9G3B,GAAIuB,GAAYhH,KAAKgH,WAAa,SAAUC,EAAGC,GAE3C,QAASC,KAAOnH,KAAKoH,YAAcH,EADnC,IAAK,GAAIrG,KAAKsG,GAAOA,EAAEG,eAAezG,KAAIqG,EAAErG,GAAKsG,EAAEtG,GAEnDuG,GAAGG,UAAYJ,EAAEI,UACjBL,EAAEK,UAAY,GAAIH,IqC1gHfhG,EAAMf,EAAW,GAEX0a,EAAO,SAAAtT,GAApBsT,QAAaA,KAAgBC,EAAAA,MAAAA,KAAAA,WAuBzBA,KAAAA,aAAeA,KAAKA,8BAA8BA,OAClDA,KAAAA,sBAAwBA,KAAKA,8BAA8BA,gBAC3DA,KAAAA,kBAAoBA,KAAKA,8BAA8BA,YACvDA,KAAAA,iBAAmBA,KAAKA,8BAA8BA,WACtDA,KAAAA,8BAAgCA,KAAKA,8BAA8BA,wBACnEA,KAAAA,aAAeA,KAAKA,8BAA8BA,OAClDA,KAAAA,aAAeA,KAAKA,8BAA8BA,OAClDA,KAAAA,sBAAwBA,KAAKA,8BAA8BA,gBAC3DA,KAAAA,mBAAqBA,KAAKA,8BAA8BA,aACxDA,KAAAA,eAAiBA,KAAKA,8BAA8BA,SACpDA,KAAAA,wBAA0BA,KAAKA,8BAA8BA,kBAC7DA,KAAAA,qBAAuBA,KAAKA,8BAA8BA,eAC1DA,KAAAA,2BAA6BA,KAAKA,8BAA8BA,qBAChEA,KAAAA,oBAAsBA,KAAKA,8BAA8BA,cACzDA,KAAAA,kBAAoBA,KAAKA,8BAA8BA,YACvDA,KAAAA,gBAAkBA,KAAKA,8BAA8BA,UACrDA,KAAAA,sBAAwBA,KAAKA,8BAA8BA,gBAC3DA,KAAAA,4BAA8BA,KAAKA,8BAA8BA,sBACjEA,KAAAA,yBAA2BA,KAAKA,8BAA8BA,mBAC9DA,KAAAA,kBAAoBA,KAAKA,8BAA8BA,YACvDA,KAAAA,+BAAiCA,KAAKA,8BAA8BA,yBAExED,MA7C6BA,GAAhBA,EAAOA,GAEhBA,EAAAA,UAAAA,UAAAA,WACIE,MAAOA,2BAGXF,EAAAA,UAAAA,UAAAA,SAAUA,EAAgBA,GAEtBG,MAAOA,GAAgBA,OAAOA,SAACA,EAAOA,GAGlCA,MADIA,GAAEA,aAAeA,IAASA,EAAQA,EAAEA,SACjCA,IAERA,IAIPH,EAAAA,UAAAA,8BAAAA,SAA8BA,GAA9BI,GAAAA,GAAAA,IACIA,OAAOA,UAACA,GACJA,MAAOA,GAAKA,UAAUA,EAASA,KA0B3CJ,GA7C6B3Z,EAAO2H,OAAvBpJ,GAAAob,QAAAA,EA+CGpb,EAAA+F,KAAAA,GrCmhHV,SAAS9F,EAAQD,EAASU,GsC5iHhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,GAAQA,gBAAgBA,iBAAkBA,WAC7CA,MAAOA,IAAIA,GAAeA,KtC6iHlC,GAAIuB,GAAYhH,KAAKgH,WAAa,SAAUC,EAAGC,GAE3C,QAASC,KAAOnH,KAAKoH,YAAcH,EADnC,IAAK,GAAIrG,KAAKsG,GAAOA,EAAEG,eAAezG,KAAIqG,EAAErG,GAAKsG,EAAEtG,GAEnDuG,GAAGG,UAAYJ,EAAEI,UACjBL,EAAEK,UAAY,GAAIH,IsC3kHfhG,EAAMf,EAAW,GAEX+a,EAAc,SAAA3T,GAA3B2T,QAAaA,KAAuBC,EAAAA,MAAAA,KAAAA,WAKhCA,KAAAA,kBAEQA,GAAIA,IACJA,KAAMA,wCAGNA,GAAIA,IACJA,KAAMA,oBAGNA,GAAIA,IACJA,KAAMA;CAIlBD,MApBoCA,GAAvBA,EAAcA,GAoB3BA,GApBoCha,EAAO2H,OAA9BpJ,GAAAyb,eAAAA,EAsBGzb,EAAA+F,KAAAA,GtCylHV,SAAS9F,EAAQD,EAASU,GuC3kHhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,GAAQA,gBAAgBA,QAASA,WACpCA,MAAOA,IAAIA,GAAMA,KvC4kHzB,GAAIuB,GAAYhH,KAAKgH,WAAa,SAAUC,EAAGC,GAE3C,QAASC,KAAOnH,KAAKoH,YAAcH,EADnC,IAAK,GAAIrG,KAAKsG,GAAOA,EAAEG,eAAezG,KAAIqG,EAAErG,GAAKsG,EAAEtG,GAEnDuG,GAAGG,UAAYJ,EAAEI,UACjBL,EAAEK,UAAY,GAAIH,IuCxnHfhG,EAAMf,EAAW,GACjBgB,EAAIhB,EAAW,IACfib,EAAOjb,EAAW,IAEZkb,EAAK,SAAA9T,GAKd8T,QALSA,GAKGA,GACRC,EAAAA,KAAAA,KAAMA,GACNA,KAAKA,cAAgBA,EAAQA,KAAKA,GAClCA,KAAKA,KAAOA,EAAKA,KAAKA,GAwB9BD,MAhC2BA,GAAdA,EAAKA,GAWdA,EAAAA,UAAAA,UAAAA,WACIE,MAAOA,qBAGXF,EAAAA,UAAAA,OAAAA,SAAOA,GAAPG,GAAAA,GAAAA,IAMIA,OAJAA,GAAUA,KAAKA,MAAMA,QACjBA,UAAWA,IACZA,GAEIA,KAAKA,KAAKA,SAETA,UAAWA,EAAQA,UACnBA,SAAUA,SAACA,EAAaA,GACpBA,MAAQA,GAAKA,cAAcA,MAAMA,EAAKA,UAAYA,EAAKA,eAO3EH,GAhC2Bna,EAAO2H,OAArBpJ,GAAA4b,MAAAA,EAkCG5b,EAAA+F,KAAAA,GvC4nHV,SAAS9F,EAAQD,EAASU,GwCxpHhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,GAAQA,gBAAgBA,WAAYA,WACvCA,MAAOA,IAAIA,GAASA,KxCypH5B,GAAIuB,GAAYhH,KAAKgH,WAAa,SAAUC,EAAGC,GAE3C,QAASC,KAAOnH,KAAKoH,YAAcH,EADnC,IAAK,GAAIrG,KAAKsG,GAAOA,EAAEG,eAAezG,KAAIqG,EAAErG,GAAKsG,EAAEtG,GAEnDuG,GAAGG,UAAYJ,EAAEI,UACjBL,EAAEK,UAAY,GAAIH,IwCzqHfhG,EAAMf,EAAW,GAEXsb,EAAQ,SAAAlU,GAArBkU,QAAaA,KAAiBC,EAAAA,MAAAA,KAAAA,WAM9BD,MAN8BA,GAAjBA,EAAQA,GAEjBA,EAAAA,UAAAA,UAAAA,WACIE,MAAOA,wBAGfF,GAN8Bva,EAAO2H,OAAxBpJ,GAAAgc,SAAAA,EAQGhc,EAAA+F,KAAAA,GxCurHV,SAAS9F,OAAQD,QAASU,sByCpsHhC,SAAAT,QA0KA,QAAAkc,UAAmB,MAAA,OAAAC,MAAA,GAAAC,MACnB,QAAAC,QAAmB,OAAA,GAAAD,MA0BnB,QAAAE,WAAAC,EAAAC,GACA,GAAAC,GAAAF,EAAAG,KAAAC,QACAC,IAEA,OAAAJ,IAEAK,KAAAL,EAAA,SAAAM,EAAAC,GACA,GAAAC,GAAA,gBAAAD,GAAAE,KAAA,UAAAF,GAAAA,CACA,oBAAAA,IACA,MAAAA,GAAAG,OAAAF,GAAAG,OAAA,GACAP,EAAAQ,KAAAN,EAAA,IAAAI,OAAAF,MAGAP,GAAA,IAAAG,EAAAF,KAAAW,YATAZ,EAkBA,QAAAa,SAAAC,EAAAC,GACA,GAAAC,GACAC,EAAA,EACAC,EAAA,WACAD,EAAAF,EAAAnB,QACAuB,aAAAH,GACAA,EAAAI,WAAAF,EAAAH,KAGAE,EAAArB,OACAkB,KAIA,OAAAI,GAQA,QAAAG,MAAArc,EAAA8b,GACA,GAAAQ,KAEA,OADAlB,MAAApb,MAAA,SAAAuc,GAAmCT,EAAAS,IAAAD,EAAAX,KAAAY,KACnCD,EAQA,QAAAE,UAAAC,EAAAC,GACA,MAAAD,GAAAE,QAAAC,KAAA,SAAAC,EAAAC,GACA,MAAAJ,GAAAI,IAAAD,IASA,QAAAb,SAAAF,EAAAiB,GACA,MAAAX,YAAAN,EAAAiB,GAQA,QAAAC,eAAAC,GACA,GAAAC,GAAA,uCAAAP,QAAA,QACA,SAAApd,GACA,GAAA4d,GAAA,GAAAC,KAAAC,SAAA,EAAAC,EAAA,KAAA/d,EAAA4d,EAAA,EAAAA,EAAA,CACA,OAAAG,GAAA5O,SAAA,KAGA,OADAuO,IAAAA,EAAAC,GACAA,EAGA,QAAAK,SAAAC,GACA,QAAAA,GAAA,gBAAAA,KAAAC,MAAAF,SAAAE,MAAAF,QAAAC,IAAA,gBAAAA,GAAA,QASA,QAAApC,MAAAsC,EAAAC,GACA,GAAAD,GAAAC,EAEA,GAAAJ,QAAAG,GACA,IAAA,GAAAE,GAAA,EAAArB,EAAAmB,EAAAhC,OAAsCa,EAAAqB,GACtCD,EAAAte,KAAAqe,EAAAE,GAAAF,EAAAE,GAAAA,SAEA,KAAA,GAAAA,KAAAF,GACAA,EAAAzX,gBACAyX,EAAAzX,eAAA2X,IACAD,EAAAte,KAAAqe,EAAAE,GAAAA,EAAAF,EAAAE,IAQA,QAAAC,KAAA7d,EAAA8b,GACA,GAAAQ,KAEA,OADAlB,MAAApb,MAAA,SAAA8d,EAAAR,GAAwChB,EAAAX,KAAAG,EAAAgC,EAAAR,MACxChB,EAQA,QAAAb,QAAAsC,GAAuB,MAAAC,oBAAAD,GAOvB,QAAAE,uBAAAC,EAAAC,GACA,GAAAne,KAUA,OATAob,MAAA8C,EAAA,SAAAE,EAAAC,GACAF,EACAC,EAAAE,OAAA,WAAA,GACAD,EAAAE,YAAAve,EAAA2b,KAAAyC,GAGAC,EAAAE,YAAAve,EAAA2b,KAAAyC,KAGApe,EAAAwe,OAQA,QAAAC,6BAAAC,EAAAP,GACA,GAAAne,KAUA,OATAob,MAAAsD,EAAA,SAAAC,EAAAN,GACAF,EACAQ,EAAAL,OAAA,WAAA,GACAD,EAAAE,YAAAve,EAAA2b,KAAAgD,GAGAN,EAAAE,YAAAve,EAAA2b,KAAAgD,KAGA3e,EAAAwe,OAIA,QAAAI,SAAkB5C,QAAA,WAClB6C,QACAA,MAAA,EACAzD,KAAA0D,aAAA,SAAAC,GAA2CA,QAC1CC,QAED,QAAAC,WAAAC,GAoDA,MAnDAC,KAAAD,IAAmBE,SACnBD,IAAA,iBAAA,WACA,GAAA7f,KAEA,IAAAmP,OAAA4Q,KAAAF,IAAA,MAAAzD,OAAA,CACApc,EAAA,SACAggB,KACAC,MAAAJ,IAAA,KAAA,MACAK,MAAAL,IAAA,KAAA,OAGA,KAAA,GAAArB,KAAAqB,KAAA,KACA7f,EAAA,QAAAwe,GAAAqB,IAAA,KAAArB,EAEA,IAAA2B,IAAA,QAAA,QACA,KAAA,GAAA3B,KAAA2B,SACAngB,GAAA,QAAAmgB,EAAA3B,IAMAqB,IAAA,MACA7f,EAAA,QACAogB,KAAAP,IAAA,KAIA,KAAA,GAAArB,KAAAqB,KACA7f,EAAAwe,GAAAqB,IAAArB,EAEA,IAAA6B,IAAA,OAAA,MAAA,UAAA,UAAA,WAAA,QACA,KAAA,GAAA7B,KAAA6B,SACArgB,GAAAqgB,EAAA7B,GAGA,OAAAxe,IAEA6f,IAAA,QAAA,WAEA,GAAA7f,GAAA6f,IAAAS,kBAEAT,KAAA,QAAAA,IAAA,SACAA,IAAA,OAAAU,SACAC,QAAAxgB,EACA8e,QAAAe,IAAA,QACAlC,SAAAkC,IAAA,SACAY,MAAAZ,IAAA,SAIAA,IAGA,QAAAa,QAAAC,GA2DA,QAAAC,GAAAR,GAKA,MAJAA,KAAAA,MACAtE,KAAAD,GAAA,SAAAE,EAAAC,GACAD,IAAAqE,KAAAA,EAAArE,GAAAC,KAEAoE,EAGA,QAAAS,GAAAzC,GACA,GAAAnB,KAIA,OAHAnB,MAAAsC,EAAA,SAAArC,GACAkB,EAAAZ,KAAAN,KAEAkB,EAEA,QAAA6D,GAAA1C,GACA,MAAAyC,GAAAzC,GAAAc,OAGA,QAAA6B,GAAAlF,GACA,GAAAmF,GAAA,GACA/D,EAAA6D,EAAAjF,EAEA,KAAA,GAAAyC,KAAArB,GAAA,CACA,GAAAuB,GAAAvB,EAAAqB,EACA0C,IAAAxC,EAAA,IAAArC,OAAAN,EAAA2C,IACAF,GAAArB,EAAAb,OAAA,IAAA4E,GAAA,KAEA,MAAAA,GAGA,QAAAC,GAAAC,EAAAC,EAAAV,GACA,GAAAW,IAAA,CAEA,IAAA,mBAAAF,GACA,MAAAC,EAGA,IAAA,gBAAAD,GAEAE,EADAF,EAAAG,uBAAA,GAAAH,GACA,GAEA,MACS,CAAA,GAAA,iBAAAA,GACT,MAAAA,GAGAI,oBAFA,CAKAF,IAAA,EAGA,MAAAA,IACAX,GAAAA,EAAA,uDAAAY,sBAAA,gCAAAF,GAAAE,wBACAF,GAAAE,uBACSH,EAGT,QAAAK,GAAAC,EAAAzF,GACA,MAAA0F,IAAA,QAAAD,EAAAzF,GAAA2F,KAAAF,EAEA,QAAAG,GAAAH,EAAAzF,GACA,MAAA0F,IAAA,QAAAD,EAAAzF,GAAA2F,KACAD,GAAA,QAAAD,EAAAE,KACAF,EAOA,QAAAI,KAIA,MAFA/E,cAAAgF,IAEAC,IAAAA,IAAA,KACA,EAAAA,KACAnD,sBAAAoD,GAAA,GAAA3F,SAAA+C,4BAAA6C,GAAA,GAAA5F,YAEA6F,IAAA,IAIAA,IAAA,MACAC,IAAA,oBACAvE,SAAA,WACAkE,EAAAnF,QAAAkF,EAAA,GAAAlC,SAEAe,MAAA,SAAAthB,GACAshB,IAAAA,GAAA,qDAAAvE,KAAAiG,UAAAhjB,IACA0iB,EAAAnF,QAAAkF,EAAA,GAAAlC,YAKA,QAAA0C,MACAH,IAAAL,IAGA,QAAArB,GAAA8B,GAEA,GAAAC,IACA,IAAAC,EAAAnG,OAAA,WACS,CAET,GADAiG,IAAAE,EAAAC,QAAA,GACAD,EAAAC,UAAAD,EAAAnG,OAAA,MACAmG,GAAAC,QAAA,EAGAC,GAAAF,EAAAG,SAEA,QAAAC,GAAAhF,GACA,GAAAiF,GAAA,CAWA,OATA9G,MAAAqD,4BAAA6C,GAAA,SAAA3C,GACA,GAAAwD,GAAAb,EAAA3C,EAEAwD,KAEAD,KACAjF,GAAA,cAAmCkF,MAGnCD,EAGA,QAAAE,GAAAnF,GACA,GAAAiF,GAAA,CAWA,OATA9G,MAAA6C,sBAAAoD,GAAA,SAAAjD,GACA,GAAAiE,GAAAhB,EAAAjD,EAEAiE,KAEAH,KACAjF,GAAA,cAAmCoF,MAGnCH,EAEA,QAAAI,GAAAC,EAAAtF,EAAAyD,GACA,GAAA,gBAAA6B,GAAA,CACA,GAAAA,EAAA,MAAA,CACA,GAAAC,KAWA,OATAD,GAAA,UACAC,EAAA,QAAAD,EAAA,SAGAA,EAAA,UACAC,EAAA,QAAAD,EAAA,cAGA7B,GAAAA,EAAA8B,IAIA,GAAAD,EAAA,QAKA,YAJAA,EAAA,UACAtF,GAAAA,EAAAsF,EAAA,QAAAA,EAAA,WAEAtF,GAAAA,EAAAsF,EAAA,UAIAtF,GAAAA,EAAAsF,GAGA,QAAAE,GAAAF,EAAA7B,GAEA,GAAA,gBAAA6B,IAAAA,EAAA,MAAA,CACA,GAAAC,KAWA,OATAD,GAAA,UACAC,EAAA,QAAAD,EAAA,SAGAA,EAAA,UACAC,EAAA,QAAAD,EAAA,cAGA7B,GAAAA,EAAA8B,IAGA9B,GAAAA,EAAA6B,GAGA,QAAAG,GAAAxD,EAAAjC,EAAA0F,EAAAjD,GACA,GAAAzC,GAAAiC,EAAA,UAAAjC,EACAyD,EAAAxB,EAAA,OAAAa,GACA6C,EAAAC,IAEAnD,GAAAA,MAEAA,EAAA,OACAA,EAAA,KAAAR,EAAA,UAAA4D,EAGA,IAAA9H,IACA+H,EAAA,KAAA,uBACA,UAAAC,EAGAhI,GAAAW,KAAAsH,MAAAjI,EAAA2H,GAEAC,IAAAlD,EAAA,SAAAkD,GAEAb,IACA9E,SAAA2F,EACAlD,KAAAQ,EAAAR,GACAwD,QAAA,SAAAX,GACAD,EAAAC,EAAAtF,EAAAyD,IAEAyC,KAAA,SAAAZ,GACAE,EAAAF,EAAA7B,IAEA1F,IAAAA,IAw2CA,QAAAoI,KACAC,MAAAC,EAAA,GACAvD,MAAA,kDAEAwD,GAAApH,aAAAoH,GACAA,EAAAvH,QAAAoH,EAAApE,QAGA,QAAAwE,KACAC,GACAjC,GAAA,KAAA,SAAA0B,GACAQ,EAAA,aAA2CR,GAC3CA,GAAAI,EAAA,GACAvD,MAAA,sFAGA4D,GAAAxH,aAAAwH,GACAA,EAAA3H,QAAAwH,EAAAI,KAIA,QAAAN,GAAA5C,EAAAvB,GACA0E,GAAAA,EAAAnD,EAAAvB,GACA0E,EAAA,KAEA1H,aAAAoH,GACApH,aAAAwH,GAeA,QAAAG,GAAAC,GACA,GAAAC,GAAApJ,OAAAqJ,CACA,OAAAD,GAAAD,EAAA,IAIA,QAAAL,GAAAQ,EAAAC,GAKA,QAAAC,GAAAD,GACA,GAAAA,EAAA,CACA,GAAAE,GAAAF,EAAA,IACAG,GAAA1J,OAAA2J,GAAA,CACAN,GAAArJ,QAAAyJ,EAAAC,GACAJ,GAAAA,EAAAD,IATA,GAAAM,GAAA3J,MAEAuJ,IAAAC,EAAAD,IAAA3C,GAAA,KAAA4C,GA7qDA,GA+CAb,GACAI,EAhDAa,GAAAvE,EAAA,WAAAwE,cACAC,IAAAzE,EAAA,SAAA0E,iBAAA3F,OACA4E,IAAA3D,EAAA,WAAA2E,eAAA5F,OACAyE,EAAAxD,EAAA,WAAA,EACA4E,EAAA5E,EAAA,SAAA,EACA6E,EAAA7E,EAAA,aAAA,OACA+C,EAAA/C,EAAA,eAAA,OACA6C,EAAA7C,EAAA,UAAA,GACA8E,EAAA9E,EAAA,YAAA,GACA+E,EAAA/E,EAAA,YACAgF,EAAAhF,EAAA,IAAA,IAAA,GACAiF,EAAA,OAAAD,EAAA,OAAAhF,EAAA,QAAA,qBACA8C,EAAAoC,WAAAD,GACAE,EAAAD,WAAAD,GACAG,EAAA,aACAxD,KACAyD,GAAA,EACArB,EAAA,EACAsB,EAAA,EACAC,EAAA,EACA3B,EAAA,EACA4B,EAAAxF,EAAA,SAAA,EAEAyF,EAAA,EACAC,GAAA,EACAtE,KACAC,KAEAsE,KACAzE,EAAA,KACA0E,EAAAtF,EACAN,EAAA,WAAAA,EAAA,WAAA,EAAAA,EAAA,OAEAmB,GAAAnB,EAAA,oBAAA4F,EAAA,EAAA,EACAtE,IAAA,EACAK,GAAA3B,EAAA,oBACA6F,GAAA7F,EAAA,oBAAA,EACA8B,GAAA9B,EAAA,IACA9E,GAAA8E,EAAA,WACAF,GAAAE,EAAA,OAAA,aACAoD,GAAApD,EAAA,YAAA,WAA2D,MAAA,IAC3D4C,GAAA5C,EAAA,UAAA,WAA2D,MAAA,IAC3D8F,GAAA9F,EAAA,KAAgD+F,IAAA,aAAmBC,IAAA,cACnEjF,GAAAf,EAAA,WACAiG,GAAAjG,EAAA,OAAAA,EAAA,aAAA8F,IAAAA,GAAA,IAAA/C,EAAA,SAAA,GACAmD,GAAAlG,EAAA,cAAA,EACAmG,GAAA,EAIA,KAAAP,IAAAzE,GAAA,EAEA,IAAAL,IAAAd,EAAA,aAEAY,QAAA,SAAAwF,GAAwC,MAAAA,IACxCpF,QAAA,SAAAnb,GAAwC,MAAAA,KAkOxC0b,IACA8E,MAAA,SAAAlI,EAAAmI,EAAAC,EAAAvJ,EAAA8C,GAEA,GAAAL,IAA0B+G,KAAAP,GAAAQ,KAAAF,GAAA1D,GAC1B6D,EAAAxB,WAAAD,GACAjI,EAAAA,GAAA,aACAyD,EAAAX,GAAA,aACA6C,EAAAC,IAGA,IAAAzE,EAAAwI,QAAAC,iBAAA,EAAA,OAAA,CAEA,IAAAf,GAAA,CACA,IAAAb,EAAA,OAAA,CACA,IAAA,KAAArC,EAAA,OAAA,EAGA,MAAAiC,IAAA,GAEA,KAAAjC,IAAAlD,EAAA,SAAAkD,GAEAuD,KAAAzG,EAAA,WAAA0G,IAEArE,IACAwE,SAAAA,GAAAtB,EACAjJ,QAAA,IACAiB,SAAA2F,EACAlD,KAAAQ,EAAAR,GACAwD,QAAA,SAAAX,GACAD,EAAAC,EAAAtF,EAAAyD,IAEAyC,KAAA,SAAAZ,GACAE,EAAAF,EAAA7B,IAEA1F,KACA2L,EAAA,KAAA,WAAA,UACA3D,EAAA,UAAAvH,OAAA2C,GAAA,YAGA,IAEA0I,YAAA,SAAAnI,EAAA4H,EAAAC,EAAAvJ,EAAA8C,GAEA,GAAAL,IAA0B+G,KAAAP,GAAAQ,KAAAF,GAAA1D,GAC1B6D,EAAAxB,WAAAD,GACAjI,EAAAA,GAAA,aACAyD,EAAAX,GAAA,aACA6C,EAAAC,IAGA,IAAAlE,EAAAiI,QAAAC,iBAAA,EAAA,OAAA,CAEA,IAAAf,GAAA,CACA,IAAAb,EAAA,OAAA,CACA,IAAA,KAAArC,EAAA,OAAA,EAGA,MAAAiC,IAAA,GAEA,KAAAjC,IAAAlD,EAAA,SAAAkD,GAEAjE,GAAAA,EAAAjD,OAAA,IAAAgE,EAAA,iBAAAf,GAEAwH,KAAAzG,EAAA,WAAA0G,IAEArE,IACAwE,SAAAA,GAAAtB,EACAjJ,QAAA,IACAiB,SAAA2F,EACAlD,KAAAQ,EAAAR,GACAwD,QAAA,SAAAX,GACAD,EAAAC,EAAAtF,EAAAyD,IAEAyC,KAAA,SAAAZ,GACAE,EAAAF,EAAA7B,IAEA1F,KACA2L,EAAA,KAAA,WAAA,UACA3D,EAAA,UAAAvH,OAAA,KAAA,YAGA,IAEAsL,YAAA,SAAAC,GACArB,EAAAqB,GAEAC,eAAA,WACA,MAAAjG,KAEAkG,eAAA,SAAA7L,GACA2F,GAAA3F,GAEA8L,YAAA,SAAArG,EAAAzF,GACA,MAAAwF,GAAAC,EAAAzF,IAEA+L,YAAA,SAAAtG,EAAAzF,GACA,MAAA4F,GAAAH,EAAAzF,IAEAgM,cAAA,WACA,MAAAxB,IAGAyB,cAAA,SAAA9G,EAAA+G,GACA1B,EAAAtF,EAAAC,EAAAqF,EAAA9F,IACAqB,GAAAmG,GAAA1B,EAAA,EAAA,EACA,GAAAA,IACAzE,GAAA,GAEAiE,IACAnE,KAGAsG,uBAAA,WACA,MAAApG,KAGAqG,uBAAA,SAAAF,GACAnG,GAAAmG,EACArG,KAGAwG,YAAA,WACA,MAAAC,UAEAC,oBAAA,SAAAC,GACA,OACAnI,KAAAmI,IAGAC,qBAAA,SAAAD,GACA,GAAAE,IACAzI,KAAyBE,MAAA,EAAAD,MAAA,IAEzB,KAAAzB,IAAA+J,GACA/J,EAAAiK,GAAAF,EAAA/J,EAEA,OAAAiK,IAEAC,aAAA,WACA,GAAAD,KACAE,OAAAF,EAAA,OAAAE,KACA7I,OAAA2I,EAAA,QAAA3I,KACA,KAAAtB,IAAAoK,GACAH,EAAAjK,GAAAoK,EAAApK,EAEA,OAAAiK,IAGAI,WAAA,SAAA9M,EAAA+M,GACAjN,GAAAE,GAAA+M,GAGAzJ,cAAA,SAAAO,EAAAjC,GACA,GAIAoL,GACA1J,EALA2J,EAAApJ,EAAA,cACAjC,EAAAA,GAAAiC,EAAA,SACAhB,EAAAgB,EAAA,UAAAA,EAAA,QACAqJ,EAAArJ,EAAA,MAGAlE,KACA0E,KACA8I,EAAAtJ,EAAA,MAAA,KAGA,IAAAoJ,EAAA,CACA,GAAAG,GAAAH,EAAAzZ,MAAA,IAEA4Z,GAAA/M,OAAA,GACA2M,EAAA,MAAAI,EAAA,GAAA,KAAAA,EAAA,GAEA9J,EAAA8J,EAAA,IAEA9J,EAAA8J,EAAA,GAIAJ,GAAArN,EAAAW,KAAA,cAAAX,EAAAW,KAAAF,OAAA4M,IAEArN,EAAAW,KAAA,iBAEAgD,GAAA,MAAAA,GACA3D,EAAAW,KAAAgD,GAGAT,GACAX,QAAAW,KACAA,EAAAA,EAAAjD,KAAA,MAEAyE,EAAA8I,GAAAtK,EACAwB,EAAA,MAAA,EAAA,OAAA,SAEA,WAAA8I,GAAAxN,EAAAW,KAAA,UAGA,mBAAA4M,KAAA7I,EAAA,MAAA,EAAA,OAAA,SAEAgD,EAAAxD,EAAAjC,EAAAjC,EAAA0E,IAGAgJ,0BAAA,SAAAxJ,EAAAjC,GACA,GAAAoL,EAEAA,GAAAnJ,EAAA,WAAAA,EAAA,IAAAA,EAAA,eAAA,KACAmJ,IACAnJ,EAAA,cAAAmJ,EAAA,MAGA7G,GAAA,cAAAtC,EAAAjC,IAGA0L,4BAAA,SAAAzJ,EAAAjC,GACA,MAAAiC,GAAA,kBACAsC,IAAA,cAAAtC,EAAAjC,GADA8C,GAAA,0BAIA6I,6BAAA,SAAA1J,EAAAjC,GACA,MAAAiC,GAAA,cACAA,EAAA,SAAAA,EAAA,UAEAA,EAAA,KAAA,aACAsC,IAAA,cAAAtC,EAAAjC,IAHA8C,GAAA,mBADAA,GAAA,0BAOA8I,2BAAA,SAAA3J,EAAAjC,GACA,MAAAiC,GAAA,cACAA,EAAA,QAAAa,GAAA,mFAEAb,EAAA,KAAA,aACAsC,IAAA,cAAAtC,EAAAjC,IAJA8C,GAAA,0BAOA+I,0BAAA,SAAA5J,EAAAjC,GACA,MAAAiC,GAAA,cACAA,EAAA,SAAAA,EAAA,aACAsC,IAAA,cAAAtC,EAAAjC,GADA8C,GAAA,mBADAA,GAAA,0BAKAgJ,oBAAA,SAAA7J,EAAAjC,GACA,MAAA,mBAAAiC,GAAA,UACAjC,GAAAqI,IAGAA,EAAApG,EAAA,UACAsC,IAAA,cAAAtC,EAAAjC,KAGA+L,8BAAA,SAAA9J,EAAAjC,GACA,GAAAjC,IAAA,YACA0H,GAAAxD,EAAAjC,EAAAjC,IAEAiO,+BAAA,SAAA/J,EAAAjC,GACA,GAAAjC,IAAA,YAAAkE,EAAA,UAAA,SACAwD,GAAAxD,EAAAjC,EAAAjC,IAUAkO,QAAA,SAAAhK,EAAAjC,GACA,GAAAA,GAAAiC,EAAA,UAAAjC,EACAiF,EAAAhD,EAAA,OAAAA,EAAA,OAAA,IACAiK,EAAAjK,EAAA,SAAA,QACAwB,EAAAxB,EAAA,OAAA,aACAsH,EAAAtH,EAAA,UAAA4D,EACAsG,EAAAlK,EAAA,WACAd,EAAAc,EAAA,QACAP,EAAAO,EAAA,cACAmK,EAAAnK,EAAA,MACAoK,EAAApK,EAAA,IACAqK,EAAArK,EAAA,cACA/D,KACAyH,EAAAC,IAGA,OAAAzE,IAAAO,EACA1B,EACA+F,GAEA7H,EAAA,YAAA,OACAA,EAAA,MAAA+G,EACA/G,EAAA,QAAAgO,EACAhO,EAAA,KAAAqL,EAEA7H,IACAxD,EAAA,iBAAAwD,EACAP,IACAA,EAAA,MAGAwE,IAAAzH,EAAA,SAAAyH,GACAyG,IAAAlO,EAAA,MAAAkO,GACAC,IAAAnO,EAAA,IAAAmO,GACAC,IAAApO,EAAA,cAAA,YAGA4G,KACA9E,SAAA2F,EACAlD,KAAAQ,EAAA/E,GACA+H,QAAA,SAAAX,GACA,GAAA,gBAAAA,IAAAA,EAAA,MAEA,WADA7B,IAA6BZ,QAAAyC,EAAA,QAAAiH,QAAAjH,EAAA,SAK7B,KAAA,GAFAkH,GAAAlH,EAAA,GACAmH,KACArD,EAAA,EAAmCA,EAAAoD,EAAA/N,OAAqB2K,IAAA,CACxD,GAAAsD,GAAA1I,EAAAwI,EAAApD,GAAA+C,EACA,KACAM,EAAA,KAAAlO,KAAA,MAAAmO,IACyB,MAAAlrB,GACzBirB,EAAA,KAAA,IAGAzM,GAAAyM,EAAAnH,EAAA,GAAAA,EAAA,MAEAY,KAAA,SAAAZ,GACAE,EAAAF,EAAA7B,IAEA1F,KACA+H,EAAA,KAAA,UAAA,UACAC,EAAA,UAAAvH,OAAA2C,OA5CA2B,GAAA,yBADAA,GAAA,oBADAA,GAAA,oBAyDA6J,OAAA,SAAA1K,EAAAjC,GACA,GAWAjC,GAXAiC,EAAAA,GAAAiC,EAAA,UAAA,aACAsH,EAAAtH,EAAA,UAAA4D,EACA+G,EAAA3K,EAAA,OACA4K,EAAA5K,EAAA,YACA6K,EAAA7K,EAAA,KACAmK,EAAAnK,EAAA,MACAoK,EAAApK,EAAA,IACAiK,EAAAjK,EAAA,QACA8K,EAAA9K,EAAA,MACA0D,EAAAC,KACAnD,IAIA,OAAAmK,GACAC,EACAhF,EACA9B,GAGA,KAAAJ,IAAAlD,EAAA,SAAAkD,GACAmH,IAAArK,EAAA,KAAA,OACAyJ,IAAAzJ,EAAA,QAAA,QACA2J,IAAA3J,EAAA,MAAA2J,GACAC,IAAA5J,EAAA,IAAA4J,GACAU,IAAAtK,EAAA,MAAAsK,GAEAtK,EAAA,KAAA8G,EAGAxL,GACA+H,EAAA,KAAA,SACA+B,EAAA9B,EACA6G,EAAAC,OAIA/H,KACA9E,SAAA2F,EACAM,QAAA,SAAAX,GACAD,EAAAC,EAAAtF,EAAAyD,MAEAyC,KAAA,WAAuClG,GAAA,EAAA,kBACvCjC,IAAAA,EACA0E,KAAAQ,EAAAR,MA3BAK,GAAA,yBADAA,GAAA,uBADAA,GAAA,+BADAA,GAAA,2BAqCA2G,KAAA,SAAAA,GACA5D,EAAA4D,EACArB,KAMAlB,KAAA,SAAAlH,GACA,GAAA2F,GAAAC,KAEAnD,GAAwB+G,KAAAP,GAAAQ,KAAA5D,EAExBqD,MAAAzG,EAAA,WAAA0G,IAEArE,IACA9E,SAAA2F,EACAlD,KAAAQ,EAAAR,GACA1D,QAAA,EAAAgD,OACAhE,KAAA+H,EAAA,OAAAH,GACAM,QAAA,SAAAX,GAA+CtF,EAAAsF,EAAA,KAC/CY,KAAA,WAAuClG,EAAA,OAUvC4C,QAAA,SAAAX,EAAAjC,GACA,GAAAkC,GAAAD,EAAA,OACA,KAAAC,EAAA,MAAAY,IAAA,kBAEA,IASA/E,GATAiC,EAAAA,GAAAiC,EAAA,UAAAC,EAAA,UAAA,aACAf,EAAAc,EAAA,SAAAC,EAAA,QACAqH,EAAAtH,EAAA,UAAA4D,EACAsG,EAAAlK,EAAA,WACAwB,EAAAxB,EAAA,OAAAC,EAAA,OAAA,aACA8K,EAAA/K,EAAA,OAAA,EACAgL,EAAA,oBAAAhL,GAAAA,EAAA,kBAAA,EACA0D,EAAAC,KACAsH,EAAA,MAKA,OAFAjL,GAAA,UAAAiL,EAAA,WAEA/L,EACA0G,EACA9B,GAEA7D,EAAA,mBACAA,EAAAA,EAAA,oBAIAA,EAAA3D,KAAA,UAAAqF,EAAA1B,EAAAiK,IAGApO,GACA+H,EAAA,UACA+B,EAAA9B,EACA,EAAAvH,OAAA2C,GACAwE,EAAAnH,OAAA0D,IAGAhE,IAAsBsL,KAAAP,GAAAQ,KAAAF,GAEtB0D,IAAA/O,GAAA,MAAA,KAEAgL,KAAAhL,GAAA,WAAAiL,IAGAvE,EAAAsI,IACAlN,SAAA2F,EACA5G,QAAA,EAAAgD,OACAhE,IAAAA,EACA0E,KAAAQ,EAAA/E,IACAgI,KAAA,SAAAZ,GACAE,EAAAF,EAAA7B,GACAb,EAAA,IAEAqD,QAAA,SAAAX,GACAD,EAAAC,EAAAtF,EAAAyD,GACAb,EAAA,IAEA2I,KAAA,EAAA,OAAA,YAIA3I,MAzCAE,GAAA,yBADAA,GAAA,uBADAA,GAAA,oBAiDAqK,YAAA,SAAAlL,EAAAjC,GACA,GAAAmB,GAAAc,EAAA,QACAP,EAAAO,EAAA,cACAsH,EAAAtH,EAAA,UAAA4D,EACA7F,EAAAA,GAAAiC,EAAA,UAAA,aACAwB,EAAAxB,EAAA,OAAA,YAEAwG,GAAA,EAGAtH,IAEAA,EAAAP,KACAO,EAAAnD,KAAAmD,EAAAnD,KAAA,KAAA,GAAAmD,GACAvP,MAAA,KAAA,SAAAuP,GACA,MAAAiD,GAAAjD,GACAA,EAAA,IAAAA,EAAAyI,gBADA,SAEiB5L,KAAA,KAGjBG,KAAAgD,EAAAvP,MAAA,KAAA,SAAAwb,GACA,GAAAC,IAAA,CACAD,KACAhJ,EAAAgJ,GAAA,EACAA,IAAAzE,UAAAA,GAAAyE,GACAxL,QACAyL,EAAA9I,GAAA,MAAA6I,EAAA,EAAA7D,EAAAvJ,EAAAyD,IAEA4J,GAAArN,GAA8CsN,OAAA,cAM9C5L,IAEAA,EAAAd,KACAc,EAAA1D,KAAA0D,EAAA1D,KAAA,KAAA,GAAA0D,GACA9P,MAAA,KAAA,SAAA8P,GACA,MAAA2C,GAAA3C,GACAA,EAAA,IAAAA,EAAAkI,gBADA,SAEiB5L,KAAA,KAGjBG,KAAAuD,EAAA9P,MAAA,KAAA,SAAA2b,GACA,GAAAF,IAAA,CACAE,KACAlJ,EAAAkJ,GAAA,EACAA,IAAA5E,UAAAA,GAAA4E,GACA3L,QACAyL,EAAA9I,GAAA,YAAAgJ,EAAA,EAAAhE,EAAAvJ,EAAAyD,IAEA4J,GAAArN,GAA8CsN,OAAA,cAM9ClF,KASAoF,UAAA,SAAAvL,EAAAjC,GAsJA,QAAAyN,GAAAxH,GACAA,EAEAlH,QAAAqJ,EAAArG,SAIA+D,EAAAoC,WAAAD,EAAA,GACAE,EAAAD,WAAAD,EAAA,GAGAlJ,QAAA,WACAwF,GAAA,KAAAkJ,IACqB1L,SAIrBoD,EAAA,SAAAhE,GAEA,MAAA8E,IAAA9E,EAAAuM,cACAvM,EAAAuM,aAAA,EACAvM,EAAAwM,UAAAxM,EAAArP,YAIAmU,GAAA9E,EAAAuM,eACAvM,EAAAuM,aAAA,EACAvM,EAAAyM,WAAAzM,EAAArP,UAKAkT,EAAA,SAAAtD,GAEA,MAAAuE,IAAAvE,EAAAgM,cACAhM,EAAAgM,aAAA,EACAhM,EAAAiM,UAAAjM,EAAA5P,YAIAmU,GAAAvE,EAAAgM,eACAhM,EAAAgM,aAAA,EACAhM,EAAAkM,WAAAlM,EAAA5P,UAMA,QAAA+b,KACA,GAAAlI,GAAAC,KACA3E,EAAAD,sBAAAoD,GAAApG,KAAA,KACAyD,EAAAD,4BAAA6C,GAAArG,KAAA,IAGA,IAAAiD,GAAAQ,EAAA,CAEAR,IAAAA,EAAA,KAGAoF,GAEA,IAAA5D,GAAAQ,GAA4CuG,KAAAP,GAAAQ,KAAAF,GAE5C9H,KACAgB,EAAA,iBAAAhB,EAIA,IAAAqM,GAAAvP,KAAAiG,UAAAmE,EACAmF,GAAArP,OAAA,IAAAgE,EAAA,MAAAlE,KAAAiG,UAAAmE,IAEAC,IAAAnG,EAAA,UAAAmG,GAEAM,KAAAzG,EAAA,WAAA0G,IAEA1E,IACAmC,EAAA9B,IACA/F,QAAAgP,EACA/N,SAAA2F,EACAO,KAAA,SAAAZ,GACAA,GAAAA,EAAA,OAAAA,EAAA,SACAE,EAAAF,EAAA0I,GACAP,EAAA,IAEAlJ,GAAA,KAAA,SAAA0B,IACAA,GAAAT,EAAAF,EAAA0I,GACAP,EAAAxH,MAIAxD,KAAAQ,EAAAR,GACA1E,KACAoK,EAAA,YACApC,EAAAvH,OAAAyC,GACA0E,EAAA8C,GAEAxC,QAAA,SAAAuG,GAGA,IAAAA,GACA,gBAAAA,IACA,SAAAA,IACAA,EAAA,MAGA,MADAwB,GAAAxB,EAAA,OACAzN,QAAAqJ,EAAArG,OAkCA,IA9BAkM,EAAAzB,EAAA,IAGA/D,GAAAA,GACAD,GACAM,GAAA,IAAA/C,IAAAyG,EAAA,GAYArH,EAAA,SAAAhE,GACAA,EAAA+M,YACA/M,EAAA+M,UAAA,EACA/M,EAAAW,QAAAX,EAAArP,SAIAkT,EAAA,SAAAtD,GACAA,EAAAwM,YACAxM,EAAAwM,UAAA,EACAxM,EAAAI,QAAAJ,EAAA5P,SAGA4W,IAAAF,EAMA,MALAC,GAAA,EACAC,GAAA,EAEAI,GAAA,IAAA/C,EAAA,OACAhH,SAAA8O,EAAAM,EAMAC,KACA3F,EAAA,IACA2F,EAAA,GAIAtF,GAAA,IAAA/C,EAAAyG,EAAA,GAGA,IAAA6B,GAAA,WACA,GAAApN,GAAA,GACAqN,EAAA,EAEA9B,GAAA/N,OAAA,GACAwC,EAAAuL,EAAA,GACA8B,EAAA9B,EAAA,IAEAvL,EAD6BuL,EAAA/N,OAAA,EAC7B+N,EAAA,GAEA5L,IACAI,sBAAAoD,GAAA,SAAAgB,GAAqF,MAAAxE,KACrFJ,MAAAgM,EAAA,GAAA/N,QACAT,KAAA,KAAApM,MAAA,KACA,WAAoD,MAAAwT,OACbpH,KAAA,IAGvC,IAAAjb,GAAAke,EAAArP,MAAA,KACA2c,EAAA,EAAAD,EAAA1c,MAAA,OAEA,OAAA,YACA,GAAAuP,GAAApe,EAAAgiB,SAAAwD,EACAiG,EAAAD,EAAAxJ,QAEA0J,IAEAD,IACArN,GAAAA,EAAAwI,QAAA,YAAA,GACA6E,EAAA7E,QAAA,WAAA,IACA6E,GAAA,WAEAC,EAAApK,EAAAmK,IAAApK,EAAAoK,KAA+FxO,SAAA,eAE/FyO,EAAArK,EAAAjD,EAGA,IAAAjB,IACAuO,EACAzO,UAAAsI,EACAnH,EAAAvP,MAAAgY,iBAAA,GAGA,OADA4E,IAAAtO,EAAAxB,KAAA8P,EAAA5c,MAAAgY,iBAAA,IACA1J,MAIAmH,EAAAR,GAAA2F,EAAA,GACArO,MAAAqO,EAAA,GAAA,SAAAtK,GACA,GAAAwC,GAAA2J,IACAK,EAAA1K,EAAA9B,EACAkC,EAAAM,EAAA,IAAAN,EAAAM,EAAA,IAAA,WAAA,KACAA,GAAA,IAAAA,EAAA,GAAAgK,EAAAlC,EAAA9H,EAAA,IAAAA,EAAA,GAAA2C,EAAA3C,EAAA,MAGA3F,QAAA8O,EAAAM,OA3WA,GAAAhN,GAAAc,EAAA,QACAP,EAAAO,EAAA,cACAjC,EAAAA,GAAAiC,EAAA,SACAjC,EAAAA,GAAAiC,EAAA,QACAsH,EAAAtH,EAAA,UAAA4D,EACA/D,EAAAG,EAAA,SAAA,aACA0L,EAAA1L,EAAA,WAAA,aACA2L,EAAA3L,EAAA,YAAA,aACA+L,EAAA/L,EAAA,OAAA+L,GAAA,aACAC,EAAAhM,EAAA,MAAA,aACA/N,EAAA+N,EAAA,UAAA,EACA0M,EAAA1M,EAAA,YAAA,EACAmM,EAAAnM,EAAA,UAAA,EACA2M,EAAA3M,EAAA,WAAA,EACA8L,EAAA9L,EAAA,SAAAwF,EACA0G,EAAAlM,EAAA,WAAAsF,EACArO,EAAA+I,EAAA,MACAsB,EAAAtB,EAAA,WAAAA,EAAA,UACAqI,EAAArI,EAAA,mBACA4M,EAAA5M,EAAA,SAAAuG,CASA,OANAA,GAAAqG,EAGApG,EAAAmG,EAGAzN,GAAAO,EAIA1B,EACA+F,IAEAxC,GAAA,IAAAA,GAAA+G,GAAA,IAAAA,IACA/F,GAAA,cAAAhB,EAAA+G,GAIAnJ,GACAhD,MAAAgD,EAAAnD,KAAAmD,EAAAnD,KAAA,KAAA,GAAAmD,GAAAvP,MAAA,KACA,SAAAuP,GACA,GAAA2N,GAAA1K,EAAAjD,MAGAiD,GAAAmE,EAAApH,IACArP,KAAAqP,EACA+M,UAAAY,EAAAZ,UACAR,aAAAoB,EAAApB,aACApM,WAAA,EACAtB,SAAAsI,EAAAtI,EACAmM,WAAAlK,EAAA,WACAH,QAAAA,EACA8L,WAAAA,EACAD,UAAAA,GAGAzU,IAEAyP,EAAAxH,GADAA,IAAAjI,GACAA,EAAAiI,GAEAjI,GAKAhF,IAGAqQ,GAAA,WACApD,QAAAA,EAAAyI,gBACA5J,SAAA9L,EACA2a,QAAAA,IAIAC,EAAAxN,YAGAqN,GACApK,GAAA,UACApD,QAAAA,EACAsB,KAAAQ,GAAsDuG,KAAAP,GAAAQ,KAAAF,IACtDvJ,SAAA,SAAA+O,GACA5Q,KAAA,SAAA4Q,GAAAA,EAAA,SACA,SAAAC,GAA2C9a,GAC3CoZ,OAAA,OACA9D,KAAAwF,EACAC,UAAA9O,KAAA+O,MAAAvR,OAAA,KACAwR,UAAAJ,EAAA,WAAA,GAC6BA,EAAA5N,WAO7BO,GACAvD,MAAAuD,EAAA1D,KAAA0D,EAAA1D,KAAA,KAAA,GAAA0D,GAAA9P,MAAA,KACA,SAAA8P,GACA,GAAAoN,GAAAzK,EAAA3C,MAEA2C,GAAA3C,IACA5P,KAAA4P,EACAwM,UAAAY,EAAAZ,UACAR,aAAAoB,EAAApB,aACApM,WAAA,EACAtB,SAAAsI,EAAAtI,EACAmM,WAAAlK,EAAA,WACAH,QAAAA,EACA8L,WAAAA,EACAD,UAAAA,GAIAzZ,IAGAqQ,GAAA,WACA7C,cAAAA,EAAAkI,gBACA5J,SAAA9L,EACA2a,QAAAA,EACAtF,SAAAA,IAIAuF,EAAAxN,YAGAqN,GACApK,GAAA,UACA7C,cAAAA,EACAe,KAAAQ,GAA4DuG,KAAAP,GAAAQ,KAAAF,IAC5DvJ,SAAA,SAAA+O,GACA5Q,KAAA,SAAA4Q,GAAAA,EAAA,SACA,SAAAC,GAA2C9a,GAC3CoZ,OAAA,OACA9D,KAAAwF,EACAC,UAAA9O,KAAA+O,MAAAvR,OAAA,KACAwR,UAAAJ,EAAA,WAAA,GAC6BA,EAAArN,WAmO7B0G,EAAA,WACA/B,IACAtH,QAAA8O,EAAAM,IAIAvM,UAGAwG,KAHAvG,aAAAnD,KAAA0J,IArVAtF,GAAA,yBADAA,GAAA,oBAHAA,GAAA,oBAkWAsM,SAAA,SAAAnN,EAAAjC,GACA,GAAAA,GAAAiC,EAAA,UAAAjC,EACAyD,EAAAxB,EAAA,OAAA,aACAsH,EAAAtH,EAAA,UAAA4D,EACA1E,EAAAc,EAAA,QACAP,EAAAO,EAAA,cACA0D,EAAAC,KACAyJ,EAAA,SAAApN,GAAAA,EAAA,OAAA,EACA/I,EAAA+I,EAAA,MACAQ,GAA4B+G,KAAAP,GAAAQ,KAAAF,EAM5B,IAJA8F,IAAA5M,EAAA,cAAA,GACAvJ,IAAAuJ,EAAA,MAAA,IAGAzC,EAAA,MAAA8C,IAAA,mBACA,KAAAiD,EAAA,MAAAjD,IAAA,wBAEA,IAAA/E,IACA+H,EAAA,KAAA,WACA,UAAAC,EAGA5E,IAAApD,EAAAW,KAAA,YAAAX,EAAAW,KAAAF,OAAA2C,IAEA,KAAAwE,IAA+BlD,EAAA,SAAAkD,GAE/BjE,IACAe,EAAA,iBAAAf,GACAP,GAAApD,EAAAW,KAAA,YAAAX,EAAAW,KAAA,MAGAwK,KAAAzG,EAAA,WAAA0G,IAEArE,IACA9E,SAAA2F,EACAlD,KAAAQ,EAAAR,GACAwD,QAAA,SAAAX,GACAD,EAAAC,EAAAtF,EAAAyD,IAEAyC,KAAA,SAAAZ,GACAE,EAAAF,EAAA7B,IAEA1F,IAAAA,KAOAuR,UAAA,SAAArN,EAAAjC,GACA,GAAAA,GAAAiC,EAAA,UAAAjC,EACAyD,EAAAxB,EAAA,OAAA,aACAsH,EAAAtH,EAAA,UAAA4D,EACAF,EAAAC,KACA4D,EAAAvH,EAAA,MAAAgH,GACAxG,GAA4BgH,KAAAF,EAG5B,OAAAvJ,GACA+F,GAEA,KAAAJ,IAA+BlD,EAAA,SAAAkD,GAE/BuD,KAAAzG,EAAA,WAAA0G,QAEArE,KACA9E,SAAA2F,EACAlD,KAAAQ,EAAAR,GACAwD,QAAA,SAAAX,GACAD,EAAAC,EAAAtF,EAAAyD,IAEAyC,KAAA,SAAAZ,GACAE,EAAAF,EAAA7B,IAEA1F,KACA+H,EAAA,KAAA,WACA,UAAAC,EACA,OAAAvH,OAAAgL,OAlBA1G,GAAA,yBADAA,GAAA,qBAwBA5J,MAAA,SAAA+I,EAAAjC,GACA,GAQAjC,GARAiC,EAAAiC,EAAA,UAAAjC,GAAA,aACAyD,EAAAxB,EAAA,OAAA,aACAsH,EAAAtH,EAAA,UAAA4D,EACAF,EAAAC,KACA1M,EAAA+I,EAAA,MACAuH,EAAAvH,EAAA,MAAAgH,GACA9H,EAAAc,EAAA,QACAP,EAAAO,EAAA,cAEAQ,EAAAQ,GAA4CwG,KAAAF,GAG5C,OAAAxD,GACAyD,EACArI,GAAAO,GAEA,KAAAiE,IAA+BlD,EAAA,SAAAkD,GAE/B,mBAAAxE,IACAiD,EAAAjD,IAAAiD,EAAAjD,GAAAG,YACApI,IAAAyP,EAAAxH,GAAAjI,GAGA,mBAAAwI,IACA2C,EAAA3C,IACA2C,EAAA3C,GAAAJ,aAEApI,IAAAyP,EAAAjH,GAAAxI,GACAuJ,EAAA,iBAAAf,EAEAP,IACAA,EAAA,MAIAsB,EAAA,MAAAlE,KAAAiG,UAAAtL,GAEAgQ,KAAAzG,EAAA,WAAA0G,IAGApL,EADA7E,GAEA4M,EAAA,KAAA,WACA,UAAAC,EACA,UAAA5E,EACA,OAAAqI,EAAA,SAIA1D,EAAA,KAAA,WACA,UAAAC,EACA,UAAA5E,EACA,OAAA3C,OAAAgL,QAIA1E,KACA9E,SAAA2F,EACAlD,KAAAQ,EAAAR,GACAwD,QAAA,SAAAX,GACAD,EAAAC,EAAAtF,EAAAyD,IAEAyC,KAAA,SAAAZ,GACAE,EAAAF,EAAA7B,IAEA1F,IAAAA,KAlDA+E,GAAA,mBADAA,GAAA,gBADAA,GAAA,0BAqEAyM,MAAA,SAAAtN,EAAAjC,GACA,GAAAA,GAAAiC,EAAA,UAAAjC,EACAyD,EAAAxB,EAAA,OAAA,aACAd,EAAAc,EAAA,QACAP,EAAAO,EAAA,cACA0D,EAAAC,KACA4J,EAAAvN,EAAA,IACA/B,EAAA+B,EAAA,KAAA,IAAA,IACAwN,EAAAxN,EAAA,MAAA,IAAA,IACA5f,EAAA4f,EAAA,OAAA,IAAA,IACAsH,EAAAtH,EAAA,QAEA,KAAAjC,EAAA,MAAA8C,IAAA,mBACA,KAAAiD,EAAA,MAAAjD,IAAA,wBACA,KAAA+E,EAAA,MAAA/E,IAAA,sBACA,KAAAgF,EAAA,MAAAhF,IAAA,qBAEA,IAAAmM,GAAA9O,KAAA+O,OAAA,GAAAxR,OAAAgS,UAAA,KACAC,EAAA5J,EAAA,KAAA8B,EAAA,YAGApF,GACAgN,EAAAA,EACAvP,EAAAA,EACA+O,UAAAA,EAEAhN,GAAA,SACAQ,EAAA,EAAApgB,GAEA,mBAAA8e,IAAA,MAAAA,GAAAA,EAAA1C,OAAA,IAAAgE,EAAA,QAAAtB,GACA,mBAAAO,IAAA,MAAAA,GAAAA,EAAAjD,OAAA,IACAgE,EAAA,iBAAAf,GAEA,KAAAiE,IAA+BlD,EAAA,SAAAkD,IAC/B6J,GAAA,IAAAA,KAAA/M,EAAA,IAAA+M,GAEAjG,IAAA9G,EAAA,KAAA8G,GAEA9G,EAAAQ,EAAAR,GAEA8G,SAAA9G,GAAA,KAEAkN,GAAAvM,EAAAX,EAEA,IAAAmN,GAAA7H,EAAA4H,EAAA7H,EAEA8H,GAAAA,EAAAlQ,QAAA,MAAA,KACAkQ,EAAAA,EAAAlQ,QAAA,MAAA,KAEA+C,EAAA,UAAAmN,EAEA9K,IACA9E,SAAA2F,EACAlD,KAAAA,EACAwD,QAAA,SAAAX,GACAD,EAAAC,EAAAtF,EAAAyD,IAEAyC,KAAA,SAAAZ,GACAE,EAAAF,EAAA7B,IAEA1F,KACA+H,EAAA,KAAA,OAAA,QACA,UAAAC,MAgBA8J,oBAAA,SAAA5N,GAEA,GAQAlE,GARAiC,EAAAiC,EAAA,UAAA,aACAsH,EAAAtH,EAAA,UAAA4D,EACApC,EAAAxB,EAAA,OAAA,aACA0D,EAAAC,KACAzE,EAAAc,EAAA,QACA6N,EAAA7N,EAAA,GACA8N,EAAA9N,EAAA,QACA+N,EAAA/N,EAAA,SAGA,OAAA+N,GACAD,EACAD,EACA3O,EACA0G,EACA9B,GAGAhI,GACA+H,EAAA,kBACAC,EAAA,UAAAiK,GAGA9R,IAAsBsL,KAAAP,GAAAQ,KAAAF,EAAA0G,KAAAF,GAEtB,OAAAD,EACA5R,GAAA,IAAAiD,EACa,UAAA2O,IACb5R,GAAA,OAAAiD,GAGA+H,KAAAzG,KAAA,WAAA0G,QAEArE,KACA9E,SAAA2F,EACAlD,KAAAvE,GACA+H,QAAA,SAAAX,GACAD,EAAAC,EAAAtF,EAAAyD,IAEAyC,KAAA,SAAAZ,GACAE,EAAAF,EAAA7B,IAEA1F,IAAAA,KA3BA+E,GAAA,yBADAA,GAAA,uBADAA,GAAA,4CADAA,GAAA,4CADAA,GAAA,0CADAA,GAAA,kCA+CAoN,MAAA,SAAAjO,EAAAjC,GACA,GAAAA,GAAAiC,EAAA,UAAAjC,EACAyD,EAAAxB,EAAA,OAAA,aACAd,EAAAc,EAAA,QACAP,EAAAO,EAAA,cACAsH,EAAAtH,EAAA,SACA0D,EAAAC,IAGA,KAAA5F,EAAA,MAAA8C,IAAA,mBACA,KAAAiD,EAAA,MAAAjD,IAAA,wBACA,KAAA+E,EAAA,MAAA/E,IAAA,sBACA,KAAAgF,EAAA,MAAAhF,IAAA,qBAEA,IAAAmM,GAAA9O,KAAA+O,OAAA,GAAAxR,OAAAgS,UAAA,KACAC,EAAA5J,EAAA,KACA8B,EAAA,YAGApF,GAAwBwM,UAAAA,EACxB,MAAAtJ,IAA+BlD,EAAA,SAAAkD,GAC/B,mBAAAxE,IAAA,MAAAA,GAAAA,EAAA1C,OAAA,IAAAgE,EAAA,QAAAtB,GACA,mBAAAO,IAAA,MAAAA,GAAAA,EAAAjD,OAAA,IACAgE,EAAA,iBAAAf,GAEA6H,IAAA9G,EAAA,KAAA8G,GAEA9G,EAAAQ,EAAAR,GAEA8G,SAAA9G,GAAA,KAEAkN,GAAAvM,EAAAX,EAEA,IAAAmN,GAAA7H,EAAA4H,EAAA7H,EAEA8H,GAAAA,EAAAlQ,QAAA,MAAA,KACAkQ,EAAAA,EAAAlQ,QAAA,MAAA,KAEA+C,EAAA,UAAAmN,EACA9K,IACA9E,SAAA2F,EACAlD,KAAAA,EACAwD,QAAA,SAAAX,GACAD,EAAAC,EAAAtF,EAAAyD,IAEAyC,KAAA,SAAAZ,GACAE,EAAAF,EAAA7B,IAEA1F,KACA+H,EAAA,KAAA,OAAA,QACA,UAAAC,MAaAoK,OAAA,SAAAlO,EAAAjC,GACAiC,EAAA,MAAA,EACAA,EAAA,OAAA,EACAsC,GAAA,MAAAtC,EAAAjC,IAEAoQ,SAAA,SAAA5G,GACAP,GAAAO,EACApB,KAEAiI,SAAA,WACA,MAAApH,KAEA3I,QAAA,SAAAC,GACA,MAAAD,SAAAC,IAEA+P,uBAAA,WACA,MAAAtP,uBAAAoD,GAAA,IAEAmM,mBAAA,SAAAtO,GACA,GAAAjC,GAAAiC,EAAA,UAAA,aACAwB,EAAAxB,EAAA,OAAA,aACA0D,EAAAC,KACAnD,GAA4B+G,KAAAP,GAAAQ,KAAA5D,GAE5BiI,EAAAvP,KAAA,UAAAoK,EACAmF,GAAArP,OAAA,IAAAgE,EAAA,MAAAlE,KAAA,UAAAoK,IAEAC,EAAA,GAAA,IAAAA,IAAAnG,EAAA,UAAAmG,GAEA,KAAAjD,IAA+BlD,EAAA,SAAAkD,EAE/B,IAAA1E,GAAAzC,OAAAwC,sBAAAoD,GAAA,GAAA,KAAA,MACA3C,EAAAD,4BAAA6C,GAAA,GAAA,KAAA,IAEApD,KAAAA,EAAA,KACAQ,IAAAgB,EAAA,iBAAAhB,GAEAyH,KAAAzG,EAAA,WAAA0G,IAEArE,IACA9E,SAAA2F,EACAlD,KAAAQ,EAAAR,GACA1D,QAAA,EAAAgD,OACAhE,KACA+H,EAAA,KAAA,WACA,UAAAC,EACA,UAAA9E,EACA,aAEAgF,QAAA,SAAAX,GACAD,EAAAC,EAAAtF,EAAAyD,IAEAyC,KAAA,SAAAZ,GAA+CE,EAAAF,EAAA7B,OAG/C+M,YAAA,WACAtR,aAAAoH,GACApH,aAAAwH,IAIA5B,IAAAA,GACAnD,MAAAA,MACAmH,GAAAA,GACAU,KAAAzJ,cACAa,IAAAA,IACAzC,KAAAA,KACAsS,eAAAtL,EACA/F,KAAAA,KACAsR,QAAA,WAAqCrK,EACrC,GAAgBxD,QAAA,kDAEhBtD,SAAAA,SACAoR,IAAAhT,KACAH,OAAAA,OACAoB,QAAAA,QAgEA,OAhCAqK,MAAAA,GAAA1E,GAAA,QACA4E,KAAAA,GAAA5E,GAAA,QACAuE,GAAA,IAAA/C,EAAA,OAAAkD,IAEA3C,EAAAvH,QAAAoH,EAAApE,QACA2E,EAAA3H,QAAAwH,EAAAI,GACAzC,EAAAnF,QACA0F,GACAN,GAAA,GAAApC,QASA0E,IAeAlC,GAi9BA,QAAAT,cAGA,QAAA8M,GAAAC,GAKA,QAAAC,GAAAhG,EAAAiG,GACA,GAAAC,IAAA,MAAAlG,IAAA,MAAAiG,GACAE,GAAAnG,GAAA,KAAAiG,GAAA,KAAAC,GAAA,GACA,OAAAC,IAAA,GAAA,MAAAD,EAGA,QAAAE,GAAAC,EAAAlG,GACA,MAAAkG,KAAAlG,EAAAkG,GAAA,GAAAlG,EAGA,QAAAmG,GAAAD,EAAAlG,GACA,MAAAkG,KAAAlG,EAGA,QAAAoG,GAAAvG,EAAAiG,EAAAO,GACA,MAAAxG,GAAAiG,GAAAjG,EAAAwG,EAGA,QAAAC,GAAAzG,EAAAiG,EAAAO,GACA,MAAAxG,GAAAiG,EAAAjG,EAAAwG,EAAAP,EAAAO,EAGA,QAAAE,GAAA1G,GACA,MAAAoG,GAAApG,EAAA,GAAAoG,EAAApG,EAAA,IAAAoG,EAAApG,EAAA,IAGA,QAAA2G,GAAA3G,GACA,MAAAoG,GAAApG,EAAA,GAAAoG,EAAApG,EAAA,IAAAoG,EAAApG,EAAA,IAGA,QAAA4G,GAAA5G,GACA,MAAAoG,GAAApG,EAAA,GAAAoG,EAAApG,EAAA,IAAAsG,EAAAtG,EAAA,GAGA,QAAA6G,GAAA7G,GACA,MAAAoG,GAAApG,EAAA,IAAAoG,EAAApG,EAAA,IAAAsG,EAAAtG,EAAA,IAGA,QAAA8G,GAAAvvB,EAAAid,GACA,GAGA8J,GAAAvgB,EAAAvG,EAAAsG,EAAApH,EAAAkf,EAAAmR,EAAAC,EAAAnR,EAAAoR,EACAC,EAAAC,EAJAC,EAAA,GAAA1R,OAAA,WAAA,WAAA,WAAA,WAAA,UAAA,WAAA,WAAA,WAAA,WAAA,UAAA,UAAA,WAAA,WAAA,WAAA,WAAA,WAAA,WAAA,WAAA,UAAA,UAAA,UAAA,WAAA,WAAA,WAAA,WAAA,WAAA,WAAA,WAAA,WAAA,WAAA,UAAA,UAAA,UAAA,UAAA,WAAA,WAAA,WAAA,WAAA,WAAA,WAAA,WAAA,WAAA,WAAA,WAAA,WAAA,WAAA,WAAA,UAAA,UAAA,UAAA,UAAA,UAAA,UAAA,WAAA,WAAA,WAAA,WAAA,WAAA,WAAA,WAAA,WAAA,WAAA,WAAA,YACA2R,EAAA,GAAA3R,OAAA,WAAA,WAAA,WAAA,WAAA,WAAA,WAAA,UAAA,YACA4R,EAAA,GAAA5R,OAAA,GAIAne,GAAAid,GAAA,IAAA,KAAA,GAAAA,EAAA,GACAjd,GAAAid,EAAA,IAAA,GAAA,GAAA,IAAAA,CAEA,KAAA,GAAAqB,GAAA,EAAuBA,EAAAte,EAAAoc,OAAckC,GAAA,GAAA,CACrCyI,EAAA+I,EAAA,GACAtpB,EAAAspB,EAAA,GACA7vB,EAAA6vB,EAAA,GACAvpB,EAAAupB,EAAA,GACA3wB,EAAA2wB,EAAA,GACAzR,EAAAyR,EAAA,GACAN,EAAAM,EAAA,GACAL,EAAAK,EAAA,EAEA,KAAA,GAAAJ,GAAA,EAA2B,GAAAA,EAAQA,IACnCK,EAAAL,GAAA,GAAAA,EAAA1vB,EAAA0vB,EAAApR,GACAmQ,EAAAA,EAAAA,EAAAa,EAAAS,EAAAL,EAAA,IAAAK,EAAAL,EAAA,IAAAL,EAAAU,EAAAL,EAAA,MAAAK,EAAAL,EAAA,KAEAC,EAAAlB,EAAAA,EAAAA,EAAAA,EAAAgB,EAAAL,EAAAjwB,IAAA6vB,EAAA7vB,EAAAkf,EAAAmR,IAAAK,EAAAH,IAAAK,EAAAL,IACAE,EAAAnB,EAAAU,EAAApI,GAAAmI,EAAAnI,EAAAvgB,EAAAvG,IAEAwvB,EAAAD,EACAA,EAAAnR,EACAA,EAAAlf,EACAA,EAAAsvB,EAAAloB,EAAAopB,GACAppB,EAAAtG,EACAA,EAAAuG,EACAA,EAAAugB,EACAA,EAAA0H,EAAAkB,EAAAC,EAGAE,GAAA,GAAArB,EAAA1H,EAAA+I,EAAA,IACAA,EAAA,GAAArB,EAAAjoB,EAAAspB,EAAA,IACAA,EAAA,GAAArB,EAAAxuB,EAAA6vB,EAAA,IACAA,EAAA,GAAArB,EAAAloB,EAAAupB,EAAA,IACAA,EAAA,GAAArB,EAAAtvB,EAAA2wB,EAAA,IACAA,EAAA,GAAArB,EAAApQ,EAAAyR,EAAA,IACAA,EAAA,GAAArB,EAAAe,EAAAM,EAAA,IACAA,EAAA,GAAArB,EAAAgB,EAAAK,EAAA,IAEA,MAAAA,GAGA,QAAAE,GAAA7S,GAGA,IAAA,GAFA8S,GAAA9R,QACA+R,GAAA,GAAAC,GAAA,EACA7R,EAAA,EAAuBA,EAAAnB,EAAAf,OAAA+T,EAAwB7R,GAAA6R,EAC/CF,EAAA3R,GAAA,KAAAnB,EAAAiT,WAAA9R,EAAA6R,GAAAD,IAAA,GAAA5R,EAAA,EAEA,OAAA2R,GAGA,QAAAI,GAAAC,GACAA,EAAAA,EAAA,QAAA,QAAA,KAGA,KAAA,GAFAC,GAAA,GAEA3H,EAAA,EAAuBA,EAAA0H,EAAA,OAAsB1H,IAAA,CAE7C,GAAA3oB,GAAAqwB,EAAAF,WAAAxH,EAEA,KAAA3oB,EACAswB,GAAAC,OAAAC,aAAAxwB,GAEAA,EAAA,KAAA,KAAAA,GACAswB,GAAAC,OAAAC,aAAAxwB,GAAA,EAAA,KACAswB,GAAAC,OAAAC,aAAA,GAAAxwB,EAAA,OAGAswB,GAAAC,OAAAC,aAAAxwB,GAAA,GAAA,KACAswB,GAAAC,OAAAC,aAAAxwB,GAAA,EAAA,GAAA,KACAswB,GAAAC,OAAAC,aAAA,GAAAxwB,EAAA,MAKA,MAAAswB,GAGA,QAAAG,GAAAC,GAGA,IAAA,GAFAC,GAAAC,EAAA,mBAAA,mBACA1T,EAAA,GACAmB,EAAA,EAAuBA,EAAA,EAAAqS,EAAAvU,OAAyBkC,IAChDnB,GAAAyT,EAAAE,OAAAH,EAAArS,GAAA,IAAA,GAAA,EAAAA,EAAA,GAAA,EAAA,IACAsS,EAAAE,OAAAH,EAAArS,GAAA,IAAA,GAAA,EAAAA,EAAA,GAAA,GAEA,OAAAnB,GApIA,GAAAgT,GAAA,EACAU,EAAA,CAuIA,OADArC,GAAA6B,EAAA7B,GACAkC,EAAAnB,EAAAS,EAAAxB,GAAAA,EAAApS,OAAA+T,IAEA,GAAAY,GAAAC,MACAD,GAAA,KAAA,IAEA,IACAE,GAAAF,EAAA,IAAA,mBAEA,QAEAxP,QAAA,SAAAnB,EAAArE,GACA,IAAAA,EAAA,MAAAqE,EACA,IAAA0J,GAAAiH,EAAA,IAAAxC,EAAAxS,GAAA,MAAA,EAAA,KACAmV,EAAAH,EAAA,IAAA7U,KAAA,UAAAkE,IACA+Q,EAAAJ,EAAA,WAAAG,EAAApH,EAAAmH,GACAG,EAAAL,EAAA,OAAA,OAAAI,EACA,OAAAC,IAAAhR,GAGAuB,QAAA,SAAAvB,EAAArE,GACA,IAAAA,EAAA,MAAAqE,EACA,IAAA0J,GAAAiH,EAAA,IAAAxC,EAAAxS,GAAA,MAAA,EAAA,IACA,KACA,GAAAsV,GAAAN,EAAA,OAAA,OAAA3Q,GACAkR,EAAAP,EAAA,WAAAM,EAAAvH,EAAAmH,GAAA,GACAM,EAAArV,KAAA,MAAAoV,EACA,OAAAC,GAEA,MAAApyB,GACA,MAAAqyB,WAptGAC,OAAA,MAAAA,OAAA,KAAA,WAAA,WAGA,QAAAC,UACA,IAAkB,MAAApyB,MAAAqyB,UAClB,MAAAxyB,GAAkB,MAAA,OAkBlB,QAAAyyB,OAAAtB,GAEA,MADAuB,WAAAC,UAAA,EACAD,UAAAE,KAAAzB,GACA,IAAAA,EAAAjT,QAAAwU,UAAA,SAAA9K,GACA,GAAA9mB,GAAA+xB,KAAAjL,EACA,OAAA,gBAAA9mB,GAAAA,EACA,OAAA,OAAA8mB,EAAAqJ,WAAA,GAAAhhB,SAAA,KAAA6iB,MAAA,MACa,IACb,IAAA3B,EAAA,IAGA,QAAAnT,KAAApB,EAAAmW,GACA,GAAA5T,GACAE,EACAR,EACA5B,EACA+V,EACAC,EAAAC,IACArW,EAAAkW,EAAAnW,EAUA,QARAC,GAAA,gBAAAA,KACAA,EAAA0V,OAAA3xB,KAAAic,EAAAD,IAGA,kBAAAuW,OACAtW,EAAAsW,IAAAvyB,KAAAmyB,EAAAnW,EAAAC,UAGAA,IACA,IAAA,SACA,MAAA4V,OAAA5V,EAEA,KAAA,SACA,MAAAuW,UAAAvW,GAAAwU,OAAAxU,GAAA,MAEA,KAAA,UACA,IAAA,OACA,MAAAwU,QAAAxU,EAEA,KAAA,SAEA,IAAAA,EACA,MAAA,MAMA,IAHAqW,KAAAG,OACAL,KAEA,mBAAAhjB,OAAAvI,UAAAwI,SAAAuU,MAAA3H,GAAA,CAGA,IADAI,EAAAJ,EAAAI,OACAkC,EAAA,EAA2BlC,EAAAkC,EAAYA,GAAA,EACvC6T,EAAA7T,GAAAnB,IAAAmB,EAAAtC,IAAA,MASA,OANAgC,GAAA,IAAAmU,EAAA/V,OAAA,KACAiW,IAAA,MAAAA,IACAF,EAAAxW,KAAA,MAAA0W,KAAA,KACAD,EAAA,IACA,IAAAD,EAAAxW,KAAA,KAAA,IACA0W,IAAAD,EACApU,EAEA,GAAAsU,KAAA,gBAAAA,KAEA,IADAlW,EAAAkW,IAAAlW,OACAkC,EAAA,EAA2BlC,EAAAkC,EAAYA,GAAA,EACvCE,EAAA8T,IAAAhU,GACA,gBAAAE,KACAR,EAAAb,IAAAqB,EAAAxC,GACAgC,GACAmU,EAAA9V,KAAAuV,MAAApT,IAAA6T,IAAA,KAAA,KAAArU,QAKA,KAAAQ,IAAAxC,GACA7M,OAAAxI,eAAA5G,KAAAic,EAAAwC,KACAR,EAAAb,IAAAqB,EAAAxC,GACAgC,GACAmU,EAAA9V,KAAAuV,MAAApT,IAAA6T,IAAA,KAAA,KAAArU,GAUA,OAJAA,GAAA,IAAAmU,EAAA/V,OAAA,KACAiW,IAAA,MAAwBA,IAAAF,EAAAxW,KAAA,MAAA0W,KAAA,KACxBD,EAAA,IAAiC,IAAMD,EAAAxW,KAAA,KAAA,IACvC0W,IAAAD,EACApU,GA/GAyT,OAAA,OAAAA,OAAA,QAOA,IAAAgB,IAAA,2GACAZ,UAAA,2HACAQ,IACAG,OACAR,MACAU,KAAA,MACAC,IAAA,MACAC,KAAA,MACAC,KAAA,MACAC,KAAA,MACAC,IAAA,MACAC,KAAA,QAEAV,GA+FA,mBAAApW,MAAA,YACAA,KAAA,UAAA,SAAAF,EAAAiX,EAAAC,GACA,GAAA5U,EAIA,IAHA+T,IAAA,GACAG,OAAA,GAEA,gBAAAU,GACA,IAAA5U,EAAA,EAA2B4U,EAAA5U,EAAWA,GAAA,EACtCkU,QAAA,QAEa,gBAAAU,KACbV,OAAAU,EAGA,IADAZ,IAAAW,EACAA,GAAA,kBAAAA,KACA,gBAAAA,IACA,gBAAAA,GAAA7W,QACA,KAAA,IAAAvX,OAAA,iBAEA,OAAAsY,KAAA,IAA4B,GAAAnB,MAI5B,kBAAAE,MAAA,QAEAA,KAAA,MAAA,SAAAiX,MAAyC,MAAAC,MAAA,IAAAD,KAAA,SAGzC,IAAA/X,KAAA,EACAmE,OAAA,EACAC,gBACA+H,gBAAA,UACApC,cAAA,GACAkO,YAAA,IACAhO,gBAAA,IACAC,cAAA,GACA5F,OAAA,IACA9D,OAAA,IACAU,UAAA,IACA+E,sBAAA,EACAC,oBAAA,GACA+G,QAAA,SACA/K,KAAA,eAaAuI,WAAA,WACA,GAAAyN,GAAA,GACAC,EAAAzV,KAAA+O,MAAA/O,KAAAC,SAAAuV,EACA,OAAA,UAAAjM,EAAAmM,GACA,MAAAnM,GAAAC,QAAA,WAAA,GACAD,EAAAhK,QACA,SAAA,MACAmW,EAAA9V,gBAAAnO,MAAA,KAAA,KACAgkB,EAAAD,EAAAC,EAAAA,EAAA,KACAlM,MAw6DA2J,OAAA,WACA,GAAAyC,GAAA,GAEAC,EAAA,EACAC,GAAA,EAEAC,EAAA,SAAApF,GAEA,IACA,MAAAqF,UAAAnV,mBAAA8P,IAEA,MAAArvB,GACA,KAAA,0BAIA20B,EAAA,SAAAtF,GAEA,IACA,MAAAuF,oBAAAC,OAAAxF,IAEA,MAAArvB,GACA,KAAA,YAIA80B,EAAA,SAAAC,GAEA,GAAAC,GAAA7V,EAAA8V,IAKA,KAJAF,EAAA9X,OAAA,KACA+X,EAAA,GAAAD,EAAA9X,OACAgY,GAAAD,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,IAEA7V,EAAA,EAAmBA,EAAA4V,EAAA9X,OAAoBkC,IAEvC8V,EAAA9V,GAAA4V,EAAA5V,EAEA,OAAA8V,IAGAC,EAAA,SAAAC,EAAAC,GAEA,GAAAC,GAAAlW,EAAAgS,EAAA,EACA,IAAAiE,EAAA,CAEA,GADAC,EAAAF,EAAA,IACAE,EAAA,GACA,KAAA,iCAEA,IAAA,IAAAA,EACA,MAAA,EAEA,KAAAlW,EAAA,EAAuB,GAAAkW,EAAAlW,EAAkBA,IACzCgS,GAAAE,OAAAC,aAAA6D,EAAAhW,QAGA,KAAAA,EAAA,EAAuB,GAAAA,EAAQA,IAC/BgS,GAAAE,OAAAC,aAAA6D,EAAAhW,GAGA,OAAAgS,IAGAmE,EAAA,SAAAC,GAEA,GAAApW,GAAAgS,EAAA,EACA,KAAAhS,EAAA,EAAmBA,EAAAoW,EAAAtY,OAAmBkC,IACtCgS,IAAAoE,EAAApW,GAAA,GAAA,IAAA,IAAAoW,EAAApW,GAAAlP,SAAA,GAEA,OAAAkhB,IAGAqE,EAAA,SAAAnG,GAEA,GAAAoG,KAKA,OAJApG,GAAAnR,QAAA,QACA,SAAAmR,GACAoG,EAAAvY,KAAAwY,SAAArG,EAAA,OAEAoG,GAGAE,EAAA,SAAAxE,EAAAyE,GACA,GAAAzW,GAAA8V,IAMA,KAJAW,IACAzE,EAAAsD,EAAAtD,IAGAhS,EAAA,EAAmBA,EAAAgS,EAAAlU,OAAmBkC,IAEtC8V,EAAA9V,GAAAgS,EAAAF,WAAA9R,EAGA,OAAA8V,IAGAY,EAAA,SAAAC,GAEA,OAAAA,GAEA,IAAA,KACAxB,EAAA,GACAC,EAAA,CACA,MACA,KAAA,KACAD,EAAA,GACAC,EAAA,CACA,MACA,KAAA,KACAD,EAAA,GACAC,EAAA,CACA,MACA,SACA,KAAA,8BAAAuB,IAIAC,EAAA,SAAAC,GACA,GAAA7W,GAAA8W,IACA,KAAA9W,EAAA,EAAmB6W,EAAA7W,EAASA,IAC5B8W,EAAAA,EAAAC,OAAAvX,KAAA+O,MAAA,IAAA/O,KAAAC,UAEA,OAAAqX,IAGAE,EAAA,SAAAC,EAAAC,GAOA,GAMAlX,GANAmX,EAAAhC,GAAA,GAAA,EAAA,EACA1X,KACAkV,KACAyE,KACAN,KACAO,EAAAJ,EAAAF,OAAAG,EAIA,KAFAE,EAAA,GAAAE,aAAAC,KAAAC,IAAAH,GACAP,EAAAM,EAAA,GACApX,EAAA,EAAmBmX,EAAAnX,EAAYA,IAC/BoX,EAAApX,GAAAsX,aAAAC,KAAAC,IAAAJ,EAAApX,EAAA,GAAA+W,OAAAM,IACAP,EAAAA,EAAAC,OAAAK,EAAApX,GAIA,OAFAvC,GAAAqZ,EAAAnD,MAAA,EAAA,EAAAyB,GACAzC,EAAAmE,EAAAnD,MAAA,EAAAyB,EAAA,EAAAA,EAAA,KAEA3X,IAAAA,EACAkV,GAAAA,IAIA8E,EAAA,SAAAxE,EAAAxV,EAAAkV,GAEAlV,EAAAia,EAAAja,EACA,IAEAuC,GAFA2X,EAAAnY,KAAAoY,KAAA3E,EAAAnV,OAAA,IACA+Z,KAEAC,IACA,KAAA9X,EAAA,EAAmB2X,EAAA3X,EAAeA,IAClC6X,EAAA7X,GAAA2V,EAAA1C,EAAAU,MAAA,GAAA3T,EAAA,GAAAA,EAAA,IAOA,KALAiT,EAAAnV,OAAA,KAAA,IACA+Z,EAAA9Z,MAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAEA4Z,KAEA3X,EAAA,EAAmBA,EAAA6X,EAAA/Z,OAAmBkC,IACtC6X,EAAA7X,GAAA,IAAAA,EAAA+X,EAAAF,EAAA7X,GAAA2S,GAAAoF,EAAAF,EAAA7X,GAAA8X,EAAA9X,EAAA,IACA8X,EAAA9X,GAAAgY,EAAAH,EAAA7X,GAAAvC,EAEA,OAAAqa,IAGAG,EAAA,SAAAC,EAAAza,EAAAkV,EAAA8D,GAEAhZ,EAAAia,EAAAja,EACA,IAEAuC,GAFA2X,EAAAO,EAAApa,OAAA,GACAga,KAEAK,KACAnG,EAAA,EACA,KAAAhS,EAAA,EAAmB2X,EAAA3X,EAAeA,IAClC8X,EAAA/Z,KAAAma,EAAAvE,MAAA,GAAA3T,EAAA,IAAAA,EAAA,IAEA,KAAAA,EAAA8X,EAAAha,OAAA,EAAyCkC,GAAA,EAAQA,IACjDmY,EAAAnY,GAAAoY,EAAAN,EAAA9X,GAAAvC,GACA0a,EAAAnY,GAAA,IAAAA,EAAA+X,EAAAI,EAAAnY,GAAA2S,GAAAoF,EAAAI,EAAAnY,GAAA8X,EAAA9X,EAAA,GAEA,KAAAA,EAAA,EAAmB2X,EAAA,EAAA3X,EAAmBA,IACtCgS,GAAA+D,EAAAoC,EAAAnY,GAGA,OADAgS,IAAA+D,EAAAoC,EAAAnY,IAAA,GACAyW,EAAAzE,EAAAwD,EAAAxD,IAGAgG,EAAA,SAAAhC,EAAAqC,GACAhD,GAAA,CACA,IACAiD,GADA/f,EAAAggB,EAAAvC,EAAAqC,EAAA,EAEA,KAAAC,EAAA,EAAuBnD,EAAA,EAAAmD,EAAkBA,IACzC/f,EAAAigB,EAAAjgB,GACAA,EAAAkgB,EAAAlgB,GACA4c,EAAAmD,IACA/f,EAAAmgB,EAAAngB,IAGAA,EAAAggB,EAAAhgB,EAAA8f,EAAAC,EAGA,OAAA/f,IAGA6f,EAAA,SAAApC,EAAAqC,GACAhD,GAAA,CACA,IACAiD,GADA/f,EAAAggB,EAAAvC,EAAAqC,EAAAlD,EAEA,KAAAmD,EAAAnD,EAAA,EAA4BmD,EAAA,GAAYA,IACxC/f,EAAAkgB,EAAAlgB,GACAA,EAAAigB,EAAAjgB,GACAA,EAAAggB,EAAAhgB,EAAA8f,EAAAC,GACAA,EAAA,IACA/f,EAAAmgB,EAAAngB,GAKA,OAAAA,IAGAigB,EAAA,SAAAjgB,GACA,GAEAyH,GAFAuQ,EAAA8E,EAAAsD,EAAAC,EACAC,IAEA,KAAA7Y,EAAA,EAAmB,GAAAA,EAAQA,IAC3B6Y,EAAA7Y,GAAAuQ,EAAAhY,EAAAyH,GAEA,OAAA6Y,IAGAJ,EAAA,SAAAlgB,GACA,GAEAyH,GAFA6Y,KACAC,EAAAzD,GAAA,EAAA,GAAA,GAAA,EAAA,EAAA,EAAA,GAAA,GAAA,EAAA,EAAA,EAAA,GAAA,GAAA,EAAA,EAAA,IAAA,EAAA,EAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EAAA,EAAA,GAAA,EAAA,EAAA,GAAA,EAAA,EAAA,GAEA,KAAArV,EAAA,EAAmB,GAAAA,EAAQA,IAC3B6Y,EAAA7Y,GAAAzH,EAAAugB,EAAA9Y,GAEA,OAAA6Y,IAGAH,EAAA,SAAAngB,GACA,GACA5W,GADAo3B,IAEA,IAAA1D,EAQA,IAAA1zB,EAAA,EAAuB,EAAAA,EAAOA,IAC9Bo3B,EAAA,EAAAp3B,GAAAq3B,EAAAzgB,EAAA,EAAA5W,IAAAs3B,EAAA1gB,EAAA,EAAA,EAAA5W,IAAAu3B,EAAA3gB,EAAA,EAAA,EAAA5W,IAAAw3B,EAAA5gB,EAAA,EAAA,EAAA5W,IACAo3B,EAAA,EAAA,EAAAp3B,GAAAw3B,EAAA5gB,EAAA,EAAA5W,IAAAq3B,EAAAzgB,EAAA,EAAA,EAAA5W,IAAAs3B,EAAA1gB,EAAA,EAAA,EAAA5W,IAAAu3B,EAAA3gB,EAAA,EAAA,EAAA5W,IACAo3B,EAAA,EAAA,EAAAp3B,GAAAu3B,EAAA3gB,EAAA,EAAA5W,IAAAw3B,EAAA5gB,EAAA,EAAA,EAAA5W,IAAAq3B,EAAAzgB,EAAA,EAAA,EAAA5W,IAAAs3B,EAAA1gB,EAAA,EAAA,EAAA5W,IACAo3B,EAAA,EAAA,EAAAp3B,GAAAs3B,EAAA1gB,EAAA,EAAA5W,IAAAu3B,EAAA3gB,EAAA,EAAA,EAAA5W,IAAAw3B,EAAA5gB,EAAA,EAAA,EAAA5W,IAAAq3B,EAAAzgB,EAAA,EAAA,EAAA5W,QAXA,KAAAA,EAAA,EAAuB,EAAAA,EAAOA,IAC9Bo3B,EAAA,EAAAp3B,GAAAy3B,EAAA7gB,EAAA,EAAA5W,IAAA03B,EAAA9gB,EAAA,EAAA,EAAA5W,IAAA4W,EAAA,EAAA,EAAA5W,GAAA4W,EAAA,EAAA,EAAA5W,GACAo3B,EAAA,EAAA,EAAAp3B,GAAA4W,EAAA,EAAA5W,GAAAy3B,EAAA7gB,EAAA,EAAA,EAAA5W,IAAA03B,EAAA9gB,EAAA,EAAA,EAAA5W,IAAA4W,EAAA,EAAA,EAAA5W,GACAo3B,EAAA,EAAA,EAAAp3B,GAAA4W,EAAA,EAAA5W,GAAA4W,EAAA,EAAA,EAAA5W,GAAAy3B,EAAA7gB,EAAA,EAAA,EAAA5W,IAAA03B,EAAA9gB,EAAA,EAAA,EAAA5W,IACAo3B,EAAA,EAAA,EAAAp3B,GAAA03B,EAAA9gB,EAAA,EAAA5W,IAAA4W,EAAA,EAAA,EAAA5W,GAAA4W,EAAA,EAAA,EAAA5W,GAAAy3B,EAAA7gB,EAAA,EAAA,EAAA5W,GAWA,OAAAo3B,IAGAR,EAAA,SAAAhgB,EAAA8f,EAAAC,GACA,GACAtY,GADA6Y,IAEA,KAAA7Y,EAAA,EAAmB,GAAAA,EAAQA,IAC3B6Y,EAAA7Y,GAAAzH,EAAAyH,GAAAqY,EAAAC,GAAAtY,EAEA,OAAA6Y,IAGAd,EAAA,SAAAuB,EAAAC,GACA,GACAvZ,GADA6Y,IAEA,KAAA7Y,EAAA,EAAmB,GAAAA,EAAQA,IAC3B6Y,EAAA7Y,GAAAsZ,EAAAtZ,GAAAuZ,EAAAvZ,EAEA,OAAA6Y,IAGAnB,EAAA,SAAAja,GAEA,GAEAuC,GACAT,EACAwZ,EAEA3H,EANAtC,KACA+J,KAIAW,IAGA,KAAAxZ,EAAA,EAAmBoV,EAAApV,EAAQA,IAC3BT,GAAA9B,EAAA,EAAAuC,GAAAvC,EAAA,EAAAuC,EAAA,GAAAvC,EAAA,EAAAuC,EAAA,GAAAvC,EAAA,EAAAuC,EAAA,IACA8O,EAAA9O,GAAAT,CAGA,KAAAS,EAAAoV,EAAoB,GAAAD,EAAA,GAAAnV,EAAoBA,IAAA,CAExC,IADA8O,EAAA9O,MACA+Y,EAAA,EAAuB,EAAAA,EAAOA,IAC9BF,EAAAE,GAAAjK,EAAA9O,EAAA,GAAA+Y,EAQA,KANA/Y,EAAAoV,IAAA,GACAyD,EAAAY,EAAAC,EAAAb,IACAA,EAAA,IAAAc,EAAA3Z,EAAAoV,EAAA,IACaA,EAAA,GAAApV,EAAAoV,GAAA,IACbyD,EAAAY,EAAAZ,IAEAE,EAAA,EAAuB,EAAAA,EAAOA,IAC9BjK,EAAA9O,GAAA+Y,GAAAjK,EAAA9O,EAAAoV,GAAA2D,GAAAF,EAAAE,GAGA,IAAA/Y,EAAA,EAAmBmV,EAAA,EAAAnV,EAAcA,IAEjC,IADAwZ,EAAAxZ,MACAoR,EAAA,EAAuB,EAAAA,EAAOA,IAC9BoI,EAAAxZ,GAAAjC,KAAA+Q,EAAA,EAAA9O,EAAAoR,GAAA,GAAAtC,EAAA,EAAA9O,EAAAoR,GAAA,GAAAtC,EAAA,EAAA9O,EAAAoR,GAAA,GAAAtC,EAAA,EAAA9O,EAAAoR,GAAA,GAGA,OAAAoI,IAGAC,EAAA,SAAA3K,GAEA,IAAA,GAAA9O,GAAA,EAAuB,EAAAA,EAAOA,IAC9B8O,EAAA9O,GAAA4Y,EAAA9J,EAAA9O,GAEA,OAAA8O,IAGA4K,EAAA,SAAA5K,GAEA,GACA9O,GADA4Z,EAAA9K,EAAA,EAEA,KAAA9O,EAAA,EAAmB,EAAAA,EAAOA,IAC1B8O,EAAA9O,GAAA8O,EAAA9O,EAAA,EAGA,OADA8O,GAAA,GAAA8K,EACA9K,GAIA+K,EAAA,SAAAhb,EAAA6X,GACA,GAAAJ,KACA,KAAAtW,EAAA,EAAiBA,EAAAnB,EAAAf,OAAckC,GAAA0W,EAC/BJ,EAAAtW,EAAA0W,GAAAH,SAAA1X,EAAAib,OAAA9Z,EAAA0W,GAAA,GACA,OAAAJ,IAEAyD,EAAA,SAAAC,GACA,GAAA1D,KACA,KAAAtW,EAAA,EAAiBA,EAAAga,EAAAlc,OAAckC,IAC/BsW,EAAA0D,EAAAha,IAAAA,CACA,OAAAsW,IAEA2D,EAAA,SAAAxR,EAAAvgB,GACA,GAAA8X,GAAAsW,CAGA,KADAA,EAAA,EACAtW,EAAA,EAAiB,EAAAA,EAAKA,IACtBsW,EAAA,IAAA,EAAApuB,GAAAouB,EAAA7N,EAAA6N,EAEA7N,EAAAA,EAAA,IAAA,IAAAA,GAAA,EAAAA,GAAA,EACAvgB,KAAA,CAGA,OAAAouB,IAEA4D,EAAA,SAAA/P,GAEA,IAAA,GADA5K,MACAS,EAAA,EAAqB,IAAAA,EAAOA,IAC5BT,EAAAS,GAAAia,EAAA9P,EAAAnK,EACA,OAAAT,IAuBAqZ,EAAAiB,EAAA,mgBAAA,GAqBAlB,EAAAoB,EAAAnB,GAMAe,EAAAE,EAAA,+DAAA,GA0BAT,EAAAc,EAAA,GAyBAb,EAAAa,EAAA,GA0BAf,EAAAe,EAAA,GAyBAjB,EAAAiB,EAAA,IA0BAhB,EAAAgB,EAAA,IA0BAlB,EAAAkB,EAAA,IAEAC,EAAA,SAAAnI,EAAAoI,EAAA3D,GAEA,GAIAqB,GAJAuC,EAAAzD,EAAA,GACA0D,EAAAtD,EAAAR,EAAA4D,EAAA3D,GAAA4D,GACA5c,EAAA6c,EAAA7c,IACAkV,EAAA2H,EAAA3H,GAEA4H,IAAA,GAAA,GAAA,IAAA,IAAA,IAAA,IAAA,GAAA,IAAAxD,OAAAsD,GAKA,OAJArI,GAAAwE,EAAAxE,EAAAyE,GACAqB,EAAAL,EAAAzF,EAAAvU,EAAAkV,GAEAmF,EAAAyC,EAAAxD,OAAAe,GACA0C,EAAA3c,OAAAia,IAGA2C,EAAA,SAAAzI,EAAAoI,EAAA3D,GAEA,GAAAyB,GAAAsC,EAAAE,OAAA1I,GACAqI,EAAAnC,EAAAvE,MAAA,EAAA,IACA2G,EAAAtD,EAAAR,EAAA4D,EAAA3D,GAAA4D,GACA5c,EAAA6c,EAAA7c,IACAkV,EAAA2H,EAAA3H,EAIA,OAHAuF,GAAAA,EAAAvE,MAAA,GAAAuE,EAAApa,QAEAkU,EAAAiG,EAAAC,EAAAza,EAAAkV,EAAA8D,IAIAe,EAAA,SAAApB,GAEA,QAAAuE,GAAAC,EAAAC,GACA,MAAAD,IAAAC,EAAAD,IAAA,GAAAC,EAGA,QAAAC,GAAAC,EAAAC,GACA,GAAAC,GACAC,EACAC,EACAC,EACAC,CAMA,OALAF,GAAA,WAAAJ,EACAK,EAAA,WAAAJ,EACAC,EAAA,WAAAF,EACAG,EAAA,WAAAF,EACAK,GAAA,WAAAN,IAAA,WAAAC,GACAC,EAAAC,EACA,WAAAG,EAAAF,EAAAC,EAEAH,EAAAC,EACA,WAAAG,EACA,WAAAA,EAAAF,EAAAC,EAEA,WAAAC,EAAAF,EAAAC,EAGAC,EAAAF,EAAAC,EAIA,QAAArb,GAAAoK,EAAAiG,EAAAO,GACA,MAAAxG,GAAAiG,GAAAjG,EAAAwG,EAEA,QAAAO,GAAA/G,EAAAiG,EAAAO,GACA,MAAAxG,GAAAwG,EAAAP,GAAAO,EAEA,QAAAQ,GAAAhH,EAAAiG,EAAAO,GACA,MAAAxG,GAAAiG,EAAAO,EAEA,QAAA2K,GAAAnR,EAAAiG,EAAAO,GACA,MAAAP,IAAAjG,GAAAwG;CAGA,QAAA4K,GAAA9S,EAAAvgB,EAAAvG,EAAAsG,EAAAkiB,EAAA+F,EAAAsL,GAEA,MADA/S,GAAAqS,EAAArS,EAAAqS,EAAAA,EAAA/a,EAAA7X,EAAAvG,EAAAsG,GAAAkiB,GAAAqR,IACAV,EAAAH,EAAAlS,EAAAyH,GAAAhoB,GAGA,QAAAuzB,GAAAhT,EAAAvgB,EAAAvG,EAAAsG,EAAAkiB,EAAA+F,EAAAsL,GAEA,MADA/S,GAAAqS,EAAArS,EAAAqS,EAAAA,EAAA5J,EAAAhpB,EAAAvG,EAAAsG,GAAAkiB,GAAAqR,IACAV,EAAAH,EAAAlS,EAAAyH,GAAAhoB,GAGA,QAAAwzB,GAAAjT,EAAAvgB,EAAAvG,EAAAsG,EAAAkiB,EAAA+F,EAAAsL,GAEA,MADA/S,GAAAqS,EAAArS,EAAAqS,EAAAA,EAAA3J,EAAAjpB,EAAAvG,EAAAsG,GAAAkiB,GAAAqR,IACAV,EAAAH,EAAAlS,EAAAyH,GAAAhoB,GAGA,QAAAyzB,GAAAlT,EAAAvgB,EAAAvG,EAAAsG,EAAAkiB,EAAA+F,EAAAsL,GAEA,MADA/S,GAAAqS,EAAArS,EAAAqS,EAAAA,EAAAQ,EAAApzB,EAAAvG,EAAAsG,GAAAkiB,GAAAqR,IACAV,EAAAH,EAAAlS,EAAAyH,GAAAhoB,GAGA,QAAA0zB,GAAAxF,GASA,IARA,GAAAyF,GACAC,EAAA1F,EAAAtY,OACAie,EAAAD,EAAA,EACAE,GAAAD,EAAAA,EAAA,IAAA,GACAE,EAAA,IAAAD,EAAA,GACAE,KACAC,EAAA,EACAC,EAAA,EACAN,EAAAM,GACAP,GAAAO,EAAAA,EAAA,GAAA,EACAD,EAAAC,EAAA,EAAA,EACAF,EAAAL,GAAAK,EAAAL,GAAAzF,EAAAgG,IAAAD,EACAC,GAOA,OALAP,IAAAO,EAAAA,EAAA,GAAA,EACAD,EAAAC,EAAA,EAAA,EACAF,EAAAL,GAAAK,EAAAL,GAAA,KAAAM,EACAD,EAAAD,EAAA,GAAAH,GAAA,EACAI,EAAAD,EAAA,GAAAH,IAAA,GACAI,EAGA,QAAAG,GAAAzB,GACA,GAAA0B,GACAC,EACAC,IACA,KAAAD,EAAA,EAA4B,GAAAA,EAAaA,IACzCD,EAAA1B,IAAA,EAAA2B,EAAA,IACAC,EAAAA,EAAAzF,OAAAuF,EAEA,OAAAE,GA+BA,GACAtc,GACAuc,EACAC,EACAC,EACAC,EACAnU,EACAvgB,EACAvG,EACAsG,EATAkiB,KAUA0S,EAAAhD,EAAA,miBAAA,EASA,KAPA1P,EAAAyR,EAAAxF,GAEA3N,EAAAoU,EAAA,GACA30B,EAAA20B,EAAA,GACAl7B,EAAAk7B,EAAA,GACA50B,EAAA40B,EAAA,GAEA3c,EAAA,EAAmBA,EAAAiK,EAAArM,OAAcoC,GAAA,GACjCuc,EAAAhU,EACAiU,EAAAx0B,EACAy0B,EAAAh7B,EACAi7B,EAAA30B,EACAwgB,EAAA8S,EAAA9S,EAAAvgB,EAAAvG,EAAAsG,EAAAkiB,EAAAjK,EAAA,GAAA,EAAA2c,EAAA,IACA50B,EAAAszB,EAAAtzB,EAAAwgB,EAAAvgB,EAAAvG,EAAAwoB,EAAAjK,EAAA,GAAA,GAAA2c,EAAA,IACAl7B,EAAA45B,EAAA55B,EAAAsG,EAAAwgB,EAAAvgB,EAAAiiB,EAAAjK,EAAA,GAAA,GAAA2c,EAAA,IACA30B,EAAAqzB,EAAArzB,EAAAvG,EAAAsG,EAAAwgB,EAAA0B,EAAAjK,EAAA,GAAA,GAAA2c,EAAA,IACApU,EAAA8S,EAAA9S,EAAAvgB,EAAAvG,EAAAsG,EAAAkiB,EAAAjK,EAAA,GAAA,EAAA2c,EAAA,IACA50B,EAAAszB,EAAAtzB,EAAAwgB,EAAAvgB,EAAAvG,EAAAwoB,EAAAjK,EAAA,GAAA,GAAA2c,EAAA,IACAl7B,EAAA45B,EAAA55B,EAAAsG,EAAAwgB,EAAAvgB,EAAAiiB,EAAAjK,EAAA,GAAA,GAAA2c,EAAA,KACA30B,EAAAqzB,EAAArzB,EAAAvG,EAAAsG,EAAAwgB,EAAA0B,EAAAjK,EAAA,GAAA,GAAA2c,EAAA,KACApU,EAAA8S,EAAA9S,EAAAvgB,EAAAvG,EAAAsG,EAAAkiB,EAAAjK,EAAA,GAAA,EAAA2c,EAAA,KACA50B,EAAAszB,EAAAtzB,EAAAwgB,EAAAvgB,EAAAvG,EAAAwoB,EAAAjK,EAAA,GAAA,GAAA2c,EAAA,KACAl7B,EAAA45B,EAAA55B,EAAAsG,EAAAwgB,EAAAvgB,EAAAiiB,EAAAjK,EAAA,IAAA,GAAA2c,EAAA,KACA30B,EAAAqzB,EAAArzB,EAAAvG,EAAAsG,EAAAwgB,EAAA0B,EAAAjK,EAAA,IAAA,GAAA2c,EAAA,KACApU,EAAA8S,EAAA9S,EAAAvgB,EAAAvG,EAAAsG,EAAAkiB,EAAAjK,EAAA,IAAA,EAAA2c,EAAA,KACA50B,EAAAszB,EAAAtzB,EAAAwgB,EAAAvgB,EAAAvG,EAAAwoB,EAAAjK,EAAA,IAAA,GAAA2c,EAAA,KACAl7B,EAAA45B,EAAA55B,EAAAsG,EAAAwgB,EAAAvgB,EAAAiiB,EAAAjK,EAAA,IAAA,GAAA2c,EAAA,KACA30B,EAAAqzB,EAAArzB,EAAAvG,EAAAsG,EAAAwgB,EAAA0B,EAAAjK,EAAA,IAAA,GAAA2c,EAAA,KACApU,EAAAgT,EAAAhT,EAAAvgB,EAAAvG,EAAAsG,EAAAkiB,EAAAjK,EAAA,GAAA,EAAA2c,EAAA,KACA50B,EAAAwzB,EAAAxzB,EAAAwgB,EAAAvgB,EAAAvG,EAAAwoB,EAAAjK,EAAA,GAAA,EAAA2c,EAAA,KACAl7B,EAAA85B,EAAA95B,EAAAsG,EAAAwgB,EAAAvgB,EAAAiiB,EAAAjK,EAAA,IAAA,GAAA2c,EAAA,KACA30B,EAAAuzB,EAAAvzB,EAAAvG,EAAAsG,EAAAwgB,EAAA0B,EAAAjK,EAAA,GAAA,GAAA2c,EAAA,KACApU,EAAAgT,EAAAhT,EAAAvgB,EAAAvG,EAAAsG,EAAAkiB,EAAAjK,EAAA,GAAA,EAAA2c,EAAA,KACA50B,EAAAwzB,EAAAxzB,EAAAwgB,EAAAvgB,EAAAvG,EAAAwoB,EAAAjK,EAAA,IAAA,EAAA2c,EAAA,KACAl7B,EAAA85B,EAAA95B,EAAAsG,EAAAwgB,EAAAvgB,EAAAiiB,EAAAjK,EAAA,IAAA,GAAA2c,EAAA,KACA30B,EAAAuzB,EAAAvzB,EAAAvG,EAAAsG,EAAAwgB,EAAA0B,EAAAjK,EAAA,GAAA,GAAA2c,EAAA,KACApU,EAAAgT,EAAAhT,EAAAvgB,EAAAvG,EAAAsG,EAAAkiB,EAAAjK,EAAA,GAAA,EAAA2c,EAAA,KACA50B,EAAAwzB,EAAAxzB,EAAAwgB,EAAAvgB,EAAAvG,EAAAwoB,EAAAjK,EAAA,IAAA,EAAA2c,EAAA,KACAl7B,EAAA85B,EAAA95B,EAAAsG,EAAAwgB,EAAAvgB,EAAAiiB,EAAAjK,EAAA,GAAA,GAAA2c,EAAA,KACA30B,EAAAuzB,EAAAvzB,EAAAvG,EAAAsG,EAAAwgB,EAAA0B,EAAAjK,EAAA,GAAA,GAAA2c,EAAA,KACApU,EAAAgT,EAAAhT,EAAAvgB,EAAAvG,EAAAsG,EAAAkiB,EAAAjK,EAAA,IAAA,EAAA2c,EAAA,KACA50B,EAAAwzB,EAAAxzB,EAAAwgB,EAAAvgB,EAAAvG,EAAAwoB,EAAAjK,EAAA,GAAA,EAAA2c,EAAA,KACAl7B,EAAA85B,EAAA95B,EAAAsG,EAAAwgB,EAAAvgB,EAAAiiB,EAAAjK,EAAA,GAAA,GAAA2c,EAAA,KACA30B,EAAAuzB,EAAAvzB,EAAAvG,EAAAsG,EAAAwgB,EAAA0B,EAAAjK,EAAA,IAAA,GAAA2c,EAAA,KACApU,EAAAiT,EAAAjT,EAAAvgB,EAAAvG,EAAAsG,EAAAkiB,EAAAjK,EAAA,GAAA,EAAA2c,EAAA,KACA50B,EAAAyzB,EAAAzzB,EAAAwgB,EAAAvgB,EAAAvG,EAAAwoB,EAAAjK,EAAA,GAAA,GAAA2c,EAAA,KACAl7B,EAAA+5B,EAAA/5B,EAAAsG,EAAAwgB,EAAAvgB,EAAAiiB,EAAAjK,EAAA,IAAA,GAAA2c,EAAA,KACA30B,EAAAwzB,EAAAxzB,EAAAvG,EAAAsG,EAAAwgB,EAAA0B,EAAAjK,EAAA,IAAA,GAAA2c,EAAA,KACApU,EAAAiT,EAAAjT,EAAAvgB,EAAAvG,EAAAsG,EAAAkiB,EAAAjK,EAAA,GAAA,EAAA2c,EAAA,KACA50B,EAAAyzB,EAAAzzB,EAAAwgB,EAAAvgB,EAAAvG,EAAAwoB,EAAAjK,EAAA,GAAA,GAAA2c,EAAA,KACAl7B,EAAA+5B,EAAA/5B,EAAAsG,EAAAwgB,EAAAvgB,EAAAiiB,EAAAjK,EAAA,GAAA,GAAA2c,EAAA,KACA30B,EAAAwzB,EAAAxzB,EAAAvG,EAAAsG,EAAAwgB,EAAA0B,EAAAjK,EAAA,IAAA,GAAA2c,EAAA,KACApU,EAAAiT,EAAAjT,EAAAvgB,EAAAvG,EAAAsG,EAAAkiB,EAAAjK,EAAA,IAAA,EAAA2c,EAAA,KACA50B,EAAAyzB,EAAAzzB,EAAAwgB,EAAAvgB,EAAAvG,EAAAwoB,EAAAjK,EAAA,GAAA,GAAA2c,EAAA,KACAl7B,EAAA+5B,EAAA/5B,EAAAsG,EAAAwgB,EAAAvgB,EAAAiiB,EAAAjK,EAAA,GAAA,GAAA2c,EAAA,KACA30B,EAAAwzB,EAAAxzB,EAAAvG,EAAAsG,EAAAwgB,EAAA0B,EAAAjK,EAAA,GAAA,GAAA2c,EAAA,KACApU,EAAAiT,EAAAjT,EAAAvgB,EAAAvG,EAAAsG,EAAAkiB,EAAAjK,EAAA,GAAA,EAAA2c,EAAA,KACA50B,EAAAyzB,EAAAzzB,EAAAwgB,EAAAvgB,EAAAvG,EAAAwoB,EAAAjK,EAAA,IAAA,GAAA2c,EAAA,KACAl7B,EAAA+5B,EAAA/5B,EAAAsG,EAAAwgB,EAAAvgB,EAAAiiB,EAAAjK,EAAA,IAAA,GAAA2c,EAAA,KACA30B,EAAAwzB,EAAAxzB,EAAAvG,EAAAsG,EAAAwgB,EAAA0B,EAAAjK,EAAA,GAAA,GAAA2c,EAAA,KACApU,EAAAkT,EAAAlT,EAAAvgB,EAAAvG,EAAAsG,EAAAkiB,EAAAjK,EAAA,GAAA,EAAA2c,EAAA,KACA50B,EAAA0zB,EAAA1zB,EAAAwgB,EAAAvgB,EAAAvG,EAAAwoB,EAAAjK,EAAA,GAAA,GAAA2c,EAAA,KACAl7B,EAAAg6B,EAAAh6B,EAAAsG,EAAAwgB,EAAAvgB,EAAAiiB,EAAAjK,EAAA,IAAA,GAAA2c,EAAA,KACA30B,EAAAyzB,EAAAzzB,EAAAvG,EAAAsG,EAAAwgB,EAAA0B,EAAAjK,EAAA,GAAA,GAAA2c,EAAA,KACApU,EAAAkT,EAAAlT,EAAAvgB,EAAAvG,EAAAsG,EAAAkiB,EAAAjK,EAAA,IAAA,EAAA2c,EAAA,KACA50B,EAAA0zB,EAAA1zB,EAAAwgB,EAAAvgB,EAAAvG,EAAAwoB,EAAAjK,EAAA,GAAA,GAAA2c,EAAA,KACAl7B,EAAAg6B,EAAAh6B,EAAAsG,EAAAwgB,EAAAvgB,EAAAiiB,EAAAjK,EAAA,IAAA,GAAA2c,EAAA,KACA30B,EAAAyzB,EAAAzzB,EAAAvG,EAAAsG,EAAAwgB,EAAA0B,EAAAjK,EAAA,GAAA,GAAA2c,EAAA,KACApU,EAAAkT,EAAAlT,EAAAvgB,EAAAvG,EAAAsG,EAAAkiB,EAAAjK,EAAA,GAAA,EAAA2c,EAAA,KACA50B,EAAA0zB,EAAA1zB,EAAAwgB,EAAAvgB,EAAAvG,EAAAwoB,EAAAjK,EAAA,IAAA,GAAA2c,EAAA,KACAl7B,EAAAg6B,EAAAh6B,EAAAsG,EAAAwgB,EAAAvgB,EAAAiiB,EAAAjK,EAAA,GAAA,GAAA2c,EAAA,KACA30B,EAAAyzB,EAAAzzB,EAAAvG,EAAAsG,EAAAwgB,EAAA0B,EAAAjK,EAAA,IAAA,GAAA2c,EAAA,KACApU,EAAAkT,EAAAlT,EAAAvgB,EAAAvG,EAAAsG,EAAAkiB,EAAAjK,EAAA,GAAA,EAAA2c,EAAA,KACA50B,EAAA0zB,EAAA1zB,EAAAwgB,EAAAvgB,EAAAvG,EAAAwoB,EAAAjK,EAAA,IAAA,GAAA2c,EAAA,KACAl7B,EAAAg6B,EAAAh6B,EAAAsG,EAAAwgB,EAAAvgB,EAAAiiB,EAAAjK,EAAA,GAAA,GAAA2c,EAAA,KACA30B,EAAAyzB,EAAAzzB,EAAAvG,EAAAsG,EAAAwgB,EAAA0B,EAAAjK,EAAA,GAAA,GAAA2c,EAAA,KACApU,EAAAqS,EAAArS,EAAAgU,GACAv0B,EAAA4yB,EAAA5yB,EAAAw0B,GACA/6B,EAAAm5B,EAAAn5B,EAAAg7B,GACA10B,EAAA6yB,EAAA7yB,EAAA20B,EAGA,OAAAP,GAAA5T,GAAAsO,OAAAsF,EAAAn0B,GAAAm0B,EAAA16B,GAAA06B,EAAAp0B,KAsCAuyB,EAAA,WAEA,GAAAsC,GAAA,mEACAC,EAAAD,EAAA7rB,MAAA,IAEA4M,EAAA,SAAA3V,GACA,CAAA,GAEA8X,GACAgd,EAHAC,KACAC,EAAA,EAGA1d,MAAA+O,MAAA,GAAArmB,EAAA4V,OAAA,GACA,IAAAkC,EAAA,EAAuBA,EAAA,GAAA9X,EAAA4V,OAAmBkC,IAC1Cid,EAAAlf,KAAA7V,EAAAsX,KAAA+O,MAAAvO,EAAA,KAAAA,EAAA,IAEA,KAAAA,EAAA,EAAuBA,EAAAid,EAAAnf,OAAoBkC,GAAA,EAC3Ckd,GAAAH,EAAAE,EAAAjd,IAAA,GACAkd,GAAAH,GAAA,EAAAE,EAAAjd,KAAA,EAAAid,EAAAjd,EAAA,IAAA,GAEAkd,GADAhK,SAAA+J,EAAAjd,EAAA,GACA+c,GAAA,GAAAE,EAAAjd,EAAA,KAAA,EAAAid,EAAAjd,EAAA,IAAA,GAEA,IAGAkd,GADAhK,SAAA+J,EAAAjd,EAAA,GACA+c,EAAA,GAAAE,EAAAjd,EAAA,IAEA,GAKA,KADAgd,EAAAE,EAAAvJ,MAAA,EAAA,IACA3T,EAAA,EAAuBA,EAAAR,KAAA,KAAA0d,EAAApf,OAAA,IAAqCkC,IAC5Dgd,GAAAE,EAAAvJ,MAAA,GAAA3T,EAAA,GAAAA,EAAA,KAAAR,KAAAoY,KAAAsF,EAAApf,OAAA,KAAAkC,EAAA,EAAA,GAAA,KAEA,OAAAgd,IAGAtC,EAAA,SAAA1I,GACAA,EAAAA,EAAA,QAAA,MAAA,GACA,IAGAhS,GAHAid,KACAt7B,KACAuG,IAEA,KAAA8X,EAAA,EAAuBA,EAAAgS,EAAAlU,OAAmBkC,GAAA,EAC1Cre,EAAA,GAAAm7B,EAAA9T,QAAAgJ,EAAAQ,OAAAxS,IACAre,EAAA,GAAAm7B,EAAA9T,QAAAgJ,EAAAQ,OAAAxS,EAAA,IACAre,EAAA,GAAAm7B,EAAA9T,QAAAgJ,EAAAQ,OAAAxS,EAAA,IACAre,EAAA,GAAAm7B,EAAA9T,QAAAgJ,EAAAQ,OAAAxS,EAAA,IAEA9X,EAAA,GAAAvG,EAAA,IAAA,EAAAA,EAAA,IAAA,EACAuG,EAAA,IAAA,GAAAvG,EAAA,KAAA,EAAAA,EAAA,IAAA,EACAuG,EAAA,IAAA,EAAAvG,EAAA,KAAA,EAAAA,EAAA,GACAs7B,EAAAlf,KAAA7V,EAAA,GAAAA,EAAA,GAAAA,EAAA,GAGA,OADA+0B,GAAAA,EAAAtJ,MAAA,EAAAsJ,EAAAnf,OAAAmf,EAAAnf,OAAA,IAwBA,OAnBA,kBAAA+B,OAAAmJ,UACA8T,EAAAC,IAmBAlf,OAAAA,EACA6c,OAAAA,KAIA,QACAhE,KAAAA,EACAL,IAAAA,EACAqB,UAAAA,EACAM,aAAAA,EACAI,aAAAA,EACA/C,QAAAA,EACAmB,IAAAA,EACAiB,WAAAA,EACAQ,WAAAA,EACAwC,IAAAA,EACAzD,WAAAA,EACAb,IAAAA,EACAgE,IAAAA,EACA5C,MAAgBC,IAAAA,GAChBgD,OAAAA,KA0LArH,QAAA,QAAA,WAuEA,QAAAgK,GAAArb,EAAArE,GACA,GAAA2f,GAAAC,SAAA,WAAAvb,EAAArE,EACA,OAAA2f,GAAAtsB,SAAAusB,SAAA,IAAA,QAQA,QAAAC,GAAA/7B,GAAgB,MAAAg8B,UAAAC,eAAAj8B,GAOhB,QAAA4gB,GAAAD,GAAyBub,QAAA,MAAAvb,GAOzB,QAAAxB,GAAAgd,EAAAjS,GACA,GAAArpB,KAMA,OALAob,MAAAkgB,EAAAzsB,MAAA,OAAA,SAAA0sB,GACAngB,MAAAiO,GAAA8R,UAAAK,qBAAAD,GAAA,SAAAE,GACAz7B,EAAA2b,KAAA8f,OAGAz7B,EAUA,QAAA07B,GAAAxO,EAAAqO,EAAAzf,GACAV,KAAA8R,EAAAre,MAAA,KAAA,SAAA8sB,GACA,GAAAC,GAAA,SAAAn9B,GACAA,IAAAA,EAAAsyB,OAAA8K,OACA/f,EAAArd,KACAA,EAAAq9B,cAAA,EACAr9B,EAAAs9B,gBAAAt9B,EAAAs9B,iBACAt9B,EAAAu9B,iBAAAv9B,EAAAu9B,mBAIAT,GAAAU,iBAAAV,EAAAU,iBAAAN,EAAAC,GAAA,GACAL,EAAAW,YAAAX,EAAAW,YAAA,KAAAP,EAAAC,GACAL,EAAA,KAAAI,GAAAC,IAoBA,QAAAO,KAAiB,MAAA7d,GAAA,QAAA,GAOjB,QAAA8d,GAAAX,EAAAY,EAAA/gB,GACA,MAAAA,OAAAmgB,GAAAa,aAAAD,EAAA/gB,GACAmgB,GAAAA,EAAAc,cAAAd,EAAAc,aAAAF,GAQA,QAAAG,GAAAC,EAAAC,GACA,IAAA,GAAAC,KAAAD,GAAA,GAAAA,EAAAz2B,eAAA02B,GACA,IAAaF,EAAAE,MAAAA,GAAAD,EAAAC,IACb,0BAAA/V,QAAA+V,GAAA,GACA,gBAAAD,GAAAC,GACA,KAAA,IACU,MAAAl+B,KAQV,QAAAm+B,GAAAH,GAA0B,MAAAtB,UAAA0B,cAAAJ,GAQ1B,QAAA5Z,KAAqB,MAAAia,IAAAC,IAAA,EAAAtiB,SAuCrB,QAAAsH,GAAA9B,GACA,GAAA6c,GAAAC,IAAA,MAAAC,GAAA/c,EAEA,IAAAgd,GAAAL,EAAA,UACA3f,EAAAgD,EAAAhD,SACA9d,EAAAsb,SACAyiB,EAAA,EACAC,EAAAld,EAAAjE,SAAA2W,YACAyK,EAAAphB,QAAA,WAAwCqhB,EAAA,GAASvd,QAAA,aAAwBqd,GACzEha,EAAAlD,EAAAkD,MAAA,aACAzD,EAAAO,EAAAP,SACAwD,EAAAjD,EAAAiD,SAAA,aACAoa,EAAA,WAAgCnB,IAAAoB,YAAAN,IAChCI,EAAA,SAAAG,EAAAjb,GACA2a,IACAA,EAAA,EAEAD,EAAAQ,QAAA,KACAthB,aAAAihB,GAEAI,IAAAjb,GAAAW,EAAAX,GAEAvG,QAAA,WACAwhB,GAAAra,GACA,IAAA2K,GAAAoN,EAAA/7B,GACAK,EAAAsuB,GAAAA,EAAA4P,UACAl+B,IAAAA,EAAAm+B,YAAA7P,IACa9O,SAeb,OAZA+R,QAAA9T,GAAA,SAAAsF,GACA8a,EAAA,EAAA9a,IAGAtC,EAAAsG,WAAA0W,EAAAW,GAAAA,GAEAX,EAAAQ,QAAA,WAAiCJ,EAAA,IACjCJ,EAAAY,IAAAhjB,UAAAoF,EAAAjF,IAAA0E,GAEA0c,EAAAa,EAAA,KAAA99B,GAEAm+B,IACAD,EAYA,QAAAL,GAAA/c,GACA,GAAA6d,GAAAvb,EACA2a,EAAA,WACA,IAAA99B,EAAA,CACAA,EAAA,EAEA+c,aAAAihB,EAEA,KAAuB7a,EAAA/G,KAAA,MAAAsiB,EAAAC,cACvB,MAAA5gB,GAAuB,MAAAkgB,GAAA,GAEvBW,EAAA,EACA9a,EAAAX,KAEAyb,EAAA,EACA5+B,EAAA,EACA+9B,EAAAld,EAAAjE,SAAA2W,YACAyK,EAAAphB,QAAA,WAAuCqhB,EAAA,GAASvd,QAAA,aAAwBqd,GACxEha,EAAAlD,EAAAkD,MAAA,aACAzD,EAAAO,EAAAP,SACAwD,EAAAjD,EAAAiD,SAAA,aACA+a,GAAAhe,EAAA,SACAod,EAAA,SAAAG,EAAAjb,GACAyb,IACAA,EAAA,EAEA7hB,aAAAihB,GAEAU,IACAA,EAAAL,QAAAK,EAAAI,OAAA,KACAJ,EAAAK,OAAAL,EAAAK,QACAL,EAAA,MAGAN,GAAAra,EAAAZ,IAIA,KACAub,EAAAf,KACAhM,OAAAqN,gBACA,GAAAA,iBACA,GAAAC,gBAEAP,EAAAL,QAAAK,EAAAQ,QAAA,WAAiDjB,EACjD,EAAAS,EAAAC,eAAoChe,MAAA,8BAEpC+d,EAAAI,OAAAJ,EAAAS,UAAArB,EACAY,EAAAU,mBAAA,WACA,GAAAV,GAAA,GAAAA,EAAAW,WACA,OAAAX,EAAAzf,QACA,IAAA,KACA,KACA,SACA,IACAkE,EAAA/G,KAAA,MAAAsiB,EAAAC,cACAV,EAAA,EAAA9a,GAEA,MAAApF,GAAmC,MAAAkgB,GAAA,GAAiBhf,OAAAyf,EAAAzf,OAAAmL,QAAA,KAAA1J,QAAAge,EAAAC,eACpD,QAKA,IAAA/iB,GAAAH,UAAAoF,EAAAjF,IAAA0E,EAEAoe,GAAAY,KAAA,MAAA1jB,EAAAijB,GACAA,IAAAH,EAAA9hB,QAAAmhB,GACAW,EAAAa,OAEA,MAAAC,GAGA,MAFAvB,GAAA,GACAP,EAAA,EACA/a,EAAA9B,GAIA,MAAAod,GAIA,QAAAha,KACA,KAAA,UAAAwb,YAAA,MAAA,EACA,KAAe,MAAAA,WAAA,OACf,MAAApgC,GAAe,OAAA,GAuHf,QAAAs+B,KACA,IAAA+B,IAAAA,EAAA,IAAA,MAAA,EAEA,IAAAC,IACA5/B,GAAA49B,EAAA,KACA4B,KAAA,aACAR,MAAA,WAA8BY,EAAA,OAC9BL,KAAA,SAAAM,EAAAhkB,GACA+hB,EAAAgC,EAAA,IAAAA,EACAD,EAAA,IAAAC,EAAA,GAAA/jB,IAIA,OAAA+jB,GAveA,GAAAE,GAAA,6CACArB,EAAA,QACAsB,EAAAL,UAAAM,UACAC,EAAA,uBACAtC,EAAA,IAAAoC,EAAAtY,QAAA,SAKAmK,QAAAsK,UAAAtK,OAAAsK,QAAAtK,OAAAsK,aACAA,QAAAp7B,MACAo7B,QAAAp7B,IACAo7B,QAAAtb,OACAgR,OAAAsO,WAAsBC,WAAA,aAMtB,IAAAvZ,GAAA,WACA,GAAAmE,MACAqV,GAAA,CACA,KACAA,EAAAxO,OAAA,aACK,MAAAtyB,IACL,GAAA+gC,GAAA,SAAAnkB,GACA,MAAA,IAAA8f,SAAAsE,OAAA7Y,QAAAvL,GAAA,OACA8f,SAAAsE,QAAA,IAAA3iB,MACA4iB,OAAArkB,EAAA,kBACA,IAAA,MAEAskB,EAAA,SAAAtkB,EAAAC,GACA6f,SAAAsE,OAAApkB,EAAA,IAAAC,EACA,kDAEAskB,EAAA,WACA,IAEA,MADAD,GAAA,UAAA,KACA,MAAAH,EAAA,WACS,MAAA/gC,GACT,OAAA,KAGA,QACAunB,IAAA,SAAA3K,GACA,IACA,MAAAkkB,GAAAA,EAAAM,QAAAxkB,GACAukB,EAAAJ,EAAAnkB,GACA6O,EAAA7O,GACa,MAAA5c,GACb,MAAAyrB,GAAA7O,KAGA4K,IAAA,SAAA5K,EAAAC,GACA,IACA,GAAAikB,EAAA,MAAAA,GAAAO,QAAAzkB,EAAAC,IAAA,CACAskB,IAAAD,EAAAtkB,EAAAC,GACA4O,EAAA7O,GAAAC,EACa,MAAA7c,GACbyrB,EAAA7O,GAAAC,QAuIAykB,GACA//B,QACAggC,OAAA,SAAAjxB,GAAiCgxB,EAAA//B,KAAA+O,OACjC2sB,KAAA,SAAA3sB,EAAA+M,IACAikB,EAAA//B,KAAA+O,GAAAgxB,EAAA//B,KAAA+O,QAAA4M,KAAAG,IAEAmkB,KAAA,SAAAlxB,EAAA2Q,GACAtE,KACA2kB,EAAA//B,KAAA+O,OACA,SAAA+M,GAA2BA,EAAA4D,OAiK3BwgB,EAAAhF,EAAA,WAAA,EACAiF,EAAA,SAAAlgB,GAGA6c,EAAA7c,EAAA,MAAA,EACA,IAAAif,EAAAtY,QAAA,SAEA,IAAA5D,GAAA/C,EAAA,eAAA,GAIAmgB,KAHAngB,EAAA,WAAA2E,eAAA5F,OACAiB,EAAA,MAAA8F,EAAA,IAAA/C,EAAA,SAAA,GAEA/C,EAAA,iBAAA,EAEAA,GAAA,IAAA8B,EACA9B,EAAA,GAAA8F,EACA9F,EAAA,MAAAA,EAAA,OAAAF,EACAE,EAAA,WAAAoD,EACApD,EAAA,SAAA4C,EACA5C,EAAA,YAAA8a,EACA9a,EAAA,WAAAc,aACAd,EAAA,QAA2BogB,MAAAjB,EAE3B,IAAA5d,GAAA,SAAAvB,GACA,MAAAkgB,GAAAlgB,IAGAqgB,EAAAtgB,OAAAC,EAEA,KAAA,GAAAsgB,KAAAD,GACAA,EAAAr6B,eAAAs6B,KACA/e,EAAA+e,GAAAD,EAAAC,GAsBA,OAnBA/e,GAAA,IAAAgb,EACAhb,EAAA,EAAA0Z,EACA1Z,EAAA,OAAAob,EACApb,EAAA,KAAAka,EACAla,EAAA,KAAA2a,EACA3a,EAAA,OAAAlD,EACAkD,EAAA,KAAA4a,EACA5a,EAAA,OAAAue,EACAve,EAAA,KAAAA,EACAA,EAAA,OAAAA,EAIAka,EAAA,eAAA3K,OAAA,WAEA,MADAqP,IAAA5e,EAAA,gBAAA,SAAA6I,GAA+D7I,EAAA,MAAA6I,EAAAtb,KAAA,MAC/D,IAIAkR,EAAA,OAAAuB,GAEAka,EAAA,UAAA3K,OAAAvP,EAAA,SACAka,EAAA,UAAAP,SAAA3Z,EAAA,SAGAA,GAEA2e,GAAA,KAAAA,EACAA,EAAA,OAAAA,EAGA,aAAAhF,SAAAsD,WACAziB,QAAA4C,MAAA,GAGA8c,EAAA,OAAA3K,OAAA,WAAqC/U,QAAA4C,MAAA,IAGrC,IAAA4hB,GAAAN,KAGAO,QAAAN,GACAO,OAAA,EACAC,YAAAvE,EAAAoE,EAAA,WACAI,cAAAxE,EAAAoE,EAAA,WACAK,KAAA1F,SAAA2F,SAAAC,KAAAna,QAAA,UACA,MAAAwV,EAAAoE,EAAA,OACA7Z,OAAAyV,EAAAoE,EAAA,UACA/Z,KAAA2V,EAAAoE,EAAA,UAIAzP,OAAA,SAAAA,OAAA,OAAA,OAAAoP,GAGA,mBAAA,UAAA5hC,OAAA,QAAAkiC,SAAA7hB,OAEA,IAAAkgB,GAAA5D,EAAA,YAAA,CAGAgF,KAGA1D,EAAA0D,GAAYc,SAAA,WAAAC,KAAAjiB,UAEZ,SAAA+R,SAAAqL,EAAA8D,EAAA,YAAAA,EAAA,UACA,2BAAAjB,EACA,4BAAAA,EACA,yDAGAwB,OAAA,IAAA,SAAAthC,EAAAugB,GACA,MAAAA,IACAqd,EAAA59B,GAAA,aAAAg0B,SAAAzT,OACAqd,GAAA59B,GAAA,UAFA49B,EAAA59B,GAAA,WAoBA49B,EAAA,GAAA/d,WAGA,WAKA,GAAAkiB,GAAAT,OAAA,GAAA,SAAAzlB,EAAAmmB,GACA,KAAAviC,eAAAsiC,IAAA,MAAA,IAAAA,GAAAlmB,EAAAmmB,EAEA,IAAAC,GAAAxiC,KACAoc,EAAAomB,EAAApmB,IAAAA,GAAA,GAEAqmB,GADAD,EAAAE,SAAAH,GAAA,yBACAnmB,EAAAnM,MAAA,MACAoR,GACA4gB,IAAA,SAAAQ,EAAA,GACA1a,OAAA0a,EAAA,GACAV,YAAAU,EAAA,GACAT,cAAAS,EAAA,GACAjjB,QAAAijB,EAAA,GAgCA,OA5BAD,GAAA,WAAA,EACAA,EAAA,KAAA,EACAA,EAAA,QAAA,EACAA,EAAA,OAAA,EAGAA,EAAA,aAAA,IACAA,EAAA,iBAAA,KACAA,EAAA,qBAAA,KACAA,EAAA,kBAAA,KACAA,EAAA,gBAAA,KACAA,EAAA,gBAAA,KACAA,EAAA,eAAA,KAGAA,EAAA,QAAAA,EAAA,QACAA,EAAA,UAAAA,EAAA,OACAA,EAAA,OAAA,aAGAA,EAAA,WAAA,GACAA,EAAA,WAAA,GACAA,EAAA,eAAA,EACAA,EAAA,cAAA,EACAA,EAAA,UACAA,EAAA,WAAAA,EAAA,WAGApmB,GAWAomB,EAAAt/B,OAAA2+B,OAAA,KAAAxgB,GACAmhB,EAAAt/B,OAAAme,MAAAA,EACAmhB,EAAAnhB,MAAAA,MAEAmhB,GAAAt/B,OAAA,WACAgqB,SAAA,EACA1N,QAAA6B,EAAA,QACA4K,WAAAuW,EAAA,QACAxW,UAAAwW,EAAA,OACArhB,MAAA,WACAqhB,EAAA,SACAh9B,KAAAg9B,EAAA,eACAG,OAAA,cACAC,UAAA,KAGAvkB,SAAA,SAAA6C,GACAshB,EAAA,WAA+B1hB,KAAAI,KAE/Bf,QAAA,WACAqiB,EAAA,WAAAA,EAAA,KACAA,EAAA,cA/BAA,EAAA,WAAAA,EAAA,OACAA,EAAA,SACAh9B,KAAAg9B,EAAA,eACAG,OAAA,cACAC,UAAA,IAEAJ,GAiCAF,GAAAh7B,UAAAy4B,KAAA,SAAAjf,GACA,GAAA0hB,GAAAxiC,IACAwiC,GAAAt/B,OAAA,SACAsc,QAAAgjB,EAAAt/B,OAAAme,MAAA,QACAH,QAAAJ,EACAzC,SAAA,SAAAsF,GACA6e,EAAA,QAA4B1hB,KAAA6C,QAQ5B2e,EAAAh7B,UAAAu7B,MAAA,WACA,GAAAL,GAAAxiC,IACAwiC,GAAAt/B,OAAA,aAAgCsc,QAAAgjB,EAAAt/B,OAAAme,MAAA,UAChCmhB,EAAA,WAAAA,EAAA,OACAA,EAAA,eAUA,IAAAnG,UAAAA,UAAA,SAAAlM,EAAAjB,GAAqC,GAAAnQ,MAAQmR,EAAAnR,EAAA+jB,OAAWC,EAAA,aAAeriC,EAAAwvB,EAAA8S,MAAWC,OAAA,SAAAxb,GAAmBsb,EAAAz7B,UAAAtH,IAAiB,IAAAW,GAAA,GAAAoiC,EAA8I,OAAlItb,IAAA9mB,EAAAuiC,MAAAzb,GAAc9mB,EAAA0G,eAAA,UAAA1G,EAAAwiC,KAAA,WAA6CxiC,EAAAyiC,OAAAD,KAAA9e,MAAArkB,KAAAqjC,aAAsC1iC,EAAAwiC,KAAA77B,UAAA3G,EAAmBA,EAAAyiC,OAAApjC,KAAcW,GAASq9B,OAAA,WAAmB,GAAAvW,GAAAznB,KAAAijC,QAA8C,OAA1Bxb,GAAA0b,KAAA9e,MAAAoD,EAAA4b,WAA0B5b,GAAS0b,KAAA,aAAkBD,MAAA,SAAAzb,GAAmB,IAAA,GAAA9mB,KAAA8mB,GAAAA,EAAApgB,eAAA1G,KAAAX,KAAAW,GAAA8mB,EAAA9mB,GAAmD8mB,GAAApgB,eAAA,cAAArH,KAAA8P,SAAA2X,EAAA3X,WAAyDwzB,MAAA,WAAkB,MAAAtjC,MAAAmjC,KAAA77B,UAAA27B,OAAAjjC,QAC1fue,EAAA2R,EAAAqT,UAAA7iC,EAAAuiC,QAAwBE,KAAA,SAAA1b,EAAA9mB,GAAmB8mB,EAAAznB,KAAAq3B,MAAA5P,MAAmBznB,KAAAwjC,SAAA7iC,GAAAuuB,EAAAvuB,EAAA,EAAA8mB,EAAA3K,QAAgChN,SAAA,SAAA2X,GAAsB,OAAAA,GAAAvI,GAAA2D,UAAA7iB,OAA6B+1B,OAAA,SAAAtO,GAAoB,GAAA9mB,GAAAX,KAAAq3B,MAAApwB,EAAAwgB,EAAA4P,MAAAnwB,EAAAlH,KAAAwjC,QAAqE,IAA1B/b,EAAAA,EAAA+b,SAAaxjC,KAAAyjC,QAAav8B,EAAA,EAAA,IAAA,GAAArH,GAAA,EAAmB4nB,EAAA5nB,EAAIA,IAAAc,EAAAuG,EAAArH,IAAA,KAAAoH,EAAApH,IAAA,KAAA,GAAA,GAAAA,EAAA,GAAA,MAAA,GAAA,IAAAqH,EAAArH,GAAA,OAA4D,IAAA,MAAAoH,EAAA6V,OAAA,IAAAjd,EAAA,EAA+B4nB,EAAA5nB,EAAIA,GAAA,EAAAc,EAAAuG,EAAArH,IAAA,GAAAoH,EAAApH,IAAA,OAAyBc,GAAAoc,KAAAsH,MAAA1jB,EAAAsG,EAAwC,OAAjBjH,MAAAwjC,UAAA/b,EAAiBznB,MAAYyjC,MAAA,WAAkB,GAAAhc,GAAAznB,KAAAq3B,MAAA12B,EAAAX,KAAAwjC,QAAiC/b,GAAA9mB,IAAA,IAAA,YAChe,GAAA,GAAAA,EAAA,GAAW8mB,EAAA3K,OAAAqT,EAAAyG,KAAAj2B,EAAA,IAAqB2iC,MAAA,WAAkB,GAAA7b,GAAA/mB,EAAA4iC,MAAA7iC,KAAAT,KAAqD,OAA5BynB,GAAA4P,MAAAr3B,KAAAq3B,MAAA1E,MAAA,GAA4BlL,GAAShJ,OAAA,SAAAgJ,GAAoB,IAAA,GAAA9mB,MAAAsG,EAAA,EAAiBwgB,EAAAxgB,EAAIA,GAAA,EAAAtG,EAAAoc,KAAA,WAAAoT,EAAA1R,SAAA,EAAqC,OAAA,IAAAF,GAAA4kB,KAAAxiC,EAAA8mB,MAAwB9J,EAAAoB,EAAAoa,OAAYja,EAAAvB,EAAA+lB,KAAU7gB,UAAA,SAAA4E,GAAsB,GAAA9mB,GAAA8mB,EAAA4P,KAAc5P,GAAAA,EAAA+b,QAAa,KAAA,GAAAv8B,MAAAC,EAAA,EAAiBugB,EAAAvgB,EAAIA,IAAA,CAAK,GAAArH,GAAAc,EAAAuG,IAAA,KAAA,GAAA,GAAAA,EAAA,GAAA,GAAgCD,GAAA8V,MAAAld,IAAA,GAAAiQ,SAAA,KAA6B7I,EAAA8V,MAAA,GAAAld,GAAAiQ,SAAA,KAA4B,MAAA7I,GAAAoV,KAAA,KAAkBsnB,MAAA,SAAAlc,GAAmB,IAAA,GAAA9mB,GAAA8mB,EAAA3K,OAAA7V,KAAAC,EAAA,EAA4BvG,EAAAuG,EAAIA,GAAA,EAAAD,EAAAC,IAAA,IAAAquB,SAAA9N,EAAAqR,OAAA5xB,EACrd,GAAA,KAAA,GAAA,GAAAA,EAAA,EAAmB,OAAA,IAAAqX,GAAA4kB,KAAAl8B,EAAAtG,EAAA,KAA0B2oB,EAAA3L,EAAAimB,QAAa/gB,UAAA,SAAA4E,GAAsB,GAAA9mB,GAAA8mB,EAAA4P,KAAc5P,GAAAA,EAAA+b,QAAa,KAAA,GAAAv8B,MAAAC,EAAA,EAAiBugB,EAAAvgB,EAAIA,IAAAD,EAAA8V,KAAAmU,OAAAC,aAAAxwB,EAAAuG,IAAA,KAAA,GAAA,GAAAA,EAAA,GAAA,KAA2D,OAAAD,GAAAoV,KAAA,KAAkBsnB,MAAA,SAAAlc,GAAmB,IAAA,GAAA9mB,GAAA8mB,EAAA3K,OAAA7V,KAAAC,EAAA,EAA4BvG,EAAAuG,EAAIA,IAAAD,EAAAC,IAAA,KAAA,IAAAugB,EAAAqJ,WAAA5pB,KAAA,GAAA,GAAAA,EAAA,EAAgD,OAAA,IAAAqX,GAAA4kB,KAAAl8B,EAAAtG,KAAwByvB,EAAAzS,EAAAkmB,MAAWhhB,UAAA,SAAA4E,GAAsB,IAAI,MAAAgN,oBAAAC,OAAApL,EAAAzG,UAAA4E,KAAkD,MAAA9mB,GAAS,KAAA4E,OAAA,0BAAsCo+B,MAAA,SAAAlc,GAAmB,MAAA6B,GAAAqa,MAAApP,SAAAnV,mBAAAqI,OACjenJ,EAAA4R,EAAA4T,uBAAApjC,EAAAuiC,QAAqCc,MAAA,WAAiB/jC,KAAAgkC,MAAA,GAAAzlB,GAAA4kB,KAAsBnjC,KAAAikC,YAAA,GAAmBC,QAAA,SAAAzc,GAAqB,gBAAAA,KAAAA,EAAA2I,EAAAuT,MAAAlc,IAAmCznB,KAAAgkC,MAAAjO,OAAAtO,GAAqBznB,KAAAikC,aAAAxc,EAAA+b,UAA6BW,SAAA,SAAA1c,GAAsB,GAAA9mB,GAAAX,KAAAgkC,MAAA/8B,EAAAtG,EAAA02B,MAAAnwB,EAAAvG,EAAA6iC,SAAA3jC,EAAAG,KAAAokC,UAAArlB,EAAA7X,GAAA,EAAArH,GAAAkf,EAAA0I,EAAA0I,EAAAyG,KAAA7X,GAAAoR,EAAA6D,KAAA,EAAAjV,GAAA/e,KAAAqkC,eAAA,EAAyI,IAArB5c,EAAA1I,EAAAlf,EAAMqH,EAAAipB,EAAAmU,IAAA,EAAA7c,EAAAvgB,GAAeugB,EAAA,CAAM,IAAA,GAAAyI,GAAA,EAAYzI,EAAAyI,EAAIA,GAAArwB,EAAAG,KAAAukC,gBAAAt9B,EAAAipB,EAA+BA,GAAAjpB,EAAAu9B,OAAA,EAAA/c,GAAgB9mB,EAAA6iC,UAAAt8B,EAAc,MAAA,IAAAqX,GAAA4kB,KAAAjT,EAAAhpB,IAAuBo8B,MAAA,WAAkB,GAAA7b,GAAA/mB,EAAA4iC,MAAA7iC,KAAAT,KACzc,OAA3BynB,GAAAuc,MAAAhkC,KAAAgkC,MAAAV,QAA2B7b,GAAS4c,eAAA,GAAoBnU,GAAAuU,OAAAnmB,EAAA2kB,QAAmByB,IAAAhkC,EAAAuiC,SAAAE,KAAA,SAAA1b,GAAgCznB,KAAA0kC,IAAA1kC,KAAA0kC,IAAAzB,OAAAxb,GAA4BznB,KAAA+jC,SAAaA,MAAA,WAAkBzlB,EAAAylB,MAAAtjC,KAAAT,MAAmBA,KAAA2kC,YAAgBC,OAAA,SAAAnd,GAAoD,MAAhCznB,MAAAkkC,QAAAzc,GAAgBznB,KAAAmkC,WAAgBnkC,MAAY6kC,SAAA,SAAApd,GAAyC,MAAnBA,IAAAznB,KAAAkkC,QAAAzc,GAAmBznB,KAAA8kC,eAA0BV,UAAA,GAAAW,cAAA,SAAAtd,GAAwC,MAAA,UAAA9mB,EAAAsG,GAAqB,MAAA,IAAAwgB,GAAA0b,KAAAl8B,GAAA49B,SAAAlkC,KAAmCqkC,kBAAA,SAAAvd,GAA+B,MAAA,UAAA9mB,EAAAsG,GAAqB,MAAA,IAAA8wB,GAAAkN,KAAA9B,KAAA1b,EAChexgB,GAAA49B,SAAAlkC,MAAoB,IAAAo3B,GAAAhZ,EAAAmmB,OAAgB,OAAAnmB,IAASP,OAC7C,SAAA2R,GAAa,IAAA,GAAAjB,GAAAmN,SAAAtd,EAAAmQ,EAAA4T,IAAA5S,EAAAnR,EAAAwkB,UAAAR,EAAAhkB,EAAA0lB,OAAA1lB,EAAAmQ,EAAAgW,KAAAxkC,KAAA6d,KAAAZ,EAAA,SAAA8J,GAAqF,MAAA,aAAAA,GAAA,EAAAA,IAAA,GAA8BvI,EAAA,EAAAoK,EAAA,EAAS,GAAAA,GAAK,CAAE,GAAA8G,EAAM3I,GAAA,CAAG2I,EAAAlR,CAAI,KAAA,GAAAZ,GAAA6R,EAAAgV,KAAA/U,GAAA2H,EAAA,EAAwBzZ,GAAAyZ,EAAKA,IAAA,KAAA3H,EAAA2H,GAAA,CAAe3H,GAAA,CAAK,MAAA3I,GAAQ2I,GAAA,EAAKA,IAAA,EAAA9G,IAAA5oB,EAAA4oB,GAAA3L,EAAAwS,EAAAiV,IAAAlmB,EAAA,MAAAX,EAAA+K,GAAA3L,EAAAwS,EAAAiV,IAAAlmB,EAAA,EAAA,IAAAoK,KAA0DpK,IAAI,GAAAuI,MAAA1I,EAAAA,EAAAkQ,OAAA8T,EAAAE,QAA8B0B,SAAA,WAAoB3kC,KAAAqlC,MAAA,GAAAnV,GAAAiT,KAAAziC,EAAAiyB,MAAA,KAAkC4R,gBAAA,SAAA5jC,EAAAsG,GAA+B,IAAA,GAAAC,GAAAlH,KAAAqlC,MAAAhO,MAAAx3B,EAAAqH,EAAA,GAAA6X,EAAA7X,EAAA,GAAAgpB,EAAAhpB,EAAA,GAAAkpB,EAAAlpB,EAAA,GAAAipB,EAAAjpB,EAAA,GAAAxG,EAAAwG,EAAA,GAAAoiB,EAAApiB,EAAA,GAAA67B,EAAA77B,EAAA,GAAAtG,EAAA,EAAuF,GAAAA,EAAKA,IAAA,CAAK,GAAA,GAAAA,EAAA6mB,EAAA7mB,GAC7e,EAAAD,EAAAsG,EAAArG,OAAS,CAAK,GAAAse,GAAAuI,EAAA7mB,EAAA,IAAA+c,EAAA8J,EAAA7mB,EAAA,EAAuB6mB,GAAA7mB,KAAAse,GAAA,GAAAA,IAAA,IAAAA,GAAA,GAAAA,IAAA,IAAAA,IAAA,GAAAuI,EAAA7mB,EAAA,KAAA+c,GAAA,GAAAA,IAAA,KAAAA,GAAA,GAAAA,IAAA,IAAAA,IAAA,IAAA8J,EAAA7mB,EAAA,IAAgGse,EAAA6jB,IAAA5S,GAAA,GAAAA,IAAA,IAAAA,GAAA,GAAAA,IAAA,KAAAA,GAAA,EAAAA,IAAA,MAAAA,EAAAzvB,GAAAyvB,EAAA7G,GAAA/K,EAAA3d,GAAA6mB,EAAA7mB,GAAsE+c,IAAA9d,GAAA,GAAAA,IAAA,IAAAA,GAAA,GAAAA,IAAA,KAAAA,GAAA,GAAAA,IAAA,MAAAA,EAAAkf,EAAAlf,EAAAqwB,EAAAnR,EAAAmR,GAA8D6S,EAAAzZ,EAAIA,EAAA5oB,EAAIA,EAAAyvB,EAAIA,EAAAC,EAAAlR,EAAA,EAAQkR,EAAAF,EAAIA,EAAAnR,EAAIA,EAAAlf,EAAIA,EAAAqf,EAAAvB,EAAA,EAAQzW,EAAA,GAAAA,EAAA,GAAArH,EAAA,EAAcqH,EAAA,GAAAA,EAAA,GAAA6X,EAAA,EAAc7X,EAAA,GAAAA,EAAA,GAAAgpB,EAAA,EAAchpB,EAAA,GAAAA,EAAA,GAAAkpB,EAAA,EAAclpB,EAAA,GAAAA,EAAA,GAAAipB,EAAA,EAAcjpB,EAAA,GAAAA,EAAA,GAAAxG,EAAA,EAAcwG,EAAA,GAAAA,EAAA,GAAAoiB,EAAA,EAAcpiB,EAAA,GAAAA,EAAA,GAAA67B,EAAA,GAAc+B,YAAA,WAAwB,GAAArd,GAAAznB,KAAAgkC,MAAA/8B,EAAAwgB,EAAA4P,MAAAnwB,EAAA,EAAAlH,KAAAikC,YAAApkC,EAAA,EAAA4nB,EAAA+b,QAC5T,OAA7Hv8B,GAAApH,IAAA,IAAA,KAAA,GAAAA,EAAA,GAAuBoH,GAAApH,EAAA,KAAA,GAAA,GAAA,IAAAswB,EAAA5C,MAAArmB,EAAA,YAA0CD,GAAApH,EAAA,KAAA,GAAA,GAAA,IAAAqH,EAAsBugB,EAAA+b,SAAA,EAAAv8B,EAAA6V,OAAsB9c,KAAAmkC,WAAgBnkC,KAAAqlC,OAAkB/B,MAAA,WAAkB,GAAA7b,GAAAsb,EAAAO,MAAA7iC,KAAAT,KAAoD,OAA3BynB,GAAA4d,MAAArlC,KAAAqlC,MAAA/B,QAA2B7b,IAAYyH,GAAAD,OAAA8T,EAAAgC,cAAAhmB,GAA4BmQ,EAAAoW,WAAAvC,EAAAiC,kBAAAjmB,IAAoCP,MACjS,WAAY,GAAA2R,GAAAkM,SAAAnN,EAAAiB,EAAAgJ,IAAA0K,IAA4B1T,GAAA+U,KAAAD,KAAA9U,EAAA2S,IAAAE,KAAAC,QAA+BE,KAAA,SAAApkB,EAAAmR,GAAmBnR,EAAA/e,KAAAulC,QAAA,GAAAxmB,GAAAokB,KAA0B,gBAAAjT,KAAAA,EAAAhB,EAAAyU,MAAAzT,GAAmC,IAAAC,GAAApR,EAAAqlB,UAAA1jC,EAAA,EAAAyvB,CAAwBD,GAAAsT,SAAA9iC,IAAAwvB,EAAAnR,EAAA8lB,SAAA3U,IAAgCA,EAAAuT,OAAU,KAAA,GAAAllB,GAAAve,KAAAwlC,MAAAtV,EAAAoT,QAAA3lB,EAAA3d,KAAAylC,MAAAvV,EAAAoT,QAAApkB,EAAAX,EAAA8Y,MAAA/N,EAAA3L,EAAA0Z,MAAAjH,EAAA,EAA8ED,EAAAC,EAAIA,IAAAlR,EAAAkR,IAAA,WAAA9G,EAAA8G,IAAA,SAAqC7R,GAAAilB,SAAA7lB,EAAA6lB,SAAA9iC,EAAwBV,KAAA+jC,SAAaA,MAAA,WAAkB,GAAAhlB,GAAA/e,KAAAulC,OAAmBxmB,GAAAglB,QAAUhlB,EAAA6lB,OAAA5kC,KAAAylC,QAAqBb,OAAA,SAAA7lB,GAA2C,MAAvB/e,MAAAulC,QAAAX,OAAA7lB,GAAuB/e,MAAY6kC,SAAA,SAAA9lB,GAAsB,GAAAmR,GACtgBlwB,KAAAulC,OAAuC,OAA1BxmB,GAAAmR,EAAA2U,SAAA9lB,GAAgBmR,EAAA6T,QAAU7T,EAAA2U,SAAA7kC,KAAAwlC,MAAAlC,QAAAvN,OAAAhX,UAOvC,WAAY,GAAAoR,GAAAkM,SAAAjM,EAAAD,EAAA2S,IAAAS,SAAiCpT,GAAAgJ,IAAAK,QAAc3W,UAAA,SAAA3b,GAAsB,GAAArH,GAAAqH,EAAAmwB,MAAAtY,EAAA7X,EAAAs8B,SAAA7iC,EAAAX,KAAA0lC,IAAuCx+B,GAAAu8B,QAAUv8B,IAAK,KAAA,GAAAugB,GAAA,EAAY1I,EAAA0I,EAAIA,GAAA,EAAA,IAAA,GAAAxgB,IAAApH,EAAA4nB,IAAA,KAAA,GAAA,GAAAA,EAAA,GAAA,MAAA,IAAA5nB,EAAA4nB,EAAA,IAAA,KAAA,GAAA,IAAAA,EAAA,GAAA,GAAA,MAAA,EAAA5nB,EAAA4nB,EAAA,IAAA,KAAA,GAAA,IAAAA,EAAA,GAAA,GAAA,IAAAyI,EAAA,EAAwH,EAAAA,GAAAnR,EAAA0I,EAAA,IAAAyI,EAAgBA,IAAAhpB,EAAA6V,KAAApc,EAAA6wB,OAAAvqB,IAAA,GAAA,EAAAipB,GAAA,IAAqC,IAAArwB,EAAAc,EAAA6wB,OAAA,IAAA,KAAuBtqB,EAAA4V,OAAA,GAAW5V,EAAA6V,KAAAld,EAAW,OAAAqH,GAAAmV,KAAA,KAAkBsnB,MAAA,SAAAz8B,GAAmB,GAAArH,GAAAqH,EAAA4V,OAAAiC,EAAA/e,KAAA0lC,KAAA/kC,EAAAoe,EAAAyS,OAAA,GAA0C7wB,KAAAA,EAAAuG,EAAA8gB,QAAArnB,GAAA,IAAAA,IAAAd,EAAAc,GAAiC,KAAA,GAAAA,MAAA8mB,EAAA,EAAAxgB,EAAA,EACjepH,EADsfoH,EACpfA,IAAA,GAAAA,EAAA,EAAA,CAAY,GAAAipB,GAAAnR,EAAAiJ,QAAA9gB,EAAAsqB,OAAAvqB,EAAA,KAAA,GAAAA,EAAA,GAAAkpB,EAAApR,EAAAiJ,QAAA9gB,EAAAsqB,OAAAvqB,MAAA,EAAA,GAAAA,EAAA,EAA6EtG,GAAA8mB,IAAA,KAAAyI,EAAAC,IAAA,GAAA,GAAA1I,EAAA,GAA4BA,IAAI,MAAA2I,GAAA4N,OAAAr9B,EAAA8mB,IAAqBie,KAAA,0EzCwsHnHjlC,KAAKf,QAASU,oBAAoB,IAAIT,UAI7D,SAASA,EAAQD,EAASU,I0C5iPhC,SAAAP,EAAA0e,GAAe5e,EAAAD,QAAAA,EAAA6e,EAAAne,EAAA,IAAAA,EAAA,IAAAA,EAAA,IAAAA,EAAA,IAAAA,EAAA,MAAsRJ,KAAA,SAAAH,GAAmB,MAAA,YAAkB,GAAA0e,GAAA1e,EAAAk4B,EAAAxZ,EAAAukB,IAAA9jB,EAAA+Y,EAAA4N,YAAA7mB,EAAAP,EAAA2mB,KAAA5b,KAAA3oB,KAAAuuB,KAAAzH,KAAA1I,KAAAT,KAAA6R,KAAAvvB,KAAAqG,KAAA0W,MAA2F,WAAY,IAAA,GAAA9d,MAAA0e,EAAA,EAAiB,IAAAA,EAAMA,IAAA1e,EAAA0e,GAAA,IAAAA,EAAAA,GAAA,EAAA,IAAAA,GAAA,CAA6B,KAAA,GAAAwZ,GAAA,EAAA/Y,EAAA,EAAAT,EAAA,EAAoB,IAAAA,EAAMA,IAAA,CAAK,GAAAO,GAAAE,EAAAA,GAAA,EAAAA,GAAA,EAAAA,GAAA,EAAAA,GAAA,CAA4BF,GAAA,IAAAA,IAAA,EAAA,IAAAA,GAAAwK,EAAAyO,GAAAjZ,EAAAne,EAAAme,GAAAiZ,CAAiC,IAAA3I,GAAAvvB,EAAAk4B,GAAArZ,EAAA7e,EAAAuvB,GAAA1uB,EAAAb,EAAA6e,GAAAyK,EAAA,IAAAtpB,EAAAif,GAAA,SAAAA,CAA+CoQ,GAAA6I,GAAA5O,GAAA,GAAAA,IAAA,EAAA1B,EAAAsQ,GAAA5O,GAAA,GAAAA,IAAA,GAAApK,EAAAgZ,GAAA5O,GAAA,EAAAA,IAAA,GAAA7K,EAAAyZ,GAAA5O,CAA2D,IAAAA,GAAA,SAAAzoB,EAAA,MAAAge,EAAA,IAAA0Q,EAAA,SAAA2I,CAA0C5H,GAAArR,GAAAqK,GAAA,GAAAA,IAAA,EAAAvoB,EAAAke,GAAAqK,GAAA,GAAAA,IAAA,GAAAliB,EAAA6X,GAAAqK,GAAA,EAAAA,IAAA,GAAAxL,EAAAmB,GAAAqK,EAAA4O,GAAAA,EAAA3I,EAAAvvB,EAAAA,EAAAA,EAAAa,EAAA0uB,KAAApQ,GAAAnf,EAAAA,EAAAmf,KAAA+Y,EAAA/Y,EAAA,KAAsG,IAAAoQ,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,GAAA,IAAA,GAAA,IAAA1Q,EAAAI,EAAA8mB,IAAA5mB,EAAAikB,QAAuD0B,SAAA,WAAoB,IAAA,GAAA9kC,GAAAG,KAAA6lC,KAAAtnB,EAAA1e,EAAAw3B,MAAAU,EAAAl4B,EAAA2jC,SAAA,EAAAxkB,EAAAhf,KAAA8lC,SAAA/N,EAAA,EAAAjZ,EAAA,GAAAE,EAAA,GAAAre,EAAAX,KAAA+lC,gBAAA7W,EAAA,EAAsGpQ,EAAAoQ,EAAIA,IAAA,GAAA6I,EAAA7I,EAAAvuB,EAAAuuB,GAAA3Q,EAAA2Q,OAAqB,CAAK,GAAAzH,GAAA9mB,EAAAuuB,EAAA,EAAaA,GAAA6I,EAAAA,EAAA,GAAA,GAAA7I,EAAA6I,IAAAtQ,EAAA6B,EAAA7B,IAAA,KAAA,GAAA6B,EAAA,IAAA7B,IAAA,KAAA,GAAA6B,EAAA,IAAA7B,IAAA,IAAA,EAAA6B,EAAA,IAAA7B,KAAAA,EAAAA,GAAA,EAAAA,IAAA,GAAAA,EAAA6B,EAAA7B,IAAA,KAAA,GAAA6B,EAAA,IAAA7B,IAAA,KAAA,GAAA6B,EAAA,IAAA7B,IAAA,IAAA,EAAA6B,EAAA,IAAA7B,GAAAA,GAAA2H,EAAA,EAAAF,EAAA6I,IAAA,IAAAp3B,EAAAuuB,GAAAvuB,EAAAuuB,EAAA6I,GAAAtQ,EAAuL,IAAA,GAAA1I,GAAA/e,KAAAgmC,mBAAA1nB,EAAA,EAAsCQ,EAAAR,EAAIA,IAAA,CAAK,GAAA4Q,GAAApQ,EAAAR,CAAU,IAAAA,EAAA,EAAA,GAAAmJ,GAAA9mB,EAAAuuB,OAAkB,IAAAzH,GAAA9mB,EAAAuuB,EAAA,EAAkBnQ,GAAAT,GAAA,EAAAA,GAAA,GAAA4Q,EAAAzH,EAAA0I,EAAA7G,EAAA7B,IAAA,KAAA7mB,EAAA0oB,EAAA,IAAA7B,IAAA,KAAAxgB,EAAAqiB,EAAA,IAAA7B,IAAA,IAAA9J,EAAA2L,EAAA,IAAA7B,MAA4EuP,aAAA,SAAAn3B,EAAA0e,GAA4Bve,KAAAimC,cAAApmC,EAAA0e,EAAAve,KAAA+lC,aAAA7W,EAAAzH,EAAA1I,EAAAT,EAAAgL,IAAoD8N,aAAA,SAAAv3B,EAAA0e,GAA4B,GAAAwZ,GAAAl4B,EAAA0e,EAAA,EAAa1e,GAAA0e,EAAA,GAAA1e,EAAA0e,EAAA,GAAA1e,EAAA0e,EAAA,GAAAwZ,EAAA/3B,KAAAimC,cAAApmC,EAAA0e,EAAAve,KAAAgmC,gBAAA7V,EAAAvvB,EAAAqG,EAAA0W,EAAAhd,EAA8E,IAAAo3B,GAAAl4B,EAAA0e,EAAA,EAAa1e,GAAA0e,EAAA,GAAA1e,EAAA0e,EAAA,GAAA1e,EAAA0e,EAAA,GAAAwZ,GAAuBkO,cAAA,SAAApmC,EAAA0e,EAAAwZ,EAAA/Y,EAAAF,EAAAwK,EAAA3oB,EAAAuuB,GAAyC,IAAA,GAAAzH,GAAAznB,KAAA8lC,SAAA/mB,EAAAlf,EAAA0e,GAAAwZ,EAAA,GAAAzZ,EAAAze,EAAA0e,EAAA,GAAAwZ,EAAA,GAAA5H,EAAAtwB,EAAA0e,EAAA,GAAAwZ,EAAA,GAAAn3B,EAAAf,EAAA0e,EAAA,GAAAwZ,EAAA,GAAA9wB,EAAA,EAAA0W,EAAA,EAAsF8J,EAAA9J,EAAIA,IAAA,CAAK,GAAAyR,GAAApQ,EAAAD,IAAA,IAAAD,EAAA,IAAAR,IAAA,IAAAgL,EAAA,IAAA6G,IAAA,GAAAxvB,EAAA,IAAAC,GAAAm3B,EAAA9wB,KAAAyX,EAAAM,EAAAV,IAAA,IAAAQ,EAAA,IAAAqR,IAAA,IAAA7G,EAAA,IAAA1oB,IAAA,GAAAD,EAAA,IAAAoe,GAAAgZ,EAAA9wB,KAAAvG,EAAAse,EAAAmR,IAAA,IAAArR,EAAA,IAAAle,IAAA,IAAA0oB,EAAA,IAAAvK,IAAA,GAAApe,EAAA,IAAA2d,GAAAyZ,EAAA9wB,KAAAkiB,EAAAnK,EAAApe,IAAA,IAAAke,EAAA,IAAAC,IAAA,IAAAuK,EAAA,IAAAhL,IAAA,GAAA3d,EAAA,IAAAwvB,GAAA4H,EAAA9wB,IAAgO8X,GAAAqQ,EAAA9Q,EAAAI,EAAAyR,EAAAzvB,EAAAE,EAAAuoB,EAAgB,GAAAiG,IAAAF,EAAAnQ,IAAA,KAAA,GAAAmQ,EAAA,IAAA5Q,IAAA,KAAA,GAAA4Q,EAAA,IAAAiB,IAAA,IAAA,EAAAjB,EAAA,IAAAtuB,IAAAm3B,EAAA9wB,KAAAyX,GAAAwQ,EAAA5Q,IAAA,KAAA,GAAA4Q,EAAA,IAAAiB,IAAA,KAAA,GAAAjB,EAAA,IAAAtuB,IAAA,IAAA,EAAAsuB,EAAA,IAAAnQ,IAAAgZ,EAAA9wB,KAAAvG,GAAAwuB,EAAAiB,IAAA,KAAA,GAAAjB,EAAA,IAAAtuB,IAAA,KAAA,GAAAsuB,EAAA,IAAAnQ,IAAA,IAAA,EAAAmQ,EAAA,IAAA5Q,IAAAyZ,EAAA9wB,KAAAkiB,GAAA+F,EAAAtuB,IAAA,KAAA,GAAAsuB,EAAA,IAAAnQ,IAAA,KAAA,GAAAmQ,EAAA,IAAA5Q,IAAA,IAAA,EAAA4Q,EAAA,IAAAiB,IAAA4H,EAAA9wB,IAAoRpH,GAAA0e,GAAA6Q,EAAAvvB,EAAA0e,EAAA,GAAAG,EAAA7e,EAAA0e,EAAA,GAAA7d,EAAAb,EAAA0e,EAAA,GAAA4K,GAAkC+c,QAAA,GAAa3nB,GAAAqnB,IAAA5mB,EAAA+lB,cAAArmB,MAAyB7e,EAAA+lC,O1CkjPhzE,SAASjmC,EAAQD,EAASU,I2CljPhC,SAAAP,EAAA0e,GAAe5e,EAAAD,QAAAA,EAAA6e,EAAAne,EAAA,IAAAA,EAAA,MAAuLJ,KAAA,SAAAH,GAAmB,MAAAA,GAAA+pB,KAAAuc,IAAA,WAA6B,GAAA5nB,GAAA1e,EAAAijC,IAAAsD,gBAAAnD,QAAqC,OAAA1kB,GAAA8nB,UAAA9nB,EAAA0kB,QAA6BqD,aAAA,SAAAzmC,EAAA0e,GAA2Bve,KAAAumC,QAAAvP,aAAAn3B,EAAA0e,MAAgCA,EAAAioB,UAAAjoB,EAAA0kB,QAAwBqD,aAAA,SAAAzmC,EAAA0e,GAA2Bve,KAAAumC,QAAAnP,aAAAv3B,EAAA0e,MAAgCA,KAAI1e,EAAA+pB,KAAAuc,O3CwjPpc,SAASxmC,EAAQD,I4CxjPvB,SAAAG,EAAA0e,GAAe5e,EAAAD,QAAAA,EAAA6e,KAAsHve,KAAA,WAAkB,GAAAH,GAAAA,GAAA,SAAAA,EAAA0e,GAAuB,GAAAwZ,MAAQ/Y,EAAA+Y,EAAA+K,OAAWxZ,EAAAtK,EAAAgkB,KAAA,WAAqB,QAAAnjC,MAAc,OAAOojC,OAAA,SAAA1kB,GAAmB1e,EAAAyH,UAAAtH,IAAiB,IAAA+3B,GAAA,GAAAl4B,EAAY,OAAA0e,IAAAwZ,EAAAmL,MAAA3kB,GAAAwZ,EAAA1wB,eAAA,UAAA0wB,EAAAoL,KAAA,WAAkEpL,EAAAqL,OAAAD,KAAA9e,MAAArkB,KAAAqjC,aAAoCtL,EAAAoL,KAAA77B,UAAAywB,EAAAA,EAAAqL,OAAApjC,KAAA+3B,GAAqCiG,OAAA,WAAmB,GAAAn+B,GAAAG,KAAAijC,QAAoB,OAAApjC,GAAAsjC,KAAA9e,MAAAxkB,EAAAwjC,WAAAxjC,GAAmCsjC,KAAA,aAAkBD,MAAA,SAAArjC,GAAmB,IAAA,GAAA0e,KAAA1e,GAAAA,EAAAwH,eAAAkX,KAAAve,KAAAue,GAAA1e,EAAA0e,GAAmD1e,GAAAwH,eAAA,cAAArH,KAAA8P,SAAAjQ,EAAAiQ,WAAyDwzB,MAAA,WAAkB,MAAAtjC,MAAAmjC,KAAA77B,UAAA27B,OAAAjjC,WAA0C8e,EAAAE,EAAAukB,UAAAja,EAAA2Z,QAA2BE,KAAA,SAAAtjC,EAAAk4B,GAAmBl4B,EAAAG,KAAAq3B,MAAAx3B,MAAAG,KAAAwjC,SAAAzL,GAAAxZ,EAAAwZ,EAAA,EAAAl4B,EAAAid,QAAmDhN,SAAA,SAAAjQ,GAAsB,OAAAA,GAAAqvB,GAAArM,UAAA7iB,OAA6B+1B,OAAA,SAAAl2B,GAAoB,GAAA0e,GAAAve,KAAAq3B,MAAAU,EAAAl4B,EAAAw3B,MAAArY,EAAAhf,KAAAwjC,SAAAla,EAAAzpB,EAAA2jC,QAAwD,IAAAxjC,KAAAyjC,QAAAzkB,EAAA,EAAA,IAAA,GAAAF,GAAA,EAAgCwK,EAAAxK,EAAIA,IAAA,CAAK,GAAAne,GAAA,IAAAo3B,EAAAjZ,IAAA,KAAA,GAAA,GAAAA,EAAA,EAAgCP,GAAAS,EAAAF,IAAA,IAAAne,GAAA,GAAA,IAAAqe,EAAAF,GAAA,OAA8B,IAAAiZ,EAAAjb,OAAA,MAAA,IAAA,GAAAgC,GAAA,EAAmCwK,EAAAxK,EAAIA,GAAA,EAAAP,EAAAS,EAAAF,IAAA,GAAAiZ,EAAAjZ,IAAA,OAAyBP,GAAAxB,KAAAsH,MAAA9F,EAAAwZ,EAAuB,OAAA/3B,MAAAwjC,UAAAla,EAAAtpB,MAA6ByjC,MAAA,WAAkB,GAAAllB,GAAAve,KAAAq3B,MAAAU,EAAA/3B,KAAAwjC,QAAiCjlB,GAAAwZ,IAAA,IAAA,YAAA,GAAA,GAAAA,EAAA,GAAAxZ,EAAAzB,OAAAjd,EAAA+2B,KAAAmB,EAAA,IAAsDuL,MAAA,WAAkB,GAAAzjC,GAAAypB,EAAAga,MAAA7iC,KAAAT,KAAyB,OAAAH,GAAAw3B,MAAAr3B,KAAAq3B,MAAA1E,MAAA,GAAA9yB,GAAqC4e,OAAA,SAAAF,GAAoB,IAAA,GAAAwZ,MAAA/Y,EAAA,EAAiBT,EAAAS,EAAIA,GAAA,EAAA+Y,EAAAhb,KAAA,EAAA,WAAAld,EAAA4e,SAAqC,OAAA,IAAAK,GAAAqkB,KAAApL,EAAAxZ,MAAwB5d,EAAAo3B,EAAAoB,OAAYjK,EAAAvuB,EAAA+iC,KAAU7gB,UAAA,SAAAhjB,GAAsB,IAAA,GAAA0e,GAAA1e,EAAAw3B,MAAAU,EAAAl4B,EAAA2jC,SAAAxkB,KAAAsK,EAAA,EAAwCyO,EAAAzO,EAAIA,IAAA,CAAK,GAAAxK,GAAA,IAAAP,EAAA+K,IAAA,KAAA,GAAA,GAAAA,EAAA,EAAgCtK,GAAAjC,MAAA+B,IAAA,GAAAhP,SAAA,KAAAkP,EAAAjC,MAAA,GAAA+B,GAAAhP,SAAA,KAAyD,MAAAkP,GAAA3C,KAAA,KAAkBsnB,MAAA,SAAA9jC,GAAmB,IAAA,GAAA0e,GAAA1e,EAAAid,OAAAib,KAAA/Y,EAAA,EAA4BT,EAAAS,EAAIA,GAAA,EAAA+Y,EAAA/Y,IAAA,IAAAuW,SAAA11B,EAAAi5B,OAAA9Z,EAAA,GAAA,KAAA,GAAA,GAAAA,EAAA,EAAsD,OAAA,IAAAF,GAAAqkB,KAAApL,EAAAxZ,EAAA,KAA0BD,EAAA3d,EAAAijC,QAAa/gB,UAAA,SAAAhjB,GAAsB,IAAA,GAAA0e,GAAA1e,EAAAw3B,MAAAU,EAAAl4B,EAAA2jC,SAAAxkB,KAAAsK,EAAA,EAAwCyO,EAAAzO,EAAIA,IAAA,CAAK,GAAAxK,GAAA,IAAAP,EAAA+K,IAAA,KAAA,GAAA,GAAAA,EAAA,EAAgCtK,GAAAjC,KAAAmU,OAAAC,aAAArS,IAA+B,MAAAE,GAAA3C,KAAA,KAAkBsnB,MAAA,SAAA9jC,GAAmB,IAAA,GAAA0e,GAAA1e,EAAAid,OAAAib,KAAA/Y,EAAA,EAA4BT,EAAAS,EAAIA,IAAA+Y,EAAA/Y,IAAA,KAAA,IAAAnf,EAAAixB,WAAA9R,KAAA,GAAA,GAAAA,EAAA,EAAgD,OAAA,IAAAF,GAAAqkB,KAAApL,EAAAxZ,KAAwBQ,EAAApe,EAAAkjC,MAAWhhB,UAAA,SAAAhjB,GAAsB,IAAI,MAAA40B,oBAAAC,OAAApW,EAAAuE,UAAAhjB,KAAkD,MAAA0e,GAAS,KAAAhZ,OAAA,0BAAqCo+B,MAAA,SAAA9jC,GAAmB,MAAAye,GAAAqlB,MAAApP,SAAAnV,mBAAAvf,OAAiD4nB,EAAAzI,EAAA8kB,uBAAAxa,EAAA2Z,QAAsCc,MAAA,WAAiB/jC,KAAAgkC,MAAA,GAAAllB,GAAAqkB,KAAAnjC,KAAAikC,YAAA,GAAyCC,QAAA,SAAArkC,GAAqB,gBAAAA,KAAAA,EAAAkf,EAAA4kB,MAAA9jC,IAAAG,KAAAgkC,MAAAjO,OAAAl2B,GAAAG,KAAAikC,aAAApkC,EAAA2jC,UAAqFW,SAAA,SAAA5lB,GAAsB,GAAAwZ,GAAA/3B,KAAAgkC,MAAAhlB,EAAA+Y,EAAAV,MAAA/N,EAAAyO,EAAAyL,SAAA7iC,EAAAX,KAAAokC,UAAAlV,EAAA,EAAAvuB,EAAA2d,EAAAgL,EAAA4F,CAAqE5Q,GAAAC,EAAA1e,EAAA+2B,KAAAtY,GAAAze,EAAAm0B,KAAA,EAAA1V,GAAAte,KAAAqkC,eAAA,EAAiD,IAAAtlB,GAAAT,EAAA3d,EAAA8mB,EAAA5nB,EAAAykC,IAAA,EAAAvlB,EAAAuK,EAAyB,IAAAvK,EAAA,CAAM,IAAA,GAAAne,GAAA,EAAYme,EAAAne,EAAIA,GAAAD,EAAAX,KAAAukC,gBAAAvlB,EAAApe,EAA+B,IAAAqG,GAAA+X,EAAAwlB,OAAA,EAAAzlB,EAAoBgZ,GAAAyL,UAAA/b,EAAc,MAAA,IAAA3I,GAAAqkB,KAAAl8B,EAAAwgB,IAAuB6b,MAAA,WAAkB,GAAAzjC,GAAAypB,EAAAga,MAAA7iC,KAAAT,KAAyB,OAAAH,GAAAmkC,MAAAhkC,KAAAgkC,MAAAV,QAAAzjC,GAAoCwkC,eAAA,GAAoBrlB,GAAAylB,OAAAhd,EAAAwb,QAAmByB,IAAApb,EAAA2Z,SAAAE,KAAA,SAAAtjC,GAAgCG,KAAA0kC,IAAA1kC,KAAA0kC,IAAAzB,OAAApjC,GAAAG,KAAA+jC,SAAyCA,MAAA,WAAkBtc,EAAAsc,MAAAtjC,KAAAT,MAAAA,KAAA2kC,YAAmCC,OAAA,SAAA/kC,GAAoB,MAAAG,MAAAkkC,QAAArkC,GAAAG,KAAAmkC,WAAAnkC,MAA4C6kC,SAAA,SAAAhlC,GAAsBA,GAAAG,KAAAkkC,QAAArkC,EAAmB,IAAA0e,GAAAve,KAAA8kC,aAAyB,OAAAvmB,IAAS6lB,UAAA,GAAAW,cAAA,SAAAllC,GAAwC,MAAA,UAAA0e,EAAAwZ,GAAqB,MAAA,IAAAl4B,GAAAsjC,KAAApL,GAAA8M,SAAAtmB,KAAkCymB,kBAAA,SAAAnlC,GAA+B,MAAA,UAAA0e,EAAAwZ,GAAqB,MAAA,IAAAn3B,GAAAqkC,KAAA9B,KAAAtjC,EAAAk4B,GAAA8M,SAAAtmB,MAA4C,IAAA3d,GAAAm3B,EAAAmN,OAAgB,OAAAnN,IAASvZ,KAAO,OAAA3e,M5C8jPhwG,SAASF,EAAQD,EAASU,GAEhC,GAAIqmC,I6ChkPJ,SAAAC,EAAAC,EAAAhnC,IAQA,WACA,YAEA,SAAAinC,GAAAzd,GACA,MAAA,kBAAAA,IAAA,gBAAAA,IAAA,OAAAA,EAGA,QAAA0d,GAAA1d,GACA,MAAA,kBAAAA,GAGA,QAAA2d,GAAA3d,GACA,MAAA,gBAAAA,IAAA,OAAAA,EAeA,QAAA4d,MAoCA,QAAAC,KACA,MAAA,YACAN,EAAAO,SAAAC,IAIA,QAAAC,KACA,GAAAC,GAAA,EACAC,EAAA,GAAAC,GAAAJ,GACArK,EAAAN,SAAAgL,eAAA,GAGA,OAFAF,GAAAG,QAAA3K,GAA8B4K,eAAA,IAE9B,WACA5K,EAAA/b,KAAAsmB,IAAAA,EAAA,GAKA,QAAAM,KACA,GAAAloB,GAAA,GAAAmoB,eAEA,OADAnoB,GAAAooB,MAAAC,UAAAX,EACA,WACA1nB,EAAAsoB,MAAAC,YAAA,IAIA,QAAAC,KACA,MAAA,YACAxqB,WAAA0pB,EAAA,IAMA,QAAAA,KACA,IAAA,GAAAloB,GAAA,EAAqBipB,EAAAjpB,EAAiBA,GAAA,EAAA,CACtC,GAAAX,GAAA6pB,EAAAlpB,GACAJ,EAAAspB,EAAAlpB,EAAA,EAEAX,GAAAO,GAEAspB,EAAAlpB,GAAAkT,OACAgW,EAAAlpB,EAAA,GAAAkT,OAGA+V,EAAA,EAgBA,QAAAE,MAMA,QAAAC,KACA,MAAA,IAAAC,WAAA,4CAGA,QAAAC,KACA,MAAA,IAAAD,WAAA,wDAGA,QAAAE,GAAAtlC,GACA,IACA,MAAAA,GAAAulC,KACO,MAAArnB,GAEP,MADAsnB,GAAAtnB,MAAAA,EACAsnB,GAIA,QAAAC,GAAAF,EAAA9rB,EAAAisB,EAAAC,GACA,IACAJ,EAAA/nC,KAAAic,EAAAisB,EAAAC,GACO,MAAA/oC,GACP,MAAAA,IAIA,QAAAgpC,GAAA5lC,EAAA6lC,EAAAN,GACAO,EAAA,SAAA9lC,GACA,GAAA+lC,IAAA,EACA7nB,EAAAunB,EAAAF,EAAAM,EAAA,SAAApsB,GACAssB,IACAA,GAAA,EACAF,IAAApsB,EACAusB,EAAAhmC,EAAAyZ,GAEAwsB,EAAAjmC,EAAAyZ,KAES,SAAAimB,GACTqG,IACAA,GAAA,EAEAG,EAAAlmC,EAAA0/B,KACS,YAAA1/B,EAAAmmC,QAAA,sBAETJ,GAAA7nB,IACA6nB,GAAA,EACAG,EAAAlmC,EAAAke,KAEOle,GAGP,QAAAomC,GAAApmC,EAAA6lC,GACAA,EAAAQ,SAAAC,EACAL,EAAAjmC,EAAA6lC,EAAAU,SACOvmC,EAAAqmC,SAAAG,EACPN,EAAAlmC,EAAA6lC,EAAAU,SAEAE,EAAAZ,EAAA5W,OAAA,SAAAxV,GACAusB,EAAAhmC,EAAAyZ,IACS,SAAAimB,GACTwG,EAAAlmC,EAAA0/B,KAKA,QAAAgH,GAAA1mC,EAAA2mC,GACA,GAAAA,EAAAxiC,cAAAnE,EAAAmE,YACAiiC,EAAApmC,EAAA2mC,OACO,CACP,GAAApB,GAAAD,EAAAqB,EAEApB,KAAAC,EACAU,EAAAlmC,EAAAwlC,EAAAtnB,OACS+Q,SAAAsW,EACTU,EAAAjmC,EAAA2mC,GACS/C,EAAA2B,GACTK,EAAA5lC,EAAA2mC,EAAApB,GAEAU,EAAAjmC,EAAA2mC,IAKA,QAAAX,GAAAhmC,EAAAyZ,GACAzZ,IAAAyZ,EACAysB,EAAAlmC,EAAAmlC,KACOxB,EAAAlqB,GACPitB,EAAA1mC,EAAAyZ,GAEAwsB,EAAAjmC,EAAAyZ,GAIA,QAAAmtB,GAAA5mC,GACAA,EAAA6mC,UACA7mC,EAAA6mC,SAAA7mC,EAAAumC,SAGAO,EAAA9mC,GAGA,QAAAimC,GAAAjmC,EAAAyZ,GACAzZ,EAAAqmC,SAAAU,IAEA/mC,EAAAumC,QAAA9sB,EACAzZ,EAAAqmC,OAAAC,EAEA,IAAAtmC,EAAAgnC,aAAAntB,QAEAisB,EAAAgB,EAAA9mC,IAIA,QAAAkmC,GAAAlmC,EAAA0/B,GACA1/B,EAAAqmC,SAAAU,IACA/mC,EAAAqmC,OAAAG,EACAxmC,EAAAumC,QAAA7G,EAEAoG,EAAAc,EAAA5mC,IAGA,QAAAymC,GAAAQ,EAAAC,EAAAC,EAAAC,GACA,GAAAC,GAAAJ,EAAAD,aACAntB,EAAAwtB,EAAAxtB,MAEAotB,GAAAJ,SAAA,KAEAQ,EAAAxtB,GAAAqtB,EACAG,EAAAxtB,EAAAysB,GAAAa,EACAE,EAAAxtB,EAAA2sB,GAAAY,EAEA,IAAAvtB,GAAAotB,EAAAZ,QACAP,EAAAgB,EAAAG,GAIA,QAAAH,GAAA9mC,GACA,GAAAqnC,GAAArnC,EAAAgnC,aACAM,EAAAtnC,EAAAqmC,MAEA,IAAA,IAAAgB,EAAAxtB,OAAA,CAIA,IAAA,GAFAqtB,GAAA9rB,EAAAmsB,EAAAvnC,EAAAumC,QAEAxqB,EAAA,EAAqBA,EAAAsrB,EAAAxtB,OAAwBkC,GAAA,EAC7CmrB,EAAAG,EAAAtrB,GACAX,EAAAisB,EAAAtrB,EAAAurB,GAEAJ,EACAM,EAAAF,EAAAJ,EAAA9rB,EAAAmsB,GAEAnsB,EAAAmsB,EAIAvnC,GAAAgnC,aAAAntB,OAAA,GAGA,QAAA4tB,KACA1qC,KAAAmhB,MAAA,KAKA,QAAAwpB,GAAAtsB,EAAAmsB,GACA,IACA,MAAAnsB,GAAAmsB,GACO,MAAA3qC,GAEP,MADA+qC,GAAAzpB,MAAAthB,EACA+qC,GAIA,QAAAH,GAAAF,EAAAtnC,EAAAob,EAAAmsB,GACA,GACA9tB,GAAAyE,EAAA0pB,EAAAjM,EADAkM,EAAAjE,EAAAxoB,EAGA,IAAAysB,GAWA,GAVApuB,EAAAiuB,EAAAtsB,EAAAmsB,GAEA9tB,IAAAkuB,GACAhM,GAAA,EACAzd,EAAAzE,EAAAyE,MACAzE,EAAA,MAEAmuB,GAAA,EAGA5nC,IAAAyZ,EAEA,WADAysB,GAAAlmC,EAAAqlC,SAKA5rB,GAAA8tB,EACAK,GAAA,CAGA5nC,GAAAqmC,SAAAU,IAEOc,GAAAD,EACP5B,EAAAhmC,EAAAyZ,GACOkiB,EACPuK,EAAAlmC,EAAAke,GACOopB,IAAAhB,EACPL,EAAAjmC,EAAAyZ,GACO6tB,IAAAd,GACPN,EAAAlmC,EAAAyZ,IAIA,QAAAquB,GAAA9nC,EAAA+nC,GACA,IACAA,EAAA,SAAAtuB,GACAusB,EAAAhmC,EAAAyZ,IACS,SAAAimB,GACTwG,EAAAlmC,EAAA0/B,KAEO,MAAA9iC,GACPspC,EAAAlmC,EAAApD,IAkBA,QAAAorC,GAAAC,EAAAhpB,EAAAipB,EAAAC,GACAprC,KAAAqrC,qBAAAH,EACAlrC,KAAAiD,QAAA,GAAAioC,GAAA/C,EAAAiD,GACAprC,KAAAsrC,eAAAH,EAEAnrC,KAAAurC,eAAArpB,IACAliB,KAAAwrC,OAAAtpB,EACAliB,KAAA8c,OAAAoF,EAAApF,OACA9c,KAAAyrC,WAAAvpB,EAAApF,OAEA9c,KAAA0rC,QAEA,IAAA1rC,KAAA8c,OACAosB,EAAAlpC,KAAAiD,QAAAjD,KAAAwpC,UAEAxpC,KAAA8c,OAAA9c,KAAA8c,QAAA,EACA9c,KAAA2rC,aACA,IAAA3rC,KAAAyrC,YACAvC,EAAAlpC,KAAAiD,QAAAjD,KAAAwpC,WAIAL,EAAAnpC,KAAAiD,QAAAjD,KAAA4rC,oBAkIA,QAAAC,KACA,KAAA,IAAAxD,WAAA,sFAGA,QAAAyD,KACA,KAAA,IAAAzD,WAAA,yHA4GA,QAAA0D,GAAAf,GACAhrC,KAAAgsC,IAAAC,KACAjsC,KAAAspC,OAAApX,OACAlyB,KAAAwpC,QAAAtX,OACAlyB,KAAAiqC,gBAEA9B,IAAA6C,IACAnE,EAAAmE,IACAa,IAGA7rC,eAAA+rC,IACAD,IAGAf,EAAA/qC,KAAAgrC,IAvnBA,GAAAkB,EAOAA,GALArtB,MAAAF,QAKAE,MAAAF,QAJA,SAAAwK,GACA,MAAA,mBAAAtZ,OAAAvI,UAAAwI,SAAArP,KAAA0oB,GAMA,IAsFAgjB,GAtFAC,EAAAF,EAeAjE,GAdAlsB,KAAAiT,KAAA,WAA+C,OAAA,GAAAjT,OAAAgS,WAG/Cle,OAAAmuB,QAAA,SAAAlf,GACA,GAAAukB,UAAAvmB,OAAA,EACA,KAAA,IAAAvX,OAAA,gCAEA,IAAA,gBAAAuZ,GACA,KAAA,IAAAupB,WAAA,6BAGA,OADAtB,GAAAz/B,UAAAwX,EACA,GAAAioB,IAGA,GAEAgC,EAAA,SAAA1qB,EAAAO,GACAspB,EAAAD,GAAA5pB,EACA6pB,EAAAD,EAAA,GAAArpB,EACAqpB,GAAA,EACA,IAAAA,GAIAkE,KAIAE,EAAA,mBAAAla,QAAAA,UACAmV,EAAA+E,EAAAC,kBAAAD,EAAAE,uBAGAC,EAAA,mBAAAC,oBACA,mBAAAC,gBACA,mBAAA/E,gBAmCAO,EAAA,GAAArpB,OAAA,IAoBAstB,GADA,mBAAAzF,IAA4C,wBAAA52B,SAAArP,KAAAimC,GAC5CM,IACKM,EACLH,IACKqF,EACL9E,IAEAM,GAIA,IAAAgC,GAAA,OACAT,EAAA,EACAE,EAAA,EACAhB,EAAA,GAAAiC,GAmKAE,EAAA,GAAAF,EAqGAO,GAAA3jC,UAAAikC,eAAA,SAAArpB,GACA,MAAAkqB,GAAAlqB,IAGA+oB,EAAA3jC,UAAAskC,iBAAA,WACA,MAAA,IAAArmC,OAAA,4CAGA0lC,EAAA3jC,UAAAokC,MAAA,WACA1rC,KAAAwpC,QAAA,GAAA3qB,OAAA7e,KAAA8c,QAGA,IAAA6vB,GAAA1B,CAEAA,GAAA3jC,UAAAqkC,WAAA,WAKA,IAAA,GAJA7uB,GAAA9c,KAAA8c,OACA7Z,EAAAjD,KAAAiD,QACAif,EAAAliB,KAAAwrC,OAEAxsB,EAAA,EAAqB/b,EAAAqmC,SAAAU,GAAAltB,EAAAkC,EAAuDA,IAC5Ehf,KAAA4sC,WAAA1qB,EAAAlD,GAAAA,IAIAisB,EAAA3jC,UAAAslC,WAAA,SAAAC,EAAA7tB,GACA,GAAAre,GAAAX,KAAAqrC,oBACAvE,GAAA+F,GACAA,EAAAzlC,cAAAzG,GAAAksC,EAAAvD,SAAAU,GACA6C,EAAA/C,SAAA,KACA9pC,KAAA8sC,WAAAD,EAAAvD,OAAAtqB,EAAA6tB,EAAArD,UAEAxpC,KAAA+sC,cAAApsC,EAAAqsC,QAAAH,GAAA7tB,IAGAhf,KAAAyrC,aACAzrC,KAAAwpC,QAAAxqB,GAAAhf,KAAAitC,YAAA1D,EAAAvqB,EAAA6tB,KAIA5B,EAAA3jC,UAAAwlC,WAAA,SAAAv1B,EAAAyH,EAAAtC,GACA,GAAAzZ,GAAAjD,KAAAiD,OAEAA,GAAAqmC,SAAAU,IACAhqC,KAAAyrC,aAEAzrC,KAAAsrC,gBAAA/zB,IAAAkyB,EACAN,EAAAlmC,EAAAyZ,GAEA1c,KAAAwpC,QAAAxqB,GAAAhf,KAAAitC,YAAA11B,EAAAyH,EAAAtC,IAIA,IAAA1c,KAAAyrC,YACAvC,EAAAjmC,EAAAjD,KAAAwpC,UAIAyB,EAAA3jC,UAAA2lC,YAAA,SAAA11B,EAAAyH,EAAAtC,GACA,MAAAA,IAGAuuB,EAAA3jC,UAAAylC,cAAA,SAAA9pC,EAAA+b,GACA,GAAAkuB,GAAAltC,IAEA0pC,GAAAzmC,EAAAivB,OAAA,SAAAxV,GACAwwB,EAAAJ,WAAAvD,EAAAvqB,EAAAtC,IACO,SAAAimB,GACPuK,EAAAJ,WAAArD,EAAAzqB,EAAA2jB,KAIA,IAAAwK,GAAA,SAAAC,EAAAhC,GACA,MAAA,IAAAuB,GAAA3sC,KAAAotC,GAAA,EAAAhC,GAAAnoC,SAGAoqC,EAAA,SAAAD,EAAAhC,GAaA,QAAAhB,GAAA1tB,GACAusB,EAAAhmC,EAAAyZ,GAGA,QAAA2tB,GAAA1H,GACAwG,EAAAlmC,EAAA0/B,GAhBA,GAAAuI,GAAAlrC,KAEAiD,EAAA,GAAAioC,GAAA/C,EAAAiD,EAEA,KAAAgB,EAAAgB,GAEA,MADAjE,GAAAlmC,EAAA,GAAAolC,WAAA,oCACAplC,CAaA,KAAA,GAVA6Z,GAAAswB,EAAAtwB,OAUAkC,EAAA,EAAqB/b,EAAAqmC,SAAAU,GAAAltB,EAAAkC,EAAuDA,IAC5E0qB,EAAAwB,EAAA8B,QAAAI,EAAApuB,IAAAkT,OAAAkY,EAAAC,EAGA,OAAApnC,IAGAqqC,GAAA,SAAAC,EAAAnC,GAEA,GAAAF,GAAAlrC,IAEA,IAAAutC,GAAA,gBAAAA,IAAAA,EAAAnmC,cAAA8jC,EACA,MAAAqC,EAGA,IAAAtqC,GAAA,GAAAioC,GAAA/C,EAAAiD,EAEA,OADAnC,GAAAhmC,EAAAsqC,GACAtqC,GAGAuqC,GAAA,SAAA7K,EAAAyI,GAEA,GAAAF,GAAAlrC,KACAiD,EAAA,GAAAioC,GAAA/C,EAAAiD,EAEA,OADAjC,GAAAlmC,EAAA0/B,GACA1/B,GAGAgpC,GAAA,EAUAwB,GAAA1B,CA4HAA,GAAA2B,IAAAP,EACApB,EAAA4B,KAAAN,EACAtB,EAAAiB,QAAAM,GACAvB,EAAA6B,OAAAJ,GAEAzB,EAAAzkC,WACAF,YAAA2kC,EAmMAvD,KAAA,SAAA4B,EAAAC,GACA,GAAAH,GAAAlqC,KACAuX,EAAA2yB,EAAAZ,MAEA,IAAA/xB,IAAAgyB,IAAAa,GAAA7yB,IAAAkyB,IAAAY,EACA,MAAArqC,KAGA,IAAAmqC,GAAA,GAAAnqC,MAAAoH,YAAA+gC,GACArS,EAAAoU,EAAAV,OAEA,IAAAjyB,EAAA,CACA,GAAA8G,GAAAglB,UAAA9rB,EAAA,EACAwxB,GAAA,WACA0B,EAAAlzB,EAAA4yB,EAAA9rB,EAAAyX,SAGA4T,GAAAQ,EAAAC,EAAAC,EAAAC,EAGA,OAAAF,IA8BA0D,QAAA,SAAAxD,GACA,MAAArqC,MAAAwoC,KAAA,KAAA6B,IAIA,IAAAyD,IAAA,WACA,GAAAC,EAGAA,GADA,mBAAApH,GACAA,EACO,mBAAAxU,SAAAA,OAAAoK,SACPpK,OAEAqQ,IAGA,IAAAwL,GACA,WAAAD,IAGA,WAAAA,GAAAE,SACA,UAAAF,GAAAE,SACA,OAAAF,GAAAE,SACA,QAAAF,GAAAE,SAGA,WACA,GAAAjB,EAEA,OADA,IAAAe,GAAAE,QAAA,SAAA1vB,GAAyCyuB,EAAAzuB,IACzCsoB,EAAAmG,KAGAgB,KACAD,EAAAE,QAAAR,KAIAS,IACAD,QAAAR,GACAU,SAAAL,GAIA1tC,GAAA,IAAA,KACAqmC,EAAA,WAAyB,MAAAyH,KAAsCztC,KAAAf,EAAAU,EAAAV,EAAAC,KAAAuyB,SAAAuU,IAAA9mC,EAAAD,QAAA+mC,KAC1D,mBAAA9mC,IAAAA,EAAA,QACLA,EAAA,QAAAuuC,GACK,mBAAAluC,QACLA,KAAA,WAAAkuC,MAECztC,KAAAT,Q7CikP4BS,KAAKf,EAASU,EAAoB,IAAM,WAAa,MAAOJ,SAAYI,EAAoB,IAAIT,KAIvH,SAASA,EAAQD,EAASU,G8C10QhC,QAAgBqF,GAAKvE,GACjBuE,MAAOA,IAAIA,GAAQA,G9C40QvB,GAAIuB,GAAYhH,KAAKgH,WAAa,SAAUC,EAAGC,GAE3C,QAASC,KAAOnH,KAAKoH,YAAcH,EADnC,IAAK,GAAIrG,KAAKsG,GAAOA,EAAEG,eAAezG,KAAIqG,EAAErG,GAAKsG,EAAEtG,GAEnDuG,GAAGG,UAAYJ,EAAEI,UACjBL,EAAEK,UAAY,GAAIH,I8CzgRfgpB,EAAC/vB,EAAW,IAIZY,EAAYZ,EAAW,GACvBme,EAACne,EAAW,IAKNguC,EAAO,SAAA5mC,GAWhB4mC,QAXSA,GAWGA,GAERC,EAAAA,KAAAA,KAAMA,GAENA,KAAKA,OAAQA,EACbA,KAAKA,OAASA,GACdA,KAAKA,IAAMA,GACXA,KAAKA,MAAQA,KACbA,KAAKA,QACLA,KAAKA,QAAUA,EACfA,KAAKA,IAAMA,KAEXA,KAAKA,SAAWA,EAAaA,KAAKA,GAqJ1CD,MA5K6BA,GAAhBA,EAAOA,GA2BhBA,EAAAA,UAAAA,SAAAA,WACIE,QAASA,KAAKA,KAIlBF,EAAAA,UAAAA,UAAAA,SAAUA,EAAaA,GAEnBG,MADAA,GAAAA,UAAMA,UAASA,KAAAA,KAACA,EAAMA,GACfA,MAIXH,EAAAA,UAAAA,WAAAA,SAAWA,GAEPI,MADAA,GAAAA,UAAMA,WAAUA,KAAAA,KAACA,GACVA,MAGXJ,EAAAA,UAAAA,WAAAA,SAAWA,GAePK,MAbAA,GAAUA,MAGJA,QAAUA,KAAYA,EAAQA,OAAMA,EAAQA,KAAOA,EAAQA,MAC3DA,SAAWA,KAAYA,EAAQA,MAAKA,EAAQA,MAAQA,EAAQA,KAE9DA,UAAYA,KAASA,KAAKA,OAASA,EAAQA,QAC3CA,OAASA,KAASA,KAAKA,IAAMA,EAAQA,KACrCA,SAAWA,KAASA,KAAKA,MAAQA,EAAQA,OACzCA,QAAUA,KAASA,KAAKA,KAAOA,EAAQA,MACvCA,WAAaA,IAASA,KAAKA,WAAWA,EAAQA,SAC9CA,SAAWA,KAASA,KAAKA,QAAUA,EAAQA,OAExCA,MAQXL,EAAAA,UAAAA,aAAAA,WAEIM,IAAKA,KAAKA,IAAKA,KAAMA,IAAIA,OAAMA,qBAO/BA,IALKA,KAAKA,UAAUA,WAAWA,KAAKA,UAAUA,SAAUA,EAAEA,QAAQA,iBAC7DA,KAAKA,UAAUA,iBAAiBA,KAAKA,UAAUA,eAAgBA,EAAEA,QAAQA,iBAE9EA,KAAKA,OAASA,KAAKA,OAASA,KAAKA,OAAOA,cAAgBA,OAEnDA,MAAOA,OAAQA,MAAOA,SAAUA,QAASA,UAAWA,QAAQA,QAAQA,KAAKA,QAAUA,EAAGA,KAAMA,IAAIA,OAAMA,yBAE3GA,OAAOA,OAIXN,EAAAA,UAAAA,eAAAA,WAEIO,MAAoBA,QAAhBA,KAAKA,OAAyBA,KAETA,gBAAdA,MAAKA,KACLA,KAAKA,KACLA,KAAKA,SACLA,KAAKA,UAAUA,KAAKA,MACpBA,KAAKA,eACLA,KAAKA,MAAMA,eAAeA,KAAKA,MAE/BA,KAAKA,MAKpBP,EAAAA,UAAAA,KAAAA,WAAAQ,GAAAA,GAAAA,IAEIA,MAAKA,SAASA,KAAKA,KAAKA,SAASA,OAAOA,cAAeA,KAEvDA,IAAIA,GAAkBA,IAAKA,KAAKA,QAAQA,cAAcA,SAACA,EAASA,GAE5DA,EAAKA,cAELA,IAAIA,GAAMA,EAAKA,SACXA,EAAMA,EAAKA,KAASA,EAAKA,OAAUA,EAAKA,IAAIA,QAAQA,KAAOA,GAAKA,IAAMA,KAAOA,EAAKA,MAAMA,eAAeA,EAAKA,OAAUA,GAE1HA,GAAIA,KAAKA,EAAKA,OAAQA,EAAKA,EAAKA,OAGhCA,EAAIA,iBAAkBA,EAEtBA,EAAIA,OAASA,W9Cg/QT,G8C7+QIA,GAAWA,EAAEA,KAAKA,EAAKA,QAASA,EAAIA,OAAQA,EAAIA,WAAYA,EAAIA,aAAcA,EAAIA,wBAEtFA,IAAIA,EAASA,MAAOA,CAChBA,GAAIA,GAAiBA,EAASA,KAC9BA,GAAEA,KAAOA,EACTA,EAAEA,SAAWA,EACbA,EAAEA,QAAUA,EACZA,EAAOA,OAEPA,GAAQA,IAKhBA,EAAIA,QAAUA,SAACA,GACXA,GAAIA,GAAiBA,GAAIA,OAAMA,8BAAgCA,EAAQA,KAAOA,EAAMA,WAAaA,IAAMA,IACvGA,GAAEA,QAAUA,EACZA,EAAEA,SAAWA,KACbA,EAAEA,KAAOA,KACTA,EAAOA,IAGXA,EAAKA,MAAMA,QAAQA,EAAKA,QAASA,SAACA,EAAOA,GAC/BA,GAAOA,EAAIA,iBAAiBA,EAAQA,KAG9CA,EAAIA,KAAKA,EAAKA,kBAEdA,EAAKA,IAAMA,GAIfA,OAAOA,GAAgBA,KAAKA,SAACA,GAIzBA,MAFAA,GAAKA,SAASA,KAAKA,EAAKA,SAASA,OAAOA,eAAgBA,EAAUA,GAE3DA,IAJJA,SAMEA,SAACA,GAINA,KAFAA,GAAKA,SAASA,KAAKA,EAAKA,SAASA,OAAOA,aAAcA,GAEhDA,KAMdR,EAAAA,UAAAA,OAAAA,WACIS,MAAOA,MAAKA,QAAQA,UAGxBT,EAAAA,UAAAA,QAAAA,WACQU,KAAKA,KAAKA,KAAKA,IAAIA,SAG/BV,GA5K6Bje,EAAE4e,QAAlBrvC,GAAA0uC,QAAAA,EA8KG1uC,EAAA+F,KAAAA,G9Cu+QV,SAAS9F,EAAQD,EAASU,I+CjqRhC,SAAAP,EAAA0e,GAAe5e,EAAAD,QAAAA,EAAA6e,EAAAne,EAAA,MAA8IJ,KAAA,SAAAH,GAAmB,MAAA,YAAkB,GAAA0e,GAAA1e,EAAAk4B,EAAAxZ,EAAAukB,IAAAxZ,EAAAyO,EAAAwL,UAAAvkB,EAAAT,EAAA4a,GAAsCna,GAAAwa,QAAU3W,UAAA,SAAAhjB,GAAsB,GAAA0e,GAAA1e,EAAAw3B,MAAAU,EAAAl4B,EAAA2jC,SAAAla,EAAAtpB,KAAA0lC,IAAuC7lC,GAAA4jC,OAAU,KAAA,GAAAzkB,MAAAF,EAAA,EAAiBiZ,EAAAjZ,EAAIA,GAAA,EAAA,IAAA,GAAAne,GAAA,IAAA4d,EAAAO,IAAA,KAAA,GAAA,GAAAA,EAAA,GAAAC,EAAA,IAAAR,EAAAO,EAAA,IAAA,KAAA,GAAA,IAAAA,EAAA,GAAA,GAAAoQ,EAAA,IAAA3Q,EAAAO,EAAA,IAAA,KAAA,GAAA,IAAAA,EAAA,GAAA,GAAA2I,EAAA9mB,GAAA,GAAAoe,GAAA,EAAAmQ,EAAA5Q,EAAA,EAAgI,EAAAA,GAAAyZ,EAAAjZ,EAAA,IAAAR,EAAeA,IAAAU,EAAAjC,KAAAuM,EAAAkI,OAAA,GAAA/J,IAAA,GAAA,EAAAnJ,IAAqC,IAAA1d,GAAA0oB,EAAAkI,OAAA,GAAmB,IAAA5wB,EAAA,KAAUoe,EAAAlC,OAAA,GAAWkC,EAAAjC,KAAAnc,EAAW,OAAAoe,GAAA3C,KAAA,KAAkBsnB,MAAA,SAAA9jC,GAAmB,GAAA0e,GAAA1e,EAAAid,OAAAib,EAAA/3B,KAAA0lC,KAAA1mB,EAAA+Y,EAAAvG,OAAA,GAA0C,IAAAxS,EAAA,CAAM,GAAAF,GAAAjf,EAAAmoB,QAAAhJ,EAAmB,KAAAF,IAAAP,EAAAO,GAAa,IAAA,GAAAne,MAAAoe,EAAA,EAAAmQ,EAAA,EAAqB3Q,EAAA2Q,EAAIA,IAAA,GAAAA,EAAA,EAAA,CAAY,GAAAzH,GAAAsQ,EAAA/P,QAAAnoB,EAAA2xB,OAAAtC,EAAA,KAAA,GAAAA,EAAA,GAAA5Q,EAAAyZ,EAAA/P,QAAAnoB,EAAA2xB,OAAAtC,MAAA,EAAA,GAAAA,EAAA,EAA6EvuB,GAAAoe,IAAA,KAAA0I,EAAAnJ,IAAA,GAAA,GAAAS,EAAA,GAAAA,IAAgC,MAAAuK,GAAA0U,OAAAr9B,EAAAoe,IAAqB2mB,KAAA,wEAA2E7lC,EAAAs5B,IAAAK,U/CuqRt5B,SAAS75B,EAAQD,EAASU,IgDvqRhC,SAAAP,EAAA0e,GAAe5e,EAAAD,QAAAA,EAAA6e,EAAAne,EAAA,MAA8IJ,KAAA,SAAAH,GAAmB,MAAA,UAAA0e,GAAmB,QAAAwZ,GAAAl4B,EAAA0e,EAAAwZ,EAAAzO,EAAAtK,EAAAF,EAAAne,GAA0B,GAAAuuB,GAAArvB,GAAA0e,EAAAwZ,GAAAxZ,EAAA+K,GAAAtK,EAAAre,CAAuB;OAAAuuB,GAAApQ,EAAAoQ,IAAA,GAAApQ,GAAAP,EAAwB,QAAA+K,GAAAzpB,EAAA0e,EAAAwZ,EAAAzO,EAAAtK,EAAAF,EAAAne,GAA0B,GAAAuuB,GAAArvB,GAAA0e,EAAA+K,EAAAyO,GAAAzO,GAAAtK,EAAAre,CAAuB,QAAAuuB,GAAApQ,EAAAoQ,IAAA,GAAApQ,GAAAP,EAAwB,QAAAS,GAAAnf,EAAA0e,EAAAwZ,EAAAzO,EAAAtK,EAAAF,EAAAne,GAA0B,GAAAuuB,GAAArvB,GAAA0e,EAAAwZ,EAAAzO,GAAAtK,EAAAre,CAAoB,QAAAuuB,GAAApQ,EAAAoQ,IAAA,GAAApQ,GAAAP,EAAwB,QAAAO,GAAAjf,EAAA0e,EAAAwZ,EAAAzO,EAAAtK,EAAAF,EAAAne,GAA0B,GAAAuuB,GAAArvB,GAAAk4B,GAAAxZ,GAAA+K,IAAAtK,EAAAre,CAAuB,QAAAuuB,GAAApQ,EAAAoQ,IAAA,GAAApQ,GAAAP,EAAwB,GAAA5d,GAAAd,EAAAqvB,EAAAvuB,EAAAmiC,IAAA/jB,EAAAmQ,EAAAqU,UAAA9b,EAAAyH,EAAAuV,OAAAnmB,EAAA3d,EAAAukC,KAAAtkC,MAAuD,WAAY,IAAA,GAAAf,GAAA,EAAY,GAAAA,EAAKA,IAAAe,EAAAf,GAAA,EAAA,WAAA0e,EAAAywB,IAAAzwB,EAAA0wB,IAAApvC,EAAA,MAA4C,IAAAoH,GAAAqX,EAAAkY,IAAA/O,EAAAwb,QAAsB0B,SAAA,WAAoB3kC,KAAAqlC,MAAA,GAAAtmB,GAAAokB,MAAA,WAAA,WAAA,WAAA,aAAoEoB,gBAAA,SAAA1kC,EAAA0e,GAA+B,IAAA,GAAA5d,GAAA,EAAY,GAAAA,EAAKA,IAAA,CAAK,GAAAuuB,GAAA3Q,EAAA5d,EAAAoe,EAAAlf,EAAAqvB,EAAiBrvB,GAAAqvB,GAAA,UAAAnQ,GAAA,EAAAA,IAAA,IAAA,YAAAA,GAAA,GAAAA,IAAA,GAAqD,GAAA0I,GAAAznB,KAAAqlC,MAAAhO,MAAA/Y,EAAAze,EAAA0e,EAAA,GAAAtX,EAAApH,EAAA0e,EAAA,GAAA4R,EAAAtwB,EAAA0e,EAAA,GAAA6Q,EAAAvvB,EAAA0e,EAAA,GAAA7d,EAAAb,EAAA0e,EAAA,GAAAZ,EAAA9d,EAAA0e,EAAA,GAAA4K,EAAAtpB,EAAA0e,EAAA,GAAAwkB,EAAAljC,EAAA0e,EAAA,GAAA2R,EAAArwB,EAAA0e,EAAA,GAAAG,EAAA7e,EAAA0e,EAAA,GAAArX,EAAArH,EAAA0e,EAAA,IAAAgR,EAAA1vB,EAAA0e,EAAA,IAAA2wB,EAAArvC,EAAA0e,EAAA,IAAAuP,EAAAjuB,EAAA0e,EAAA,IAAAN,EAAApe,EAAA0e,EAAA,IAAA4wB,EAAAtvC,EAAA0e,EAAA,IAAA6wB,EAAA3nB,EAAA,GAAA4nB,EAAA5nB,EAAA,GAAA2I,EAAA3I,EAAA,GAAA6nB,EAAA7nB,EAAA,EAAyM2nB,GAAArX,EAAAqX,EAAAC,EAAAjf,EAAAkf,EAAAhxB,EAAA,EAAA1d,EAAA,IAAA0uC,EAAAvX,EAAAuX,EAAAF,EAAAC,EAAAjf,EAAAnpB,EAAA,GAAArG,EAAA,IAAAwvB,EAAA2H,EAAA3H,EAAAkf,EAAAF,EAAAC,EAAAlf,EAAA,GAAAvvB,EAAA,IAAAyuC,EAAAtX,EAAAsX,EAAAjf,EAAAkf,EAAAF,EAAAhgB,EAAA,GAAAxuB,EAAA,IAAAwuC,EAAArX,EAAAqX,EAAAC,EAAAjf,EAAAkf,EAAA5uC,EAAA,EAAAE,EAAA,IAAA0uC,EAAAvX,EAAAuX,EAAAF,EAAAC,EAAAjf,EAAAzS,EAAA,GAAA/c,EAAA,IAAAwvB,EAAA2H,EAAA3H,EAAAkf,EAAAF,EAAAC,EAAAlmB,EAAA,GAAAvoB,EAAA,IAAAyuC,EAAAtX,EAAAsX,EAAAjf,EAAAkf,EAAAF,EAAArM,EAAA,GAAAniC,EAAA,IAAAwuC,EAAArX,EAAAqX,EAAAC,EAAAjf,EAAAkf,EAAApf,EAAA,EAAAtvB,EAAA,IAAA0uC,EAAAvX,EAAAuX,EAAAF,EAAAC,EAAAjf,EAAA1R,EAAA,GAAA9d,EAAA,IAAAwvB,EAAA2H,EAAA3H,EAAAkf,EAAAF,EAAAC,EAAAnoC,EAAA,GAAAtG,EAAA,KAAAyuC,EAAAtX,EAAAsX,EAAAjf,EAAAkf,EAAAF,EAAA7f,EAAA,GAAA3uB,EAAA,KAAAwuC,EAAArX,EAAAqX,EAAAC,EAAAjf,EAAAkf,EAAAJ,EAAA,EAAAtuC,EAAA,KAAA0uC,EAAAvX,EAAAuX,EAAAF,EAAAC,EAAAjf,EAAAtC,EAAA,GAAAltB,EAAA,KAAAwvB,EAAA2H,EAAA3H,EAAAkf,EAAAF,EAAAC,EAAApxB,EAAA,GAAArd,EAAA,KAAAyuC,EAAAtX,EAAAsX,EAAAjf,EAAAkf,EAAAF,EAAAD,EAAA,GAAAvuC,EAAA,KAAAwuC,EAAA9lB,EAAA8lB,EAAAC,EAAAjf,EAAAkf,EAAAroC,EAAA,EAAArG,EAAA,KAAA0uC,EAAAhmB,EAAAgmB,EAAAF,EAAAC,EAAAjf,EAAAjH,EAAA,EAAAvoB,EAAA,KAAAwvB,EAAA9G,EAAA8G,EAAAkf,EAAAF,EAAAC,EAAA9f,EAAA,GAAA3uB,EAAA,KAAAyuC,EAAA/lB,EAAA+lB,EAAAjf,EAAAkf,EAAAF,EAAA9wB,EAAA,GAAA1d,EAAA,KAAAwuC,EAAA9lB,EAAA8lB,EAAAC,EAAAjf,EAAAkf,EAAA3xB,EAAA,EAAA/c,EAAA,KAAA0uC,EAAAhmB,EAAAgmB,EAAAF,EAAAC,EAAAjf,EAAAlpB,EAAA,EAAAtG,EAAA,KAAAwvB,EAAA9G,EAAA8G,EAAAkf,EAAAF,EAAAC,EAAAF,EAAA,GAAAvuC,EAAA,KAAAyuC,EAAA/lB,EAAA+lB,EAAAjf,EAAAkf,EAAAF,EAAA1uC,EAAA,GAAAE,EAAA,KAAAwuC,EAAA9lB,EAAA8lB,EAAAC,EAAAjf,EAAAkf,EAAA5wB,EAAA,EAAA9d,EAAA,KAAA0uC,EAAAhmB,EAAAgmB,EAAAF,EAAAC,EAAAjf,EAAAnS,EAAA,EAAArd,EAAA,KAAAwvB,EAAA9G,EAAA8G,EAAAkf,EAAAF,EAAAC,EAAAjgB,EAAA,GAAAxuB,EAAA,KAAAyuC,EAAA/lB,EAAA+lB,EAAAjf,EAAAkf,EAAAF,EAAAlf,EAAA,GAAAtvB,EAAA,KAAAwuC,EAAA9lB,EAAA8lB,EAAAC,EAAAjf,EAAAkf,EAAAxhB,EAAA,EAAAltB,EAAA,KAAA0uC,EAAAhmB,EAAAgmB,EAAAF,EAAAC,EAAAjf,EAAAD,EAAA,EAAAvvB,EAAA,KAAAwvB,EAAA9G,EAAA8G,EAAAkf,EAAAF,EAAAC,EAAAtM,EAAA,GAAAniC,EAAA,KAAAyuC,EAAA/lB,EAAA+lB,EAAAjf,EAAAkf,EAAAF,EAAAF,EAAA,GAAAtuC,EAAA,KAAAwuC,EAAApwB,EAAAowB,EAAAC,EAAAjf,EAAAkf,EAAA3xB,EAAA,EAAA/c,EAAA,KAAA0uC,EAAAtwB,EAAAswB,EAAAF,EAAAC,EAAAjf,EAAAF,EAAA,GAAAtvB,EAAA,KAAAwvB,EAAApR,EAAAoR,EAAAkf,EAAAF,EAAAC,EAAA9f,EAAA,GAAA3uB,EAAA,KAAAyuC,EAAArwB,EAAAqwB,EAAAjf,EAAAkf,EAAAF,EAAAnxB,EAAA,GAAArd,EAAA,KAAAwuC,EAAApwB,EAAAowB,EAAAC,EAAAjf,EAAAkf,EAAAroC,EAAA,EAAArG,EAAA,KAAA0uC,EAAAtwB,EAAAswB,EAAAF,EAAAC,EAAAjf,EAAA1vB,EAAA,GAAAE,EAAA,KAAAwvB,EAAApR,EAAAoR,EAAAkf,EAAAF,EAAAC,EAAAtM,EAAA,GAAAniC,EAAA,KAAAyuC,EAAArwB,EAAAqwB,EAAAjf,EAAAkf,EAAAF,EAAAloC,EAAA,GAAAtG,EAAA,KAAAwuC,EAAApwB,EAAAowB,EAAAC,EAAAjf,EAAAkf,EAAAxhB,EAAA,EAAAltB,EAAA,KAAA0uC,EAAAtwB,EAAAswB,EAAAF,EAAAC,EAAAjf,EAAA9R,EAAA,GAAA1d,EAAA,KAAAwvB,EAAApR,EAAAoR,EAAAkf,EAAAF,EAAAC,EAAAjgB,EAAA,GAAAxuB,EAAA,KAAAyuC,EAAArwB,EAAAqwB,EAAAjf,EAAAkf,EAAAF,EAAAjmB,EAAA,GAAAvoB,EAAA,KAAAwuC,EAAApwB,EAAAowB,EAAAC,EAAAjf,EAAAkf,EAAA5wB,EAAA,EAAA9d,EAAA,KAAA0uC,EAAAtwB,EAAAswB,EAAAF,EAAAC,EAAAjf,EAAA8e,EAAA,GAAAtuC,EAAA,KAAAwvB,EAAApR,EAAAoR,EAAAkf,EAAAF,EAAAC,EAAAF,EAAA,GAAAvuC,EAAA,KAAAyuC,EAAArwB,EAAAqwB,EAAAjf,EAAAkf,EAAAF,EAAAjf,EAAA,GAAAvvB,EAAA,KAAAwuC,EAAAtwB,EAAAswB,EAAAC,EAAAjf,EAAAkf,EAAAhxB,EAAA,EAAA1d,EAAA,KAAA0uC,EAAAxwB,EAAAwwB,EAAAF,EAAAC,EAAAjf,EAAA2S,EAAA,GAAAniC,EAAA,KAAAwvB,EAAAtR,EAAAsR,EAAAkf,EAAAF,EAAAC,EAAApxB,EAAA,GAAArd,EAAA,KAAAyuC,EAAAvwB,EAAAuwB,EAAAjf,EAAAkf,EAAAF,EAAAzxB,EAAA,GAAA/c,EAAA,KAAAwuC,EAAAtwB,EAAAswB,EAAAC,EAAAjf,EAAAkf,EAAAJ,EAAA,EAAAtuC,EAAA,KAAA0uC,EAAAxwB,EAAAwwB,EAAAF,EAAAC,EAAAjf,EAAAhB,EAAA,GAAAxuB,EAAA,KAAAwvB,EAAAtR,EAAAsR,EAAAkf,EAAAF,EAAAC,EAAAnoC,EAAA,GAAAtG,EAAA,KAAAyuC,EAAAvwB,EAAAuwB,EAAAjf,EAAAkf,EAAAF,EAAAnoC,EAAA,GAAArG,EAAA,KAAAwuC,EAAAtwB,EAAAswB,EAAAC,EAAAjf,EAAAkf,EAAApf,EAAA,EAAAtvB,EAAA,KAAA0uC,EAAAxwB,EAAAwwB,EAAAF,EAAAC,EAAAjf,EAAA+e,EAAA,GAAAvuC,EAAA,KAAAwvB,EAAAtR,EAAAsR,EAAAkf,EAAAF,EAAAC,EAAAlmB,EAAA,GAAAvoB,EAAA,KAAAyuC,EAAAvwB,EAAAuwB,EAAAjf,EAAAkf,EAAAF,EAAAthB,EAAA,GAAAltB,EAAA,KAAAwuC,EAAAtwB,EAAAswB,EAAAC,EAAAjf,EAAAkf,EAAA5uC,EAAA,EAAAE,EAAA,KAAA0uC,EAAAxwB,EAAAwwB,EAAAF,EAAAC,EAAAjf,EAAAb,EAAA,GAAA3uB,EAAA,KAAAwvB,EAAAtR,EAAAsR,EAAAkf,EAAAF,EAAAC,EAAAlf,EAAA,GAAAvvB,EAAA,KAAAyuC,EAAAvwB,EAAAuwB,EAAAjf,EAAAkf,EAAAF,EAAA1wB,EAAA,GAAA9d,EAAA,KAAA6mB,EAAA,GAAA,EAAAA,EAAA,GAAA2nB,EAAA3nB,EAAA,GAAA,EAAAA,EAAA,GAAA4nB,EAAA5nB,EAAA,GAAA,EAAAA,EAAA,GAAA2I,EAAA3I,EAAA,GAAA,EAAAA,EAAA,GAAA6nB,GAA0hDxK,YAAA,WAAwB,GAAAjlC,GAAAG,KAAAgkC,MAAAjM,EAAAl4B,EAAAw3B,MAAA/N,EAAA,EAAAtpB,KAAAikC,YAAAjlB,EAAA,EAAAnf,EAAA2jC,QAA+DzL,GAAA/Y,IAAA,IAAA,KAAA,GAAAA,EAAA,EAAuB,IAAAF,GAAAP,EAAAgP,MAAAjE,EAAA,YAAA3oB,EAAA2oB,CAAgCyO,IAAA/Y,EAAA,KAAA,GAAA,GAAA,IAAA,UAAAF,GAAA,EAAAA,IAAA,IAAA,YAAAA,GAAA,GAAAA,IAAA,GAAAiZ,GAAA/Y,EAAA,KAAA,GAAA,GAAA,IAAA,UAAAre,GAAA,EAAAA,IAAA,IAAA,YAAAA,GAAA,GAAAA,IAAA,GAAAd,EAAA2jC,SAAA,GAAAzL,EAAAjb,OAAA,GAAA9c,KAAAmkC,UAAkL,KAAA,GAAAjV,GAAAlvB,KAAAqlC,MAAAtmB,EAAAmQ,EAAAmI,MAAA5P,EAAA,EAAmC,EAAAA,EAAIA,IAAA,CAAK,GAAAnJ,GAAAS,EAAA0I,EAAW1I,GAAA0I,GAAA,UAAAnJ,GAAA,EAAAA,IAAA,IAAA,YAAAA,GAAA,GAAAA,IAAA,GAAqD,MAAA4Q,IAASoU,MAAA,WAAkB,GAAAzjC,GAAA4nB,EAAA6b,MAAA7iC,KAAAT,KAAyB,OAAAH,GAAAwlC,MAAArlC,KAAAqlC,MAAA/B,QAAAzjC,IAAuCc,GAAA61B,IAAA/O,EAAAsd,cAAA99B,GAAAtG,EAAA4uC,QAAA9nB,EAAAud,kBAAA/9B,IAA0DuX,MAAA3e,EAAA22B,OhD6qR3mG,SAAS72B,EAAQD,EAASU,IiD7qRhC,SAAAP,EAAA0e,GAAe5e,EAAAD,QAAAA,EAAA6e,EAAAne,EAAA,IAAAA,EAAA,IAAAA,EAAA,MAAoMJ,KAAA,SAAAH,GAAmB,MAAA,YAAkB,GAAA0e,GAAA1e,EAAAk4B,EAAAxZ,EAAAukB,IAAA9jB,EAAA+Y,EAAAiL,KAAA1Z,EAAAyO,EAAAwL,UAAAzkB,EAAAP,EAAA2mB,KAAAzd,EAAA3I,EAAA0X,IAAAtH,EAAApQ,EAAA0wB,OAAAxwB,EAAAikB,QAA6EyB,IAAA1lB,EAAAikB,QAAciD,QAAA,EAAAuJ,OAAAhoB,EAAA2f,WAAA,IAAgCjE,KAAA,SAAAtjC,GAAmBG,KAAA0kC,IAAA1kC,KAAA0kC,IAAAzB,OAAApjC,IAA4B6vC,QAAA,SAAA7vC,EAAA0e,GAAuB,IAAA,GAAAwZ,GAAA/3B,KAAA0kC,IAAA1lB,EAAA+Y,EAAA0X,OAAAzR,SAAAlf,EAAAwK,EAAA0U,SAAAvW,EAAA3I,EAAAuY,MAAAnI,EAAA6I,EAAAmO,QAAAvlC,EAAAo3B,EAAAqP,WAAyFlY,EAAAzH,EAAA3K,QAAW,CAAEiC,GAAAC,EAAA4lB,OAAA7lB,EAAe,IAAAA,GAAAC,EAAA4lB,OAAA/kC,GAAAglC,SAAAtmB,EAA8BS,GAAA+kB,OAAU,KAAA,GAAAzlB,GAAA,EAAY3d,EAAA2d,EAAIA,IAAAS,EAAAC,EAAA6lB,SAAA9lB,GAAAC,EAAA+kB,OAA8BjlB,GAAAiX,OAAAhX,GAAY,MAAAD,GAAA0kB,SAAA,EAAAtU,EAAApQ,IAA2BP,GAAAixB,OAAA,SAAA3vC,EAAA0e,EAAAwZ,GAAyB,MAAA7I,GAAA8O,OAAAjG,GAAA2X,QAAA7vC,EAAA0e,OAAiC1e,EAAA2vC,UjDmrR/tB,SAAS7vC,EAAQD,EAASU,IkDnrRhC,SAAAP,EAAA0e,GAAe5e,EAAAD,QAAAA,EAAA6e,EAAAne,EAAA,MAA8IJ,KAAA,SAAAH,GAAmBA,EAAAijC,IAAA6M,QAAA,SAAApxB,GAA0B,GAAAwZ,GAAAl4B,EAAAmf,EAAA+Y,EAAA+K,IAAAxZ,EAAAtK,EAAAgkB,KAAAlkB,EAAAE,EAAAukB,UAAA5iC,EAAAqe,EAAA8kB,uBAAA5U,EAAA6I,EAAAoB,GAA0EjK,GAAA2U,IAAO,IAAApc,GAAAyH,EAAAsK,OAAAza,EAAAgZ,EAAAmN,KAAA5mB,EAAAS,EAAAywB,OAAArf,EAAAnR,EAAA2wB,OAAAhvC,EAAAsiC,QAAwDyB,IAAApb,EAAA2Z,SAAA2M,gBAAA,SAAA/vC,EAAA0e,GAA6C,MAAAve,MAAAg+B,OAAAh+B,KAAA6vC,gBAAAhwC,EAAA0e,IAA6CuxB,gBAAA,SAAAjwC,EAAA0e,GAA+B,MAAAve,MAAAg+B,OAAAh+B,KAAA+vC,gBAAAlwC,EAAA0e,IAA6C4kB,KAAA,SAAAtjC,EAAA0e,EAAAwZ,GAAsB/3B,KAAA0kC,IAAA1kC,KAAA0kC,IAAAzB,OAAAlL,GAAA/3B,KAAAgwC,WAAAnwC,EAAAG,KAAA6lC,KAAAtnB,EAAAve,KAAA+jC,SAAuEA,MAAA,WAAkBpjC,EAAAojC,MAAAtjC,KAAAT,MAAAA,KAAA2kC,YAAmC+B,QAAA,SAAA7mC,GAAqB,MAAAG,MAAAkkC,QAAArkC,GAAAG,KAAAmkC,YAAuCU,SAAA,SAAAhlC,GAAsBA,GAAAG,KAAAkkC,QAAArkC,EAAmB,IAAA0e,GAAAve,KAAA8kC,aAAyB,OAAAvmB,IAAS2nB,QAAA,EAAA+J,OAAA,EAAAJ,gBAAA,EAAAE,gBAAA,EAAAhL,cAAA,WAAiF,QAAAllC,GAAAA,GAAc,MAAA,gBAAAA,GAAAkjC,EAAA9kB,EAA6B,MAAA,UAAAM,GAAmB,OAAO0D,QAAA,SAAA8V,EAAA/Y,EAAAsK,GAAwB,MAAAzpB,GAAAmf,GAAAiD,QAAA1D,EAAAwZ,EAAA/Y,EAAAsK,IAA6BjH,QAAA,SAAA0V,EAAA/Y,EAAAsK,GAAyB,MAAAzpB,GAAAmf,GAAAqD,QAAA9D,EAAAwZ,EAAA/Y,EAAAsK,UAAqCtK,GAAAkxB,aAAA/f,EAAA8S,QAAyB6B,YAAA,WAAuB,GAAAjlC,GAAAG,KAAAmkC,UAAA,EAA0B,OAAAtkC,IAASukC,UAAA,GAAe,IAAAn9B,GAAA8wB,EAAAnO,QAAehpB,EAAAoe,EAAAonB,gBAAA9c,EAAA2Z,QAA+B2M,gBAAA,SAAA/vC,EAAA0e,GAA8B,MAAAve,MAAAqmC,UAAArI,OAAAn+B,EAAA0e,IAAkCuxB,gBAAA,SAAAjwC,EAAA0e,GAA+B,MAAAve,MAAAwmC,UAAAxI,OAAAn+B,EAAA0e,IAAkC4kB,KAAA,SAAAtjC,EAAA0e,GAAoBve,KAAAumC,QAAA1mC,EAAAG,KAAAmwC,IAAA5xB,KAA2BZ,EAAA1W,EAAAmpC,IAAA,WAAqB,QAAAvwC,GAAAA,EAAAk4B,EAAA/Y,GAAkB,GAAAsK,GAAAtpB,KAAAmwC,GAAe,IAAA7mB,EAAA,CAAM,GAAAxK,GAAAwK,CAAQtpB,MAAAmwC,IAAA5xB,MAAW,IAAAO,GAAA9e,KAAAqwC,UAA2B,KAAA,GAAA1vC,GAAA,EAAYqe,EAAAre,EAAIA,IAAAd,EAAAk4B,EAAAp3B,IAAAme,EAAAne,GAAiB,GAAAo3B,GAAAn3B,EAAAqiC,QAAiB,OAAAlL,GAAAsO,UAAAtO,EAAAkL,QAA6BqD,aAAA,SAAA/nB,EAAAwZ,GAA2B,GAAA/Y,GAAAhf,KAAAumC,QAAAjd,EAAAtK,EAAAolB,SAAiCvkC,GAAAY,KAAAT,KAAAue,EAAAwZ,EAAAzO,GAAAtK,EAAAgY,aAAAzY,EAAAwZ,GAAA/3B,KAAAqwC,WAAA9xB,EAAAoU,MAAAoF,EAAAA,EAAAzO,MAAuEyO,EAAAyO,UAAAzO,EAAAkL,QAAwBqD,aAAA,SAAA/nB,EAAAwZ,GAA2B,GAAA/Y,GAAAhf,KAAAumC,QAAAjd,EAAAtK,EAAAolB,UAAAtlB,EAAAP,EAAAoU,MAAAoF,EAAAA,EAAAzO,EAAkDtK,GAAAoY,aAAA7Y,EAAAwZ,GAAAl4B,EAAAY,KAAAT,KAAAue,EAAAwZ,EAAAzO,GAAAtpB,KAAAqwC,WAAAvxB,KAA0DiZ,KAAI3I,EAAA2I,EAAAuY,OAAa5xB,EAAA0Q,EAAAmhB,OAAYD,IAAA,SAAAzwC,EAAA0e,GAAkB,IAAA,GAAAwZ,GAAA,EAAAxZ,EAAAS,EAAA+Y,EAAAl4B,EAAA2jC,SAAAzL,EAAAzO,EAAAtK,GAAA,GAAAA,GAAA,GAAAA,GAAA,EAAAA,EAAAre,KAAAuuB,EAAA,EAA6DlQ,EAAAkQ,EAAIA,GAAA,EAAAvuB,EAAAoc,KAAAuM,EAAe,IAAA7B,GAAA3I,EAAAkf,OAAAr9B,EAAAqe,EAAoBnf,GAAAk2B,OAAAtO,IAAY+oB,MAAA,SAAA3wC,GAAmB,GAAA0e,GAAA,IAAA1e,EAAAw3B,MAAAx3B,EAAA2jC,SAAA,IAAA,EAAoC3jC,GAAA2jC,UAAAjlB,GAAgBS,GAAA2mB,YAAAxV,EAAA8S,QAAwByB,IAAAvU,EAAAuU,IAAAzB,QAAkBrZ,KAAAjM,EAAAuX,QAAAxW,IAAiBqlB,MAAA,WAAmB5T,EAAA4T,MAAAtjC,KAAAT,KAAmB,IAAAH,GAAAG,KAAA0kC,IAAAnmB,EAAA1e,EAAA8xB,GAAAoG,EAAAl4B,EAAA+pB,IAA+B,IAAA5pB,KAAAgwC,YAAAhwC,KAAA6vC,gBAAA,GAAA7wB,GAAA+Y,EAAA6X,oBAAiE,CAAK,GAAA5wB,GAAA+Y,EAAA+X,eAAwB9vC,MAAAqkC,eAAA,EAAsBrkC,KAAAywC,MAAAzxB,EAAAve,KAAAs3B,EAAA/3B,KAAAue,GAAAA,EAAA8Y,QAAqCkN,gBAAA,SAAA1kC,EAAA0e,GAA+Bve,KAAAywC,MAAAnK,aAAAzmC,EAAA0e,IAA6BumB,YAAA,WAAwB,GAAAjlC,GAAAG,KAAA0kC,IAAAxP,OAAuB,IAAAl1B,KAAAgwC,YAAAhwC,KAAA6vC,gBAAA,CAA0ChwC,EAAAywC,IAAAtwC,KAAAgkC,MAAAhkC,KAAAokC,UAAiC,IAAA7lB,GAAAve,KAAAmkC,UAAA,OAA0B,CAAK,GAAA5lB,GAAAve,KAAAmkC,UAAA,EAA0BtkC,GAAA2wC,MAAAjyB,GAAW,MAAAA,IAAS6lB,UAAA,GAAe,IAAAlU,GAAAlR,EAAA0xB,aAAApnB,EAAA2Z,QAA+BE,KAAA,SAAAtjC,GAAiBG,KAAAkjC,MAAArjC,IAAciQ,SAAA,SAAAjQ,GAAsB,OAAAA,GAAAG,KAAA2wC,WAAA9tB,UAAA7iB,SAA2CU,EAAAq3B,EAAA6Y,UAAeznB,EAAAzoB,EAAAmwC,SAAchuB,UAAA,SAAAhjB,GAAsB,GAAA0e,GAAA1e,EAAAixC,WAAA/Y,EAAAl4B,EAAAw5B,IAA4B,IAAAtB,EAAA,GAAA/Y,GAAAF,EAAAkf,QAAA,WAAA,aAAAjI,OAAAgC,GAAAhC,OAAAxX,OAAiE,IAAAS,GAAAT,CAAa,OAAAS,GAAAlP,SAAA2X,IAAqBkc,MAAA,SAAA9jC,GAAmB,GAAA0e,GAAAkJ,EAAAkc,MAAA9jC,GAAAk4B,EAAAxZ,EAAA8Y,KAA2B,IAAA,YAAAU,EAAA,IAAA,YAAAA,EAAA,GAAA,CAAuC,GAAA/Y,GAAAF,EAAAkf,OAAAjG,EAAApF,MAAA,EAAA,GAA6BoF,GAAAyM,OAAA,EAAA,GAAAjmB,EAAAilB,UAAA,GAA6B,MAAAtT,GAAA8N,QAAiB8S,WAAAvyB,EAAA8a,KAAAra,MAAuBf,EAAAe,EAAA+xB,mBAAAznB,EAAA2Z,QAAkCyB,IAAApb,EAAA2Z,QAAc2N,OAAAznB,IAASlH,QAAA,SAAApiB,EAAA0e,EAAAwZ,EAAA/Y,GAA4BA,EAAAhf,KAAA0kC,IAAAzB,OAAAjkB,EAAqB,IAAAsK,GAAAzpB,EAAA+vC,gBAAA7X,EAAA/Y,GAAAF,EAAAwK,EAAAub,SAAAtmB,GAAA5d,EAAA2oB,EAAAob,GAAqD,OAAAxU,GAAA8N,QAAiB8S,WAAAhyB,EAAArC,IAAAsb,EAAApG,GAAAhxB,EAAAgxB,GAAAqf,UAAAnxC,EAAA+pB,KAAAjpB,EAAAipB,KAAAsL,QAAAv0B,EAAAu0B,QAAAkP,UAAAvkC,EAAAukC,UAAAuM,UAAA3xB,EAAA4xB,UAAgHvuB,QAAA,SAAAxiB,EAAA0e,EAAAwZ,EAAA/Y,GAA2BA,EAAAhf,KAAA0kC,IAAAzB,OAAAjkB,GAAAT,EAAAve,KAAAixC,OAAA1yB,EAAAS,EAAA4xB,OAA+C,IAAAtnB,GAAAzpB,EAAAiwC,gBAAA/X,EAAA/Y,GAAA6lB,SAAAtmB,EAAAuyB,WAAoD,OAAAxnB,IAAS2nB,OAAA,SAAApxC,EAAA0e,GAAsB,MAAA,gBAAA1e,GAAA0e,EAAAolB,MAAA9jC,EAAAG,MAAAH,KAA4CiuB,EAAAiK,EAAAmZ,OAAY3hB,EAAAzB,EAAA+iB,SAAcM,QAAA,SAAAtxC,EAAA0e,EAAAwZ,EAAA/Y,GAA0BA,IAAAA,EAAAF,EAAAL,OAAA,GAAmB,IAAA6K,GAAAhL,EAAA0f,QAAgBkI,QAAA3nB,EAAAwZ,IAAY2X,QAAA7vC,EAAAmf,GAAAre,EAAAme,EAAAkf,OAAA1U,EAAA+N,MAAA1E,MAAApU,GAAA,EAAAwZ,EAAgD,OAAAzO,GAAAka,SAAA,EAAAjlB,EAAA2R,EAAA8N,QAAgCvhB,IAAA6M,EAAAqI,GAAAhxB,EAAA04B,KAAAra,MAAqB+jB,EAAA/jB,EAAAoyB,oBAAAnzB,EAAAglB,QAAmCyB,IAAAzmB,EAAAymB,IAAAzB,QAAkBiO,IAAA3hB,IAAMtN,QAAA,SAAApiB,EAAA0e,EAAAwZ,EAAA/Y,GAA4BA,EAAAhf,KAAA0kC,IAAAzB,OAAAjkB,EAAqB,IAAAsK,GAAAtK,EAAAkyB,IAAAC,QAAApZ,EAAAl4B,EAAAqmC,QAAArmC,EAAAowC,OAA0CjxB,GAAA2S,GAAArI,EAAAqI,EAAU,IAAA7S,GAAAb,EAAAgE,QAAAxhB,KAAAT,KAAAH,EAAA0e,EAAA+K,EAAA7M,IAAAuC,EAAuC,OAAAF,GAAAokB,MAAA5Z,GAAAxK,GAAoBuD,QAAA,SAAAxiB,EAAA0e,EAAAwZ,EAAA/Y,GAA2BA,EAAAhf,KAAA0kC,IAAAzB,OAAAjkB,GAAAT,EAAAve,KAAAixC,OAAA1yB,EAAAS,EAAA4xB,OAA+C,IAAAtnB,GAAAtK,EAAAkyB,IAAAC,QAAApZ,EAAAl4B,EAAAqmC,QAAArmC,EAAAowC,OAAA1xB,EAAA8a,KAAiDra,GAAA2S,GAAArI,EAAAqI,EAAU,IAAA7S,GAAAb,EAAAoE,QAAA5hB,KAAAT,KAAAH,EAAA0e,EAAA+K,EAAA7M,IAAAuC,EAAuC,OAAAF,YlDyrRjmI,SAASnf,GmDzrRfA,EAAAD,QAAA,SAAAC,GAQA,MAPAA,GAAA0xC,kBACA1xC,EAAA2xC,UAAA,aACA3xC,EAAA4xC,SAEA5xC,EAAA6xC,YACA7xC,EAAA0xC,gBAAA,GAEA1xC,InDisRM,SAASA,GoDzsRfA,EAAAD,QAAA,WAA6B,KAAA,IAAA6F,OAAA,oCpDgtRvB,SAAS5F,EAAQD,EAASU,GqD9sRhC,GAAOsB,GAAKtB,EAAW,IAGV2uC,EAAO,WAMhBA,QANSA,GAMGA,GACR0C,KAAKA,WACLA,KAAKA,QAAUA,EACfA,KAAKA,MAAQA,EAAMA,KAAKA,GA0DhC1C,MAlDIA,GAAAA,UAAAA,UAAAA,SAAUA,EAAaA,GAInB2C,MAFAA,MAAKA,QAAQA,EAAKA,eAAiBA,EAE5BA,MAIX3C,EAAAA,UAAAA,UAAAA,SAAUA,GAEN4C,MAAOA,MAAKA,QAAQA,EAAKA,gBAI7B5C,EAAAA,UAAAA,UAAAA,SAAUA,GAEN6C,MAAQA,GAAKA,eAAiBA,MAAKA,SAIvC7C,EAAAA,UAAAA,WAAAA,SAAWA,GAAX8C,GAAAA,GAAAA,IAMIA,OAJAA,MAAKA,MAAMA,QAAQA,EAASA,SAACA,EAAcA,GACvCA,EAAKA,UAAUA,EAAMA,KAGlBA,MAIX9C,EAAAA,UAAAA,cAAAA,SAAcA,GACV+C,MAAOA,MAAKA,iBAAiBA,QAAQA,GAAeA,IAGxD/C,EAAAA,UAAAA,eAAAA,WACIgD,MAAOA,MAAKA,UAAUA,EAAQA,cAAgBA,IAGlDhD,EAAAA,UAAAA,YAAAA,WACIiD,MAAOA,MAAKA,cAAcA,EAAQA,uBAGtCjD,EAAAA,UAAAA,aAAAA,WACIkD,MAAOA,MAAKA,cAAcA,EAAQA,wBAGtClD,EAAAA,UAAAA,OAAAA,WACImD,MAAOA,MAAKA,cAAcA,EAAQA,kBApD/BnD,EAAAA,YAAcA,eACdA,EAAAA,gBAAkBA,mBAClBA,EAAAA,qBAAuBA,kBACvBA,EAAAA,sBAAwBA,oCAoDnCA,IAnEarvC,GAAAqvC,QAAAA,GrDgwRP,SAASpvC,EAAQD,EAASU,GsD9lRhC,QAAgBqF,GAAKvE,EAAyBue,EAAe0yB,EAAmBC,EAAUC,GAEtF5sC,MAAOA,IAAIA,GAASA,EAASA,EAAQA,EAAYA,EAAMA,GtD+lR3D,GAAIuB,GAAYhH,KAAKgH,WAAa,SAAUC,EAAGC,GAE3C,QAASC,KAAOnH,KAAKoH,YAAcH,EADnC,IAAK,GAAIrG,KAAKsG,GAAOA,EAAEG,eAAezG,KAAIqG,EAAErG,GAAKsG,EAAEtG,GAEnDuG,GAAGG,UAAYJ,EAAEI,UACjBL,EAAEK,UAAY,GAAIH,IsD1wRfgpB,EAAC/vB,EAAW,IAEZiB,EAAGjB,EAAW,IAGRkyC,EAAQ,SAAA9qC,GAgBjB8qC,QAhBSA,GAgBGA,EAAyBA,EAAeA,EAAmBA,EAAUA,GAhBrFC,GAAAA,GAAAA,IAsBQA,IAJAA,EAAAA,KAAAA,KAAMA,GAENA,KAAKA,IAAMA,EAAIA,KAAKA,GAECA,gBAAXA,KAENA,EAAOA,EAAKA,QAAQA,MAAOA,KAEtBA,GAASA,CAEVA,GAAIA,GAAMA,EAAKA,MAAMA,EAASA,cAE9BA,GAAWA,EAAIA,OAASA,EAAKA,EAAIA,WACjCA,EAAOA,EAAIA,KAAKA,EAASA,eAOjCA,KAAKA,KAAOA,KAGZA,KAAKA,KAAOA,KAGZA,KAAKA,aAGLA,KAAKA,MAAQA,KAGCA,MAAVA,IAAgBA,EAASA,KAE7BA,KAAKA,OAASA,EACdA,KAAKA,WAAaA,EAClBA,KAAKA,KAAOA,CAEZA,KAgCIA,GA5BwBA,gBAAdA,IAELA,GAAWA,IACPA,MAAMA,MACNA,QAAQA,SAACA,GAEGA,GAAKA,EAALA,CtD0uRb,GsDvuRiBA,GAAQA,EAAOA,MAAMA,EAASA,iBAC9BA,EAAOA,EAAMA,QAAQA,MAEzBA,GAAKA,UAAUA,EAAMA,EAAMA,KAAKA,EAASA,iBAAiBA,WAM3EA,KAAKA,WAAWA,GAMfA,KAAKA,UAAUA,EAAEA,QAAQA,cAAcA,KAAKA,UAAUA,EAAEA,QAAQA,YAAaA,EAAEA,QAAQA,iBAIxFA,KAAKA,UAAcA,KAAKA,MAA8BA,gBAAfA,MAASA,KAEhDA,KAAKA,KAAOA,KAAKA,MAAMA,KAAKA,MAC5BA,KAAKA,KAAOA,KAAKA,KAEZA,KAAKA,gBAAeA,KAAKA,MAAQA,GAAIA,OAAMA,KAAKA,iBAElDA,IAAIA,KAAKA,cAAeA,CtDguR3B,GsD5tRIA,GAAWA,KAAKA,iBAAiBA,MAAMA,qBAAqBA,GAC5DA,EAAQA,KAAKA,KAAKA,MAAMA,EAASA,kBAAoBA,EAEjCA,MAApBA,EAAMA,GAAGA,QAAeA,EAAMA,QAC9BA,EAAMA,EAAMA,OAASA,GAAGA,QAAUA,EAASA,mBAAmBA,EAAMA,KtD8tRxE,IsD1tRIA,GAAaA,GAAIA,GAASA,KAAKA,QAASA,KAAKA,OAAQA,GAAIA,EAAMA,QAInEA,MAAKA,UAAYA,EAAMA,IAAIA,SAACA,EAAaA,GAErCA,GAAIA,GAASA,EAAWA,KAAKA,SAASA,GAAGA,MAEzCA,OAAOA,IAAIA,GAASA,EAAKA,QAASA,EAAQA,GAAIA,KAIlDA,KAAKA,KAAOA,KAAKA,cAIjBA,MAAKA,KAAOA,KAAKA,KAIvBA,MAAOA,GAELA,KAAKA,IAAIA,MAAMA,kDACfA,KAAKA,IAAIA,MAAMA,EAAEA,OAASA,GAC1BA,KAAKA,IAAIA,MAAMA,KAAKA,MAEpBA,KAAKA,MAAQA,GAyBzBD,MA9J8BA,GAAjBA,EAAQA,GA8IjBA,EAAAA,UAAAA,eAAAA,WACIE,MAAuBA,MAAfA,KAAKA,QAGjBF,EAAAA,UAAAA,YAAAA,WACIG,MAAOA,MAAKA,QAAUA,KAAOA,KAAKA,OAASA,KAI/CH,EAAAA,UAAAA,SAAAA,WACII,MAAOA,MAAKA,KAAKA,SACbA,KAAKA,KAAKA,mBACVA,KAAKA,KAAKA,aACVA,iBAzJDJ,EAAAA,kBAAoBA,KACpBA,EAAAA,gBAAkBA,IAClBA,EAAAA,cAAgBA,OA0J3BA,GA9J8BniB,EAAE4e,QAAnBrvC,GAAA4yC,SAAAA,EAgKG5yC,EAAA+F,KAAAA,GtDktRV,SAAS9F,GuDn3Rf,QAAAgzC,KACA,IAAAC,EAAA,CAGAA,GAAA,CAGA,KAFA,GAAAC,GACAC,EAAAC,EAAAj2B,OACAg2B,GAAA,CACAD,EAAAE,EACAA,IAEA,KADA,GAAA/zB,GAAA,KACAA,EAAA8zB,GACAD,EAAA7zB,IAEA8zB,GAAAC,EAAAj2B,OAEA81B,GAAA,GAgBA,QAAAI,MApCA,GAAAtM,GAAA/mC,EAAAD,WACAqzC,KACAH,GAAA,CAoBAlM,GAAAO,SAAA,SAAA/pB,GACA61B,EAAAh2B,KAAAG,GACA01B,GACAp1B,WAAAm1B,EAAA,IAIAjM,EAAAuM,MAAA,UACAvM,EAAAwM,SAAA,EACAxM,EAAAyM,OACAzM,EAAA0M,QACA1M,EAAA2M,QAAA,GACA3M,EAAA4M,YAIA5M,EAAA6M,GAAAP,EACAtM,EAAA8M,YAAAR,EACAtM,EAAA+M,KAAAT,EACAtM,EAAAgN,IAAAV,EACAtM,EAAAiN,eAAAX,EACAtM,EAAAkN,mBAAAZ,EACAtM,EAAAmN,KAAAb,EAEAtM,EAAAoN,QAAA,WACA,KAAA,IAAAvuC,OAAA,qCAIAmhC,EAAAqN,IAAA,WAA2B,MAAA,KAC3BrN,EAAAsN,MAAA,WACA,KAAA,IAAAzuC,OAAA,mCAEAmhC,EAAAuN,MAAA,WAA4B,MAAA,KvDg4RtB,SAASt0C,EAAQD,EAASU,IwDz7RhC,SAAAP,EAAA0e,GAAe5e,EAAAD,QAAAA,EAAA6e,EAAAne,EAAA,MAA8IJ,KAAA,SAAAH,GAAmB,MAAA,YAAkB,GAAA0e,GAAA1e,EAAAk4B,EAAAxZ,EAAAukB,IAAAxZ,EAAAyO,EAAAwL,UAAAvkB,EAAA+Y,EAAA0M,OAAA3lB,EAAAP,EAAA2mB,KAAAhW,KAAAvuB,EAAAme,EAAAo1B,KAAAl1B,EAAAikB,QAA0E0B,SAAA,WAAoB3kC,KAAAqlC,MAAA,GAAA/b,GAAA6Z,MAAA,WAAA,WAAA,WAAA,UAAA,cAA+EoB,gBAAA,SAAA1kC,EAAA0e,GAA+B,IAAA,GAAAwZ,GAAA/3B,KAAAqlC,MAAAhO,MAAA/N,EAAAyO,EAAA,GAAA/Y,EAAA+Y,EAAA,GAAAjZ,EAAAiZ,EAAA,GAAAp3B,EAAAo3B,EAAA,GAAAtQ,EAAAsQ,EAAA,GAAAhZ,EAAA,EAAkE,GAAAA,EAAKA,IAAA,CAAK,GAAA,GAAAA,EAAAmQ,EAAAnQ,GAAA,EAAAlf,EAAA0e,EAAAQ,OAAsB,CAAK,GAAAT,GAAA4Q,EAAAnQ,EAAA,GAAAmQ,EAAAnQ,EAAA,GAAAmQ,EAAAnQ,EAAA,IAAAmQ,EAAAnQ,EAAA,GAAoCmQ,GAAAnQ,GAAAT,GAAA,EAAAA,IAAA,GAAiB,GAAArX,IAAAqiB,GAAA,EAAAA,IAAA,IAAA7B,EAAAyH,EAAAnQ,EAA2B9X,IAAA,GAAA8X,GAAAC,EAAAF,GAAAE,EAAAre,GAAA,WAAA,GAAAoe,GAAAC,EAAAF,EAAAne,GAAA,WAAA,GAAAoe,GAAAC,EAAAF,EAAAE,EAAAre,EAAAme,EAAAne,GAAA,YAAAqe,EAAAF,EAAAne,GAAA,UAAA8mB,EAAA9mB,EAAAA,EAAAme,EAAAA,EAAAE,GAAA,GAAAA,IAAA,EAAAA,EAAAsK,EAAAA,EAAAriB,EAAoI8wB,EAAA,GAAA,EAAAA,EAAA,GAAAzO,EAAAyO,EAAA,GAAA,EAAAA,EAAA,GAAA/Y,EAAA+Y,EAAA,GAAA,EAAAA,EAAA,GAAAjZ,EAAAiZ,EAAA,GAAA,EAAAA,EAAA,GAAAp3B,EAAAo3B,EAAA,GAAA,EAAAA,EAAA,GAAAtQ,GAAsEqd,YAAA,WAAwB,GAAAjlC,GAAAG,KAAAgkC,MAAAzlB,EAAA1e,EAAAw3B,MAAAU,EAAA,EAAA/3B,KAAAikC,YAAA3a,EAAA,EAAAzpB,EAAA2jC,QAA+D,OAAAjlB,GAAA+K,IAAA,IAAA,KAAA,GAAAA,EAAA,GAAA/K,GAAA+K,EAAA,KAAA,GAAA,GAAA,IAAA9K,KAAA+O,MAAAwK,EAAA,YAAAxZ,GAAA+K,EAAA,KAAA,GAAA,GAAA,IAAAyO,EAAAl4B,EAAA2jC,SAAA,EAAAjlB,EAAAzB,OAAA9c,KAAAmkC,WAAAnkC,KAAAqlC,OAAkJ/B,MAAA,WAAkB,GAAAzjC,GAAAmf,EAAAskB,MAAA7iC,KAAAT,KAAyB,OAAAH,GAAAwlC,MAAArlC,KAAAqlC,MAAA/B,QAAAzjC,IAAuC0e,GAAA21B,KAAAl1B,EAAA+lB,cAAApkC,GAAA4d,EAAA41B,SAAAn1B,EAAAgmB,kBAAArkC,MAA4Dd,EAAAq0C,QxD+7RhoC,SAASv0C,EAAQD,EAASU,IyD/7RhC,SAAAP,EAAA0e,GAAe5e,EAAAD,QAAAA,EAAA6e,EAAAne,EAAA,MAA8IJ,KAAA,SAAAH,IAAmB,WAAY,GAAA0e,GAAA1e,EAAAk4B,EAAAxZ,EAAAukB,IAAAxZ,EAAAyO,EAAAiL,KAAAhkB,EAAAT,EAAA4a,IAAAra,EAAAE,EAAA6kB,KAAApc,EAAAlJ,EAAA2mB,IAAmDzd,GAAAwd,KAAA3b,EAAA2Z,QAAiBE,KAAA,SAAAtjC,EAAA0e,GAAmB1e,EAAAG,KAAAulC,QAAA,GAAA1lC,GAAAsjC,KAAA,gBAAA5kB,KAAAA,EAAAO,EAAA6kB,MAAAplB,GAA6D,IAAAwZ,GAAAl4B,EAAAukC,UAAA9a,EAAA,EAAAyO,CAAwBxZ,GAAAilB,SAAAla,IAAA/K,EAAA1e,EAAAglC,SAAAtmB,IAAAA,EAAAklB,OAA0C,KAAA,GAAAzkB,GAAAhf,KAAAwlC,MAAAjnB,EAAA+kB,QAAA7b,EAAAznB,KAAAylC,MAAAlnB,EAAA+kB,QAAApU,EAAAlQ,EAAAqY,MAAA12B,EAAA8mB,EAAA4P,MAAAtY,EAAA,EAA8EgZ,EAAAhZ,EAAIA,IAAAmQ,EAAAnQ,IAAA,WAAApe,EAAAoe,IAAA,SAAqCC,GAAAwkB,SAAA/b,EAAA+b,SAAAla,EAAAtpB,KAAA+jC,SAAqCA,MAAA,WAAkB,GAAAlkC,GAAAG,KAAAulC,OAAmB1lC,GAAAkkC,QAAAlkC,EAAA+kC,OAAA5kC,KAAAylC,QAA+Bb,OAAA,SAAA/kC,GAAoB,MAAAG,MAAAulC,QAAAX,OAAA/kC,GAAAG,MAAmC6kC,SAAA,SAAAhlC,GAAsB,GAAA0e,GAAAve,KAAAulC,QAAAxN,EAAAxZ,EAAAsmB,SAAAhlC,EAAmC0e,GAAAwlB,OAAU,IAAAza,GAAA/K,EAAAsmB,SAAA7kC,KAAAwlC,MAAAlC,QAAAvN,OAAAgC,GAA+C,OAAAzO","file":"rc-sdk-bundle.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory((function webpackLoadOptionalExternalModule() { try { return require(\"xhr2\"); } catch(e) {} }()), require(\"dom-storage\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"exports\", \"exports\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"RCSDK\"] = factory((function webpackLoadOptionalExternalModule() { try { return require(\"xhr2\"); } catch(e) {} }()), require(\"dom-storage\"));\n\telse\n\t\troot[\"RCSDK\"] = factory(root[\"XMLHttpRequest\"], root[\"localStorage\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory((function webpackLoadOptionalExternalModule() { try { return require(\"xhr2\"); } catch(e) {} }()), require(\"dom-storage\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"exports\", \"exports\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"RCSDK\"] = factory((function webpackLoadOptionalExternalModule() { try { return require(\"xhr2\"); } catch(e) {} }()), require(\"dom-storage\"));\n\telse\n\t\troot[\"RCSDK\"] = factory(root[\"XMLHttpRequest\"], root[\"localStorage\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../typings/externals.d.ts\" />\nvar pubnubMock = __webpack_require__(3);\nvar xhrMock = __webpack_require__(4);\nvar xhrResponse = __webpack_require__(5);\nvar ajaxObserver = __webpack_require__(6);\nvar cache = __webpack_require__(7);\nvar context = __webpack_require__(8);\nvar helper = __webpack_require__(9);\nvar list = __webpack_require__(10);\nvar log = __webpack_require__(11);\nvar observable = __webpack_require__(12);\nvar pageVisibility = __webpack_require__(13);\nvar platform = __webpack_require__(14);\nvar subscription = __webpack_require__(15);\nvar utils = __webpack_require__(16);\nvar validator = __webpack_require__(17);\nvar accountHelper = __webpack_require__(18);\nvar blockedNumberHelper = __webpack_require__(19);\nvar callHelper = __webpack_require__(20);\nvar contactHelper = __webpack_require__(21);\nvar contactGroupHelper = __webpack_require__(22);\nvar conferencingHelper = __webpack_require__(23);\nvar countryHelper = __webpack_require__(24);\nvar deviceHelper = __webpack_require__(25);\nvar deviceModelHelper = __webpack_require__(26);\nvar extensionHelper = __webpack_require__(27);\nvar forwardingNumberHelper = __webpack_require__(28);\nvar languageHelper = __webpack_require__(29);\nvar locationHelper = __webpack_require__(30);\nvar messageHelper = __webpack_require__(31);\nvar phoneNumberHelper = __webpack_require__(32);\nvar presenceHelper = __webpack_require__(33);\nvar ringoutHelper = __webpack_require__(34);\nvar serviceHelper = __webpack_require__(35);\nvar shippingMethodHelper = __webpack_require__(36);\nvar stateHelper = __webpack_require__(37);\nvar timezoneHelper = __webpack_require__(38);\nvar promise = __webpack_require__(43);\nvar pubnub = __webpack_require__(39);\n__webpack_require__(40);\n__webpack_require__(41);\nvar RCSDK = (function () {\n    function RCSDK(options) {\n        options = options || {};\n        this._context = context.$get(RCSDK.injections);\n        this.getCache().setPrefix(options.cachePrefix || '');\n        this.getPlatform().setServer(options.server || '').setCredentials(options.appKey || '', options.appSecret || '');\n        //TODO Link Platform events with Subscriptions and the rest\n    }\n    // Internals\n    RCSDK.prototype.getContext = function () {\n        return this._context;\n    };\n    // Core\n    RCSDK.prototype.getAjaxObserver = function () {\n        return ajaxObserver.$get(this.getContext());\n    };\n    RCSDK.prototype.getXhrResponse = function () {\n        return xhrResponse.$get(this.getContext());\n    };\n    RCSDK.prototype.getPlatform = function () {\n        return platform.$get(this.getContext());\n    };\n    RCSDK.prototype.getCache = function () {\n        return cache.$get(this.getContext());\n    };\n    RCSDK.prototype.getSubscription = function () {\n        return subscription.$get(this.getContext());\n    };\n    RCSDK.prototype.getPageVisibility = function () {\n        return pageVisibility.$get(this.getContext());\n    };\n    RCSDK.prototype.getHelper = function () {\n        return helper.$get(this.getContext());\n    };\n    RCSDK.prototype.getObservable = function () {\n        return observable.$get(this.getContext());\n    };\n    RCSDK.prototype.getValidator = function () {\n        return validator.$get(this.getContext());\n    };\n    RCSDK.prototype.getLog = function () {\n        return log.$get(this.getContext());\n    };\n    RCSDK.prototype.getUtils = function () {\n        return utils.$get(this.getContext());\n    };\n    RCSDK.prototype.getList = function () {\n        return list.$get(this.getContext());\n    };\n    // Helpers\n    RCSDK.prototype.getCountryHelper = function () {\n        return countryHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getDeviceModelHelper = function () {\n        return deviceModelHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getLanguageHelper = function () {\n        return languageHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getLocationHelper = function () {\n        return locationHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getShippingMethodHelper = function () {\n        return shippingMethodHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getStateHelper = function () {\n        return stateHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getTimezoneHelper = function () {\n        return timezoneHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getAccountHelper = function () {\n        return accountHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getBlockedNumberHelper = function () {\n        return blockedNumberHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getCallHelper = function () {\n        return callHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getConferencingHelper = function () {\n        return conferencingHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getContactHelper = function () {\n        return contactHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getContactGroupHelper = function () {\n        return contactGroupHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getDeviceHelper = function () {\n        return deviceHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getExtensionHelper = function () {\n        return extensionHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getForwardingNumberHelper = function () {\n        return forwardingNumberHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getMessageHelper = function () {\n        return messageHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getPhoneNumberHelper = function () {\n        return phoneNumberHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getPresenceHelper = function () {\n        return presenceHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getRingoutHelper = function () {\n        return ringoutHelper.$get(this.getContext());\n    };\n    RCSDK.prototype.getServiceHelper = function () {\n        return serviceHelper.$get(this.getContext());\n    };\n    RCSDK.version = '1.3.0';\n    RCSDK.CryptoJS = __webpack_require__(42);\n    RCSDK.XHR = function () {\n        try {\n            return new XMLHttpRequest();\n        }\n        catch (e) {\n        }\n        try {\n            return new ActiveXObject(\"Msxml2.XMLHTTP.6.0\");\n        }\n        catch (e1) {\n        }\n        try {\n            return new ActiveXObject(\"Msxml2.XMLHTTP.3.0\");\n        }\n        catch (e2) {\n        }\n        try {\n            return new ActiveXObject(\"Msxml2.XMLHTTP\");\n        }\n        catch (e3) {\n        }\n        try {\n            return new (__webpack_require__(1))();\n        }\n        catch (e4) {\n        }\n        throw new Error(\"This browser does not support XMLHttpRequest.\");\n    };\n    RCSDK.injections = {\n        CryptoJS: RCSDK.CryptoJS,\n        localStorage: (typeof (localStorage) !== 'undefined' ? localStorage : __webpack_require__(2)),\n        Promise: typeof (Promise) !== 'undefined' ? Promise : promise.Promise,\n        PUBNUB: pubnub,\n        XHR: RCSDK.XHR,\n        pubnubMock: pubnubMock,\n        xhrMock: xhrMock\n    };\n    return RCSDK;\n})();\nmodule.exports = RCSDK;\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\nif(typeof __WEBPACK_EXTERNAL_MODULE_1__ === 'undefined') {var e = new Error(\"Cannot find module \\\"undefined\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e;}\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../../typings/externals.d.ts\" />\nvar PubnubMock = (function () {\n    function PubnubMock() {\n    }\n    PubnubMock.prototype.ready = function () {\n    };\n    PubnubMock.prototype.unsubscribe = function (options) {\n    };\n    PubnubMock.prototype.subscribe = function (options) {\n        this.onMessage = options.message;\n    };\n    PubnubMock.prototype.receiveMessage = function (msg) {\n        this.onMessage(msg, 'env', 'channel');\n    };\n    return PubnubMock;\n})();\nexports.PubnubMock = PubnubMock;\nvar PubnubFactory = (function () {\n    function PubnubFactory(context) {\n        this.context = context;\n    }\n    PubnubFactory.prototype.init = function (options) {\n        return new PubnubMock();\n    };\n    return PubnubFactory;\n})();\nexports.PubnubFactory = PubnubFactory;\nfunction $get(context) {\n    return new PubnubFactory(context);\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\nvar utils = __webpack_require__(16);\nvar log = __webpack_require__(11);\nvar xhrResponse = __webpack_require__(5); //FIXME Circular\nvar XhrMock = (function () {\n    function XhrMock(context) {\n        // Service\n        this.context = context;\n        this.responses = xhrResponse.$get(context);\n        this.log = log.$get(context);\n        this.utils = utils.$get(context);\n        // Request\n        this.async = true;\n        this.method = '';\n        this.url = '';\n        this.requestHeaders = {};\n        this.withCredentials = false;\n        // Response\n        this.data = null;\n        this.readyState = 0;\n        this.responseHeaders = {};\n        this.status = 0;\n    }\n    XhrMock.prototype.getResponseHeader = function (header) {\n        return this.responseHeaders[header.toLowerCase()];\n    };\n    XhrMock.prototype.setRequestHeader = function (header, value) {\n        this.requestHeaders[header.toLowerCase()] = value;\n    };\n    XhrMock.prototype.getAllResponseHeaders = function () {\n        var res = [];\n        this.utils.forEach(this.responseHeaders, function (value, name) {\n            res.push(name + ':' + value);\n        });\n        return res.join('\\n');\n    };\n    XhrMock.prototype.open = function (method, url, async) {\n        this.method = method;\n        this.url = url;\n        this.async = async;\n    };\n    XhrMock.prototype.send = function (data) {\n        var _this = this;\n        var contentType = this.getRequestHeader('Content-Type');\n        this.data = data;\n        if (this.data && typeof this.data == 'string') {\n            // For convenience encoded post data will be decoded\n            if (contentType == 'application/json')\n                this.data = JSON.parse(this.data);\n            if (contentType == 'application/x-www-form-urlencoded')\n                this.data = this.utils.parseQueryString(this.data);\n        }\n        this.log.debug('API REQUEST', this.method, this.url);\n        var currentResponse = this.responses.find(this);\n        if (!currentResponse) {\n            setTimeout(function () {\n                if (_this.onerror)\n                    _this.onerror(new Error('Unknown request: ' + _this.url));\n            }, 1);\n            return;\n        }\n        this.setStatus(200);\n        this.setResponseHeader('Content-Type', 'application/json');\n        var res = currentResponse.response(this), Promise = this.context.getPromise(), onLoad = function (res) {\n            if (_this.getResponseHeader('Content-Type') == 'application/json')\n                res = JSON.stringify(res);\n            _this.responseText = res;\n            setTimeout(function () {\n                if (_this.onload)\n                    _this.onload();\n            }, 1);\n        };\n        if (res instanceof Promise) {\n            res.then(onLoad.bind(this)).catch(this.onerror.bind(this));\n        }\n        else\n            onLoad(res);\n    };\n    XhrMock.prototype.abort = function () {\n        this.log.debug('XhrMock.destroy(): Aborted');\n    };\n    XhrMock.prototype.getRequestHeader = function (header) {\n        return this.requestHeaders[header.toLowerCase()];\n    };\n    XhrMock.prototype.setResponseHeader = function (header, value) {\n        this.responseHeaders[header.toLowerCase()] = value;\n    };\n    XhrMock.prototype.setStatus = function (status) {\n        this.status = status;\n        return this;\n    };\n    return XhrMock;\n})();\nexports.XhrMock = XhrMock;\nfunction $get(context) {\n    return new XhrMock(context);\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\nvar XhrResponse = (function () {\n    function XhrResponse(context) {\n        this.responses = [];\n    }\n    XhrResponse.prototype.add = function (response) {\n        this.responses.push(response);\n    };\n    XhrResponse.prototype.clear = function () {\n        this.responses = [];\n    };\n    XhrResponse.prototype.find = function (ajax) {\n        var currentResponse;\n        this.responses.forEach(function (response) {\n            if (ajax.url.indexOf(response.path) > -1 && (!response.test || response.test(ajax))) {\n                currentResponse = response;\n            }\n        });\n        return currentResponse;\n    };\n    return XhrResponse;\n})();\nexports.XhrResponse = XhrResponse;\nfunction $get(context) {\n    return context.createSingleton('XhrResponse', function () {\n        return new XhrResponse(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar observable = __webpack_require__(12);\nvar AjaxObserver = (function (_super) {\n    __extends(AjaxObserver, _super);\n    function AjaxObserver() {\n        _super.apply(this, arguments);\n        this.events = {\n            beforeRequest: 'beforeRequest',\n            requestSuccess: 'requestSuccess',\n            requestError: 'requestError' // means that request failed completely\n        };\n    }\n    return AjaxObserver;\n})(observable.Observable);\nexports.AjaxObserver = AjaxObserver;\nfunction $get(context) {\n    return context.createSingleton('AjaxObserver', function () {\n        return new AjaxObserver(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar Cache = (function () {\n    function Cache(context) {\n        this.setPrefix();\n        this.context = context;\n        this.storage = context.getLocalStorage(); // storage must be defined from outside\n    }\n    Cache.prototype.setPrefix = function (prefix) {\n        this.prefix = prefix || 'rc-';\n        return this;\n    };\n    Cache.prototype.prefixKey = function (key) {\n        return this.prefix + key;\n    };\n    Cache.prototype.setItem = function (key, data) {\n        this.storage.setItem(this.prefixKey(key), JSON.stringify(data));\n        return this;\n    };\n    Cache.prototype.removeItem = function (key) {\n        this.storage.removeItem(this.prefixKey(key));\n        return this;\n    };\n    Cache.prototype.getItem = function (key) {\n        var item = this.storage.getItem(this.prefixKey(key));\n        if (!item)\n            return null;\n        return JSON.parse(item);\n    };\n    Cache.prototype.clean = function () {\n        for (var key in this.storage) {\n            if (!this.storage.hasOwnProperty(key))\n                continue;\n            if (key.indexOf(this.prefix) === 0) {\n                this.storage.removeItem(key);\n                delete this.storage[key];\n            }\n        }\n        return this;\n    };\n    return Cache;\n})();\nexports.Cache = Cache;\nfunction $get(context) {\n    return context.createSingleton('Cache', function () {\n        return new Cache(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar Context = (function () {\n    function Context(injections) {\n        this.singletons = {};\n        this.injections = injections;\n        this.stubPubnub = false;\n        this.stubAjax = false;\n    }\n    Context.prototype.createSingleton = function (name, factory) {\n        if (!this.singletons[name])\n            this.singletons[name] = factory();\n        return this.singletons[name];\n    };\n    Context.prototype.usePubnubStub = function (flag) {\n        this.stubPubnub = !!flag;\n        return this;\n    };\n    Context.prototype.useAjaxStub = function (flag) {\n        this.stubAjax = !!flag;\n        return this;\n    };\n    Context.prototype.getCryptoJS = function () {\n        return this.injections.CryptoJS;\n    };\n    Context.prototype.getPubnub = function () {\n        return this.stubPubnub ? this.injections.pubnubMock.$get(this) : this.injections.PUBNUB;\n    };\n    Context.prototype.getLocalStorage = function () {\n        var _this = this;\n        return this.createSingleton('localStorage', function () {\n            if (typeof _this.injections.localStorage !== 'function') {\n                return _this.injections.localStorage; // this is window.localStorage\n            }\n            return new _this.injections.localStorage(); // this is NPM dom-storage constructor\n        });\n    };\n    Context.prototype.getPromise = function () {\n        return this.injections.Promise;\n    };\n    Context.prototype.getXHR = function () {\n        return (this.stubAjax ? this.injections.xhrMock.$get(this) : this.injections.XHR());\n    };\n    return Context;\n})();\nexports.Context = Context;\nfunction $get(injections) {\n    return new Context(injections);\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar utils = __webpack_require__(16);\nvar Helper = (function () {\n    function Helper(context) {\n        this.defaultProperty = 'id';\n        this.context = context;\n        this.utils = utils.$get(context);\n    }\n    Helper.prototype.getContext = function () {\n        return this.context;\n    };\n    Helper.prototype.createUrl = function (options, id) {\n        return '';\n    };\n    Helper.prototype.getId = function (object) {\n        return object && object[this.defaultProperty];\n    };\n    Helper.prototype.isNew = function (object) {\n        return !this.getId(object) || !this.getUri(object);\n    };\n    Helper.prototype.resetAsNew = function (object) {\n        if (object) {\n            delete object.id;\n            delete object.uri;\n        }\n        return object;\n    };\n    Helper.prototype.getUri = function (object) {\n        return object && object.uri;\n    };\n    Helper.prototype.parseMultipartResponse = function (ajax) {\n        if (ajax.isMultipart()) {\n            // ajax.data has full array, leave only successful\n            return ajax.data.filter(function (result) {\n                return (!result.error);\n            }).map(function (result) {\n                return result.data;\n            });\n        }\n        else {\n            return [ajax.data];\n        }\n    };\n    /**\n     * Options have higher priority, if object.url and options.url were provided, options.url will be returned\n     * If no URL was provided, default will be returned\n     */\n    Helper.prototype.loadRequest = function (object, options) {\n        return this.utils.extend(options || {}, {\n            url: (options && options.url) || (object && this.getUri(object)) || this.createUrl(),\n            method: (options && options.method) || 'GET'\n        });\n    };\n    /**\n     * Options have higher priority, if object.url and options.url were provided, options.url will be returned\n     * If no URL was provided, default will be returned\n     */\n    Helper.prototype.saveRequest = function (object, options) {\n        if (!object && !(options && (options.post || options.body)))\n            throw new Error('No Object');\n        return this.utils.extend(options || {}, {\n            method: (options && options.method) || (this.isNew(object) ? 'POST' : 'PUT'),\n            url: (options && options.url) || this.getUri(object) || this.createUrl(),\n            body: (options && (options.body || options.post)) || object\n        });\n    };\n    /**\n     * Options have higher priority, if object.url and options.url were provided, options.url will be returned\n     * If no URL was provided exception will be thrown\n     */\n    Helper.prototype.deleteRequest = function (object, options) {\n        options = options || {};\n        if (!this.getUri(object) && !(options && options.url))\n            throw new Error('Object has to be not new or URL must be provided');\n        return this.utils.extend(options || {}, {\n            method: (options && options.method) || 'DELETE',\n            url: (options && options.url) || this.getUri(object)\n        });\n    };\n    /**\n     * If no url was provided, default SYNC url will be returned\n     */\n    Helper.prototype.syncRequest = function (options) {\n        options = options || {};\n        options.url = options.url || this.createUrl({ sync: true });\n        options.query = options.query || options.get || {};\n        if (!!options.query.syncToken) {\n            options.query = {\n                syncType: 'ISync',\n                syncToken: options.get.syncToken\n            };\n        }\n        else {\n            options.query.syncType = 'FSync';\n        }\n        return options;\n    };\n    Helper.prototype.nextPageExists = function (data) {\n        return (data && data.navigation && ('nextPage' in data.navigation));\n    };\n    /**\n     * array - an array to be indexed\n     * getIdFn - must return an ID for each array item\n     * gather - if true, then each index will have an array of items, that has same ID, otherwise the first indexed\n     * item wins\n     */\n    Helper.prototype.index = function (array, getIdFn, gather) {\n        getIdFn = getIdFn || this.getId.bind(this);\n        array = array || [];\n        return array.reduce(function (index, item) {\n            var id = getIdFn(item);\n            if (!id || (index[id] && !gather))\n                return index;\n            if (gather) {\n                if (!index[id])\n                    index[id] = [];\n                index[id].push(item);\n            }\n            else {\n                index[id] = item;\n            }\n            return index;\n        }, {});\n    };\n    /**\n     * Returns a shallow copy of merged _target_ array plus _supplement_ array\n     * mergeItems\n     * - if true, properties of _supplement_ item will be applied to _target_ item,\n     * - otherwise _target_ item will be replaced\n     */\n    Helper.prototype.merge = function (target, supplement, getIdFn, mergeItems) {\n        var _this = this;\n        getIdFn = getIdFn || this.getId.bind(this);\n        target = target || [];\n        supplement = supplement || [];\n        var supplementIndex = this.index(supplement, getIdFn), updatedIDs = [], result = target.map(function (item) {\n            var id = getIdFn(item), newItem = supplementIndex[id];\n            if (newItem)\n                updatedIDs.push(id);\n            return newItem ? (mergeItems ? _this.utils.extend(item, newItem) : newItem) : item;\n        });\n        supplement.forEach(function (item) {\n            if (updatedIDs.indexOf(getIdFn(item)) == -1)\n                result.push(item);\n        });\n        return result;\n    };\n    return Helper;\n})();\nexports.Helper = Helper;\nfunction $get(context) {\n    return new Helper(context);\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar utils = __webpack_require__(16);\nvar List = (function () {\n    function List(context) {\n        this.context = context;\n        this.utils = utils.$get(context);\n        this.numberComparator = this.numberComparator.bind(this);\n        this.stringComparator = this.stringComparator.bind(this);\n    }\n    /**\n     * TODO Use utils getProperty\n     * @param {string} property\n     * @returns {function(object)}\n     */\n    List.prototype.propertyExtractor = function (property) {\n        return function (item, options) {\n            return property ? ((item && item[property]) || null) : item;\n        };\n    };\n    /**\n     * Non-string types are converted to string\n     * Non-string types are extracted as an empty string if they could be converted to false\n     * If no options.sortBy given the item itself is extracted\n     * Compares strings:\n     * - if (a is less than b) return -1;\n     * - if (a is greater than b) return 1;\n     * - else (a must be equal to b) return 0;\n     * Exceptions in will be suppressed, if any - a is assumed to be less than b\n     */\n    List.prototype.stringComparator = function (a, b, options) {\n        return this.utils.parseString(a).localeCompare(this.utils.parseString(b));\n    };\n    /**\n     * Non-numeric types are extracted as 0 if they could be converted to false\n     * Objects that could not be converted to number are extracted as 0\n     * If no options.sortBy given the item itself is extracted\n     * See parseFloat for more info\n     * Compares numbers:\n     * - if (a is less than b) return -1;\n     * - if (a is greater than b) return 1;\n     * - else (a must be equal to b) return 0;\n     * Function does not check types\n     * Exceptions in will be suppressed, if any - a is assumed to be less than b\n     */\n    List.prototype.numberComparator = function (a, b, options) {\n        return (this.utils.parseNumber(a) - this.utils.parseNumber(b));\n    };\n    /**\n     * Function extracts (using _extractFn_ option) values of a property (_sortBy_ option) and compares them using\n     * compare function (_compareFn_ option, by default Helper.stringComparator)\n     * Merged options are provided to _extractFn_ and _compareFn_\n     * TODO Check memory leaks for all that options links\n     */\n    List.prototype.comparator = function (options) {\n        options = this.utils.extend({\n            extractFn: this.propertyExtractor((options && options.sortBy) || null).bind(this),\n            compareFn: this.stringComparator.bind(this)\n        }, options);\n        return function (item1, item2) {\n            return options.compareFn(options.extractFn(item1, options), options.extractFn(item2, options), options);\n        };\n    };\n    List.prototype.equalsFilter = function (obj, options) {\n        return (options.condition === obj);\n    };\n    /**\n     * @param {string} obj\n     * @param {IListFilterOptions} options\n     * @returns {boolean}\n     */\n    List.prototype.containsFilter = function (obj, options) {\n        return (obj && obj.toString().indexOf(options.condition) > -1);\n    };\n    List.prototype.regexpFilter = function (obj, options) {\n        if (!(options.condition instanceof RegExp))\n            throw new Error('Condition must be an instance of RegExp');\n        return (options.condition.test(obj));\n    };\n    /**\n     * Function extracts (using `extractFn` option) values of a property (`filterBy` option) and filters them using\n     * compare function (`filterFn` option, by default Helper.equalsFilter)\n     * Merged options are provided to `extractFn` and `compareFn`\n     * Set `filterBy` to null to force `propertyExtractor` to return object itself\n     * TODO Check memory leaks for all that options links\n     */\n    List.prototype.filter = function (filterConfigs) {\n        var _this = this;\n        var self = this;\n        filterConfigs = (filterConfigs || []).map(function (opt) {\n            return _this.utils.extend({\n                condition: '',\n                extractFn: self.propertyExtractor((opt && opt.filterBy) || null).bind(_this),\n                filterFn: self.equalsFilter.bind(_this)\n            }, opt);\n        });\n        return function (item) {\n            return filterConfigs.reduce(function (pass, opt) {\n                if (!pass || !opt.condition)\n                    return pass;\n                return opt.filterFn(opt.extractFn(item, opt), opt);\n            }, true);\n        };\n    };\n    return List;\n})();\nexports.List = List;\nfunction $get(context) {\n    return context.createSingleton('List', function () {\n        return new List(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar utils = __webpack_require__(16);\nvar Log = (function () {\n    function Log(context, console) {\n        if (!console) {\n            console = {\n                log: function () {\n                },\n                warn: function () {\n                },\n                info: function () {\n                },\n                error: function () {\n                }\n            };\n        }\n        this.context = context;\n        this.console = console;\n        this.utils = utils.$get(context);\n        this.logDebug = false;\n        this.logInfo = false;\n        this.logWarnings = false;\n        this.logErrors = false;\n        this.addTimestamps = false;\n    }\n    Log.prototype.disableAll = function () {\n        this.logDebug = false;\n        this.logInfo = false;\n        this.logWarnings = false;\n        this.logErrors = false;\n    };\n    Log.prototype.enableAll = function () {\n        this.logDebug = true;\n        this.logInfo = true;\n        this.logWarnings = true;\n        this.logErrors = true;\n    };\n    Log.prototype.parseArguments = function (args) {\n        args = this.utils.argumentsToArray(args);\n        if (this.addTimestamps)\n            args.unshift(new Date().toLocaleString(), '-');\n        return args;\n    };\n    Log.prototype.debug = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i - 0] = arguments[_i];\n        }\n        if (this.logDebug)\n            this.console.log.apply(this.console, this.parseArguments(arguments));\n    };\n    Log.prototype.info = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i - 0] = arguments[_i];\n        }\n        if (this.logInfo)\n            this.console.info.apply(this.console, this.parseArguments(arguments));\n    };\n    Log.prototype.warn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i - 0] = arguments[_i];\n        }\n        if (this.logWarnings)\n            this.console.warn.apply(this.console, this.parseArguments(arguments));\n    };\n    Log.prototype.error = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i - 0] = arguments[_i];\n        }\n        if (this.logErrors)\n            this.console.error.apply(this.console, this.parseArguments(arguments));\n    };\n    return Log;\n})();\nexports.Log = Log;\nfunction $get(context) {\n    return context.createSingleton('Log', function () {\n        return new Log(context, console);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar utils = __webpack_require__(16);\nvar log = __webpack_require__(11);\nvar Observable = (function () {\n    /**\n     * @constructor\n     * @alias RCSDK.core.Observable\n     */\n    function Observable(context) {\n        if (!(this instanceof Observable))\n            throw new Error('Observable(): New operator was omitted');\n        Object.defineProperty(this, 'listeners', { value: {}, enumerable: false, writable: true });\n        Object.defineProperty(this, 'oneTimeEvents', { value: {}, enumerable: false, writable: true });\n        Object.defineProperty(this, 'oneTimeArguments', { value: {}, enumerable: false, writable: true });\n        this.context = context;\n        this.utils = utils.$get(context);\n        this.log = log.$get(context);\n    }\n    Observable.prototype.hasListeners = function (event) {\n        return (event in this.listeners);\n    };\n    Observable.prototype.registerOneTimeEvent = function (event) {\n        this.oneTimeEvents[event] = false;\n        this.oneTimeArguments[event] = [];\n    };\n    Observable.prototype.on = function (events, callback) {\n        var _this = this;\n        if (typeof events == 'string')\n            events = [events];\n        if (!events)\n            throw new Error('No events to subscribe to');\n        if (typeof callback !== 'function')\n            throw new Error('Callback must be a function');\n        var self = this;\n        events.forEach(function (event) {\n            if (!self.hasListeners(event))\n                self.listeners[event] = [];\n            self.listeners[event].push(callback);\n            if (self.isOneTimeEventFired(event)) {\n                _this.log.debug('Observable.on(%s): One-time event has been fired already, executing callback', event);\n                callback.apply(self, self.getOneTimeEventArgumens(event));\n            }\n        });\n        return this;\n    };\n    Observable.prototype.emit = function (event) {\n        var _this = this;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (this.isOneTimeEventFired(event)) {\n            this.log.debug('Observable.emit(%s): One-time event has been fired already', event);\n            return null;\n        }\n        var result = null;\n        if (this.isOneTimeEvent(event)) {\n            this.setOneTimeEventFired(event);\n            this.setOneTimeEventArgumens(event, args);\n        }\n        if (!this.hasListeners(event))\n            return null;\n        this.listeners[event].some(function (callback) {\n            result = callback.apply(_this, args);\n            return (result === false);\n        });\n        return result;\n    };\n    Observable.prototype.off = function (event, callback) {\n        var _this = this;\n        var self = this;\n        if (!callback) {\n            delete this.listeners[event];\n        }\n        else {\n            if (!this.hasListeners(event))\n                return this;\n            this.listeners[event].forEach(function (cb, i) {\n                if (cb === callback)\n                    delete _this.listeners[event][i];\n            });\n        }\n        return this;\n    };\n    Observable.prototype.isOneTimeEvent = function (event) {\n        return (event in this.oneTimeEvents);\n    };\n    Observable.prototype.isOneTimeEventFired = function (event) {\n        if (!this.isOneTimeEvent(event))\n            return false;\n        return (this.oneTimeEvents[event]);\n    };\n    Observable.prototype.setOneTimeEventFired = function (event) {\n        this.oneTimeEvents[event] = true;\n    };\n    Observable.prototype.setOneTimeEventArgumens = function (event, args) {\n        this.oneTimeArguments[event] = args;\n    };\n    Observable.prototype.getOneTimeEventArgumens = function (event) {\n        return this.oneTimeArguments[event];\n    };\n    Observable.prototype.offAll = function () {\n        this.listeners = {};\n        this.oneTimeEvents = {};\n        this.oneTimeArguments = {};\n        return this;\n    };\n    Observable.prototype.destroy = function () {\n        this.offAll();\n        this.log.debug('Observable.destroy(): Listeners were destroyed');\n        return this;\n    };\n    Observable.prototype.emitAndCallback = function (event, args, callback) {\n        args = this.utils.argumentsToArray(args);\n        if (event)\n            this.emit.apply(this, [event].concat(args));\n        if (callback)\n            callback.apply(this, args);\n        return this;\n    };\n    return Observable;\n})();\nexports.Observable = Observable;\nfunction $get(context) {\n    return new Observable(context);\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar observable = __webpack_require__(12);\nvar PageVisibility = (function (_super) {\n    __extends(PageVisibility, _super);\n    function PageVisibility(context) {\n        var _this = this;\n        _super.call(this, context);\n        this.events = {\n            change: 'change'\n        };\n        var hidden = \"hidden\", onchange = function (evt) {\n            evt = evt || window.event;\n            var v = 'visible', h = 'hidden', evtMap = {\n                focus: v,\n                focusin: v,\n                pageshow: v,\n                blur: h,\n                focusout: h,\n                pagehide: h\n            };\n            _this.visible = (evt.type in evtMap) ? evtMap[evt.type] == v : !document[hidden];\n            _this.emit(_this.events.change, _this.visible);\n        };\n        this.visible = true;\n        if (typeof document == 'undefined' || typeof window == 'undefined')\n            return;\n        // Standards:\n        if (hidden in document)\n            document.addEventListener(\"visibilitychange\", onchange);\n        else if ((hidden = \"mozHidden\") in document)\n            document.addEventListener(\"mozvisibilitychange\", onchange);\n        else if ((hidden = \"webkitHidden\") in document)\n            document.addEventListener(\"webkitvisibilitychange\", onchange);\n        else if ((hidden = \"msHidden\") in document)\n            document.addEventListener(\"msvisibilitychange\", onchange);\n        else if ('onfocusin' in document)\n            document.onfocusin = document.onfocusout = onchange;\n        else\n            window.onpageshow = window.onpagehide = window.onfocus = window.onblur = onchange;\n    }\n    PageVisibility.prototype.isVisible = function () {\n        return this.visible;\n    };\n    return PageVisibility;\n})(observable.Observable);\nexports.PageVisibility = PageVisibility;\nfunction $get(context) {\n    return new PageVisibility(context);\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar observable = __webpack_require__(12);\nvar cache = __webpack_require__(7);\nvar request = __webpack_require__(44);\nvar Platform = (function (_super) {\n    __extends(Platform, _super);\n    function Platform(context) {\n        _super.call(this, context);\n        this.events = {\n            accessViolation: 'accessViolation',\n            logoutSuccess: 'logoutSuccess',\n            logoutError: 'logoutError',\n            authorizeSuccess: 'authorizeSuccess',\n            authorizeError: 'authorizeError',\n            refreshSuccess: 'refreshSuccess',\n            refreshError: 'refreshError'\n        };\n        this.server = '';\n        this.apiKey = '';\n        this.account = '~';\n        this.urlPrefix = '/restapi';\n        this.apiVersion = 'v1.0';\n        this.accountPrefix = '/account/';\n        this.accessTokenTtl = null; // Platform server by default sets it to 60 * 60 = 1 hour\n        this.refreshTokenTtl = 10 * 60 * 60; // 10 hours\n        this.refreshTokenTtlRemember = 7 * 24 * 60 * 60; // 1 week\n        this.refreshHandicapMs = 60 * 1000; // 1 minute\n        this.refreshDelayMs = 100;\n        this.clearCacheOnRefreshError = true;\n        this.refreshPromise = null;\n        this.cacheId = 'platform';\n        this.pollInterval = 250;\n        this.releaseTimeout = 5000; // If queue was not released then force it to do so after some timeout\n    }\n    Platform.prototype.getStorage = function () {\n        return cache.$get(this.context);\n    };\n    Platform.prototype.getRequest = function () {\n        return request.$get(this.context);\n    };\n    Platform.prototype.clearStorage = function () {\n        this.getStorage().clean();\n        return this;\n    };\n    Platform.prototype.setCredentials = function (appKey, appSecret) {\n        var apiKey = (appKey || '') + ':' + (appSecret || '');\n        if (apiKey == ':')\n            return this;\n        this.apiKey = (typeof btoa == 'function') ? btoa(apiKey) : new Buffer(apiKey).toString('base64');\n        return this;\n    };\n    Platform.prototype.setServer = function (server) {\n        this.server = server || '';\n        return this;\n    };\n    Platform.prototype.remember = function (remember) {\n        var key = this.cacheId + '-remember';\n        if (remember !== undefined) {\n            this.getStorage().setItem(key, remember);\n            return this;\n        }\n        return this.getStorage().getItem(key) || false;\n    };\n    Platform.prototype.authorize = function (options) {\n        var _this = this;\n        options = options || {};\n        options.remember = options.remember || false;\n        return this.authCall({\n            url: '/restapi/oauth/token',\n            post: {\n                \"grant_type\": \"password\",\n                \"username\": options.username,\n                \"extension\": options.extension || '',\n                \"password\": options.password,\n                \"access_token_ttl\": this.accessTokenTtl,\n                \"refresh_token_ttl\": options.remember ? this.refreshTokenTtlRemember : this.refreshTokenTtl\n            }\n        }).then(function (response) {\n            _this.setCache(response.data).remember(options.remember).emitAndCallback(_this.events.authorizeSuccess, []);\n            return response;\n        }).catch(function (e) {\n            _this.clearStorage().emitAndCallback(_this.events.authorizeError, [e]);\n            throw e;\n        });\n    };\n    Platform.prototype.isPaused = function () {\n        var storage = this.getStorage(), cacheId = this.cacheId + '-refresh';\n        return !!storage.getItem(cacheId) && Date.now() - parseInt(storage.getItem(cacheId)) < this.releaseTimeout;\n    };\n    Platform.prototype.pause = function () {\n        this.getStorage().setItem(this.cacheId + '-refresh', Date.now());\n        return this;\n    };\n    /**\n     * If the queue is unpaused internally, polling will be cancelled\n     * @returns {Platform}\n     */\n    Platform.prototype.resume = function () {\n        this.getStorage().removeItem(this.cacheId + '-refresh');\n        return this;\n    };\n    Platform.prototype.refresh = function () {\n        var _this = this;\n        var refresh = new (this.context.getPromise())(function (resolve, reject) {\n            if (_this.isPaused()) {\n                return resolve(_this.refreshPolling(null));\n            }\n            else {\n                _this.pause();\n            }\n            // Make sure all existing AJAX calls had a chance to reach the server\n            setTimeout(function () {\n                var authData = _this.getAuthData();\n                _this.log.debug('Platform.refresh(): Performing token refresh (access token', authData.access_token, ', refresh token', authData.refresh_token, ')');\n                if (!authData || !authData.refresh_token)\n                    return reject(new Error('Refresh token is missing'));\n                if (Date.now() > authData.refreshExpireTime)\n                    return reject(new Error('Refresh token has expired'));\n                if (!_this.isPaused())\n                    return reject(new Error('Queue was resumed before refresh call'));\n                resolve(_this.authCall({\n                    url: '/restapi/oauth/token',\n                    post: {\n                        \"grant_type\": \"refresh_token\",\n                        \"refresh_token\": authData.refresh_token,\n                        \"access_token_ttl\": _this.accessTokenTtl,\n                        \"refresh_token_ttl\": _this.remember() ? _this.refreshTokenTtlRemember : _this.refreshTokenTtl\n                    }\n                }));\n            }, _this.refreshDelayMs);\n        });\n        return refresh.then(function (response) {\n            // This means refresh has happened elsewhere and we are here because of timeout\n            if (!response || !response.data)\n                return response;\n            _this.log.info('Platform.refresh(): Token was refreshed');\n            if (!response.data.refresh_token || !response.data.access_token) {\n                var e = new Error('Malformed OAuth response');\n                e.ajax = response;\n                throw e;\n            }\n            _this.setCache(response.data).resume();\n            return response;\n        }).then(function (result) {\n            _this.emit(_this.events.refreshSuccess, result);\n            return result;\n        }).catch(function (e) {\n            if (_this.clearCacheOnRefreshError)\n                _this.clearStorage();\n            _this.emitAndCallback(_this.events.accessViolation, [e]).emitAndCallback(_this.events.refreshError, [e]);\n            throw e;\n        });\n    };\n    /**\n     * @returns {Promise}\n     */\n    Platform.prototype.logout = function () {\n        var _this = this;\n        this.pause();\n        return this.authCall({\n            url: '/restapi/oauth/revoke',\n            post: {\n                token: this.getToken()\n            }\n        }).then(function (response) {\n            _this.resume().clearStorage().emit(_this.events.logoutSuccess, response);\n            return response;\n        }).catch(function (e) {\n            _this.resume().emitAndCallback(_this.events.accessViolation, [e]).emitAndCallback(_this.events.logoutError, [e]);\n            throw e;\n        });\n    };\n    Platform.prototype.refreshPolling = function (result) {\n        var _this = this;\n        if (this.refreshPromise)\n            return this.refreshPromise;\n        this.refreshPromise = new (this.context.getPromise())(function (resolve, reject) {\n            _this.log.warn('Platform.refresh(): Refresh is already in progress polling started');\n            _this.utils.poll(function (next) {\n                if (_this.isPaused())\n                    return next();\n                _this.refreshPromise = null;\n                _this.resume();\n                if (_this.isTokenValid()) {\n                    resolve(result);\n                }\n                else {\n                    reject(new Error('Automatic authentification timeout'));\n                }\n            }, _this.pollInterval);\n        });\n        return this.refreshPromise;\n    };\n    Platform.prototype.getToken = function () {\n        return this.getAuthData().access_token;\n    };\n    Platform.prototype.getTokenType = function () {\n        return this.getAuthData().token_type;\n    };\n    Platform.prototype.getAuthData = function () {\n        return this.getStorage().getItem(this.cacheId) || {\n            token_type: '',\n            access_token: '',\n            expires_in: 0,\n            refresh_token: '',\n            refresh_token_expires_in: 0\n        };\n    };\n    /**\n     * Check if there is a valid (not expired) access token\n     */\n    Platform.prototype.isTokenValid = function () {\n        var authData = this.getAuthData();\n        return (authData.token_type == Platform.forcedTokenType || (new Date(authData.expireTime).getTime() - this.refreshHandicapMs) > Date.now() && !this.isPaused());\n    };\n    /**\n     * Checks if user is authorized\n     * If there is no access token, refresh will be performed\n     */\n    Platform.prototype.isAuthorized = function () {\n        if (this.isTokenValid())\n            return this.context.getPromise().resolve(true);\n        return this.refresh();\n    };\n    Platform.prototype.cancelAccessToken = function () {\n        return this.setCache(this.utils.extend(this.getAuthData(), {\n            access_token: '',\n            expires_in: 0\n        }));\n    };\n    Platform.prototype.setCache = function (authData) {\n        var oldAuthData = this.getAuthData();\n        this.log.info('Platform.setCache(): Tokens were updated, new:', authData, ', old:', oldAuthData);\n        authData.expireTime = Date.now() + (authData.expires_in * 1000);\n        authData.refreshExpireTime = Date.now() + (authData.refresh_token_expires_in * 1000);\n        this.getStorage().setItem(this.cacheId, authData);\n        return this;\n    };\n    Platform.prototype.forceAuthentication = function () {\n        this.setCache({\n            token_type: Platform.forcedTokenType,\n            access_token: '',\n            expires_in: 0,\n            refresh_token: '',\n            refresh_token_expires_in: 0\n        });\n        return this;\n    };\n    Platform.prototype.apiCall = function (options) {\n        var _this = this;\n        options = options || {};\n        options.url = this.apiUrl(options.url, { addServer: true });\n        return this.isAuthorized().then(function () {\n            var token = _this.getToken();\n            return _this.getRequest().setOptions(options).setHeader('Authorization', _this.getTokenType() + (token ? ' ' + token : '')).send();\n        }).catch(function (e) {\n            if (!e.response || !e.response.isUnauthorized())\n                throw e;\n            _this.cancelAccessToken();\n            return _this.refresh().then(function () {\n                // Re-send with same options\n                return _this.apiCall(options);\n            });\n        });\n    };\n    Platform.prototype.get = function (url, options) {\n        options = options || {};\n        options.url = url;\n        options.method = 'GET';\n        return this.apiCall(options);\n    };\n    Platform.prototype.post = function (url, options) {\n        options = options || {};\n        options.url = url;\n        options.method = 'POST';\n        return this.apiCall(options);\n    };\n    Platform.prototype.put = function (url, options) {\n        options = options || {};\n        options.url = url;\n        options.method = 'PUT';\n        return this.apiCall(options);\n    };\n    Platform.prototype['delete'] = function (url, options) {\n        options = options || {};\n        options.url = url;\n        options.method = 'DELETE';\n        return this.apiCall(options);\n    };\n    Platform.prototype.authCall = function (options) {\n        options = options || {};\n        options.method = options.method || 'POST';\n        options.url = this.apiUrl(options.url, { addServer: true });\n        return this.getRequest().setOptions(options).setHeader('Content-Type', 'application/x-www-form-urlencoded').setHeader('Accept', 'application/json').setHeader('Authorization', 'Basic ' + this.apiKey).send();\n    };\n    Platform.prototype.apiUrl = function (url, options) {\n        url = url || '';\n        options = options || {};\n        var builtUrl = '';\n        if (options.addServer && url.indexOf('http://') == -1 && url.indexOf('https://') == -1)\n            builtUrl += this.server;\n        if (url.indexOf(this.urlPrefix) == -1)\n            builtUrl += this.urlPrefix + '/' + this.apiVersion;\n        if (url.indexOf(this.accountPrefix) > -1)\n            builtUrl.replace(this.accountPrefix + '~', this.accountPrefix + this.account);\n        builtUrl += url;\n        if (options.addMethod || options.addToken)\n            builtUrl += (url.indexOf('?') > -1 ? '&' : '?');\n        if (options.addMethod)\n            builtUrl += '_method=' + options.addMethod;\n        if (options.addToken)\n            builtUrl += (options.addMethod ? '&' : '') + 'access_token=' + this.getToken();\n        return builtUrl;\n    };\n    Platform.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        return this;\n    };\n    Platform.prototype.on = function (events, callback) {\n        _super.prototype.on.call(this, events, callback);\n        return this;\n    };\n    Platform.prototype.off = function (events, callback) {\n        _super.prototype.on.call(this, events, callback);\n        return this;\n    };\n    Platform.prototype.emitAndCallback = function (event, args, callback) {\n        _super.prototype.emitAndCallback.call(this, event, args, callback);\n        return this;\n    };\n    Platform.forcedTokenType = 'forced';\n    return Platform;\n})(observable.Observable);\nexports.Platform = Platform;\nfunction $get(context) {\n    return context.createSingleton('Platform', function () {\n        return new Platform(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar observable = __webpack_require__(12);\nvar platform = __webpack_require__(14);\nvar Subscription = (function (_super) {\n    __extends(Subscription, _super);\n    function Subscription(context) {\n        _super.call(this, context);\n        this.events = {\n            notification: 'notification',\n            removeSuccess: 'removeSuccess',\n            removeError: 'removeError',\n            renewSuccess: 'renewSuccess',\n            renewError: 'renewError',\n            subscribeSuccess: 'subscribeSuccess',\n            subscribeError: 'subscribeError'\n        };\n        this.pubnub = null;\n        this.eventFilters = [];\n        this.timeout = null;\n        this.subscription = {\n            eventFilters: [],\n            expirationTime: '',\n            expiresIn: 0,\n            deliveryMode: {\n                transportType: 'PubNub',\n                encryption: false,\n                address: '',\n                subscriberKey: '',\n                secretKey: ''\n            },\n            id: '',\n            creationTime: '',\n            status: '',\n            uri: ''\n        };\n    }\n    Subscription.prototype.getPubnub = function () {\n        return this.context.getPubnub();\n    };\n    Subscription.prototype.getCrypto = function () {\n        return this.context.getCryptoJS();\n    };\n    Subscription.prototype.getPlatform = function () {\n        return platform.$get(this.context);\n    };\n    /**\n     * Creates or updates subscription if there is an active one\n     * @param {{events?:string[]}} [options] New array of events\n     * @returns {Promise}\n     */\n    Subscription.prototype.register = function (options) {\n        if (this.isSubscribed()) {\n            return this.renew(options);\n        }\n        else {\n            return this.subscribe(options);\n        }\n    };\n    Subscription.prototype.addEvents = function (events) {\n        this.eventFilters = this.eventFilters.concat(events);\n        return this;\n    };\n    Subscription.prototype.setEvents = function (events) {\n        this.eventFilters = events;\n        return this;\n    };\n    Subscription.prototype.getFullEventFilters = function () {\n        var _this = this;\n        return this.eventFilters.map(function (event) {\n            return _this.getPlatform().apiUrl(event);\n        });\n    };\n    Subscription.prototype.subscribe = function (options) {\n        var _this = this;\n        options = options || {};\n        if (options.events)\n            this.eventFilters = options.events;\n        this.clearTimeout();\n        return new (this.context.getPromise())(function (resolve, reject) {\n            if (!_this.eventFilters || !_this.eventFilters.length)\n                throw new Error('Events are undefined');\n            resolve(_this.getPlatform().apiCall({\n                method: 'POST',\n                url: '/restapi/v1.0/subscription',\n                post: {\n                    eventFilters: _this.getFullEventFilters(),\n                    deliveryMode: {\n                        transportType: 'PubNub'\n                    }\n                }\n            }));\n        }).then(function (ajax) {\n            _this.updateSubscription(ajax.data).subscribeAtPubnub().emit(_this.events.subscribeSuccess, ajax.data);\n            return ajax;\n        }).catch(function (e) {\n            _this.unsubscribe().emit(_this.events.subscribeError, e);\n            throw e;\n        });\n    };\n    Subscription.prototype.renew = function (options) {\n        var _this = this;\n        options = options || {};\n        if (options.events)\n            this.eventFilters = options.events;\n        this.clearTimeout();\n        return new (this.context.getPromise())(function (resolve, reject) {\n            if (!_this.subscription || !_this.subscription.id)\n                throw new Error('Subscription ID is required');\n            if (!_this.eventFilters || !_this.eventFilters.length)\n                throw new Error('Events are undefined');\n            resolve();\n        }).then(function () {\n            return _this.getPlatform().apiCall({\n                method: 'PUT',\n                url: '/restapi/v1.0/subscription/' + _this.subscription.id,\n                post: {\n                    eventFilters: _this.getFullEventFilters()\n                }\n            });\n        }).then(function (ajax) {\n            _this.updateSubscription(ajax.data).emit(_this.events.renewSuccess, ajax.data);\n            return ajax;\n        }).catch(function (e) {\n            _this.unsubscribe().emit(_this.events.renewError, e);\n            throw e;\n        });\n    };\n    Subscription.prototype.remove = function (options) {\n        var _this = this;\n        options = this.utils.extend({\n            async: true\n        }, options);\n        return new (this.context.getPromise())(function (resolve, reject) {\n            if (!_this.subscription || !_this.subscription.id)\n                throw new Error('Subscription ID is required');\n            resolve(_this.getPlatform().apiCall({\n                async: !!options.async,\n                // hook and has to be synchronous\n                method: 'DELETE',\n                url: '/restapi/v1.0/subscription/' + _this.subscription.id\n            }));\n        }).then(function (ajax) {\n            _this.unsubscribe().emit(_this.events.removeSuccess, ajax);\n            return ajax;\n        }).catch(function (e) {\n            _this.emit(_this.events.removeError, e);\n            throw e;\n        });\n    };\n    Subscription.prototype.destroy = function () {\n        this.unsubscribe();\n        this.log.info('RC.core.Subscription: Destroyed');\n        return _super.prototype.destroy.call(this);\n    };\n    Subscription.prototype.isSubscribed = function () {\n        return this.subscription && this.subscription.deliveryMode && this.subscription.deliveryMode.subscriberKey && this.subscription.deliveryMode.address;\n    };\n    Subscription.prototype.setTimeout = function () {\n        var _this = this;\n        var timeToExpiration = (this.subscription.expiresIn * 1000) - Subscription.renewHandicapMs;\n        this.timeout = setTimeout(function () {\n            _this.renew({});\n        }, timeToExpiration);\n    };\n    Subscription.prototype.clearTimeout = function () {\n        clearTimeout(this.timeout);\n    };\n    Subscription.prototype.updateSubscription = function (subscription) {\n        this.clearTimeout();\n        this.subscription = subscription;\n        this.setTimeout();\n        return this;\n    };\n    /**\n     * Remove subscription and disconnect from PUBNUB\n     */\n    Subscription.prototype.unsubscribe = function () {\n        this.clearTimeout();\n        if (this.pubnub && this.isSubscribed())\n            this.pubnub.unsubscribe({ channel: this.subscription.deliveryMode.address });\n        this.subscription = null;\n        return this;\n    };\n    /**\n     * Do not use this method! Internal use only\n     * @param message\n     * @returns {Subscription}\n     */\n    Subscription.prototype.notify = function (message) {\n        if (this.isSubscribed() && this.subscription.deliveryMode.encryptionKey) {\n            var CryptoJS = this.getCrypto();\n            var key = CryptoJS.enc.Base64.parse(this.subscription.deliveryMode.encryptionKey);\n            var data = CryptoJS.enc.Base64.parse(message);\n            var decrypted = CryptoJS.AES.decrypt({ ciphertext: data }, key, {\n                mode: CryptoJS.mode.ECB,\n                padding: CryptoJS.pad.Pkcs7\n            }).toString(CryptoJS.enc.Utf8);\n            message = JSON.parse(decrypted);\n        }\n        this.emit(this.events.notification, message);\n        return this;\n    };\n    /**\n     * Do not use this method! Internal use only\n     * @returns {Subscription}\n     */\n    Subscription.prototype.subscribeAtPubnub = function () {\n        var _this = this;\n        if (!this.isSubscribed())\n            return this;\n        var PUBNUB = this.getPubnub();\n        this.pubnub = PUBNUB.init({\n            ssl: true,\n            subscribe_key: this.subscription.deliveryMode.subscriberKey\n        });\n        this.pubnub.ready();\n        this.pubnub.subscribe({\n            channel: this.subscription.deliveryMode.address,\n            message: function (message, env, channel) {\n                _this.log.info('RC.core.Subscription: Incoming message', message);\n                _this.notify(message);\n            },\n            connect: function () {\n                _this.log.info('RC.core.Subscription: PUBNUB connected');\n            }\n        });\n        return this;\n    };\n    Subscription.prototype.on = function (events, callback) {\n        _super.prototype.on.call(this, events, callback);\n        return this;\n    };\n    Subscription.prototype.off = function (events, callback) {\n        _super.prototype.on.call(this, events, callback);\n        return this;\n    };\n    Subscription.prototype.emitAndCallback = function (event, args, callback) {\n        _super.prototype.emitAndCallback.call(this, event, args, callback);\n        return this;\n    };\n    Subscription.renewHandicapMs = 60 * 1000;\n    return Subscription;\n})(observable.Observable);\nexports.Subscription = Subscription;\nfunction $get(context) {\n    return new Subscription(context);\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar hasOwn = Object.prototype.hasOwnProperty, toString = Object.prototype.toString, rdigit = /\\d/, class2type = {};\n// Populate the class2type map\n'Boolean Number String Function Array Date RegExp Object'.split(' ').forEach(function (name) {\n    class2type[\"[object \" + name + \"]\"] = name.toLowerCase();\n});\nvar Utils = (function () {\n    function Utils() {\n    }\n    /**\n     * Ported from jQuery.fn.extend\n     * Optional first parameter makes deep copy\n     */\n    Utils.prototype.extend = function (targetObject, sourceObject) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var options, name, src, copy, copyIsArray, clone, target = arguments[0] || {}, i = 1, length = arguments.length, deep = false;\n        // Handle a deep copy situation\n        if (typeof target === \"boolean\") {\n            deep = target;\n            // skip the boolean and the target\n            target = arguments[i] || {};\n            i++;\n        }\n        // Handle case when target is a string or something (possible in deep copy)\n        if (typeof target !== \"object\" && !this.isFunction(target)) {\n            target = {};\n        }\n        for (; i < length; i++) {\n            // Only deal with non-null/undefined values\n            if ((options = arguments[i]) !== null) {\n                for (name in options) {\n                    src = target[name];\n                    copy = options[name];\n                    // Prevent never-ending loop\n                    if (target === copy) {\n                        continue;\n                    }\n                    // Recurse if we're merging plain objects or arrays\n                    if (deep && copy && (this.isPlainObject(copy) || (copyIsArray = this.isArray(copy)))) {\n                        if (copyIsArray) {\n                            copyIsArray = false;\n                            clone = src && this.isArray(src) ? src : [];\n                        }\n                        else {\n                            clone = src && this.isPlainObject(src) ? src : {};\n                        }\n                        // Never move original objects, clone them\n                        target[name] = this.extend(deep, clone, copy);\n                    }\n                    else if (copy !== undefined) {\n                        target[name] = copy;\n                    }\n                }\n            }\n        }\n        // Return the modified object\n        return target;\n    };\n    Utils.prototype.forEach = function (object, cb) {\n        for (var i in object) {\n            if (!object.hasOwnProperty(i))\n                continue;\n            var res = cb(object[i], i);\n            if (res === false)\n                break;\n        }\n    };\n    /**\n     * TODO Replace with something better\n     * @see https://github.com/joyent/node/blob/master/lib/querystring.js\n     * @param {object} parameters\n     * @returns {string}\n     */\n    Utils.prototype.queryStringify = function (parameters) {\n        var _this = this;\n        var array = [];\n        this.forEach(parameters, function (v, i) {\n            if (_this.isArray(v)) {\n                v.forEach(function (vv) {\n                    array.push(encodeURIComponent(i) + '=' + encodeURIComponent(vv));\n                });\n            }\n            else {\n                array.push(encodeURIComponent(i) + '=' + encodeURIComponent(v));\n            }\n        });\n        return array.join('&');\n    };\n    /**\n     * TODO Replace with something better\n     * @see https://github.com/joyent/node/blob/master/lib/querystring.js\n     * @param {string} queryString\n     * @returns {object}\n     */\n    Utils.prototype.parseQueryString = function (queryString) {\n        var argsParsed = {}, self = this;\n        queryString.split('&').forEach(function (arg) {\n            arg = decodeURIComponent(arg);\n            if (arg.indexOf('=') == -1) {\n                argsParsed[arg.trim()] = true;\n            }\n            else {\n                var pair = arg.split('='), key = pair[0].trim(), value = pair[1].trim();\n                if (key in argsParsed) {\n                    if (key in argsParsed && !self.isArray(argsParsed[key]))\n                        argsParsed[key] = [argsParsed[key]];\n                    argsParsed[key].push(value);\n                }\n                else {\n                    argsParsed[key] = value;\n                }\n            }\n        });\n        return argsParsed;\n    };\n    /**\n     * Returns true if the passed value is valid email address.\n     * Checks multiple comma separated emails according to RFC 2822 if parameter `multiple` is `true`\n     */\n    Utils.prototype.isEmail = function (v, multiple) {\n        if (!!multiple) {\n            //this Regexp is also suitable for multiple emails (comma separated)\n            return /^(?:[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?[ ,;]*)+$/i.test(v);\n        }\n        else {\n            return /^[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i.test(v);\n        }\n    };\n    Utils.prototype.isPhoneNumber = function (v) {\n        return (/\\+?1[0-9]{3}[0-9a-z]{7}/im.test(v.toString().split(/[^0-9a-z\\+]/im).join('')));\n    };\n    /**\n     * @param args\n     * @returns {Array}\n     */\n    Utils.prototype.argumentsToArray = function (args) {\n        return Array.prototype.slice.call(args || [], 0);\n    };\n    Utils.prototype.isDate = function (obj) {\n        return this.type(obj) === \"date\";\n    };\n    Utils.prototype.isFunction = function (obj) {\n        return this.type(obj) === \"function\";\n    };\n    Utils.prototype.isArray = function (obj) {\n        return Array.isArray ? Array.isArray(obj) : this.type(obj) === \"array\";\n    };\n    // A crude way of determining if an object is a window\n    Utils.prototype.isWindow = function (obj) {\n        return obj && typeof obj === \"object\" && \"setInterval\" in obj;\n    };\n    Utils.prototype.isNaN = function (obj) {\n        return obj === null || !rdigit.test(obj) || isNaN(obj);\n    };\n    Utils.prototype.type = function (obj) {\n        return obj === null ? String(obj) : class2type[toString.call(obj)] || \"object\";\n    };\n    Utils.prototype.isPlainObject = function (obj) {\n        // Must be an Object.\n        // Because of IE, we also have to check the presence of the constructor property.\n        // Make sure that DOM nodes and window objects don't pass through, as well\n        if (!obj || this.type(obj) !== \"object\" || obj.nodeType || this.isWindow(obj)) {\n            return false;\n        }\n        // Not own constructor property must be Object\n        if (obj.constructor && !hasOwn.call(obj, \"constructor\") && !hasOwn.call(obj.constructor.prototype, \"isPrototypeOf\")) {\n            return false;\n        }\n        // Own properties are enumerated firstly, so to speed up,\n        // if last one is own, then all properties are own.\n        var key;\n        for (key in obj) {\n        }\n        return key === undefined || hasOwn.call(obj, key);\n    };\n    Utils.prototype.getProperty = function (obj, property) {\n        return property.split(/[.[\\]]/).reduce(function (res, part) {\n            if (!res)\n                return undefined;\n            return part ? res[part] : res;\n        }, obj);\n    };\n    Utils.prototype.poll = function (fn, interval, timeout) {\n        this.stopPolling(timeout);\n        interval = interval || 1000;\n        var next = function (delay) {\n            delay = delay || interval;\n            interval = delay;\n            return setTimeout(function () {\n                fn(next, delay);\n            }, delay);\n        };\n        return next();\n    };\n    Utils.prototype.stopPolling = function (timeout) {\n        if (timeout)\n            clearTimeout(timeout);\n    };\n    Utils.prototype.parseString = function (s) {\n        return s ? s.toString() : '';\n    };\n    Utils.prototype.parseNumber = function (n) {\n        if (!n)\n            return 0;\n        n = parseFloat(n);\n        return isNaN(n) ? 0 : n;\n    };\n    return Utils;\n})();\nexports.Utils = Utils;\nfunction $get(context) {\n    return context.createSingleton('Utils', function () {\n        return new Utils();\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar utils = __webpack_require__(16);\nvar Validator = (function () {\n    function Validator(context) {\n        this.context = context;\n        this.utils = utils.$get(context);\n    }\n    Validator.prototype.validate = function (validators) {\n        var result = {\n            errors: {},\n            isValid: true\n        };\n        result.errors = validators.reduce(function (errors, validator) {\n            var res = validator.validator();\n            if (res.length > 0) {\n                result.isValid = false;\n                errors[validator.field] = errors[validator.field] || [];\n                errors[validator.field] = errors[validator.field].concat(res);\n            }\n            return errors;\n        }, {});\n        return result;\n    };\n    /**\n     * It is not recommended to have any kinds of complex validators at front end\n     * @deprecated\n     */\n    Validator.prototype.email = function (value, multiple) {\n        var _this = this;\n        return function () {\n            if (!value)\n                return [];\n            return _this.utils.isEmail(value, multiple) ? [] : [new Error('Value has to be a valid email')];\n        };\n    };\n    /**\n     * It is not recommended to have any kinds of complex validators at front end\n     * TODO International phone numbers\n     * @deprecated\n     */\n    Validator.prototype.phone = function (value) {\n        var _this = this;\n        return function () {\n            if (!value)\n                return [];\n            return _this.utils.isPhoneNumber(value) ? [] : [new Error('Value has to be a valid US phone number')];\n        };\n    };\n    Validator.prototype.required = function (value) {\n        return function () {\n            return !value ? [new Error('Field is required')] : [];\n        };\n    };\n    Validator.prototype.length = function (value, max, min) {\n        return function () {\n            var errors = [];\n            if (!value)\n                return errors;\n            value = value.toString();\n            if (min && value.length < min)\n                errors.push(new Error('Minimum length of ' + min + ' characters is required'));\n            if (max && value.length > max)\n                errors.push(new Error('Maximum length of ' + max + ' characters is required'));\n            return errors;\n        };\n    };\n    return Validator;\n})();\nexports.Validator = Validator;\nfunction $get(context) {\n    return context.createSingleton('Validator', function () {\n        return new Validator(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar Account = (function (_super) {\n    __extends(Account, _super);\n    function Account() {\n        _super.apply(this, arguments);\n    }\n    Account.prototype.createUrl = function () {\n        return '/account/~';\n    };\n    return Account;\n})(helper.Helper);\nexports.Account = Account;\nfunction $get(context) {\n    return context.createSingleton('Account', function () {\n        return new Account(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar validator = __webpack_require__(17);\nvar BlockedNumber = (function (_super) {\n    __extends(BlockedNumber, _super);\n    function BlockedNumber(context) {\n        _super.call(this, context);\n        this.validator = validator.$get(context);\n    }\n    BlockedNumber.prototype.createUrl = function (options, id) {\n        options = options || {};\n        return '/account/~/extension/' + (options.extensionId ? options.extensionId : '~') + '/blocked-number' + (id ? '/' + id : '');\n    };\n    BlockedNumber.prototype.validate = function (item) {\n        return this.validator.validate([\n            { field: 'phoneNumber', validator: this.validator.phone(item.phoneNumber) },\n            { field: 'phoneNumber', validator: this.validator.required(item.phoneNumber) },\n            { field: 'name', validator: this.validator.required(item.name) }\n        ]);\n    };\n    return BlockedNumber;\n})(helper.Helper);\nexports.BlockedNumber = BlockedNumber;\nfunction $get(context) {\n    return context.createSingleton('BlockedNumber', function () {\n        return new BlockedNumber(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar list = __webpack_require__(10);\nvar presence = __webpack_require__(33);\nvar contact = __webpack_require__(21);\nvar Call = (function (_super) {\n    __extends(Call, _super);\n    function Call(context) {\n        _super.call(this, context);\n        this.list = list.$get(context);\n        this.contact = contact.$get(context);\n        this.presence = presence.$get(context);\n    }\n    Call.prototype.createUrl = function (options, id) {\n        options = options || {};\n        if (!('personal' in options) && !('extensionId' in options))\n            options.personal = true;\n        return '/account/~/' + (options.personal || options.extensionId ? ('extension/' + (options.extensionId || '~') + '/') : '') + (options.active ? 'active-calls' : 'call-log') + (id ? '/' + id : '');\n    };\n    Call.prototype.getSessionId = function (call) {\n        return (call && call.sessionId);\n    };\n    Call.prototype.isInProgress = function (call) {\n        return (call && call.result == 'In Progress');\n    };\n    Call.prototype.isAlive = function (call) {\n        return (call && call.availability == 'Alive');\n    };\n    Call.prototype.isInbound = function (call) {\n        return (call && call.direction == 'Inbound');\n    };\n    Call.prototype.isOutbound = function (call) {\n        return !this.isInbound(call);\n    };\n    Call.prototype.isMissed = function (call) {\n        return (call && call.result == 'Missed');\n    };\n    Call.prototype.isFindMe = function (call) {\n        return (call && call.action == 'FindMe');\n    };\n    Call.prototype.getCallerInfo = function (call) {\n        return this.isInbound(call) ? call.from : call.to;\n    };\n    Call.prototype.getAllCallerInfos = function (call) {\n        return [this.getCallerInfo(call)].concat(this.isInbound(call) ? call.to : call.from);\n    };\n    Call.prototype.formatDuration = function (call) {\n        function addZero(v) {\n            return (v < 10) ? '0' + v : v;\n        }\n        var duration = parseInt(call.duration), hours = Math.floor(duration / (60 * 60)), mins = Math.floor((duration % (60 * 60)) / 60), secs = Math.floor(duration % 60);\n        return (hours ? hours + ':' : '') + addZero(mins) + ':' + addZero(secs);\n    };\n    Call.prototype.filter = function (options) {\n        options = this.utils.extend({\n            alive: true,\n            direction: '',\n            type: ''\n        }, options);\n        return this.list.filter([\n            { filterBy: 'direction', condition: options.direction },\n            { filterBy: 'type', condition: options.type }\n        ]);\n    };\n    Call.prototype.comparator = function (options) {\n        return this.list.comparator(this.utils.extend({\n            sortBy: 'startTime'\n        }, options));\n    };\n    /**\n     * Injects contact field with appropriate {IContact} data structure into all callerInfos found in\n     * all calls Warning, this function may be performance-consuming, reduce the amount of items passed to contacts\n     * and calls\n     */\n    Call.prototype.attachContacts = function (contacts, calls, options) {\n        var _this = this;\n        // Flatten all caller infos from all messages\n        var callerInfos = calls.reduce(function (callerInfos, call) {\n            return callerInfos.concat(_this.getAllCallerInfos(call));\n        }, []);\n        this.contact.attachToCallerInfos(callerInfos, contacts, options);\n    };\n    /**\n     * Check whether pair of calls are two legs of RingOut\n     */\n    Call.prototype.checkMergeability = function (outboundRingOutCall, inboundCall, options) {\n        var getTime = function (dateString) {\n            return (new Date(dateString)).getTime();\n        };\n        return ((!options.strict || outboundRingOutCall.action && outboundRingOutCall.action.toLowerCase().indexOf('ringout') != -1) && outboundRingOutCall.direction == 'Outbound' && inboundCall.direction == 'Inbound' && ((!inboundCall.startTime && !outboundRingOutCall.startTime) || Math.abs(getTime(inboundCall.startTime) - getTime(outboundRingOutCall.startTime)) < (options.maxStartTimeDiscrepancy || 5000)) && inboundCall.from.phoneNumber == outboundRingOutCall.to.phoneNumber && (inboundCall.to.phoneNumber == outboundRingOutCall.from.phoneNumber || inboundCall.to.name == outboundRingOutCall.from.name));\n    };\n    Call.prototype.combineCalls = function (outboundRingOutCall, inboundCall, options) {\n        options = options || {};\n        var result = [];\n        outboundRingOutCall.hasSubsequent = true;\n        if (options.merge) {\n            outboundRingOutCall.duration = (outboundRingOutCall.duration > inboundCall.duration) ? outboundRingOutCall.duration : inboundCall.duration;\n            // TODO Usually information from inbound call is more accurate for unknown reason\n            outboundRingOutCall.from = inboundCall.to;\n            outboundRingOutCall.to = inboundCall.from;\n            // Push only one \"merged\" outbound call\n            result.push(outboundRingOutCall);\n        }\n        else {\n            // Mark next call as subsequent\n            inboundCall.subsequent = true;\n            inboundCall.startTime = outboundRingOutCall.startTime; // Needed for sort\n            // Push both calls, first outbound then inbound\n            result.push(outboundRingOutCall);\n            result.push(inboundCall);\n        }\n        return result;\n    };\n    /**\n     * (!) Experimental (!)\n     *\n     * Calls in Recent Calls (Call Log) or Active Calls arrays can be combined if they are, for example, two legs of\n     * one RingOut. The logic that stands behind this process is simple:\n     *\n     * - Calls must have opposite directions\n     * - Must have been started within a certain limited time frame\n     * - Must have same phone numbers in their Caller Info sections (from/to)\n     *\n     * ```js\n     * var processedCalls = Call.processCalls(callsArray, {strict: false, merge: true});\n     * ```\n     *\n     * Flags:\n     *\n     * - if `strict` is `true` then only calls with RingOut in `action` property will be affected\n     * - `merge` &mdash; controls whether to merge calls (reducing the length of array) or give them `subsequent`\n     *     and `hasSubsequent` properties\n     */\n    Call.prototype.processCalls = function (calls, options) {\n        var processedCalls = [], callsToMerge = [], self = this;\n        // Iterate through calls\n        calls.forEach(function (call) {\n            var merged = false;\n            call.subsequent = false;\n            call.hasSubsequent = false;\n            // Second cycle to find other leg\n            // It is assumed that call is the outbound, secondCall is inbound\n            calls.some(function (secondCall) {\n                if (call === secondCall)\n                    return false;\n                if (self.checkMergeability(call, secondCall, options)) {\n                    // Push to result array merged call\n                    processedCalls = processedCalls.concat(self.combineCalls(call, secondCall, options));\n                    // Push to array calls that are merged\n                    callsToMerge.push(call);\n                    callsToMerge.push(secondCall);\n                    merged = true;\n                }\n                return merged;\n            });\n        });\n        // After all calls are merged, add non-merged calls\n        calls.forEach(function (call) {\n            if (callsToMerge.indexOf(call) == -1)\n                processedCalls.push(call);\n        });\n        return processedCalls;\n    };\n    /**\n     * Converts Presence's ActiveCall array into regular Calls array\n     */\n    Call.prototype.parsePresenceCalls = function (activeCalls) {\n        var _this = this;\n        return activeCalls.map(function (activeCall) {\n            return {\n                id: activeCall.id,\n                uri: '',\n                sessionId: activeCall.sessionId,\n                from: { phoneNumber: activeCall.from },\n                to: { phoneNumber: activeCall.to },\n                direction: activeCall.direction,\n                startTime: '',\n                duration: 0,\n                type: '',\n                action: '',\n                result: _this.presence.isCallInProgress(activeCall) ? 'In Progress' : activeCall.telephonyStatus,\n                telephonyStatus: activeCall.telephonyStatus // non-standard property for compatibility\n            };\n        });\n    };\n    Call.prototype.getSignature = function (call) {\n        var cleanup = function (phoneNumber) {\n            return (phoneNumber || '').toString().replace(/[^0-9]/ig, '');\n        };\n        return call.direction + '|' + (call.from && cleanup(call.from.phoneNumber)) + '|' + (call.to && cleanup(call.to.phoneNumber));\n    };\n    Call.prototype.mergePresenceCalls = function (presenceCalls, presence) {\n        var currentDate = new Date(), activeCalls = this.parsePresenceCalls(presence && presence.activeCalls || []).map(function (call) {\n            // delete property to make sure it is skipped during merge\n            delete call.startTime;\n            return call;\n        });\n        presenceCalls = this.merge(presenceCalls || [], activeCalls, this.getSessionId, true);\n        presenceCalls.forEach(function (call) {\n            if (!call.startTime)\n                call.startTime = currentDate.toISOString();\n        });\n        return presenceCalls;\n    };\n    Call.prototype.mergeAll = function (presenceCalls, calls, activeCalls) {\n        // First, merge calls into presence calls\n        var presenceAndCalls = this.merge(presenceCalls || [], calls || [], this.getSessionId, true);\n        // Second, merge activeCalls into previous result\n        return this.merge(presenceAndCalls, activeCalls || [], this.getSessionId, true);\n    };\n    return Call;\n})(helper.Helper);\nexports.Call = Call;\nfunction $get(context) {\n    return context.createSingleton('Call', function () {\n        return new Call(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar validator = __webpack_require__(17);\nvar list = __webpack_require__(10);\nvar Contact = (function (_super) {\n    __extends(Contact, _super);\n    function Contact(context) {\n        _super.call(this, context);\n        this.phoneFields = [\n            'homePhone',\n            'homePhone2',\n            'businessPhone',\n            'businessPhone2',\n            'mobilePhone',\n            'companyPhone',\n            'assistantPhone',\n            'carPhone',\n            'otherPhone',\n            'callbackPhone'\n        ];\n        this.faxFields = [\n            'businessFax',\n            'otherFax'\n        ];\n        this.addressFields = [\n            'homeAddress',\n            'businessAddress',\n            'otherAddress'\n        ];\n        this.addressSubFields = [\n            'street',\n            'city',\n            'state',\n            'zip'\n        ];\n        this.nameFields = [\n            'firstName',\n            'middleName',\n            'lastName',\n            'nickName'\n        ];\n        this.otherFields = [\n            'company',\n            'jobTitle',\n            'webPage',\n            'notes'\n        ];\n        this.emailFields = [\n            'email',\n            'email2',\n            'email3'\n        ];\n        this.list = list.$get(context);\n        this.validator = validator.$get(context);\n    }\n    Contact.prototype.createUrl = function (options, id) {\n        options = options || {};\n        var root = '/account/~/extension/' + (options.extensionId ? options.extensionId : '~') + '/address-book';\n        if (options.sync)\n            return root + '-sync';\n        return root + (options.groupId ? '/group/' + options.groupId + '/contact' : '/contact') + (id ? '/' + id : '');\n    };\n    /**\n     * Returns all values of the given fields if value exists\n     */\n    Contact.prototype.getFieldValues = function (where, fields, asHash) {\n        return fields.reduce(function (result, field) {\n            if (where && where[field]) {\n                if (asHash) {\n                    result[field] = where[field];\n                }\n                else {\n                    result.push(where[field]);\n                }\n            }\n            return result;\n        }, asHash ? {} : []);\n    };\n    Contact.prototype.getFullName = function (contact) {\n        return this.getFieldValues(contact, this.nameFields).join(' ');\n    };\n    Contact.prototype.getEmails = function (contact, asHash) {\n        return this.getFieldValues(contact, this.emailFields, asHash);\n    };\n    Contact.prototype.getPhones = function (contact, asHash) {\n        return this.getFieldValues(contact, this.phoneFields, asHash);\n    };\n    Contact.prototype.getFaxes = function (contact, asHash) {\n        return this.getFieldValues(contact, this.faxFields, asHash);\n    };\n    Contact.prototype.getAddresses = function (contact, asHash) {\n        return this.getFieldValues(contact, this.addressFields, asHash);\n    };\n    Contact.prototype.isAlive = function (contact) {\n        return (contact.availability == 'Alive');\n    };\n    /**\n     * Matches a contact against a given string, returns null if nothing found\n     */\n    Contact.prototype.match = function (contact, string, options) {\n        var _this = this;\n        options = this.utils.extend({\n            fields: [].concat(this.nameFields, this.emailFields, this.phoneFields, this.faxFields, this.otherFields),\n            inAddresses: true,\n            transformFn: function (value, options) {\n                return value ? value.toString().toLocaleLowerCase() : '';\n            },\n            strict: false\n        }, options);\n        string = options.transformFn(string, options);\n        var found = null;\n        if (!string)\n            return found;\n        var matchWith = function (value) {\n            // skip unnecessary cycles if match has been found\n            if (found)\n                return;\n            var transformed = options.transformFn(value, options);\n            if (!transformed)\n                return;\n            var match = (options.strict ? transformed == string : transformed.indexOf(string) > -1);\n            if (match)\n                found = value;\n        };\n        // Search in fields\n        options.fields.forEach(function (field) {\n            matchWith(contact[field]);\n        });\n        // Search in addresses, skip unnecessary cycles if match has been found\n        if (options.inAddresses && !found)\n            this.addressFields.forEach(function (field) {\n                // skip unnecessary cycles if match has been found or no field value\n                if (!contact[field] || found)\n                    return;\n                _this.addressSubFields.forEach(function (subField) {\n                    matchWith(contact[field][subField]);\n                });\n            });\n        return found;\n    };\n    /**\n     * Matches a contact against a given phone number, returns null if nothing found\n     */\n    Contact.prototype.matchAsPhone = function (contact, phone, options) {\n        return this.match(contact, phone, this.utils.extend({\n            fields: [].concat(this.phoneFields, this.faxFields),\n            inAddresses: false,\n            transformFn: function (value, options) {\n                return value ? value.toString().replace(/[^\\d\\w]/ig, '') : ''; //TODO Trickier removal reqired;\n            },\n            strict: false\n        }, options));\n    };\n    /**\n     * Injects contact field with appropriate {IContact} data structure into all given {ICallerInfo}\n     * Warning, this function may be performance-consuming, reduce the amount of items passed to contacts and callerInfos\n     */\n    Contact.prototype.attachToCallerInfos = function (callerInfos, contacts, options) {\n        var self = this, callerInfoIndex = this.index(callerInfos, function (callerInfo) {\n            return callerInfo.phoneNumber;\n        }, true);\n        this.utils.forEach(callerInfoIndex, function (indexedCallerInfos, phoneNumber) {\n            var foundContact = null, foundPhone = null;\n            contacts.some(function (contact) {\n                foundPhone = self.matchAsPhone(contact, phoneNumber, options);\n                if (foundPhone)\n                    foundContact = contact;\n                return foundPhone;\n            });\n            if (foundContact) {\n                indexedCallerInfos.forEach(function (callerInfo) {\n                    callerInfo.contact = foundContact;\n                    callerInfo.contactPhone = foundPhone;\n                });\n            }\n        });\n    };\n    Contact.prototype.comparator = function (options) {\n        var _this = this;\n        return this.list.comparator(this.utils.extend({\n            extractFn: function (contact, options) {\n                return _this.getFullName(contact);\n            }\n        }, options));\n    };\n    /**\n     * TODO Add filtering by group http://jira.ringcentral.com/browse/SDK-4\n     */\n    Contact.prototype.filter = function (options) {\n        var _this = this;\n        options = this.utils.extend({\n            alive: true,\n            startsWith: '',\n            phonesOnly: false,\n            faxesOnly: false\n        }, options);\n        return this.list.filter([\n            { condition: options.alive, filterFn: this.isAlive },\n            { condition: options.startsWith, filterFn: function (item, opts) {\n                return _this.match(item, opts.condition);\n            } },\n            { condition: options.phonesOnly, filterFn: function (item, opts) {\n                return (_this.getPhones(item).length > 0);\n            } },\n            { condition: options.faxesOnly, filterFn: function (item, opts) {\n                return (_this.getFaxes(item).length > 0);\n            } }\n        ]);\n    };\n    Contact.prototype.validate = function (item) {\n        return this.validator.validate([\n            { field: 'firstName', validator: this.validator.required(item.firstName) },\n            { field: 'lastName', validator: this.validator.required(item.lastName) },\n            { field: 'email', validator: this.validator.email(item.email) },\n            { field: 'email2', validator: this.validator.email(item.email2) },\n            { field: 'email3', validator: this.validator.email(item.email3) }\n        ]);\n    };\n    return Contact;\n})(helper.Helper);\nexports.Contact = Contact;\nfunction $get(context) {\n    return context.createSingleton('Contact', function () {\n        return new Contact(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar validator = __webpack_require__(17);\nvar ContactGroup = (function (_super) {\n    __extends(ContactGroup, _super);\n    function ContactGroup(context) {\n        _super.call(this, context);\n        this.validator = validator.$get(context);\n    }\n    ContactGroup.prototype.createUrl = function (options, id) {\n        return '/account/~/extension/~/address-book/group' + (id ? '/' + id : '');\n    };\n    ContactGroup.prototype.validate = function (item) {\n        return this.validator.validate([\n            { field: 'groupName', validator: this.validator.required(item && item.groupName) }\n        ]);\n    };\n    return ContactGroup;\n})(helper.Helper);\nexports.ContactGroup = ContactGroup;\nfunction $get(context) {\n    return context.createSingleton('ContactGroup', function () {\n        return new ContactGroup(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar Conferencing = (function (_super) {\n    __extends(Conferencing, _super);\n    function Conferencing() {\n        _super.apply(this, arguments);\n    }\n    Conferencing.prototype.createUrl = function () {\n        return '/account/~/extension/~/conferencing';\n    };\n    return Conferencing;\n})(helper.Helper);\nexports.Conferencing = Conferencing;\nfunction $get(context) {\n    return context.createSingleton('Conferencing', function () {\n        return new Conferencing(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar Country = (function (_super) {\n    __extends(Country, _super);\n    function Country() {\n        _super.apply(this, arguments);\n    }\n    Country.prototype.createUrl = function (options, id) {\n        return '/dictionary/country';\n    };\n    return Country;\n})(helper.Helper);\nexports.Country = Country;\nfunction $get(context) {\n    return context.createSingleton('Country', function () {\n        return new Country(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar validator = __webpack_require__(17);\nvar extension = __webpack_require__(27);\nvar deviceModel = __webpack_require__(26);\nvar Device = (function (_super) {\n    __extends(Device, _super);\n    function Device(context) {\n        _super.call(this, context);\n        this.validator = validator.$get(context);\n        this.extension = extension.$get(context);\n        this.deviceModel = deviceModel.$get(context);\n    }\n    Device.prototype.createUrl = function (options, id) {\n        options = options || {};\n        if (options.order)\n            return '/account/~/order';\n        return '/account/~' + (options.extensionId ? '/extension/' + options.extensionId : '') + '/device' + (id ? '/' + id : '');\n    };\n    /**\n     * @param {IDevice} item\n     */\n    Device.prototype.validate = function (item) {\n        return this.validator.validate([\n            { field: 'emergencyServiceAddress-street', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.street) },\n            { field: 'emergencyServiceAddress-city', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.city) },\n            { field: 'emergencyServiceAddress-state', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.state) },\n            { field: 'emergencyServiceAddress-country', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.country) },\n            { field: 'emergencyServiceAddress-zip', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.zip) },\n            { field: 'emergencyServiceAddress-customerName', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.customerName) },\n            { field: 'extension', validator: this.validator.required(this.extension.getId(item && item.extension)) },\n            { field: 'model', validator: this.validator.required(this.deviceModel.getId(item && item.model)) }\n        ]);\n    };\n    return Device;\n})(helper.Helper);\nexports.Device = Device;\nfunction $get(context) {\n    return context.createSingleton('Device', function () {\n        return new Device(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar DeviceModel = (function (_super) {\n    __extends(DeviceModel, _super);\n    function DeviceModel() {\n        _super.apply(this, arguments);\n        /**\n         * TODO Remove when http://jira.ringcentral.com/browse/SDK-1 is done\n         */\n        this.devices = [\n            {\n                id: '-1',\n                name: 'Softphone'\n            },\n            {\n                id: '0',\n                name: 'Existing device'\n            },\n            {\n                id: '19',\n                name: 'Cisco SPA-525G2 Desk Phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '23',\n                name: 'Polycom IP 321 Basic IP phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '30',\n                name: 'Polycom IP 550 HD Manager IP phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '37',\n                name: 'Polycom IP 6000 Conference Phone',\n                deviceClass: 'Conference Phone'\n            },\n            {\n                id: '40',\n                name: 'Polycom IP 335 HD IP phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '51',\n                name: 'Cisco SPA-303 Desk Phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '16',\n                name: 'Cisco SPA-508G Desk Phone with 1 Expansion Module',\n                deviceClass: 'Desk Phone',\n                addons: [\n                    {\n                        id: '2',\n                        name: 'Cisco Sidecar',\n                        count: '1'\n                    }\n                ]\n            },\n            {\n                id: '16',\n                name: 'Cisco SPA-508G Desk Phone with 2 Expansion Modules',\n                deviceClass: 'Desk Phone',\n                addons: [\n                    {\n                        id: '2',\n                        name: 'Cisco Sidecar',\n                        count: '2'\n                    }\n                ]\n            },\n            {\n                id: '16',\n                name: 'Cisco SPA-508G Desk Phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '19',\n                name: 'Cisco SPA-525G2 Desk Phone with 1 Expansion Module',\n                deviceClass: 'Desk Phone',\n                addons: [\n                    {\n                        id: '2',\n                        name: 'Cisco Sidecar',\n                        count: '1'\n                    }\n                ]\n            },\n            {\n                id: '19',\n                name: 'Cisco SPA-525G2 Desk Phone with 2 Expansion Modules\tDesk Phone',\n                addons: [\n                    {\n                        id: '2',\n                        name: 'Cisco Sidecar',\n                        count: '2'\n                    }\n                ]\n            },\n            {\n                id: '34',\n                name: 'Polycom IP 650 HD Executive IP phone with 1 Expansion Module',\n                deviceClass: 'Desk Phone',\n                addons: [\n                    {\n                        id: '1',\n                        name: 'Plolycom Expansion',\n                        count: '1'\n                    }\n                ]\n            },\n            {\n                id: '34',\n                name: 'Polycom IP 650 HD Executive IP phone with 2 Expansion Modules',\n                deviceClass: 'Desk Phone',\n                addons: [\n                    {\n                        id: '1',\n                        name: 'Plolycom Expansion',\n                        count: '2'\n                    }\n                ]\n            },\n            {\n                id: '34',\n                name: 'Polycom IP 650 HD Executive IP phone with 3 Expansion Modules',\n                deviceClass: 'Desk Phone',\n                addons: [\n                    {\n                        id: '1',\n                        name: 'Plolycom Expansion',\n                        count: '3'\n                    }\n                ]\n            },\n            {\n                id: '34',\n                name: 'Polycom IP 650 HD Executive IP phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '52',\n                name: 'Cisco SPA-122 ATA',\n                deviceClass: 'Analog Adapter'\n            },\n            {\n                id: '53',\n                name: 'Polycom VVX-500 Color Touchscreen',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '54',\n                name: 'Polycom VVX-310 Gigabit Ethernet Phone',\n                deviceClass: 'Desk Phone'\n            },\n            {\n                id: '55',\n                name: 'Polycom VVX-410 Color Gigabit Ethernet Phone',\n                deviceClass: 'Desk Phone'\n            }\n        ];\n    }\n    DeviceModel.prototype.getId = function (device) {\n        if (!device)\n            return null;\n        return device.id + (device.addons && device.addons[0] ? '-' + device.addons[0].id + '-' + device.addons[0].count : '');\n    };\n    /**\n     * Remove extra textual information from device\n     * @exceptionalCase Platform does not understand full device info\n     */\n    DeviceModel.prototype.cleanForSaving = function (device) {\n        if (!device)\n            return null;\n        delete device.name;\n        delete device.deviceClass;\n        if (device.addons && device.addons.length > 0) {\n            device.addons.forEach(function (addon, i) {\n                delete device.addons[i].name;\n            });\n        }\n        else {\n            delete device.addons;\n        }\n        return device;\n    };\n    return DeviceModel;\n})(helper.Helper);\nexports.DeviceModel = DeviceModel;\nfunction $get(context) {\n    return context.createSingleton('DeviceModel', function () {\n        return new DeviceModel(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar list = __webpack_require__(10);\nvar Extension = (function (_super) {\n    __extends(Extension, _super);\n    function Extension(context) {\n        _super.call(this, context);\n        this.type = {\n            department: 'Department',\n            user: 'User',\n            announcement: 'Announcement',\n            voicemail: 'Voicemail'\n        };\n        this.list = list.$get(context);\n    }\n    Extension.prototype.createUrl = function (options, id) {\n        options = options || {};\n        return '/account/~' + (options.departmentId ? '/department/' + options.departmentId + '/members' : '/extension') + (id ? '/' + id : '');\n    };\n    Extension.prototype.isUser = function (extension) {\n        return extension && extension.type == this.type.user;\n    };\n    Extension.prototype.isDepartment = function (extension) {\n        return extension && extension.type == this.type.department;\n    };\n    Extension.prototype.isAnnouncement = function (extension) {\n        return extension && extension.type == this.type.announcement;\n    };\n    Extension.prototype.isVoicemail = function (extension) {\n        return extension && extension.type == this.type.voicemail;\n    };\n    Extension.prototype.comparator = function (options) {\n        return this.list.comparator(this.utils.extend({\n            sortBy: 'extensionNumber',\n            compareFn: this.list.numberComparator\n        }, options));\n    };\n    Extension.prototype.filter = function (options) {\n        options = this.utils.extend({\n            search: '',\n            type: ''\n        }, options);\n        return this.list.filter([\n            { filterBy: 'type', condition: options.type },\n            {\n                condition: options.search.toLocaleLowerCase(),\n                filterFn: this.list.containsFilter,\n                extractFn: function (item) {\n                    return (item.name && (item.name.toLocaleLowerCase() + ' ')) + (item.extensionNumber && item.extensionNumber.toString().toLocaleLowerCase());\n                }\n            }\n        ]);\n    };\n    return Extension;\n})(helper.Helper);\nexports.Extension = Extension;\nfunction $get(context) {\n    return context.createSingleton('Extension', function () {\n        return new Extension(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar list = __webpack_require__(10);\nvar ForwardingNumber = (function (_super) {\n    __extends(ForwardingNumber, _super);\n    function ForwardingNumber(context) {\n        _super.call(this, context);\n        this.list = list.$get(context);\n    }\n    ForwardingNumber.prototype.createUrl = function (options, id) {\n        options = options || {};\n        return '/account/~/extension/' + (options.extensionId || '~') + '/forwarding-number' + (id ? '/' + id : '');\n    };\n    ForwardingNumber.prototype.getId = function (forwardingNumber) {\n        return forwardingNumber && (forwardingNumber.id || (forwardingNumber.phoneNumber)); //TODO @exceptionalCase\n    };\n    ForwardingNumber.prototype.hasFeature = function (phoneNumber, feature) {\n        return (!!phoneNumber && !!phoneNumber.features && phoneNumber.features.indexOf(feature) != -1);\n    };\n    ForwardingNumber.prototype.comparator = function (options) {\n        return this.list.comparator(this.utils.extend({\n            sortBy: 'label'\n        }, options));\n    };\n    ForwardingNumber.prototype.filter = function (options) {\n        var _this = this;\n        options = this.utils.extend({\n            features: []\n        }, options);\n        return this.list.filter([{\n            condition: options.features.length,\n            filterFn: function (item) {\n                return options.features.some(function (feature) {\n                    return _this.hasFeature(item, feature);\n                });\n            }\n        }]);\n    };\n    return ForwardingNumber;\n})(helper.Helper);\nexports.ForwardingNumber = ForwardingNumber;\nfunction $get(context) {\n    return context.createSingleton('ForwardingNumber', function () {\n        return new ForwardingNumber(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar Language = (function (_super) {\n    __extends(Language, _super);\n    function Language() {\n        _super.apply(this, arguments);\n        this.languages = [\n            {\n                id: '1033',\n                name: 'English (US)'\n            },\n            {\n                id: '3084',\n                name: 'French (Canada)'\n            }\n        ];\n    }\n    return Language;\n})(helper.Helper);\nexports.Language = Language;\nfunction $get(context) {\n    return context.createSingleton('Language', function () {\n        return new Language(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar list = __webpack_require__(10);\nvar state = __webpack_require__(37);\nvar Location = (function (_super) {\n    __extends(Location, _super);\n    function Location(context) {\n        _super.call(this, context);\n        this.list = list.$get(context);\n        this.state = state.$get(context);\n    }\n    Location.prototype.createUrl = function () {\n        return '/dictionary/location';\n    };\n    Location.prototype.filter = function (options) {\n        var _this = this;\n        var uniqueNPAs = [];\n        options = this.utils.extend({\n            stateId: '',\n            onlyUniqueNPA: false\n        }, options);\n        return this.list.filter([\n            {\n                condition: options.stateId,\n                filterFn: function (item, opts) {\n                    return (_this.state.getId(item.state) == opts.condition);\n                }\n            },\n            {\n                condition: options.onlyUniqueNPA,\n                filterFn: function (item, opts) {\n                    if (uniqueNPAs.indexOf(item.npa) == -1) {\n                        uniqueNPAs.push(item.npa);\n                        return true;\n                    }\n                    else {\n                        return false;\n                    }\n                }\n            }\n        ]);\n    };\n    Location.prototype.comparator = function (options) {\n        options = this.utils.extend({\n            sortBy: 'npa'\n        }, options);\n        if (options.sortBy == 'nxx') {\n            options.extractFn = function (item) {\n                return (parseInt(item.npa) * 1000000) + parseInt(item.nxx);\n            };\n            options.compareFn = this.list.numberComparator;\n        }\n        return this.list.comparator(options);\n    };\n    return Location;\n})(helper.Helper);\nexports.Location = Location;\nfunction $get(context) {\n    return context.createSingleton('Location', function () {\n        return new Location(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 31 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar list = __webpack_require__(10);\nvar validator = __webpack_require__(17);\nvar subscription = __webpack_require__(15);\nvar platform = __webpack_require__(14);\nvar contact = __webpack_require__(21);\nvar Message = (function (_super) {\n    __extends(Message, _super);\n    function Message(context) {\n        _super.call(this, context);\n        this.contact = contact.$get(context);\n        this.list = list.$get(context);\n        this.platform = platform.$get(context);\n        this.validator = validator.$get(context);\n    }\n    /**\n     *\n     * @exceptionalCase Different endpoint when creating SMS/Pager\n     */\n    Message.prototype.createUrl = function (options, id) {\n        options = options || {};\n        var root = '/account/~/extension/' + (options.extensionId || '~');\n        if (options.fax)\n            return root + '/fax';\n        if (options.sms)\n            return root + '/sms';\n        if (options.pager)\n            return root + '/company-pager';\n        if (options.sync)\n            return root + '/message-sync';\n        return root + '/message-store' + (id ? '/' + id : '');\n    };\n    Message.prototype.isInbound = function (message) {\n        return (message && message.direction == 'Inbound');\n    };\n    Message.prototype.isOutbound = function (message) {\n        return !this.isInbound(message);\n    };\n    Message.prototype.isSMS = function (message) {\n        return (message && message.type == 'SMS');\n    };\n    Message.prototype.isPager = function (message) {\n        return (message && message.type == 'Pager');\n    };\n    Message.prototype.isVoiceMail = function (message) {\n        return (message && message.type == 'VoiceMail');\n    };\n    Message.prototype.isFax = function (message) {\n        return (message && message.type == 'Fax');\n    };\n    Message.prototype.isAlive = function (message) {\n        //return (this.availability != 'Deleted' && this.availability != 'Purged');\n        return (message && message.availability == 'Alive');\n    };\n    Message.prototype.isRead = function (message) {\n        return (message.readStatus == 'Read');\n    };\n    Message.prototype.setIsRead = function (message, isRead) {\n        message.readStatus = (!!isRead) ? 'Read' : 'Unread';\n        return message;\n    };\n    Message.prototype.getAttachmentUrl = function (message, i) {\n        return message.attachments[i] ? this.platform.apiUrl(message.attachments[i].uri, { addMethod: 'GET', addServer: true, addToken: true }) : '';\n    };\n    Message.prototype.getAttachmentContentType = function (message, i) {\n        return message.attachments[i] ? message.attachments[i].contentType : '';\n    };\n    Message.prototype.getSubscription = function (options) {\n        return subscription.$get(this.context).setEvents([this.createUrl(options)]);\n    };\n    /**\n     * Returns from-phones if inbound (oterwise to-phones)\n     */\n    Message.prototype.getCallerInfos = function (message) {\n        return this.isInbound(message) ? [message.from] : message.to;\n    };\n    /**\n     * Returns first from-phones if inbound (oterwise to-phones), then vice-versa\n     */\n    Message.prototype.getAllCallerInfos = function (message) {\n        return this.getCallerInfos(message).concat(this.isInbound(message) ? message.to : [message.from]);\n    };\n    /**\n     * TODO Compare as dates\n     */\n    Message.prototype.comparator = function (options) {\n        return this.list.comparator(this.utils.extend({\n            sortBy: 'creationTime'\n        }, options));\n    };\n    Message.prototype.filter = function (options) {\n        options = this.utils.extend({\n            search: '',\n            alive: true,\n            direction: '',\n            conversationId: '',\n            readStatus: ''\n        }, options);\n        return this.list.filter([\n            { condition: options.alive, filterFn: this.isAlive },\n            { filterBy: 'type', condition: options.type },\n            { filterBy: 'direction', condition: options.direction },\n            { filterBy: 'conversationId', condition: options.conversationId },\n            { filterBy: 'readStatus', condition: options.readStatus },\n            { filterBy: 'subject', condition: options.search, filterFn: this.list.containsFilter }\n        ]);\n    };\n    /**\n     * Injects contact field with appropriate {IContact} data structure into all callerInfos found in all messages\n     * Warning, this function may be performance-consuming, reduce the amount of items passed to contacts and messages\n     */\n    Message.prototype.attachContacts = function (contacts, messages, options) {\n        var self = this;\n        // Flatten all caller infos from all messages\n        var callerInfos = messages.reduce(function (callerInfos, message) {\n            return callerInfos.concat(self.getAllCallerInfos(message));\n        }, []);\n        this.contact.attachToCallerInfos(callerInfos, contacts, options);\n    };\n    Message.prototype.shorten = function (message) {\n        return {\n            from: message.from,\n            to: message.to,\n            text: message.subject\n        };\n    };\n    Message.prototype.validateSMS = function (item) {\n        return this.validator.validate([\n            { field: 'to', validator: this.validator.required(this.utils.getProperty(item, 'to[0].phoneNumber')) },\n            { field: 'from', validator: this.validator.required(this.utils.getProperty(item, 'from.phoneNumber')) },\n            { field: 'subject', validator: this.validator.required(this.utils.getProperty(item, 'subject')) },\n            { field: 'subject', validator: this.validator.length(this.utils.getProperty(item, 'subject'), 160) }\n        ]);\n    };\n    Message.prototype.validatePager = function (item) {\n        return this.validator.validate([\n            { field: 'to', validator: this.validator.required(this.utils.getProperty(item, 'to.extensionNumber')) },\n            { field: 'from', validator: this.validator.required(this.utils.getProperty(item, 'from.extensionNumber')) },\n            { field: 'subject', validator: this.validator.required(this.utils.getProperty(item, 'subject')) },\n            { field: 'subject', validator: this.validator.length(this.utils.getProperty(item, 'subject'), 160) }\n        ]);\n    };\n    return Message;\n})(helper.Helper);\nexports.Message = Message;\nfunction $get(context) {\n    return context.createSingleton('Message', function () {\n        return new Message(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar list = __webpack_require__(10);\nvar extension = __webpack_require__(27);\nvar PhoneNumber = (function (_super) {\n    __extends(PhoneNumber, _super);\n    function PhoneNumber(context) {\n        _super.call(this, context);\n        this.extension = extension.$get(context);\n        this.list = list.$get(context);\n    }\n    PhoneNumber.prototype.createUrl = function (options, id) {\n        options = options || {};\n        if (options.lookup)\n            return '/number-pool/lookup';\n        return '/account/~' + (options.extensionId ? '/extension/' + options.extensionId : '') + '/phone-number' + (id ? '/' + id : '');\n    };\n    PhoneNumber.prototype.isSMS = function (phoneNumber) {\n        return this.hasFeature(phoneNumber, 'SmsSender');\n    };\n    PhoneNumber.prototype.hasFeature = function (phoneNumber, feature) {\n        return (!!phoneNumber.features && phoneNumber.features.indexOf(feature) != -1);\n    };\n    PhoneNumber.prototype.reserve = function (phoneNumber, date) {\n        phoneNumber.reservedTill = new Date(date).toISOString();\n    };\n    PhoneNumber.prototype.unreserve = function (phoneNumber) {\n        phoneNumber.reservedTill = null;\n    };\n    PhoneNumber.prototype.comparator = function (options) {\n        return this.list.comparator(this.utils.extend({\n            extractFn: function (item) {\n                return item.usageType + '-' + item.paymentType + '-' + item.type;\n            }\n        }, options));\n    };\n    /**\n     * TODO Add other filtering methods http://jira.ringcentral.com/browse/SDK-5\n     */\n    PhoneNumber.prototype.filter = function (options) {\n        var _this = this;\n        options = this.utils.extend({\n            usageType: '',\n            paymentType: '',\n            type: '',\n            features: []\n        }, options);\n        return this.list.filter([\n            { filterBy: 'usageType', condition: options.usageType },\n            { filterBy: 'paymentType', condition: options.paymentType },\n            { filterBy: 'type', condition: options.type },\n            {\n                condition: options.features.length,\n                filterFn: function (item) {\n                    return options.features.some(function (feature) {\n                        return _this.hasFeature(item, feature);\n                    });\n                }\n            }\n        ]);\n    };\n    return PhoneNumber;\n})(helper.Helper);\nexports.PhoneNumber = PhoneNumber;\nfunction $get(context) {\n    return context.createSingleton('PhoneNumber', function () {\n        return new PhoneNumber(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar subscription = __webpack_require__(15);\nvar extension = __webpack_require__(27);\nvar Presence = (function (_super) {\n    __extends(Presence, _super);\n    function Presence(context) {\n        _super.call(this, context);\n        this.extension = extension.$get(context);\n    }\n    Presence.prototype.createUrl = function (options, id) {\n        options = options || {};\n        return '/account/~/extension/' + (id || '~') + '/presence' + (options.detailed ? '?detailedTelephonyState=true' : '');\n    };\n    Presence.prototype.getId = function (presence) {\n        return presence && (this.extension.getId(presence.extension) || presence.extensionId);\n    };\n    Presence.prototype.isAvailable = function (presence) {\n        return presence && presence.presenceStatus == 'Available';\n    };\n    Presence.prototype.getSubscription = function (options, id) {\n        return subscription.$get(this.context).setEvents([this.createUrl(options, id)]);\n    };\n    Presence.prototype.updateSubscription = function (subscription, presences, options) {\n        var _this = this;\n        var events = presences.map(this.getId, this).map(function (id) {\n            return _this.createUrl(options, id);\n        }, this);\n        subscription.addEvents(events);\n        return subscription;\n    };\n    Presence.prototype.attachToExtensions = function (extensions, presences, merge) {\n        var _this = this;\n        var index = this.index(presences);\n        extensions.forEach(function (ex) {\n            var presence = index[_this.extension.getId(ex)];\n            if (presence) {\n                if ('presence' in ex && merge) {\n                    _this.utils.extend(ex.presence, presence);\n                }\n                else {\n                    ex.presence = presence;\n                }\n            }\n        }, this);\n        return this;\n    };\n    Presence.prototype.isCallInProgress = function (presenceCall) {\n        return (presenceCall && presenceCall.telephonyStatus != 'NoCall');\n    };\n    return Presence;\n})(helper.Helper);\nexports.Presence = Presence;\nfunction $get(context) {\n    return context.createSingleton('Presence', function () {\n        return new Presence(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 34 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar validator = __webpack_require__(17);\nvar Ringout = (function (_super) {\n    __extends(Ringout, _super);\n    function Ringout(context) {\n        _super.call(this, context);\n        this.validator = validator.$get(context);\n    }\n    Ringout.prototype.createUrl = function (options, id) {\n        options = options || {};\n        return '/account/~/extension/' + (options.extensionId || '~') + '/ringout' + (id ? '/' + id : '');\n    };\n    Ringout.prototype.resetAsNew = function (object) {\n        object = _super.prototype.resetAsNew.call(this, object);\n        if (object) {\n            delete object.status;\n        }\n        return object;\n    };\n    Ringout.prototype.isInProgress = function (ringout) {\n        return ringout && !this.isNew(ringout) && ringout.status && ringout.status.callStatus == 'InProgress';\n    };\n    Ringout.prototype.isSuccess = function (ringout) {\n        return ringout && !this.isNew(ringout) && ringout.status && ringout.status.callStatus == 'Success';\n    };\n    Ringout.prototype.isError = function (ringout) {\n        return !this.isNew(ringout) && !this.isInProgress(ringout) && !this.isSuccess(ringout);\n    };\n    Ringout.prototype.validate = function (item) {\n        return this.validator.validate([\n            { field: 'to', validator: this.validator.required(item && item.to && item.to.phoneNumber) },\n            { field: 'from', validator: this.validator.required(item && item.from && item.from.phoneNumber) }\n        ]);\n    };\n    return Ringout;\n})(helper.Helper);\nexports.Ringout = Ringout;\nfunction $get(context) {\n    return context.createSingleton('Ringout', function () {\n        return new Ringout(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar Service = (function (_super) {\n    __extends(Service, _super);\n    function Service() {\n        _super.apply(this, arguments);\n        this.isSmsEnabled = this.isServiceFeatureEnabledMethod('SMS');\n        this.isSmsReceivingEnabled = this.isServiceFeatureEnabledMethod('SMSReceiving');\n        this.isPresenceEnabled = this.isServiceFeatureEnabledMethod('Presence');\n        this.isRingOutEnabled = this.isServiceFeatureEnabledMethod('RingOut');\n        this.isInternationalCallingEnabled = this.isServiceFeatureEnabledMethod('InternationalCalling');\n        this.isDndEnabled = this.isServiceFeatureEnabledMethod('DND');\n        this.isFaxEnabled = this.isServiceFeatureEnabledMethod('Fax');\n        this.isFaxReceivingEnabled = this.isServiceFeatureEnabledMethod('FaxReceiving');\n        this.isVoicemailEnabled = this.isServiceFeatureEnabledMethod('Voicemail');\n        this.isPagerEnabled = this.isServiceFeatureEnabledMethod('Pager');\n        this.isPagerReceivingEnabled = this.isServiceFeatureEnabledMethod('PagerReceiving');\n        this.isVoipCallingEnabled = this.isServiceFeatureEnabledMethod('VoipCalling');\n        this.isVideoConferencingEnabled = this.isServiceFeatureEnabledMethod('VideoConferencing');\n        this.isSalesForceEnabled = this.isServiceFeatureEnabledMethod('SalesForce');\n        this.isIntercomEnabled = this.isServiceFeatureEnabledMethod('Intercom');\n        this.isPagingEnabled = this.isServiceFeatureEnabledMethod('Paging');\n        this.isConferencingEnabled = this.isServiceFeatureEnabledMethod('Conferencing');\n        this.isFreeSoftPhoneLinesEnabled = this.isServiceFeatureEnabledMethod('FreeSoftPhoneLines');\n        this.isHipaaComplianceEnabled = this.isServiceFeatureEnabledMethod('HipaaCompliance');\n        this.isCallParkEnabled = this.isServiceFeatureEnabledMethod('CallPark');\n        this.isOnDemandCallRecordingEnabled = this.isServiceFeatureEnabledMethod('OnDemandCallRecording');\n    }\n    Service.prototype.createUrl = function () {\n        return '/account/~/service-info';\n    };\n    Service.prototype.isEnabled = function (feature, serviceFeatures) {\n        return serviceFeatures.reduce(function (value, f) {\n            if (f.featureName == feature)\n                value = f.enabled;\n            return value;\n        }, false);\n    };\n    Service.prototype.isServiceFeatureEnabledMethod = function (feature) {\n        var _this = this;\n        return function (serviceFeatures) {\n            return _this.isEnabled(feature, serviceFeatures);\n        };\n    };\n    return Service;\n})(helper.Helper);\nexports.Service = Service;\nfunction $get(context) {\n    return context.createSingleton('Service', function () {\n        return new Service(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 36 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar ShippingMethod = (function (_super) {\n    __extends(ShippingMethod, _super);\n    function ShippingMethod() {\n        _super.apply(this, arguments);\n        /**\n         * TODO Remove when http://jira.ringcentral.com/browse/SDK-3 id done\n         */\n        this.shippingMethods = [\n            {\n                id: '1',\n                name: 'Ground Shipping (5-7 business days)'\n            },\n            {\n                id: '2',\n                name: '2-days Shipping'\n            },\n            {\n                id: '3',\n                name: 'Overnight Shipping'\n            }\n        ];\n    }\n    return ShippingMethod;\n})(helper.Helper);\nexports.ShippingMethod = ShippingMethod;\nfunction $get(context) {\n    return context.createSingleton('ShippingMethod', function () {\n        return new ShippingMethod(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 37 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar list = __webpack_require__(10);\nvar country = __webpack_require__(24);\nvar State = (function (_super) {\n    __extends(State, _super);\n    function State(context) {\n        _super.call(this, context);\n        this.countryHelper = country.$get(context);\n        this.list = list.$get(context);\n    }\n    State.prototype.createUrl = function () {\n        return '/dictionary/state';\n    };\n    State.prototype.filter = function (options) {\n        var _this = this;\n        options = this.utils.extend({\n            countryId: ''\n        }, options);\n        return this.list.filter([\n            {\n                condition: options.countryId,\n                filterFn: function (item, opts) {\n                    return (_this.countryHelper.getId(item.country) == opts.condition);\n                }\n            }\n        ]);\n    };\n    return State;\n})(helper.Helper);\nexports.State = State;\nfunction $get(context) {\n    return context.createSingleton('State', function () {\n        return new State(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar helper = __webpack_require__(9);\nvar Timezone = (function (_super) {\n    __extends(Timezone, _super);\n    function Timezone() {\n        _super.apply(this, arguments);\n    }\n    Timezone.prototype.createUrl = function () {\n        return '/dictionary/timezone';\n    };\n    return Timezone;\n})(helper.Helper);\nexports.Timezone = Timezone;\nfunction $get(context) {\n    return context.createSingleton('Timezone', function () {\n        return new Timezone(context);\n    });\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 39 */\n/***/ function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {// Version: 3.7.10\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n/* =-=========================     JSON     =============================-= */\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n\n(window['JSON'] && window['JSON']['stringify']) || (function () {\n    window['JSON'] || (window['JSON'] = {});\n\n    function toJSON(key) {\n        try      { return this.valueOf() }\n        catch(e) { return null }\n    }\n\n    var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        gap,\n        indent,\n        meta = {    // table of character substitutions\n            '\\b': '\\\\b',\n            '\\t': '\\\\t',\n            '\\n': '\\\\n',\n            '\\f': '\\\\f',\n            '\\r': '\\\\r',\n            '\"' : '\\\\\"',\n            '\\\\': '\\\\\\\\'\n        },\n        rep;\n\n    function quote(string) {\n        escapable.lastIndex = 0;\n        return escapable.test(string) ?\n            '\"' + string.replace(escapable, function (a) {\n                var c = meta[a];\n                return typeof c === 'string' ? c :\n                    '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n            }) + '\"' :\n            '\"' + string + '\"';\n    }\n\n    function str(key, holder) {\n        var i,          // The loop counter.\n            k,          // The member key.\n            v,          // The member value.\n            length,\n            partial,\n            mind  = gap,\n            value = holder[key];\n\n        if (value && typeof value === 'object') {\n            value = toJSON.call( value, key );\n        }\n\n        if (typeof rep === 'function') {\n            value = rep.call(holder, key, value);\n        }\n\n        switch (typeof value) {\n        case 'string':\n            return quote(value);\n\n        case 'number':\n            return isFinite(value) ? String(value) : 'null';\n\n        case 'boolean':\n        case 'null':\n            return String(value);\n\n        case 'object':\n\n            if (!value) {\n                return 'null';\n            }\n\n            gap += indent;\n            partial = [];\n\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n\n                length = value.length;\n                for (i = 0; i < length; i += 1) {\n                    partial[i] = str(i, value) || 'null';\n                }\n\n                v = partial.length === 0 ? '[]' :\n                    gap ? '[\\n' + gap +\n                            partial.join(',\\n' + gap) + '\\n' +\n                                mind + ']' :\n                          '[' + partial.join(',') + ']';\n                gap = mind;\n                return v;\n            }\n            if (rep && typeof rep === 'object') {\n                length = rep.length;\n                for (i = 0; i < length; i += 1) {\n                    k = rep[i];\n                    if (typeof k === 'string') {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            } else {\n                for (k in value) {\n                    if (Object.hasOwnProperty.call(value, k)) {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n\n            v = partial.length === 0 ? '{}' :\n                gap ? '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' +\n                        mind + '}' : '{' + partial.join(',') + '}';\n            gap = mind;\n            return v;\n        }\n    }\n\n    if (typeof JSON['stringify'] !== 'function') {\n        JSON['stringify'] = function (value, replacer, space) {\n            var i;\n            gap = '';\n            indent = '';\n\n            if (typeof space === 'number') {\n                for (i = 0; i < space; i += 1) {\n                    indent += ' ';\n                }\n            } else if (typeof space === 'string') {\n                indent = space;\n            }\n            rep = replacer;\n            if (replacer && typeof replacer !== 'function' &&\n                    (typeof replacer !== 'object' ||\n                     typeof replacer.length !== 'number')) {\n                throw new Error('JSON.stringify');\n            }\n            return str('', {'': value});\n        };\n    }\n\n    if (typeof JSON['parse'] !== 'function') {\n        // JSON is parsed on the server for security.\n        JSON['parse'] = function (text) {return eval('('+text+')')};\n    }\n}());\nvar NOW             = 1\n,   READY           = false\n,   READY_BUFFER    = []\n,   PRESENCE_SUFFIX = '-pnpres'\n,   DEF_WINDOWING   = 10     // MILLISECONDS.\n,   DEF_TIMEOUT     = 10000  // MILLISECONDS.\n,   DEF_SUB_TIMEOUT = 310    // SECONDS.\n,   DEF_KEEPALIVE   = 60     // SECONDS (FOR TIMESYNC).\n,   SECOND          = 1000   // A THOUSAND MILLISECONDS.\n,   URLBIT          = '/'\n,   PARAMSBIT       = '&'\n,   PRESENCE_HB_THRESHOLD = 5\n,   PRESENCE_HB_DEFAULT  = 30\n,   SDK_VER         = '3.7.10'\n,   REPL            = /{([\\w\\-]+)}/g;\n\n/**\n * UTILITIES\n */\nfunction unique() { return'x'+ ++NOW+''+(+new Date) }\nfunction rnow()   { return+new Date }\n\n/**\n * NEXTORIGIN\n * ==========\n * var next_origin = nextorigin();\n */\nvar nextorigin = (function() {\n    var max = 20\n    ,   ori = Math.floor(Math.random() * max);\n    return function( origin, failover ) {\n        return origin.indexOf('pubsub.') > 0\n            && origin.replace(\n             'pubsub', 'ps' + (\n                failover ? generate_uuid().split('-')[0] :\n                (++ori < max? ori : ori=1)\n            ) ) || origin;\n    }\n})();\n\n\n/**\n * Build Url\n * =======\n *\n */\nfunction build_url( url_components, url_params ) {\n    var url    = url_components.join(URLBIT)\n    ,   params = [];\n\n    if (!url_params) return url;\n\n    each( url_params, function( key, value ) {\n        var value_str = (typeof value == 'object')?JSON['stringify'](value):value;\n        (typeof value != 'undefined' &&\n            value != null && encode(value_str).length > 0\n        ) && params.push(key + \"=\" + encode(value_str));\n    } );\n\n    url += \"?\" + params.join(PARAMSBIT);\n    return url;\n}\n\n/**\n * UPDATER\n * =======\n * var timestamp = unique();\n */\nfunction updater( fun, rate ) {\n    var timeout\n    ,   last   = 0\n    ,   runnit = function() {\n        if (last + rate > rnow()) {\n            clearTimeout(timeout);\n            timeout = setTimeout( runnit, rate );\n        }\n        else {\n            last = rnow();\n            fun();\n        }\n    };\n\n    return runnit;\n}\n\n/**\n * GREP\n * ====\n * var list = grep( [1,2,3], function(item) { return item % 2 } )\n */\nfunction grep( list, fun ) {\n    var fin = [];\n    each( list || [], function(l) { fun(l) && fin.push(l) } );\n    return fin\n}\n\n/**\n * SUPPLANT\n * ========\n * var text = supplant( 'Hello {name}!', { name : 'John' } )\n */\nfunction supplant( str, values ) {\n    return str.replace( REPL, function( _, match ) {\n        return values[match] || _\n    } );\n}\n\n/**\n * timeout\n * =======\n * timeout( function(){}, 100 );\n */\nfunction timeout( fun, wait ) {\n    return setTimeout( fun, wait );\n}\n\n/**\n * uuid\n * ====\n * var my_uuid = generate_uuid();\n */\nfunction generate_uuid(callback) {\n    var u = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,\n    function(c) {\n        var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\n        return v.toString(16);\n    });\n    if (callback) callback(u);\n    return u;\n}\n\nfunction isArray(arg) {\n  return !!arg && typeof arg !== 'string' && (Array.isArray && Array.isArray(arg) || typeof(arg.length) === \"number\")\n  //return !!arg && (Array.isArray && Array.isArray(arg) || typeof(arg.length) === \"number\")\n}\n\n/**\n * EACH\n * ====\n * each( [1,2,3], function(item) { } )\n */\nfunction each( o, f) {\n    if ( !o || !f ) return;\n\n    if ( isArray(o) )\n        for ( var i = 0, l = o.length; i < l; )\n            f.call( o[i], o[i], i++ );\n    else\n        for ( var i in o )\n            o.hasOwnProperty    &&\n            o.hasOwnProperty(i) &&\n            f.call( o[i], i, o[i] );\n}\n\n/**\n * MAP\n * ===\n * var list = map( [1,2,3], function(item) { return item + 1 } )\n */\nfunction map( list, fun ) {\n    var fin = [];\n    each( list || [], function( k, v ) { fin.push(fun( k, v )) } );\n    return fin;\n}\n\n/**\n * ENCODE\n * ======\n * var encoded_data = encode('path');\n */\nfunction encode(path) { return encodeURIComponent(path) }\n\n/**\n * Generate Subscription Channel List\n * ==================================\n * generate_channel_list(channels_object);\n */\nfunction generate_channel_list(channels, nopresence) {\n    var list = [];\n    each( channels, function( channel, status ) {\n        if (nopresence) {\n            if(channel.search('-pnpres') < 0) {\n                if (status.subscribed) list.push(channel);\n            }\n        } else {\n            if (status.subscribed) list.push(channel);\n        }\n    });\n    return list.sort();\n}\n\n/**\n * Generate Subscription Channel Groups List\n * ==================================\n * generate_channel_group_list(channels_groups object);\n */\nfunction generate_channel_group_list(channel_groups, nopresence) {\n    var list = [];\n    each(channel_groups, function( channel_group, status ) {\n        if (nopresence) {\n            if(channel_group.search('-pnpres') < 0) {\n                if (status.subscribed) list.push(channel_group);\n            }\n        } else {\n            if (status.subscribed) list.push(channel_group);\n        }\n    });\n    return list.sort();\n}\n\n// PUBNUB READY TO CONNECT\nfunction ready() { timeout( function() {\n    if (READY) return;\n    READY = 1;\n    each( READY_BUFFER, function(connect) { connect() } );\n}, SECOND ); }\n\nfunction PNmessage(args) {\n    msg = args || {'apns' : {}},\n    msg['getPubnubMessage'] = function() {\n        var m = {};\n\n        if (Object.keys(msg['apns']).length) {\n            m['pn_apns'] = {\n                    'aps' : {\n                        'alert' : msg['apns']['alert'] ,\n                        'badge' : msg['apns']['badge']\n                    }\n            }\n            for (var k in msg['apns']) {\n                m['pn_apns'][k] = msg['apns'][k];\n            }\n            var exclude1 = ['badge','alert'];\n            for (var k in exclude1) {\n                delete m['pn_apns'][exclude1[k]];\n            }\n        }\n\n\n\n        if (msg['gcm']) {\n            m['pn_gcm'] = {\n                'data' : msg['gcm']\n            }\n        }\n\n        for (var k in msg) {\n            m[k] = msg[k];\n        }\n        var exclude = ['apns','gcm','publish', 'channel','callback','error'];\n        for (var k in exclude) {\n            delete m[exclude[k]];\n        }\n\n        return m;\n    };\n    msg['publish'] = function() {\n\n        var m = msg.getPubnubMessage();\n\n        if (msg['pubnub'] && msg['channel']) {\n            msg['pubnub'].publish({\n                'message' : m,\n                'channel' : msg['channel'],\n                'callback' : msg['callback'],\n                'error' : msg['error']\n            })\n        }\n    };\n    return msg;\n}\n\nfunction PN_API(setup) {\n    var SUB_WINDOWING =  +setup['windowing']   || DEF_WINDOWING\n    ,   SUB_TIMEOUT   = (+setup['timeout']     || DEF_SUB_TIMEOUT) * SECOND\n    ,   KEEPALIVE     = (+setup['keepalive']   || DEF_KEEPALIVE)   * SECOND\n    ,   TIME_CHECK    = setup['timecheck']     || 0\n    ,   NOLEAVE       = setup['noleave']       || 0\n    ,   PUBLISH_KEY   = setup['publish_key']   || 'demo'\n    ,   SUBSCRIBE_KEY = setup['subscribe_key'] || 'demo'\n    ,   AUTH_KEY      = setup['auth_key']      || ''\n    ,   SECRET_KEY    = setup['secret_key']    || ''\n    ,   hmac_SHA256   = setup['hmac_SHA256']\n    ,   SSL           = setup['ssl']            ? 's' : ''\n    ,   ORIGIN        = 'http'+SSL+'://'+(setup['origin']||'pubsub.pubnub.com')\n    ,   STD_ORIGIN    = nextorigin(ORIGIN)\n    ,   SUB_ORIGIN    = nextorigin(ORIGIN)\n    ,   CONNECT       = function(){}\n    ,   PUB_QUEUE     = []\n    ,   CLOAK         = true\n    ,   TIME_DRIFT    = 0\n    ,   SUB_CALLBACK  = 0\n    ,   SUB_CHANNEL   = 0\n    ,   SUB_RECEIVER  = 0\n    ,   SUB_RESTORE   = setup['restore'] || 0\n    ,   SUB_BUFF_WAIT = 0\n    ,   TIMETOKEN     = 0\n    ,   RESUMED       = false\n    ,   CHANNELS      = {}\n    ,   CHANNEL_GROUPS       = {}\n    ,   SUB_ERROR     = function(){}\n    ,   STATE         = {}\n    ,   PRESENCE_HB_TIMEOUT  = null\n    ,   PRESENCE_HB          = validate_presence_heartbeat(\n        setup['heartbeat'] || setup['pnexpires'] || 0, setup['error']\n    )\n    ,   PRESENCE_HB_INTERVAL = setup['heartbeat_interval'] || (PRESENCE_HB / 2) -1\n    ,   PRESENCE_HB_RUNNING  = false\n    ,   NO_WAIT_FOR_PENDING  = setup['no_wait_for_pending']\n    ,   COMPATIBLE_35 = setup['compatible_3.5']  || false\n    ,   xdr           = setup['xdr']\n    ,   params        = setup['params'] || {}\n    ,   error         = setup['error']      || function() {}\n    ,   _is_online    = setup['_is_online'] || function() { return 1 }\n    ,   jsonp_cb      = setup['jsonp_cb']   || function() { return 0 }\n    ,   db            = setup['db']         || {'get': function(){}, 'set': function(){}}\n    ,   CIPHER_KEY    = setup['cipher_key']\n    ,   UUID          = setup['uuid'] || ( !setup['unique_uuid'] && db && db['get'](SUBSCRIBE_KEY+'uuid') || '')\n    ,   USE_INSTANCEID = setup['instance_id'] || false\n    ,   INSTANCEID     = ''\n    ,   _poll_timer\n    ,   _poll_timer2;\n\n    if (PRESENCE_HB === 2) PRESENCE_HB_INTERVAL = 1;\n\n    var crypto_obj    = setup['crypto_obj'] ||\n        {\n            'encrypt' : function(a,key){ return a},\n            'decrypt' : function(b,key){return b}\n        };\n\n    function _get_url_params(data) {\n        if (!data) data = {};\n        each( params , function( key, value ) {\n            if (!(key in data)) data[key] = value;\n        });\n        return data;\n    }\n\n    function _object_to_key_list(o) {\n        var l = []\n        each( o , function( key, value ) {\n            l.push(key);\n        });\n        return l;\n    }\n    function _object_to_key_list_sorted(o) {\n        return _object_to_key_list(o).sort();\n    }\n\n    function _get_pam_sign_input_from_params(params) {\n        var si = \"\";\n        var l = _object_to_key_list_sorted(params);\n\n        for (var i in l) {\n            var k = l[i]\n            si += k + \"=\" + encode(params[k]) ;\n            if (i != l.length - 1) si += \"&\"\n        }\n        return si;\n    }\n\n    function validate_presence_heartbeat(heartbeat, cur_heartbeat, error) {\n        var err = false;\n\n        if (typeof heartbeat === 'undefined') {\n            return cur_heartbeat;\n        }\n\n        if (typeof heartbeat === 'number') {\n            if (heartbeat > PRESENCE_HB_THRESHOLD || heartbeat == 0)\n                err = false;\n            else\n                err = true;\n        } else if(typeof heartbeat === 'boolean'){\n            if (!heartbeat) {\n                return 0;\n            } else {\n                return PRESENCE_HB_DEFAULT;\n            }\n        } else {\n            err = true;\n        }\n\n        if (err) {\n            error && error(\"Presence Heartbeat value invalid. Valid range ( x > \" + PRESENCE_HB_THRESHOLD + \" or x = 0). Current Value : \" + (cur_heartbeat || PRESENCE_HB_THRESHOLD));\n            return cur_heartbeat || PRESENCE_HB_THRESHOLD;\n        } else return heartbeat;\n    }\n\n    function encrypt(input, key) {\n        return crypto_obj['encrypt'](input, key || CIPHER_KEY) || input;\n    }\n    function decrypt(input, key) {\n        return crypto_obj['decrypt'](input, key || CIPHER_KEY) ||\n               crypto_obj['decrypt'](input, CIPHER_KEY) ||\n               input;\n    }\n\n    function error_common(message, callback) {\n        callback && callback({ 'error' : message || \"error occurred\"});\n        error && error(message);\n    }\n    function _presence_heartbeat() {\n\n        clearTimeout(PRESENCE_HB_TIMEOUT);\n\n        if (!PRESENCE_HB_INTERVAL || PRESENCE_HB_INTERVAL >= 500 ||\n            PRESENCE_HB_INTERVAL < 1 ||\n            (!generate_channel_list(CHANNELS,true).length  && !generate_channel_group_list(CHANNEL_GROUPS, true).length ) )\n        {\n            PRESENCE_HB_RUNNING = false;\n            return;\n        }\n\n        PRESENCE_HB_RUNNING = true;\n        SELF['presence_heartbeat']({\n            'callback' : function(r) {\n                PRESENCE_HB_TIMEOUT = timeout( _presence_heartbeat, (PRESENCE_HB_INTERVAL) * SECOND );\n            },\n            'error' : function(e) {\n                error && error(\"Presence Heartbeat unable to reach Pubnub servers.\" + JSON.stringify(e));\n                PRESENCE_HB_TIMEOUT = timeout( _presence_heartbeat, (PRESENCE_HB_INTERVAL) * SECOND );\n            }\n        });\n    }\n\n    function start_presence_heartbeat() {\n        !PRESENCE_HB_RUNNING && _presence_heartbeat();\n    }\n\n    function publish(next) {\n\n        if (NO_WAIT_FOR_PENDING) {\n            if (!PUB_QUEUE.length) return;\n        } else {\n            if (next) PUB_QUEUE.sending = 0;\n            if ( PUB_QUEUE.sending || !PUB_QUEUE.length ) return;\n            PUB_QUEUE.sending = 1;\n        }\n\n        xdr(PUB_QUEUE.shift());\n    }\n    function each_channel_group(callback) {\n        var count = 0;\n\n        each( generate_channel_group_list(CHANNEL_GROUPS), function(channel_group) {\n            var chang = CHANNEL_GROUPS[channel_group];\n\n            if (!chang) return;\n\n            count++;\n            (callback||function(){})(chang);\n        } );\n\n        return count;\n    }\n\n    function each_channel(callback) {\n        var count = 0;\n\n        each( generate_channel_list(CHANNELS), function(channel) {\n            var chan = CHANNELS[channel];\n\n            if (!chan) return;\n\n            count++;\n            (callback||function(){})(chan);\n        } );\n\n        return count;\n    }\n    function _invoke_callback(response, callback, err) {\n        if (typeof response == 'object') {\n            if (response['error']) {\n                var callback_data = {};\n\n                if (response['message']) {\n                    callback_data['message'] = response['message'];\n                }\n\n                if (response['payload']) {\n                    callback_data['payload'] = response['payload'];\n                }\n\n                err && err(callback_data);\n                return;\n\n            }\n            if (response['payload']) {\n                if (response['next_page'])\n                    callback && callback(response['payload'], response['next_page']);\n                else\n                    callback && callback(response['payload']);\n                return;\n            }\n        }\n        callback && callback(response);\n    }\n\n    function _invoke_error(response,err) {\n\n        if (typeof response == 'object' && response['error']) {\n                var callback_data = {};\n\n                if (response['message']) {\n                    callback_data['message'] = response['message'];\n                }\n\n                if (response['payload']) {\n                    callback_data['payload'] = response['payload'];\n                }\n                \n                err && err(callback_data);\n                return;\n        } else {\n            err && err(response);\n        }\n    }\n    function CR(args, callback, url1, data) {\n            var callback        = args['callback']      || callback\n            ,   err             = args['error']         || error\n            ,   jsonp           = jsonp_cb();\n\n            data = data || {};\n            \n            if (!data['auth']) {\n                data['auth'] = args['auth_key'] || AUTH_KEY;\n            }\n            \n            var url = [\n                    STD_ORIGIN, 'v1', 'channel-registration',\n                    'sub-key', SUBSCRIBE_KEY\n                ];\n\n            url.push.apply(url,url1);\n            \n            if (jsonp) data['callback']              = jsonp;\n            \n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n\n    }\n\n    // Announce Leave Event\n    var SELF = {\n        'LEAVE' : function( channel, blocking, auth_key, callback, error ) {\n\n            var data   = { 'uuid' : UUID, 'auth' : auth_key || AUTH_KEY }\n            ,   origin = nextorigin(ORIGIN)\n            ,   callback = callback || function(){}\n            ,   err      = error    || function(){}\n            ,   jsonp  = jsonp_cb();\n\n            // Prevent Leaving a Presence Channel\n            if (channel.indexOf(PRESENCE_SUFFIX) > 0) return true;\n\n            if (COMPATIBLE_35) {\n                if (!SSL)         return false;\n                if (jsonp == '0') return false;\n            }\n\n            if (NOLEAVE)  return false;\n\n            if (jsonp != '0') data['callback'] = jsonp;\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                blocking : blocking || SSL,\n                timeout  : 2000,\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    origin, 'v2', 'presence', 'sub_key',\n                    SUBSCRIBE_KEY, 'channel', encode(channel), 'leave'\n                ]\n            });\n            return true;\n        },\n        'LEAVE_GROUP' : function( channel_group, blocking, auth_key, callback, error ) {\n\n            var data   = { 'uuid' : UUID, 'auth' : auth_key || AUTH_KEY }\n            ,   origin = nextorigin(ORIGIN)\n            ,   callback = callback || function(){}\n            ,   err      = error    || function(){}\n            ,   jsonp  = jsonp_cb();\n\n            // Prevent Leaving a Presence Channel Group\n            if (channel_group.indexOf(PRESENCE_SUFFIX) > 0) return true;\n\n            if (COMPATIBLE_35) {\n                if (!SSL)         return false;\n                if (jsonp == '0') return false;\n            }\n\n            if (NOLEAVE)  return false;\n\n            if (jsonp != '0') data['callback'] = jsonp;\n\n            if (channel_group && channel_group.length > 0) data['channel-group'] = channel_group;\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                blocking : blocking || SSL,\n                timeout  : 5000,\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    origin, 'v2', 'presence', 'sub_key',\n                    SUBSCRIBE_KEY, 'channel', encode(','), 'leave'\n                ]\n            });\n            return true;\n        },\n        'set_resumed' : function(resumed) {\n                RESUMED = resumed;\n        },\n        'get_cipher_key' : function() {\n            return CIPHER_KEY;\n        },\n        'set_cipher_key' : function(key) {\n            CIPHER_KEY = key;\n        },\n        'raw_encrypt' : function(input, key) {\n            return encrypt(input, key);\n        },\n        'raw_decrypt' : function(input, key) {\n            return decrypt(input, key);\n        },\n        'get_heartbeat' : function() {\n            return PRESENCE_HB;\n        },\n        \n        'set_heartbeat' : function(heartbeat, heartbeat_interval) {\n            PRESENCE_HB = validate_presence_heartbeat(heartbeat, PRESENCE_HB, error);\n            PRESENCE_HB_INTERVAL = heartbeat_interval || (PRESENCE_HB / 2) - 1;\n            if (PRESENCE_HB == 2) {\n                PRESENCE_HB_INTERVAL = 1;\n            }\n            CONNECT();\n            _presence_heartbeat();\n        },\n        \n        'get_heartbeat_interval' : function() {\n            return PRESENCE_HB_INTERVAL;\n        },\n        \n        'set_heartbeat_interval' : function(heartbeat_interval) {\n            PRESENCE_HB_INTERVAL = heartbeat_interval;\n            _presence_heartbeat();\n        },\n        \n        'get_version' : function() {\n            return SDK_VER;\n        },\n        'getGcmMessageObject' : function(obj) {\n            return {\n                'data' : obj\n            }\n        },\n        'getApnsMessageObject' : function(obj) {\n            var x =  {\n                'aps' : { 'badge' : 1, 'alert' : ''}\n            }\n            for (k in obj) {\n                k[x] = obj[k];\n            }\n            return x;\n        },\n        'newPnMessage' : function() {\n            var x = {};\n            if (gcm) x['pn_gcm'] = gcm;\n            if (apns) x['pn_apns'] = apns;\n            for ( k in n ) {\n                x[k] = n[k];\n            }\n            return x;\n        },\n\n        '_add_param' : function(key,val) {\n            params[key] = val;\n        },\n\n        'channel_group' : function(args, callback) {\n            var ns_ch       = args['channel_group']\n            ,   callback    = callback         || args['callback']\n            ,   channels    = args['channels'] || args['channel']\n            ,   cloak       = args['cloak']\n            ,   namespace\n            ,   channel_group\n            ,   url = []\n            ,   data = {}\n            ,   mode = args['mode'] || 'add';\n\n\n            if (ns_ch) {\n                var ns_ch_a = ns_ch.split(':');\n\n                if (ns_ch_a.length > 1) {\n                    namespace = (ns_ch_a[0] === '*')?null:ns_ch_a[0];\n\n                    channel_group = ns_ch_a[1];\n                } else {\n                    channel_group = ns_ch_a[0];\n                }\n            }\n\n            namespace && url.push('namespace') && url.push(encode(namespace));\n\n            url.push('channel-group');\n\n            if (channel_group && channel_group !== '*') {\n                url.push(channel_group);\n            }\n\n            if (channels ) {\n                if (isArray(channels)) {\n                    channels = channels.join(',');\n                }\n                data[mode] = channels;\n                data['cloak'] = (CLOAK)?'true':'false';\n            } else {\n                if (mode === 'remove') url.push('remove');\n            }\n\n            if (typeof cloak != 'undefined') data['cloak'] = (cloak)?'true':'false';\n\n            CR(args, callback, url, data);\n        },\n\n        'channel_group_list_groups' : function(args, callback) {\n            var namespace;\n\n            namespace = args['namespace'] || args['ns'] || args['channel_group'] || null;\n            if (namespace) {\n                args[\"channel_group\"] = namespace + \":*\";\n            }\n\n            SELF['channel_group'](args, callback);\n        },\n\n        'channel_group_list_channels' : function(args, callback) {\n            if (!args['channel_group']) return error('Missing Channel Group');\n            SELF['channel_group'](args, callback);\n        },\n\n        'channel_group_remove_channel' : function(args, callback) {\n            if (!args['channel_group']) return error('Missing Channel Group');\n            if (!args['channel'] && !args['channels'] ) return error('Missing Channel');\n\n            args['mode'] = 'remove';\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_remove_group' : function(args, callback) {\n            if (!args['channel_group']) return error('Missing Channel Group');\n            if (args['channel']) return error('Use channel_group_remove_channel if you want to remove a channel from a group.');\n\n            args['mode'] = 'remove';\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_add_channel' : function(args, callback) {\n           if (!args['channel_group']) return error('Missing Channel Group');\n           if (!args['channel'] && !args['channels'] ) return error('Missing Channel');\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_cloak' : function(args, callback) {\n            if (typeof args['cloak'] == 'undefined') {\n                callback(CLOAK);\n                return;\n            }\n            CLOAK = args['cloak'];\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_list_namespaces' : function(args, callback) {\n            var url = ['namespace'];\n            CR(args, callback, url);\n        },\n        'channel_group_remove_namespace' : function(args, callback) {\n            var url = ['namespace',args['namespace'],'remove'];\n            CR(args, callback, url);\n        },\n\n        /*\n            PUBNUB.history({\n                channel  : 'my_chat_channel',\n                limit    : 100,\n                callback : function(history) { }\n            });\n        */\n        'history' : function( args, callback ) {\n            var callback         = args['callback'] || callback\n            ,   count            = args['count']    || args['limit'] || 100\n            ,   reverse          = args['reverse']  || \"false\"\n            ,   err              = args['error']    || function(){}\n            ,   auth_key         = args['auth_key'] || AUTH_KEY\n            ,   cipher_key       = args['cipher_key']\n            ,   channel          = args['channel']\n            ,   channel_group    = args['channel_group']\n            ,   start            = args['start']\n            ,   end              = args['end']\n            ,   include_token    = args['include_token']\n            ,   params           = {}\n            ,   jsonp            = jsonp_cb();\n\n            // Make sure we have a Channel\n            if (!channel && !channel_group) return error('Missing Channel');\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            params['stringtoken'] = 'true';\n            params['count']       = count;\n            params['reverse']     = reverse;\n            params['auth']        = auth_key;\n\n            if (channel_group) {\n                params['channel-group'] = channel_group;\n                if (!channel) {\n                    channel = ','; \n                }\n            }\n            if (jsonp) params['callback']              = jsonp;\n            if (start) params['start']                 = start;\n            if (end)   params['end']                   = end;\n            if (include_token) params['include_token'] = 'true';\n\n            // Send Message\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(params),\n                success  : function(response) {\n                    if (typeof response == 'object' && response['error']) {\n                        err({'message' : response['message'], 'payload' : response['payload']});\n                        return;\n                    }\n                    var messages = response[0];\n                    var decrypted_messages = [];\n                    for (var a = 0; a < messages.length; a++) {\n                        var new_message = decrypt(messages[a],cipher_key);\n                        try {\n                            decrypted_messages['push'](JSON['parse'](new_message));\n                        } catch (e) {\n                            decrypted_messages['push']((new_message));\n                        }\n                    }\n                    callback([decrypted_messages, response[1], response[2]]);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v2', 'history', 'sub-key',\n                    SUBSCRIBE_KEY, 'channel', encode(channel)\n                ]\n            });\n        },\n\n        /*\n            PUBNUB.replay({\n                source      : 'my_channel',\n                destination : 'new_channel'\n            });\n        */\n        'replay' : function(args, callback) {\n            var callback    = callback || args['callback'] || function(){}\n            ,   auth_key    = args['auth_key'] || AUTH_KEY\n            ,   source      = args['source']\n            ,   destination = args['destination']\n            ,   stop        = args['stop']\n            ,   start       = args['start']\n            ,   end         = args['end']\n            ,   reverse     = args['reverse']\n            ,   limit       = args['limit']\n            ,   jsonp       = jsonp_cb()\n            ,   data        = {}\n            ,   url;\n\n            // Check User Input\n            if (!source)        return error('Missing Source Channel');\n            if (!destination)   return error('Missing Destination Channel');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            // Setup URL Params\n            if (jsonp != '0') data['callback'] = jsonp;\n            if (stop)         data['stop']     = 'all';\n            if (reverse)      data['reverse']  = 'true';\n            if (start)        data['start']    = start;\n            if (end)          data['end']      = end;\n            if (limit)        data['count']    = limit;\n\n            data['auth'] = auth_key;\n\n            // Compose URL Parts\n            url = [\n                STD_ORIGIN, 'v1', 'replay',\n                PUBLISH_KEY, SUBSCRIBE_KEY,\n                source, destination\n            ];\n\n            // Start (or Stop) Replay!\n            xdr({\n                callback : jsonp,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function() { callback([ 0, 'Disconnected' ]) },\n                url      : url,\n                data     : _get_url_params(data)\n            });\n        },\n\n        /*\n            PUBNUB.auth('AJFLKAJSDKLA');\n        */\n        'auth' : function(auth) {\n            AUTH_KEY = auth;\n            CONNECT();\n        },\n\n        /*\n            PUBNUB.time(function(time){ });\n        */\n        'time' : function(callback) {\n            var jsonp = jsonp_cb();\n\n            var data = { 'uuid' : UUID, 'auth' : AUTH_KEY }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                timeout  : SECOND * 5,\n                url      : [STD_ORIGIN, 'time', jsonp],\n                success  : function(response) { callback(response[0]) },\n                fail     : function() { callback(0) }\n            });\n        },\n\n        /*\n            PUBNUB.publish({\n                channel : 'my_chat_channel',\n                message : 'hello!'\n            });\n        */\n        'publish' : function( args, callback ) {\n            var msg      = args['message'];\n            if (!msg) return error('Missing Message');\n\n            var callback = callback || args['callback'] || msg['callback'] || function(){}\n            ,   channel  = args['channel'] || msg['channel']\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   cipher_key = args['cipher_key']\n            ,   err      = args['error'] || msg['error'] || function() {}\n            ,   post     = args['post'] || false\n            ,   store    = ('store_in_history' in args) ? args['store_in_history']: true\n            ,   jsonp    = jsonp_cb()\n            ,   add_msg  = 'push'\n            ,   url;\n\n            if (args['prepend']) add_msg = 'unshift'\n\n            if (!channel)       return error('Missing Channel');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            if (msg['getPubnubMessage']) {\n                msg = msg['getPubnubMessage']();\n            }\n\n            // If trying to send Object\n            msg = JSON['stringify'](encrypt(msg, cipher_key));\n\n            // Create URL\n            url = [\n                STD_ORIGIN, 'publish',\n                PUBLISH_KEY, SUBSCRIBE_KEY,\n                0, encode(channel),\n                jsonp, encode(msg)\n            ];\n\n            params = { 'uuid' : UUID, 'auth' : auth_key }\n\n            if (!store) params['store'] =\"0\"\n\n            if (USE_INSTANCEID) params['instanceid'] = INSTANCEID;\n\n            // Queue Message Send\n            PUB_QUEUE[add_msg]({\n                callback : jsonp,\n                timeout  : SECOND * 5,\n                url      : url,\n                data     : _get_url_params(params),\n                fail     : function(response){\n                    _invoke_error(response, err);\n                    publish(1);\n                },\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                    publish(1);\n                },\n                mode     : (post)?'POST':'GET'\n            });\n\n            // Send Message\n            publish();\n        },\n\n        /*\n            PUBNUB.unsubscribe({ channel : 'my_chat' });\n        */\n        'unsubscribe' : function(args, callback) {\n            var channel       = args['channel']\n            ,   channel_group = args['channel_group']\n            ,   auth_key      = args['auth_key']    || AUTH_KEY\n            ,   callback      = callback            || args['callback'] || function(){}\n            ,   err           = args['error']       || function(){};\n\n            TIMETOKEN   = 0;\n            //SUB_RESTORE = 1;    REVISIT !!!!\n\n            if (channel) {\n                // Prepare Channel(s)\n                channel = map( (\n                    channel.join ? channel.join(',') : ''+channel\n                ).split(','), function(channel) {\n                    if (!CHANNELS[channel]) return;\n                    return channel + ',' + channel + PRESENCE_SUFFIX;\n                } ).join(',');\n\n                // Iterate over Channels\n                each( channel.split(','), function(ch) {\n                    var CB_CALLED = true;\n                    if (!ch) return;\n                    CHANNELS[ch] = 0;\n                    if (ch in STATE) delete STATE[ch];\n                    if (READY) {\n                        CB_CALLED = SELF['LEAVE']( ch, 0 , auth_key, callback, err);\n                    }\n                    if (!CB_CALLED) callback({action : \"leave\"});\n\n                    \n                } );\n            }\n\n            if (channel_group) {\n                // Prepare channel group(s)\n                channel_group = map( (\n                    channel_group.join ? channel_group.join(',') : ''+channel_group\n                ).split(','), function(channel_group) {\n                    if (!CHANNEL_GROUPS[channel_group]) return;\n                    return channel_group + ',' + channel_group + PRESENCE_SUFFIX;\n                } ).join(',');\n\n                // Iterate over channel groups\n                each( channel_group.split(','), function(chg) {\n                    var CB_CALLED = true;\n                    if (!chg) return;\n                    CHANNEL_GROUPS[chg] = 0;\n                    if (chg in STATE) delete STATE[chg];\n                    if (READY) {\n                        CB_CALLED = SELF['LEAVE_GROUP']( chg, 0 , auth_key, callback, err);\n                    }\n                    if (!CB_CALLED) callback({action : \"leave\"});\n\n                } );\n            }\n\n            // Reset Connection if Count Less\n            CONNECT();\n        },\n\n        /*\n            PUBNUB.subscribe({\n                channel  : 'my_chat'\n                callback : function(message) { }\n            });\n        */\n        'subscribe' : function( args, callback ) {\n            var channel         = args['channel']\n            ,   channel_group   = args['channel_group']\n            ,   callback        = callback            || args['callback']\n            ,   callback        = callback            || args['message']\n            ,   auth_key        = args['auth_key']    || AUTH_KEY\n            ,   connect         = args['connect']     || function(){}\n            ,   reconnect       = args['reconnect']   || function(){}\n            ,   disconnect      = args['disconnect']  || function(){}\n            ,   SUB_ERROR       = args['error']       || SUB_ERROR || function(){}\n            ,   idlecb          = args['idle']        || function(){}\n            ,   presence        = args['presence']    || 0\n            ,   noheresync      = args['noheresync']  || 0\n            ,   backfill        = args['backfill']    || 0\n            ,   timetoken       = args['timetoken']   || 0\n            ,   sub_timeout     = args['timeout']     || SUB_TIMEOUT\n            ,   windowing       = args['windowing']   || SUB_WINDOWING\n            ,   state           = args['state']\n            ,   heartbeat       = args['heartbeat'] || args['pnexpires']\n            ,   heartbeat_interval = args['heartbeat_interval']\n            ,   restore         = args['restore'] || SUB_RESTORE;\n\n            // Restore Enabled?\n            SUB_RESTORE = restore;\n\n            // Always Reset the TT\n            TIMETOKEN = timetoken;\n\n            // Make sure we have a Channel\n            if (!channel && !channel_group) {\n                return error('Missing Channel');\n            }\n\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            if (heartbeat || heartbeat === 0 || heartbeat_interval || heartbeat_interval === 0) {\n                SELF['set_heartbeat'](heartbeat, heartbeat_interval);\n            }\n\n            // Setup Channel(s)\n            if (channel) {\n                each( (channel.join ? channel.join(',') : ''+channel).split(','),\n                function(channel) {\n                    var settings = CHANNELS[channel] || {};\n\n                    // Store Channel State\n                    CHANNELS[SUB_CHANNEL = channel] = {\n                        name         : channel,\n                        connected    : settings.connected,\n                        disconnected : settings.disconnected,\n                        subscribed   : 1,\n                        callback     : SUB_CALLBACK = callback,\n                        'cipher_key' : args['cipher_key'],\n                        connect      : connect,\n                        disconnect   : disconnect,\n                        reconnect    : reconnect\n                    };\n\n                    if (state) {\n                        if (channel in state) {\n                            STATE[channel] = state[channel];\n                        } else {\n                            STATE[channel] = state;\n                        }\n                    }\n\n                    // Presence Enabled?\n                    if (!presence) return;\n\n                    // Subscribe Presence Channel\n                    SELF['subscribe']({\n                        'channel'  : channel + PRESENCE_SUFFIX,\n                        'callback' : presence,\n                        'restore'  : restore\n                    });\n\n                    // Presence Subscribed?\n                    if (settings.subscribed) return;\n\n                    // See Who's Here Now?\n                    if (noheresync) return;\n                    SELF['here_now']({\n                        'channel'  : channel,\n                        'data'     : _get_url_params({ 'uuid' : UUID, 'auth' : auth_key }),\n                        'callback' : function(here) {\n                            each( 'uuids' in here ? here['uuids'] : [],\n                            function(uid) { presence( {\n                                'action'    : 'join',\n                                'uuid'      : uid,\n                                'timestamp' : Math.floor(rnow() / 1000),\n                                'occupancy' : here['occupancy'] || 1\n                            }, here, channel ); } );\n                        }\n                    });\n                } );\n            }\n\n            // Setup Channel Groups\n            if (channel_group) {\n                each( (channel_group.join ? channel_group.join(',') : ''+channel_group).split(','),\n                function(channel_group) {\n                    var settings = CHANNEL_GROUPS[channel_group] || {};\n\n                    CHANNEL_GROUPS[channel_group] = {\n                        name         : channel_group,\n                        connected    : settings.connected,\n                        disconnected : settings.disconnected,\n                        subscribed   : 1,\n                        callback     : SUB_CALLBACK = callback,\n                        'cipher_key' : args['cipher_key'],\n                        connect      : connect,\n                        disconnect   : disconnect,\n                        reconnect    : reconnect\n                    };\n\n                    // Presence Enabled?\n                    if (!presence) return;\n\n                    // Subscribe Presence Channel\n                    SELF['subscribe']({\n                        'channel_group'  : channel_group + PRESENCE_SUFFIX,\n                        'callback' : presence,\n                        'restore'  : restore,\n                        'auth_key' : auth_key\n                    });\n\n                    // Presence Subscribed?\n                    if (settings.subscribed) return;\n\n                    // See Who's Here Now?\n                    if (noheresync) return;\n                    SELF['here_now']({\n                        'channel_group'  : channel_group,\n                        'data'           : _get_url_params({ 'uuid' : UUID, 'auth' : auth_key }),\n                        'callback' : function(here) {\n                            each( 'uuids' in here ? here['uuids'] : [],\n                            function(uid) { presence( {\n                                'action'    : 'join',\n                                'uuid'      : uid,\n                                'timestamp' : Math.floor(rnow() / 1000),\n                                'occupancy' : here['occupancy'] || 1\n                            }, here, channel_group ); } );\n                        }\n                    });\n                } );\n            }\n\n\n            // Test Network Connection\n            function _test_connection(success) {\n                if (success) {\n                    // Begin Next Socket Connection\n                    timeout( CONNECT, SECOND );\n                }\n                else {\n                    // New Origin on Failed Connection\n                    STD_ORIGIN = nextorigin( ORIGIN, 1 );\n                    SUB_ORIGIN = nextorigin( ORIGIN, 1 );\n\n                    // Re-test Connection\n                    timeout( function() {\n                        SELF['time'](_test_connection);\n                    }, SECOND );\n                }\n\n                // Disconnect & Reconnect\n                each_channel(function(channel){\n                    // Reconnect\n                    if (success && channel.disconnected) {\n                        channel.disconnected = 0;\n                        return channel.reconnect(channel.name);\n                    }\n\n                    // Disconnect\n                    if (!success && !channel.disconnected) {\n                        channel.disconnected = 1;\n                        channel.disconnect(channel.name);\n                    }\n                });\n                \n                // Disconnect & Reconnect for channel groups\n                each_channel_group(function(channel_group){\n                    // Reconnect\n                    if (success && channel_group.disconnected) {\n                        channel_group.disconnected = 0;\n                        return channel_group.reconnect(channel_group.name);\n                    }\n\n                    // Disconnect\n                    if (!success && !channel_group.disconnected) {\n                        channel_group.disconnected = 1;\n                        channel_group.disconnect(channel_group.name);\n                    }\n                });\n            }\n\n            // Evented Subscribe\n            function _connect() {\n                var jsonp           = jsonp_cb()\n                ,   channels        = generate_channel_list(CHANNELS).join(',')\n                ,   channel_groups  = generate_channel_group_list(CHANNEL_GROUPS).join(',');\n\n                // Stop Connection\n                if (!channels && !channel_groups) return;\n\n                if (!channels) channels = ',';\n\n                // Connect to PubNub Subscribe Servers\n                _reset_offline();\n\n                var data = _get_url_params({ 'uuid' : UUID, 'auth' : auth_key });\n\n                if (channel_groups) {\n                    data['channel-group'] = channel_groups;\n                }\n\n\n                var st = JSON.stringify(STATE);\n                if (st.length > 2) data['state'] = JSON.stringify(STATE);\n\n                if (PRESENCE_HB) data['heartbeat'] = PRESENCE_HB;\n\n                if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n                start_presence_heartbeat();\n                SUB_RECEIVER = xdr({\n                    timeout  : sub_timeout,\n                    callback : jsonp,\n                    fail     : function(response) {\n                        if (response && response['error'] && response['service']) {\n                            _invoke_error(response, SUB_ERROR);\n                            _test_connection(1);\n                        } else {\n                            SELF['time'](function(success){\n                                !success && ( _invoke_error(response, SUB_ERROR));\n                                _test_connection(success);\n                            });\n                        }\n                    },\n                    data     : _get_url_params(data),\n                    url      : [\n                        SUB_ORIGIN, 'subscribe',\n                        SUBSCRIBE_KEY, encode(channels),\n                        jsonp, TIMETOKEN\n                    ],\n                    success : function(messages) {\n\n                        // Check for Errors\n                        if (!messages || (\n                            typeof messages == 'object' &&\n                            'error' in messages         &&\n                            messages['error']\n                        )) {\n                            SUB_ERROR(messages['error']);\n                            return timeout( CONNECT, SECOND );\n                        }\n\n                        // User Idle Callback\n                        idlecb(messages[1]);\n\n                        // Restore Previous Connection Point if Needed\n                        TIMETOKEN = !TIMETOKEN               &&\n                                    SUB_RESTORE              &&\n                                    db['get'](SUBSCRIBE_KEY) || messages[1];\n\n                        /*\n                        // Connect\n                        each_channel_registry(function(registry){\n                            if (registry.connected) return;\n                            registry.connected = 1;\n                            registry.connect(channel.name);\n                        });\n                        */\n\n                        // Connect\n                        each_channel(function(channel){\n                            if (channel.connected) return;\n                            channel.connected = 1;\n                            channel.connect(channel.name);\n                        });\n\n                        // Connect for channel groups\n                        each_channel_group(function(channel_group){\n                            if (channel_group.connected) return;\n                            channel_group.connected = 1;\n                            channel_group.connect(channel_group.name);\n                        });\n\n                        if (RESUMED && !SUB_RESTORE) {\n                                TIMETOKEN = 0;\n                                RESUMED = false;\n                                // Update Saved Timetoken\n                                db['set']( SUBSCRIBE_KEY, 0 );\n                                timeout( _connect, windowing );\n                                return;\n                        }\n\n                        // Invoke Memory Catchup and Receive Up to 100\n                        // Previous Messages from the Queue.\n                        if (backfill) {\n                            TIMETOKEN = 10000;\n                            backfill  = 0;\n                        }\n\n                        // Update Saved Timetoken\n                        db['set']( SUBSCRIBE_KEY, messages[1] );\n\n                        // Route Channel <---> Callback for Message\n                        var next_callback = (function() {\n                            var channels = '';\n                            var channels2 = '';\n\n                            if (messages.length > 3) {\n                                channels  = messages[3];\n                                channels2 = messages[2];\n                            } else if (messages.length > 2) {\n                                channels = messages[2];\n                            } else {\n                                channels =  map(\n                                    generate_channel_list(CHANNELS), function(chan) { return map(\n                                        Array(messages[0].length)\n                                        .join(',').split(','),\n                                        function() { return chan; }\n                                    ) }).join(',')\n                            }\n\n                            var list  = channels.split(',');\n                            var list2 = (channels2)?channels2.split(','):[];\n\n                            return function() {\n                                var channel  = list.shift()||SUB_CHANNEL;\n                                var channel2 = list2.shift();\n\n                                var chobj = {};\n\n                                if (channel2) {\n                                    if (channel && channel.indexOf('-pnpres') >= 0 \n                                        && channel2.indexOf('-pnpres') < 0) {\n                                        channel2 += '-pnpres';\n                                    }\n                                    chobj = CHANNEL_GROUPS[channel2] || CHANNELS[channel2] || {'callback' : function(){}};\n                                } else {\n                                    chobj = CHANNELS[channel];\n                                }\n\n                                var r = [\n                                    chobj\n                                    .callback||SUB_CALLBACK,\n                                    channel.split(PRESENCE_SUFFIX)[0]\n                                ];\n                                channel2 && r.push(channel2.split(PRESENCE_SUFFIX)[0]);\n                                return r;\n                            };\n                        })();\n\n                        var latency = detect_latency(+messages[1]);\n                        each( messages[0], function(msg) {\n                            var next = next_callback();\n                            var decrypted_msg = decrypt(msg,\n                                (CHANNELS[next[1]])?CHANNELS[next[1]]['cipher_key']:null);\n                            next[0] && next[0]( decrypted_msg, messages, next[2] || next[1], latency, next[1]);\n                        });\n\n                        timeout( _connect, windowing );\n                    }\n                });\n            }\n\n            CONNECT = function() {\n                _reset_offline();\n                timeout( _connect, windowing );\n            };\n\n            // Reduce Status Flicker\n            if (!READY) return READY_BUFFER.push(CONNECT);\n\n            // Connect Now\n            CONNECT();\n        },\n\n        /*\n            PUBNUB.here_now({ channel : 'my_chat', callback : fun });\n        */\n        'here_now' : function( args, callback ) {\n            var callback = args['callback'] || callback\n            ,   err      = args['error']    || function(){}\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   channel  = args['channel']\n            ,   channel_group = args['channel_group']\n            ,   jsonp    = jsonp_cb()\n            ,   uuids    = ('uuids' in args) ? args['uuids'] : true\n            ,   state    = args['state']\n            ,   data     = { 'uuid' : UUID, 'auth' : auth_key };\n\n            if (!uuids) data['disable_uuids'] = 1;\n            if (state) data['state'] = 1;\n\n            // Make sure we have a Channel\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            var url = [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub_key', SUBSCRIBE_KEY\n                ];\n\n            channel && url.push('channel') && url.push(encode(channel));\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            if (channel_group) {\n                data['channel-group'] = channel_group;\n                !channel && url.push('channel') && url.push(','); \n            }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n        },\n\n        /*\n            PUBNUB.current_channels_by_uuid({ channel : 'my_chat', callback : fun });\n        */\n        'where_now' : function( args, callback ) {\n            var callback = args['callback'] || callback\n            ,   err      = args['error']    || function(){}\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   jsonp    = jsonp_cb()\n            ,   uuid     = args['uuid']     || UUID\n            ,   data     = { 'auth' : auth_key };\n\n            // Make sure we have a Channel\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub_key', SUBSCRIBE_KEY,\n                    'uuid', encode(uuid)\n                ]\n            });\n        },\n\n        'state' : function(args, callback) {\n            var callback = args['callback'] || callback || function(r) {}\n            ,   err      = args['error']    || function(){}\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   jsonp    = jsonp_cb()\n            ,   state    = args['state']\n            ,   uuid     = args['uuid'] || UUID\n            ,   channel  = args['channel']\n            ,   channel_group = args['channel_group']\n            ,   url\n            ,   data     = _get_url_params({ 'auth' : auth_key });\n\n            // Make sure we have a Channel\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n            if (!uuid) return error('Missing UUID');\n            if (!channel && !channel_group) return error('Missing Channel');\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            if (typeof channel != 'undefined'\n                && CHANNELS[channel] && CHANNELS[channel].subscribed ) {\n                if (state) STATE[channel] = state;\n            }\n\n            if (typeof channel_group != 'undefined'\n                && CHANNEL_GROUPS[channel_group]\n                && CHANNEL_GROUPS[channel_group].subscribed\n                ) {\n                if (state) STATE[channel_group] = state;\n                data['channel-group'] = channel_group;\n\n                if (!channel) {\n                    channel = ',';\n                }\n            }\n\n            data['state'] = JSON.stringify(state);\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            if (state) {\n                url      = [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub-key', SUBSCRIBE_KEY,\n                    'channel', channel,\n                    'uuid', uuid, 'data'\n                ]\n            } else {\n                url      = [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub-key', SUBSCRIBE_KEY,\n                    'channel', channel,\n                    'uuid', encode(uuid)\n                ]\n            }\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n\n            });\n\n        },\n\n        /*\n            PUBNUB.grant({\n                channel  : 'my_chat',\n                callback : fun,\n                error    : fun,\n                ttl      : 24 * 60, // Minutes\n                read     : true,\n                write    : true,\n                auth_key : '3y8uiajdklytowsj'\n            });\n        */\n        'grant' : function( args, callback ) {\n            var callback        = args['callback'] || callback\n            ,   err             = args['error']    || function(){}\n            ,   channel         = args['channel']\n            ,   channel_group   = args['channel_group']\n            ,   jsonp           = jsonp_cb()\n            ,   ttl             = args['ttl']\n            ,   r               = (args['read'] )?\"1\":\"0\"\n            ,   w               = (args['write'])?\"1\":\"0\"\n            ,   m               = (args['manage'])?\"1\":\"0\"\n            ,   auth_key        = args['auth_key'];\n\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SECRET_KEY)    return error('Missing Secret Key');\n\n            var timestamp  = Math.floor(new Date().getTime() / 1000)\n            ,   sign_input = SUBSCRIBE_KEY + \"\\n\" + PUBLISH_KEY + \"\\n\"\n                    + \"grant\" + \"\\n\";\n\n            var data = {\n                'w'         : w,\n                'r'         : r,\n                'timestamp' : timestamp\n            };\n            if (args['manage']) {\n                data['m'] = m;\n            }\n            if (typeof channel != 'undefined' && channel != null && channel.length > 0) data['channel'] = channel;\n            if (typeof channel_group != 'undefined' && channel_group != null && channel_group.length > 0) {\n                data['channel-group'] = channel_group;\n            }\n            if (jsonp != '0') { data['callback'] = jsonp; }\n            if (ttl || ttl === 0) data['ttl'] = ttl;\n\n            if (auth_key) data['auth'] = auth_key;\n\n            data = _get_url_params(data)\n\n            if (!auth_key) delete data['auth'];\n\n            sign_input += _get_pam_sign_input_from_params(data);\n\n            var signature = hmac_SHA256( sign_input, SECRET_KEY );\n\n            signature = signature.replace( /\\+/g, \"-\" );\n            signature = signature.replace( /\\//g, \"_\" );\n\n            data['signature'] = signature;\n\n            xdr({\n                callback : jsonp,\n                data     : data,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v1', 'auth', 'grant' ,\n                    'sub-key', SUBSCRIBE_KEY\n                ]\n            });\n        },\n\n        /*\n         PUBNUB.mobile_gw_provision ({\n         device_id: 'A655FBA9931AB',\n         op       : 'add' | 'remove',\n         gw_type  : 'apns' | 'gcm',\n         channel  : 'my_chat',\n         callback : fun,\n         error    : fun,\n         });\n         */\n\n        'mobile_gw_provision' : function( args ) {\n\n            var callback = args['callback'] || function(){}\n                ,   auth_key       = args['auth_key'] || AUTH_KEY\n                ,   err            = args['error'] || function() {}\n                ,   jsonp          = jsonp_cb()\n                ,   channel        = args['channel']\n                ,   op             = args['op']\n                ,   gw_type        = args['gw_type']\n                ,   device_id      = args['device_id']\n                ,   url;\n\n            if (!device_id)     return error('Missing Device ID (device_id)');\n            if (!gw_type)       return error('Missing GW Type (gw_type: gcm or apns)');\n            if (!op)            return error('Missing GW Operation (op: add or remove)');\n            if (!channel)       return error('Missing gw destination Channel (channel)');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            // Create URL\n            url = [\n                STD_ORIGIN, 'v1/push/sub-key',\n                SUBSCRIBE_KEY, 'devices', device_id\n            ];\n\n            params = { 'uuid' : UUID, 'auth' : auth_key, 'type': gw_type};\n\n            if (op == \"add\") {\n                params['add'] = channel;\n            } else if (op == \"remove\") {\n                params['remove'] = channel;\n            }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : params,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n\n        },\n\n        /*\n            PUBNUB.audit({\n                channel  : 'my_chat',\n                callback : fun,\n                error    : fun,\n                read     : true,\n                write    : true,\n                auth_key : '3y8uiajdklytowsj'\n            });\n        */\n        'audit' : function( args, callback ) {\n            var callback        = args['callback'] || callback\n            ,   err             = args['error']    || function(){}\n            ,   channel         = args['channel']\n            ,   channel_group   = args['channel_group']\n            ,   auth_key        = args['auth_key']\n            ,   jsonp           = jsonp_cb();\n\n            // Make sure we have a Channel\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SECRET_KEY)    return error('Missing Secret Key');\n\n            var timestamp  = Math.floor(new Date().getTime() / 1000)\n            ,   sign_input = SUBSCRIBE_KEY + \"\\n\"\n                + PUBLISH_KEY + \"\\n\"\n                + \"audit\" + \"\\n\";\n\n            var data = {'timestamp' : timestamp };\n            if (jsonp != '0') { data['callback'] = jsonp; }\n            if (typeof channel != 'undefined' && channel != null && channel.length > 0) data['channel'] = channel;\n            if (typeof channel_group != 'undefined' && channel_group != null && channel_group.length > 0) {\n                data['channel-group'] = channel_group;\n            }\n            if (auth_key) data['auth']    = auth_key;\n\n            data = _get_url_params(data);\n\n            if (!auth_key) delete data['auth'];\n\n            sign_input += _get_pam_sign_input_from_params(data);\n\n            var signature = hmac_SHA256( sign_input, SECRET_KEY );\n\n            signature = signature.replace( /\\+/g, \"-\" );\n            signature = signature.replace( /\\//g, \"_\" );\n\n            data['signature'] = signature;\n            xdr({\n                callback : jsonp,\n                data     : data,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v1', 'auth', 'audit' ,\n                    'sub-key', SUBSCRIBE_KEY\n                ]\n            });\n        },\n\n        /*\n            PUBNUB.revoke({\n                channel  : 'my_chat',\n                callback : fun,\n                error    : fun,\n                auth_key : '3y8uiajdklytowsj'\n            });\n        */\n        'revoke' : function( args, callback ) {\n            args['read']  = false;\n            args['write'] = false;\n            SELF['grant']( args, callback );\n        },\n        'set_uuid' : function(uuid) {\n            UUID = uuid;\n            CONNECT();\n        },\n        'get_uuid' : function() {\n            return UUID;\n        },\n        'isArray'  : function(arg) {\n            return isArray(arg);\n        },\n        'get_subscibed_channels' : function() {\n            return generate_channel_list(CHANNELS, true);\n        },\n        'presence_heartbeat' : function(args) {\n            var callback = args['callback'] || function() {}\n            var err      = args['error']    || function() {}\n            var jsonp    = jsonp_cb();\n            var data     = { 'uuid' : UUID, 'auth' : AUTH_KEY };\n\n            var st = JSON['stringify'](STATE);\n            if (st.length > 2) data['state'] = JSON['stringify'](STATE);\n\n            if (PRESENCE_HB > 0 && PRESENCE_HB < 320) data['heartbeat'] = PRESENCE_HB;\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            var channels        = encode(generate_channel_list(CHANNELS, true)['join'](','));\n            var channel_groups  = generate_channel_group_list(CHANNEL_GROUPS, true)['join'](',');\n\n            if (!channels) channels = ',';\n            if (channel_groups) data['channel-group'] = channel_groups;\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                timeout  : SECOND * 5,\n                url      : [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub-key', SUBSCRIBE_KEY,\n                    'channel' , channels,\n                    'heartbeat'\n                ],\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) { _invoke_error(response, err); }\n            });\n        },\n        'stop_timers': function () {\n            clearTimeout(_poll_timer);\n            clearTimeout(_poll_timer2);\n        },\n\n        // Expose PUBNUB Functions\n        'xdr'           : xdr,\n        'ready'         : ready,\n        'db'            : db,\n        'uuid'          : generate_uuid,\n        'map'           : map,\n        'each'          : each,\n        'each-channel'  : each_channel,\n        'grep'          : grep,\n        'offline'       : function(){ _reset_offline(\n            1, { \"message\" : \"Offline. Please check your network settings.\" })\n        },\n        'supplant'      : supplant,\n        'now'           : rnow,\n        'unique'        : unique,\n        'updater'       : updater\n    };\n\n    function _poll_online() {\n        _is_online() || _reset_offline( 1, {\n            \"error\" : \"Offline. Please check your network settings. \"\n        });\n        _poll_timer && clearTimeout(_poll_timer);\n        _poll_timer = timeout( _poll_online, SECOND );\n    }\n\n    function _poll_online2() {\n        if (!TIME_CHECK) return;\n        SELF['time'](function(success){\n            detect_time_detla( function(){}, success );\n            success || _reset_offline( 1, {\n                \"error\" : \"Heartbeat failed to connect to Pubnub Servers.\" +\n                    \"Please check your network settings.\"\n                });\n            _poll_timer2 && clearTimeout(_poll_timer2);\n            _poll_timer2 = timeout( _poll_online2, KEEPALIVE );\n        });\n    }\n\n    function _reset_offline(err, msg) {\n        SUB_RECEIVER && SUB_RECEIVER(err, msg);\n        SUB_RECEIVER = null;\n\n        clearTimeout(_poll_timer);\n        clearTimeout(_poll_timer2);\n    }\n    \n    if (!UUID) UUID = SELF['uuid']();\n    if (!INSTANCEID) INSTANCEID = SELF['uuid']();\n    db['set']( SUBSCRIBE_KEY + 'uuid', UUID );\n\n    _poll_timer  = timeout( _poll_online,  SECOND    );\n    _poll_timer2 = timeout( _poll_online2, KEEPALIVE );\n    PRESENCE_HB_TIMEOUT = timeout(\n        start_presence_heartbeat,\n        ( PRESENCE_HB_INTERVAL - 3 ) * SECOND\n    );\n\n    // Detect Age of Message\n    function detect_latency(tt) {\n        var adjusted_time = rnow() - TIME_DRIFT;\n        return adjusted_time - tt / 10000;\n    }\n\n    detect_time_detla();\n    function detect_time_detla( cb, time ) {\n        var stime = rnow();\n\n        time && calculate(time) || SELF['time'](calculate);\n\n        function calculate(time) {\n            if (!time) return;\n            var ptime   = time / 10000\n            ,   latency = (rnow() - stime) / 2;\n            TIME_DRIFT = rnow() - (ptime + latency);\n            cb && cb(TIME_DRIFT);\n        }\n    }\n\n    return SELF;\n}\n\nvar CRYPTO = (function(){\n    var Nr = 14,\n    /* Default to 256 Bit Encryption */\n    Nk = 8,\n    Decrypt = false,\n\n    enc_utf8 = function(s)\n    {\n        try {\n            return unescape(encodeURIComponent(s));\n        }\n        catch(e) {\n            throw 'Error on UTF-8 encode';\n        }\n    },\n\n    dec_utf8 = function(s)\n    {\n        try {\n            return decodeURIComponent(escape(s));\n        }\n        catch(e) {\n            throw ('Bad Key');\n        }\n    },\n\n    padBlock = function(byteArr)\n    {\n        var array = [], cpad, i;\n        if (byteArr.length < 16) {\n            cpad = 16 - byteArr.length;\n            array = [cpad, cpad, cpad, cpad, cpad, cpad, cpad, cpad, cpad, cpad, cpad, cpad, cpad, cpad, cpad, cpad];\n        }\n        for (i = 0; i < byteArr.length; i++)\n        {\n            array[i] = byteArr[i];\n        }\n        return array;\n    },\n\n    block2s = function(block, lastBlock)\n    {\n        var string = '', padding, i;\n        if (lastBlock) {\n            padding = block[15];\n            if (padding > 16) {\n                throw ('Decryption error: Maybe bad key');\n            }\n            if (padding == 16) {\n                return '';\n            }\n            for (i = 0; i < 16 - padding; i++) {\n                string += String.fromCharCode(block[i]);\n            }\n        } else {\n            for (i = 0; i < 16; i++) {\n                string += String.fromCharCode(block[i]);\n            }\n        }\n        return string;\n    },\n\n    a2h = function(numArr)\n    {\n        var string = '', i;\n        for (i = 0; i < numArr.length; i++) {\n            string += (numArr[i] < 16 ? '0': '') + numArr[i].toString(16);\n        }\n        return string;\n    },\n\n    h2a = function(s)\n    {\n        var ret = [];\n        s.replace(/(..)/g,\n        function(s) {\n            ret.push(parseInt(s, 16));\n        });\n        return ret;\n    },\n\n    s2a = function(string, binary) {\n        var array = [], i;\n\n        if (! binary) {\n            string = enc_utf8(string);\n        }\n\n        for (i = 0; i < string.length; i++)\n        {\n            array[i] = string.charCodeAt(i);\n        }\n\n        return array;\n    },\n\n    size = function(newsize)\n    {\n        switch (newsize)\n        {\n        case 128:\n            Nr = 10;\n            Nk = 4;\n            break;\n        case 192:\n            Nr = 12;\n            Nk = 6;\n            break;\n        case 256:\n            Nr = 14;\n            Nk = 8;\n            break;\n        default:\n            throw ('Invalid Key Size Specified:' + newsize);\n        }\n    },\n\n    randArr = function(num) {\n        var result = [], i;\n        for (i = 0; i < num; i++) {\n            result = result.concat(Math.floor(Math.random() * 256));\n        }\n        return result;\n    },\n\n    openSSLKey = function(passwordArr, saltArr) {\n        // Number of rounds depends on the size of the AES in use\n        // 3 rounds for 256\n        //        2 rounds for the key, 1 for the IV\n        // 2 rounds for 128\n        //        1 round for the key, 1 round for the IV\n        // 3 rounds for 192 since it's not evenly divided by 128 bits\n        var rounds = Nr >= 12 ? 3: 2,\n        key = [],\n        iv = [],\n        md5_hash = [],\n        result = [],\n        data00 = passwordArr.concat(saltArr),\n        i;\n        md5_hash[0] = GibberishAES.Hash.MD5(data00);\n        result = md5_hash[0];\n        for (i = 1; i < rounds; i++) {\n            md5_hash[i] = GibberishAES.Hash.MD5(md5_hash[i - 1].concat(data00));\n            result = result.concat(md5_hash[i]);\n        }\n        key = result.slice(0, 4 * Nk);\n        iv = result.slice(4 * Nk, 4 * Nk + 16);\n        return {\n            key: key,\n            iv: iv\n        };\n    },\n\n    rawEncrypt = function(plaintext, key, iv) {\n        // plaintext, key and iv as byte arrays\n        key = expandKey(key);\n        var numBlocks = Math.ceil(plaintext.length / 16),\n        blocks = [],\n        i,\n        cipherBlocks = [];\n        for (i = 0; i < numBlocks; i++) {\n            blocks[i] = padBlock(plaintext.slice(i * 16, i * 16 + 16));\n        }\n        if (plaintext.length % 16 === 0) {\n            blocks.push([16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16]);\n            // CBC OpenSSL padding scheme\n            numBlocks++;\n        }\n        for (i = 0; i < blocks.length; i++) {\n            blocks[i] = (i === 0) ? xorBlocks(blocks[i], iv) : xorBlocks(blocks[i], cipherBlocks[i - 1]);\n            cipherBlocks[i] = encryptBlock(blocks[i], key);\n        }\n        return cipherBlocks;\n    },\n\n    rawDecrypt = function(cryptArr, key, iv, binary) {\n        //  cryptArr, key and iv as byte arrays\n        key = expandKey(key);\n        var numBlocks = cryptArr.length / 16,\n        cipherBlocks = [],\n        i,\n        plainBlocks = [],\n        string = '';\n        for (i = 0; i < numBlocks; i++) {\n            cipherBlocks.push(cryptArr.slice(i * 16, (i + 1) * 16));\n        }\n        for (i = cipherBlocks.length - 1; i >= 0; i--) {\n            plainBlocks[i] = decryptBlock(cipherBlocks[i], key);\n            plainBlocks[i] = (i === 0) ? xorBlocks(plainBlocks[i], iv) : xorBlocks(plainBlocks[i], cipherBlocks[i - 1]);\n        }\n        for (i = 0; i < numBlocks - 1; i++) {\n            string += block2s(plainBlocks[i]);\n        }\n        string += block2s(plainBlocks[i], true);\n        return binary ? string : dec_utf8(string);\n    },\n\n    encryptBlock = function(block, words) {\n        Decrypt = false;\n        var state = addRoundKey(block, words, 0),\n        round;\n        for (round = 1; round < (Nr + 1); round++) {\n            state = subBytes(state);\n            state = shiftRows(state);\n            if (round < Nr) {\n                state = mixColumns(state);\n            }\n            //last round? don't mixColumns\n            state = addRoundKey(state, words, round);\n        }\n\n        return state;\n    },\n\n    decryptBlock = function(block, words) {\n        Decrypt = true;\n        var state = addRoundKey(block, words, Nr),\n        round;\n        for (round = Nr - 1; round > -1; round--) {\n            state = shiftRows(state);\n            state = subBytes(state);\n            state = addRoundKey(state, words, round);\n            if (round > 0) {\n                state = mixColumns(state);\n            }\n            //last round? don't mixColumns\n        }\n\n        return state;\n    },\n\n    subBytes = function(state) {\n        var S = Decrypt ? SBoxInv: SBox,\n        temp = [],\n        i;\n        for (i = 0; i < 16; i++) {\n            temp[i] = S[state[i]];\n        }\n        return temp;\n    },\n\n    shiftRows = function(state) {\n        var temp = [],\n        shiftBy = Decrypt ? [0, 13, 10, 7, 4, 1, 14, 11, 8, 5, 2, 15, 12, 9, 6, 3] : [0, 5, 10, 15, 4, 9, 14, 3, 8, 13, 2, 7, 12, 1, 6, 11],\n        i;\n        for (i = 0; i < 16; i++) {\n            temp[i] = state[shiftBy[i]];\n        }\n        return temp;\n    },\n\n    mixColumns = function(state) {\n        var t = [],\n        c;\n        if (!Decrypt) {\n            for (c = 0; c < 4; c++) {\n                t[c * 4] = G2X[state[c * 4]] ^ G3X[state[1 + c * 4]] ^ state[2 + c * 4] ^ state[3 + c * 4];\n                t[1 + c * 4] = state[c * 4] ^ G2X[state[1 + c * 4]] ^ G3X[state[2 + c * 4]] ^ state[3 + c * 4];\n                t[2 + c * 4] = state[c * 4] ^ state[1 + c * 4] ^ G2X[state[2 + c * 4]] ^ G3X[state[3 + c * 4]];\n                t[3 + c * 4] = G3X[state[c * 4]] ^ state[1 + c * 4] ^ state[2 + c * 4] ^ G2X[state[3 + c * 4]];\n            }\n        }else {\n            for (c = 0; c < 4; c++) {\n                t[c*4] = GEX[state[c*4]] ^ GBX[state[1+c*4]] ^ GDX[state[2+c*4]] ^ G9X[state[3+c*4]];\n                t[1+c*4] = G9X[state[c*4]] ^ GEX[state[1+c*4]] ^ GBX[state[2+c*4]] ^ GDX[state[3+c*4]];\n                t[2+c*4] = GDX[state[c*4]] ^ G9X[state[1+c*4]] ^ GEX[state[2+c*4]] ^ GBX[state[3+c*4]];\n                t[3+c*4] = GBX[state[c*4]] ^ GDX[state[1+c*4]] ^ G9X[state[2+c*4]] ^ GEX[state[3+c*4]];\n            }\n        }\n\n        return t;\n    },\n\n    addRoundKey = function(state, words, round) {\n        var temp = [],\n        i;\n        for (i = 0; i < 16; i++) {\n            temp[i] = state[i] ^ words[round][i];\n        }\n        return temp;\n    },\n\n    xorBlocks = function(block1, block2) {\n        var temp = [],\n        i;\n        for (i = 0; i < 16; i++) {\n            temp[i] = block1[i] ^ block2[i];\n        }\n        return temp;\n    },\n\n    expandKey = function(key) {\n        // Expects a 1d number array\n        var w = [],\n        temp = [],\n        i,\n        r,\n        t,\n        flat = [],\n        j;\n\n        for (i = 0; i < Nk; i++) {\n            r = [key[4 * i], key[4 * i + 1], key[4 * i + 2], key[4 * i + 3]];\n            w[i] = r;\n        }\n\n        for (i = Nk; i < (4 * (Nr + 1)); i++) {\n            w[i] = [];\n            for (t = 0; t < 4; t++) {\n                temp[t] = w[i - 1][t];\n            }\n            if (i % Nk === 0) {\n                temp = subWord(rotWord(temp));\n                temp[0] ^= Rcon[i / Nk - 1];\n            } else if (Nk > 6 && i % Nk == 4) {\n                temp = subWord(temp);\n            }\n            for (t = 0; t < 4; t++) {\n                w[i][t] = w[i - Nk][t] ^ temp[t];\n            }\n        }\n        for (i = 0; i < (Nr + 1); i++) {\n            flat[i] = [];\n            for (j = 0; j < 4; j++) {\n                flat[i].push(w[i * 4 + j][0], w[i * 4 + j][1], w[i * 4 + j][2], w[i * 4 + j][3]);\n            }\n        }\n        return flat;\n    },\n\n    subWord = function(w) {\n        // apply SBox to 4-byte word w\n        for (var i = 0; i < 4; i++) {\n            w[i] = SBox[w[i]];\n        }\n        return w;\n    },\n\n    rotWord = function(w) {\n        // rotate 4-byte word w left by one byte\n        var tmp = w[0],\n        i;\n        for (i = 0; i < 4; i++) {\n            w[i] = w[i + 1];\n        }\n        w[3] = tmp;\n        return w;\n    },\n\n// jlcooke: 2012-07-12: added strhex + invertArr to compress G2X/G3X/G9X/GBX/GEX/SBox/SBoxInv/Rcon saving over 7KB, and added encString, decString\n    strhex = function(str,size) {\n        var ret = [];\n        for (i=0; i<str.length; i+=size)\n            ret[i/size] = parseInt(str.substr(i,size), 16);\n        return ret;\n    },\n    invertArr = function(arr) {\n        var ret = [];\n        for (i=0; i<arr.length; i++)\n            ret[arr[i]] = i;\n        return ret;\n    },\n    Gxx = function(a, b) {\n        var i, ret;\n\n        ret = 0;\n        for (i=0; i<8; i++) {\n            ret = ((b&1)==1) ? ret^a : ret;\n            /* xmult */\n            a = (a>0x7f) ? 0x11b^(a<<1) : (a<<1);\n            b >>>= 1;\n        }\n\n        return ret;\n    },\n    Gx = function(x) {\n        var r = [];\n        for (var i=0; i<256; i++)\n            r[i] = Gxx(x, i);\n        return r;\n    },\n\n    // S-box\n/*\n    SBox = [\n    99, 124, 119, 123, 242, 107, 111, 197, 48, 1, 103, 43, 254, 215, 171,\n    118, 202, 130, 201, 125, 250, 89, 71, 240, 173, 212, 162, 175, 156, 164,\n    114, 192, 183, 253, 147, 38, 54, 63, 247, 204, 52, 165, 229, 241, 113,\n    216, 49, 21, 4, 199, 35, 195, 24, 150, 5, 154, 7, 18, 128, 226,\n    235, 39, 178, 117, 9, 131, 44, 26, 27, 110, 90, 160, 82, 59, 214,\n    179, 41, 227, 47, 132, 83, 209, 0, 237, 32, 252, 177, 91, 106, 203,\n    190, 57, 74, 76, 88, 207, 208, 239, 170, 251, 67, 77, 51, 133, 69,\n    249, 2, 127, 80, 60, 159, 168, 81, 163, 64, 143, 146, 157, 56, 245,\n    188, 182, 218, 33, 16, 255, 243, 210, 205, 12, 19, 236, 95, 151, 68,\n    23, 196, 167, 126, 61, 100, 93, 25, 115, 96, 129, 79, 220, 34, 42,\n    144, 136, 70, 238, 184, 20, 222, 94, 11, 219, 224, 50, 58, 10, 73,\n    6, 36, 92, 194, 211, 172, 98, 145, 149, 228, 121, 231, 200, 55, 109,\n    141, 213, 78, 169, 108, 86, 244, 234, 101, 122, 174, 8, 186, 120, 37,\n    46, 28, 166, 180, 198, 232, 221, 116, 31, 75, 189, 139, 138, 112, 62,\n    181, 102, 72, 3, 246, 14, 97, 53, 87, 185, 134, 193, 29, 158, 225,\n    248, 152, 17, 105, 217, 142, 148, 155, 30, 135, 233, 206, 85, 40, 223,\n    140, 161, 137, 13, 191, 230, 66, 104, 65, 153, 45, 15, 176, 84, 187,\n    22], //*/ SBox = strhex('637c777bf26b6fc53001672bfed7ab76ca82c97dfa5947f0add4a2af9ca472c0b7fd9326363ff7cc34a5e5f171d8311504c723c31896059a071280e2eb27b27509832c1a1b6e5aa0523bd6b329e32f8453d100ed20fcb15b6acbbe394a4c58cfd0efaafb434d338545f9027f503c9fa851a3408f929d38f5bcb6da2110fff3d2cd0c13ec5f974417c4a77e3d645d197360814fdc222a908846eeb814de5e0bdbe0323a0a4906245cc2d3ac629195e479e7c8376d8dd54ea96c56f4ea657aae08ba78252e1ca6b4c6e8dd741f4bbd8b8a703eb5664803f60e613557b986c11d9ee1f8981169d98e949b1e87e9ce5528df8ca1890dbfe6426841992d0fb054bb16',2),\n\n    // Precomputed lookup table for the inverse SBox\n/*    SBoxInv = [\n    82, 9, 106, 213, 48, 54, 165, 56, 191, 64, 163, 158, 129, 243, 215,\n    251, 124, 227, 57, 130, 155, 47, 255, 135, 52, 142, 67, 68, 196, 222,\n    233, 203, 84, 123, 148, 50, 166, 194, 35, 61, 238, 76, 149, 11, 66,\n    250, 195, 78, 8, 46, 161, 102, 40, 217, 36, 178, 118, 91, 162, 73,\n    109, 139, 209, 37, 114, 248, 246, 100, 134, 104, 152, 22, 212, 164, 92,\n    204, 93, 101, 182, 146, 108, 112, 72, 80, 253, 237, 185, 218, 94, 21,\n    70, 87, 167, 141, 157, 132, 144, 216, 171, 0, 140, 188, 211, 10, 247,\n    228, 88, 5, 184, 179, 69, 6, 208, 44, 30, 143, 202, 63, 15, 2,\n    193, 175, 189, 3, 1, 19, 138, 107, 58, 145, 17, 65, 79, 103, 220,\n    234, 151, 242, 207, 206, 240, 180, 230, 115, 150, 172, 116, 34, 231, 173,\n    53, 133, 226, 249, 55, 232, 28, 117, 223, 110, 71, 241, 26, 113, 29,\n    41, 197, 137, 111, 183, 98, 14, 170, 24, 190, 27, 252, 86, 62, 75,\n    198, 210, 121, 32, 154, 219, 192, 254, 120, 205, 90, 244, 31, 221, 168,\n    51, 136, 7, 199, 49, 177, 18, 16, 89, 39, 128, 236, 95, 96, 81,\n    127, 169, 25, 181, 74, 13, 45, 229, 122, 159, 147, 201, 156, 239, 160,\n    224, 59, 77, 174, 42, 245, 176, 200, 235, 187, 60, 131, 83, 153, 97,\n    23, 43, 4, 126, 186, 119, 214, 38, 225, 105, 20, 99, 85, 33, 12,\n    125], //*/ SBoxInv = invertArr(SBox),\n\n    // Rijndael Rcon\n/*\n    Rcon = [1, 2, 4, 8, 16, 32, 64, 128, 27, 54, 108, 216, 171, 77, 154, 47, 94,\n    188, 99, 198, 151, 53, 106, 212, 179, 125, 250, 239, 197, 145],\n//*/ Rcon = strhex('01020408102040801b366cd8ab4d9a2f5ebc63c697356ad4b37dfaefc591',2),\n\n/*\n    G2X = [\n    0x00, 0x02, 0x04, 0x06, 0x08, 0x0a, 0x0c, 0x0e, 0x10, 0x12, 0x14, 0x16,\n    0x18, 0x1a, 0x1c, 0x1e, 0x20, 0x22, 0x24, 0x26, 0x28, 0x2a, 0x2c, 0x2e,\n    0x30, 0x32, 0x34, 0x36, 0x38, 0x3a, 0x3c, 0x3e, 0x40, 0x42, 0x44, 0x46,\n    0x48, 0x4a, 0x4c, 0x4e, 0x50, 0x52, 0x54, 0x56, 0x58, 0x5a, 0x5c, 0x5e,\n    0x60, 0x62, 0x64, 0x66, 0x68, 0x6a, 0x6c, 0x6e, 0x70, 0x72, 0x74, 0x76,\n    0x78, 0x7a, 0x7c, 0x7e, 0x80, 0x82, 0x84, 0x86, 0x88, 0x8a, 0x8c, 0x8e,\n    0x90, 0x92, 0x94, 0x96, 0x98, 0x9a, 0x9c, 0x9e, 0xa0, 0xa2, 0xa4, 0xa6,\n    0xa8, 0xaa, 0xac, 0xae, 0xb0, 0xb2, 0xb4, 0xb6, 0xb8, 0xba, 0xbc, 0xbe,\n    0xc0, 0xc2, 0xc4, 0xc6, 0xc8, 0xca, 0xcc, 0xce, 0xd0, 0xd2, 0xd4, 0xd6,\n    0xd8, 0xda, 0xdc, 0xde, 0xe0, 0xe2, 0xe4, 0xe6, 0xe8, 0xea, 0xec, 0xee,\n    0xf0, 0xf2, 0xf4, 0xf6, 0xf8, 0xfa, 0xfc, 0xfe, 0x1b, 0x19, 0x1f, 0x1d,\n    0x13, 0x11, 0x17, 0x15, 0x0b, 0x09, 0x0f, 0x0d, 0x03, 0x01, 0x07, 0x05,\n    0x3b, 0x39, 0x3f, 0x3d, 0x33, 0x31, 0x37, 0x35, 0x2b, 0x29, 0x2f, 0x2d,\n    0x23, 0x21, 0x27, 0x25, 0x5b, 0x59, 0x5f, 0x5d, 0x53, 0x51, 0x57, 0x55,\n    0x4b, 0x49, 0x4f, 0x4d, 0x43, 0x41, 0x47, 0x45, 0x7b, 0x79, 0x7f, 0x7d,\n    0x73, 0x71, 0x77, 0x75, 0x6b, 0x69, 0x6f, 0x6d, 0x63, 0x61, 0x67, 0x65,\n    0x9b, 0x99, 0x9f, 0x9d, 0x93, 0x91, 0x97, 0x95, 0x8b, 0x89, 0x8f, 0x8d,\n    0x83, 0x81, 0x87, 0x85, 0xbb, 0xb9, 0xbf, 0xbd, 0xb3, 0xb1, 0xb7, 0xb5,\n    0xab, 0xa9, 0xaf, 0xad, 0xa3, 0xa1, 0xa7, 0xa5, 0xdb, 0xd9, 0xdf, 0xdd,\n    0xd3, 0xd1, 0xd7, 0xd5, 0xcb, 0xc9, 0xcf, 0xcd, 0xc3, 0xc1, 0xc7, 0xc5,\n    0xfb, 0xf9, 0xff, 0xfd, 0xf3, 0xf1, 0xf7, 0xf5, 0xeb, 0xe9, 0xef, 0xed,\n    0xe3, 0xe1, 0xe7, 0xe5\n    ], //*/ G2X = Gx(2),\n\n/*    G3X = [\n    0x00, 0x03, 0x06, 0x05, 0x0c, 0x0f, 0x0a, 0x09, 0x18, 0x1b, 0x1e, 0x1d,\n    0x14, 0x17, 0x12, 0x11, 0x30, 0x33, 0x36, 0x35, 0x3c, 0x3f, 0x3a, 0x39,\n    0x28, 0x2b, 0x2e, 0x2d, 0x24, 0x27, 0x22, 0x21, 0x60, 0x63, 0x66, 0x65,\n    0x6c, 0x6f, 0x6a, 0x69, 0x78, 0x7b, 0x7e, 0x7d, 0x74, 0x77, 0x72, 0x71,\n    0x50, 0x53, 0x56, 0x55, 0x5c, 0x5f, 0x5a, 0x59, 0x48, 0x4b, 0x4e, 0x4d,\n    0x44, 0x47, 0x42, 0x41, 0xc0, 0xc3, 0xc6, 0xc5, 0xcc, 0xcf, 0xca, 0xc9,\n    0xd8, 0xdb, 0xde, 0xdd, 0xd4, 0xd7, 0xd2, 0xd1, 0xf0, 0xf3, 0xf6, 0xf5,\n    0xfc, 0xff, 0xfa, 0xf9, 0xe8, 0xeb, 0xee, 0xed, 0xe4, 0xe7, 0xe2, 0xe1,\n    0xa0, 0xa3, 0xa6, 0xa5, 0xac, 0xaf, 0xaa, 0xa9, 0xb8, 0xbb, 0xbe, 0xbd,\n    0xb4, 0xb7, 0xb2, 0xb1, 0x90, 0x93, 0x96, 0x95, 0x9c, 0x9f, 0x9a, 0x99,\n    0x88, 0x8b, 0x8e, 0x8d, 0x84, 0x87, 0x82, 0x81, 0x9b, 0x98, 0x9d, 0x9e,\n    0x97, 0x94, 0x91, 0x92, 0x83, 0x80, 0x85, 0x86, 0x8f, 0x8c, 0x89, 0x8a,\n    0xab, 0xa8, 0xad, 0xae, 0xa7, 0xa4, 0xa1, 0xa2, 0xb3, 0xb0, 0xb5, 0xb6,\n    0xbf, 0xbc, 0xb9, 0xba, 0xfb, 0xf8, 0xfd, 0xfe, 0xf7, 0xf4, 0xf1, 0xf2,\n    0xe3, 0xe0, 0xe5, 0xe6, 0xef, 0xec, 0xe9, 0xea, 0xcb, 0xc8, 0xcd, 0xce,\n    0xc7, 0xc4, 0xc1, 0xc2, 0xd3, 0xd0, 0xd5, 0xd6, 0xdf, 0xdc, 0xd9, 0xda,\n    0x5b, 0x58, 0x5d, 0x5e, 0x57, 0x54, 0x51, 0x52, 0x43, 0x40, 0x45, 0x46,\n    0x4f, 0x4c, 0x49, 0x4a, 0x6b, 0x68, 0x6d, 0x6e, 0x67, 0x64, 0x61, 0x62,\n    0x73, 0x70, 0x75, 0x76, 0x7f, 0x7c, 0x79, 0x7a, 0x3b, 0x38, 0x3d, 0x3e,\n    0x37, 0x34, 0x31, 0x32, 0x23, 0x20, 0x25, 0x26, 0x2f, 0x2c, 0x29, 0x2a,\n    0x0b, 0x08, 0x0d, 0x0e, 0x07, 0x04, 0x01, 0x02, 0x13, 0x10, 0x15, 0x16,\n    0x1f, 0x1c, 0x19, 0x1a\n    ], //*/ G3X = Gx(3),\n\n/*\n    G9X = [\n    0x00, 0x09, 0x12, 0x1b, 0x24, 0x2d, 0x36, 0x3f, 0x48, 0x41, 0x5a, 0x53,\n    0x6c, 0x65, 0x7e, 0x77, 0x90, 0x99, 0x82, 0x8b, 0xb4, 0xbd, 0xa6, 0xaf,\n    0xd8, 0xd1, 0xca, 0xc3, 0xfc, 0xf5, 0xee, 0xe7, 0x3b, 0x32, 0x29, 0x20,\n    0x1f, 0x16, 0x0d, 0x04, 0x73, 0x7a, 0x61, 0x68, 0x57, 0x5e, 0x45, 0x4c,\n    0xab, 0xa2, 0xb9, 0xb0, 0x8f, 0x86, 0x9d, 0x94, 0xe3, 0xea, 0xf1, 0xf8,\n    0xc7, 0xce, 0xd5, 0xdc, 0x76, 0x7f, 0x64, 0x6d, 0x52, 0x5b, 0x40, 0x49,\n    0x3e, 0x37, 0x2c, 0x25, 0x1a, 0x13, 0x08, 0x01, 0xe6, 0xef, 0xf4, 0xfd,\n    0xc2, 0xcb, 0xd0, 0xd9, 0xae, 0xa7, 0xbc, 0xb5, 0x8a, 0x83, 0x98, 0x91,\n    0x4d, 0x44, 0x5f, 0x56, 0x69, 0x60, 0x7b, 0x72, 0x05, 0x0c, 0x17, 0x1e,\n    0x21, 0x28, 0x33, 0x3a, 0xdd, 0xd4, 0xcf, 0xc6, 0xf9, 0xf0, 0xeb, 0xe2,\n    0x95, 0x9c, 0x87, 0x8e, 0xb1, 0xb8, 0xa3, 0xaa, 0xec, 0xe5, 0xfe, 0xf7,\n    0xc8, 0xc1, 0xda, 0xd3, 0xa4, 0xad, 0xb6, 0xbf, 0x80, 0x89, 0x92, 0x9b,\n    0x7c, 0x75, 0x6e, 0x67, 0x58, 0x51, 0x4a, 0x43, 0x34, 0x3d, 0x26, 0x2f,\n    0x10, 0x19, 0x02, 0x0b, 0xd7, 0xde, 0xc5, 0xcc, 0xf3, 0xfa, 0xe1, 0xe8,\n    0x9f, 0x96, 0x8d, 0x84, 0xbb, 0xb2, 0xa9, 0xa0, 0x47, 0x4e, 0x55, 0x5c,\n    0x63, 0x6a, 0x71, 0x78, 0x0f, 0x06, 0x1d, 0x14, 0x2b, 0x22, 0x39, 0x30,\n    0x9a, 0x93, 0x88, 0x81, 0xbe, 0xb7, 0xac, 0xa5, 0xd2, 0xdb, 0xc0, 0xc9,\n    0xf6, 0xff, 0xe4, 0xed, 0x0a, 0x03, 0x18, 0x11, 0x2e, 0x27, 0x3c, 0x35,\n    0x42, 0x4b, 0x50, 0x59, 0x66, 0x6f, 0x74, 0x7d, 0xa1, 0xa8, 0xb3, 0xba,\n    0x85, 0x8c, 0x97, 0x9e, 0xe9, 0xe0, 0xfb, 0xf2, 0xcd, 0xc4, 0xdf, 0xd6,\n    0x31, 0x38, 0x23, 0x2a, 0x15, 0x1c, 0x07, 0x0e, 0x79, 0x70, 0x6b, 0x62,\n    0x5d, 0x54, 0x4f, 0x46\n    ], //*/ G9X = Gx(9),\n\n/*    GBX = [\n    0x00, 0x0b, 0x16, 0x1d, 0x2c, 0x27, 0x3a, 0x31, 0x58, 0x53, 0x4e, 0x45,\n    0x74, 0x7f, 0x62, 0x69, 0xb0, 0xbb, 0xa6, 0xad, 0x9c, 0x97, 0x8a, 0x81,\n    0xe8, 0xe3, 0xfe, 0xf5, 0xc4, 0xcf, 0xd2, 0xd9, 0x7b, 0x70, 0x6d, 0x66,\n    0x57, 0x5c, 0x41, 0x4a, 0x23, 0x28, 0x35, 0x3e, 0x0f, 0x04, 0x19, 0x12,\n    0xcb, 0xc0, 0xdd, 0xd6, 0xe7, 0xec, 0xf1, 0xfa, 0x93, 0x98, 0x85, 0x8e,\n    0xbf, 0xb4, 0xa9, 0xa2, 0xf6, 0xfd, 0xe0, 0xeb, 0xda, 0xd1, 0xcc, 0xc7,\n    0xae, 0xa5, 0xb8, 0xb3, 0x82, 0x89, 0x94, 0x9f, 0x46, 0x4d, 0x50, 0x5b,\n    0x6a, 0x61, 0x7c, 0x77, 0x1e, 0x15, 0x08, 0x03, 0x32, 0x39, 0x24, 0x2f,\n    0x8d, 0x86, 0x9b, 0x90, 0xa1, 0xaa, 0xb7, 0xbc, 0xd5, 0xde, 0xc3, 0xc8,\n    0xf9, 0xf2, 0xef, 0xe4, 0x3d, 0x36, 0x2b, 0x20, 0x11, 0x1a, 0x07, 0x0c,\n    0x65, 0x6e, 0x73, 0x78, 0x49, 0x42, 0x5f, 0x54, 0xf7, 0xfc, 0xe1, 0xea,\n    0xdb, 0xd0, 0xcd, 0xc6, 0xaf, 0xa4, 0xb9, 0xb2, 0x83, 0x88, 0x95, 0x9e,\n    0x47, 0x4c, 0x51, 0x5a, 0x6b, 0x60, 0x7d, 0x76, 0x1f, 0x14, 0x09, 0x02,\n    0x33, 0x38, 0x25, 0x2e, 0x8c, 0x87, 0x9a, 0x91, 0xa0, 0xab, 0xb6, 0xbd,\n    0xd4, 0xdf, 0xc2, 0xc9, 0xf8, 0xf3, 0xee, 0xe5, 0x3c, 0x37, 0x2a, 0x21,\n    0x10, 0x1b, 0x06, 0x0d, 0x64, 0x6f, 0x72, 0x79, 0x48, 0x43, 0x5e, 0x55,\n    0x01, 0x0a, 0x17, 0x1c, 0x2d, 0x26, 0x3b, 0x30, 0x59, 0x52, 0x4f, 0x44,\n    0x75, 0x7e, 0x63, 0x68, 0xb1, 0xba, 0xa7, 0xac, 0x9d, 0x96, 0x8b, 0x80,\n    0xe9, 0xe2, 0xff, 0xf4, 0xc5, 0xce, 0xd3, 0xd8, 0x7a, 0x71, 0x6c, 0x67,\n    0x56, 0x5d, 0x40, 0x4b, 0x22, 0x29, 0x34, 0x3f, 0x0e, 0x05, 0x18, 0x13,\n    0xca, 0xc1, 0xdc, 0xd7, 0xe6, 0xed, 0xf0, 0xfb, 0x92, 0x99, 0x84, 0x8f,\n    0xbe, 0xb5, 0xa8, 0xa3\n    ], //*/ GBX = Gx(0xb),\n\n/*\n    GDX = [\n    0x00, 0x0d, 0x1a, 0x17, 0x34, 0x39, 0x2e, 0x23, 0x68, 0x65, 0x72, 0x7f,\n    0x5c, 0x51, 0x46, 0x4b, 0xd0, 0xdd, 0xca, 0xc7, 0xe4, 0xe9, 0xfe, 0xf3,\n    0xb8, 0xb5, 0xa2, 0xaf, 0x8c, 0x81, 0x96, 0x9b, 0xbb, 0xb6, 0xa1, 0xac,\n    0x8f, 0x82, 0x95, 0x98, 0xd3, 0xde, 0xc9, 0xc4, 0xe7, 0xea, 0xfd, 0xf0,\n    0x6b, 0x66, 0x71, 0x7c, 0x5f, 0x52, 0x45, 0x48, 0x03, 0x0e, 0x19, 0x14,\n    0x37, 0x3a, 0x2d, 0x20, 0x6d, 0x60, 0x77, 0x7a, 0x59, 0x54, 0x43, 0x4e,\n    0x05, 0x08, 0x1f, 0x12, 0x31, 0x3c, 0x2b, 0x26, 0xbd, 0xb0, 0xa7, 0xaa,\n    0x89, 0x84, 0x93, 0x9e, 0xd5, 0xd8, 0xcf, 0xc2, 0xe1, 0xec, 0xfb, 0xf6,\n    0xd6, 0xdb, 0xcc, 0xc1, 0xe2, 0xef, 0xf8, 0xf5, 0xbe, 0xb3, 0xa4, 0xa9,\n    0x8a, 0x87, 0x90, 0x9d, 0x06, 0x0b, 0x1c, 0x11, 0x32, 0x3f, 0x28, 0x25,\n    0x6e, 0x63, 0x74, 0x79, 0x5a, 0x57, 0x40, 0x4d, 0xda, 0xd7, 0xc0, 0xcd,\n    0xee, 0xe3, 0xf4, 0xf9, 0xb2, 0xbf, 0xa8, 0xa5, 0x86, 0x8b, 0x9c, 0x91,\n    0x0a, 0x07, 0x10, 0x1d, 0x3e, 0x33, 0x24, 0x29, 0x62, 0x6f, 0x78, 0x75,\n    0x56, 0x5b, 0x4c, 0x41, 0x61, 0x6c, 0x7b, 0x76, 0x55, 0x58, 0x4f, 0x42,\n    0x09, 0x04, 0x13, 0x1e, 0x3d, 0x30, 0x27, 0x2a, 0xb1, 0xbc, 0xab, 0xa6,\n    0x85, 0x88, 0x9f, 0x92, 0xd9, 0xd4, 0xc3, 0xce, 0xed, 0xe0, 0xf7, 0xfa,\n    0xb7, 0xba, 0xad, 0xa0, 0x83, 0x8e, 0x99, 0x94, 0xdf, 0xd2, 0xc5, 0xc8,\n    0xeb, 0xe6, 0xf1, 0xfc, 0x67, 0x6a, 0x7d, 0x70, 0x53, 0x5e, 0x49, 0x44,\n    0x0f, 0x02, 0x15, 0x18, 0x3b, 0x36, 0x21, 0x2c, 0x0c, 0x01, 0x16, 0x1b,\n    0x38, 0x35, 0x22, 0x2f, 0x64, 0x69, 0x7e, 0x73, 0x50, 0x5d, 0x4a, 0x47,\n    0xdc, 0xd1, 0xc6, 0xcb, 0xe8, 0xe5, 0xf2, 0xff, 0xb4, 0xb9, 0xae, 0xa3,\n    0x80, 0x8d, 0x9a, 0x97\n    ], //*/ GDX = Gx(0xd),\n\n/*\n    GEX = [\n    0x00, 0x0e, 0x1c, 0x12, 0x38, 0x36, 0x24, 0x2a, 0x70, 0x7e, 0x6c, 0x62,\n    0x48, 0x46, 0x54, 0x5a, 0xe0, 0xee, 0xfc, 0xf2, 0xd8, 0xd6, 0xc4, 0xca,\n    0x90, 0x9e, 0x8c, 0x82, 0xa8, 0xa6, 0xb4, 0xba, 0xdb, 0xd5, 0xc7, 0xc9,\n    0xe3, 0xed, 0xff, 0xf1, 0xab, 0xa5, 0xb7, 0xb9, 0x93, 0x9d, 0x8f, 0x81,\n    0x3b, 0x35, 0x27, 0x29, 0x03, 0x0d, 0x1f, 0x11, 0x4b, 0x45, 0x57, 0x59,\n    0x73, 0x7d, 0x6f, 0x61, 0xad, 0xa3, 0xb1, 0xbf, 0x95, 0x9b, 0x89, 0x87,\n    0xdd, 0xd3, 0xc1, 0xcf, 0xe5, 0xeb, 0xf9, 0xf7, 0x4d, 0x43, 0x51, 0x5f,\n    0x75, 0x7b, 0x69, 0x67, 0x3d, 0x33, 0x21, 0x2f, 0x05, 0x0b, 0x19, 0x17,\n    0x76, 0x78, 0x6a, 0x64, 0x4e, 0x40, 0x52, 0x5c, 0x06, 0x08, 0x1a, 0x14,\n    0x3e, 0x30, 0x22, 0x2c, 0x96, 0x98, 0x8a, 0x84, 0xae, 0xa0, 0xb2, 0xbc,\n    0xe6, 0xe8, 0xfa, 0xf4, 0xde, 0xd0, 0xc2, 0xcc, 0x41, 0x4f, 0x5d, 0x53,\n    0x79, 0x77, 0x65, 0x6b, 0x31, 0x3f, 0x2d, 0x23, 0x09, 0x07, 0x15, 0x1b,\n    0xa1, 0xaf, 0xbd, 0xb3, 0x99, 0x97, 0x85, 0x8b, 0xd1, 0xdf, 0xcd, 0xc3,\n    0xe9, 0xe7, 0xf5, 0xfb, 0x9a, 0x94, 0x86, 0x88, 0xa2, 0xac, 0xbe, 0xb0,\n    0xea, 0xe4, 0xf6, 0xf8, 0xd2, 0xdc, 0xce, 0xc0, 0x7a, 0x74, 0x66, 0x68,\n    0x42, 0x4c, 0x5e, 0x50, 0x0a, 0x04, 0x16, 0x18, 0x32, 0x3c, 0x2e, 0x20,\n    0xec, 0xe2, 0xf0, 0xfe, 0xd4, 0xda, 0xc8, 0xc6, 0x9c, 0x92, 0x80, 0x8e,\n    0xa4, 0xaa, 0xb8, 0xb6, 0x0c, 0x02, 0x10, 0x1e, 0x34, 0x3a, 0x28, 0x26,\n    0x7c, 0x72, 0x60, 0x6e, 0x44, 0x4a, 0x58, 0x56, 0x37, 0x39, 0x2b, 0x25,\n    0x0f, 0x01, 0x13, 0x1d, 0x47, 0x49, 0x5b, 0x55, 0x7f, 0x71, 0x63, 0x6d,\n    0xd7, 0xd9, 0xcb, 0xc5, 0xef, 0xe1, 0xf3, 0xfd, 0xa7, 0xa9, 0xbb, 0xb5,\n    0x9f, 0x91, 0x83, 0x8d\n    ], //*/ GEX = Gx(0xe),\n\n    enc = function(string, pass, binary) {\n        // string, password in plaintext\n        var salt = randArr(8),\n        pbe = openSSLKey(s2a(pass, binary), salt),\n        key = pbe.key,\n        iv = pbe.iv,\n        cipherBlocks,\n        saltBlock = [[83, 97, 108, 116, 101, 100, 95, 95].concat(salt)];\n        string = s2a(string, binary);\n        cipherBlocks = rawEncrypt(string, key, iv);\n        // Spells out 'Salted__'\n        cipherBlocks = saltBlock.concat(cipherBlocks);\n        return Base64.encode(cipherBlocks);\n    },\n\n    dec = function(string, pass, binary) {\n        // string, password in plaintext\n        var cryptArr = Base64.decode(string),\n        salt = cryptArr.slice(8, 16),\n        pbe = openSSLKey(s2a(pass, binary), salt),\n        key = pbe.key,\n        iv = pbe.iv;\n        cryptArr = cryptArr.slice(16, cryptArr.length);\n        // Take off the Salted__ffeeddcc\n        string = rawDecrypt(cryptArr, key, iv, binary);\n        return string;\n    },\n\n    MD5 = function(numArr) {\n\n        function rotateLeft(lValue, iShiftBits) {\n            return (lValue << iShiftBits) | (lValue >>> (32 - iShiftBits));\n        }\n\n        function addUnsigned(lX, lY) {\n            var lX4,\n            lY4,\n            lX8,\n            lY8,\n            lResult;\n            lX8 = (lX & 0x80000000);\n            lY8 = (lY & 0x80000000);\n            lX4 = (lX & 0x40000000);\n            lY4 = (lY & 0x40000000);\n            lResult = (lX & 0x3FFFFFFF) + (lY & 0x3FFFFFFF);\n            if (lX4 & lY4) {\n                return (lResult ^ 0x80000000 ^ lX8 ^ lY8);\n            }\n            if (lX4 | lY4) {\n                if (lResult & 0x40000000) {\n                    return (lResult ^ 0xC0000000 ^ lX8 ^ lY8);\n                } else {\n                    return (lResult ^ 0x40000000 ^ lX8 ^ lY8);\n                }\n            } else {\n                return (lResult ^ lX8 ^ lY8);\n            }\n        }\n\n        function f(x, y, z) {\n            return (x & y) | ((~x) & z);\n        }\n        function g(x, y, z) {\n            return (x & z) | (y & (~z));\n        }\n        function h(x, y, z) {\n            return (x ^ y ^ z);\n        }\n        function funcI(x, y, z) {\n            return (y ^ (x | (~z)));\n        }\n\n        function ff(a, b, c, d, x, s, ac) {\n            a = addUnsigned(a, addUnsigned(addUnsigned(f(b, c, d), x), ac));\n            return addUnsigned(rotateLeft(a, s), b);\n        }\n\n        function gg(a, b, c, d, x, s, ac) {\n            a = addUnsigned(a, addUnsigned(addUnsigned(g(b, c, d), x), ac));\n            return addUnsigned(rotateLeft(a, s), b);\n        }\n\n        function hh(a, b, c, d, x, s, ac) {\n            a = addUnsigned(a, addUnsigned(addUnsigned(h(b, c, d), x), ac));\n            return addUnsigned(rotateLeft(a, s), b);\n        }\n\n        function ii(a, b, c, d, x, s, ac) {\n            a = addUnsigned(a, addUnsigned(addUnsigned(funcI(b, c, d), x), ac));\n            return addUnsigned(rotateLeft(a, s), b);\n        }\n\n        function convertToWordArray(numArr) {\n            var lWordCount,\n            lMessageLength = numArr.length,\n            lNumberOfWords_temp1 = lMessageLength + 8,\n            lNumberOfWords_temp2 = (lNumberOfWords_temp1 - (lNumberOfWords_temp1 % 64)) / 64,\n            lNumberOfWords = (lNumberOfWords_temp2 + 1) * 16,\n            lWordArray = [],\n            lBytePosition = 0,\n            lByteCount = 0;\n            while (lByteCount < lMessageLength) {\n                lWordCount = (lByteCount - (lByteCount % 4)) / 4;\n                lBytePosition = (lByteCount % 4) * 8;\n                lWordArray[lWordCount] = (lWordArray[lWordCount] | (numArr[lByteCount] << lBytePosition));\n                lByteCount++;\n            }\n            lWordCount = (lByteCount - (lByteCount % 4)) / 4;\n            lBytePosition = (lByteCount % 4) * 8;\n            lWordArray[lWordCount] = lWordArray[lWordCount] | (0x80 << lBytePosition);\n            lWordArray[lNumberOfWords - 2] = lMessageLength << 3;\n            lWordArray[lNumberOfWords - 1] = lMessageLength >>> 29;\n            return lWordArray;\n        }\n\n        function wordToHex(lValue) {\n            var lByte,\n            lCount,\n            wordToHexArr = [];\n            for (lCount = 0; lCount <= 3; lCount++) {\n                lByte = (lValue >>> (lCount * 8)) & 255;\n                wordToHexArr = wordToHexArr.concat(lByte);\n             }\n            return wordToHexArr;\n        }\n\n        /*function utf8Encode(string) {\n            string = string.replace(/\\r\\n/g, \"\\n\");\n            var utftext = \"\",\n            n,\n            c;\n\n            for (n = 0; n < string.length; n++) {\n\n                c = string.charCodeAt(n);\n\n                if (c < 128) {\n                    utftext += String.fromCharCode(c);\n                }\n                else if ((c > 127) && (c < 2048)) {\n                    utftext += String.fromCharCode((c >> 6) | 192);\n                    utftext += String.fromCharCode((c & 63) | 128);\n                }\n                else {\n                    utftext += String.fromCharCode((c >> 12) | 224);\n                    utftext += String.fromCharCode(((c >> 6) & 63) | 128);\n                    utftext += String.fromCharCode((c & 63) | 128);\n                }\n\n            }\n\n            return utftext;\n        }*/\n\n        var x = [],\n        k,\n        AA,\n        BB,\n        CC,\n        DD,\n        a,\n        b,\n        c,\n        d,\n        rnd = strhex('67452301efcdab8998badcfe10325476d76aa478e8c7b756242070dbc1bdceeef57c0faf4787c62aa8304613fd469501698098d88b44f7afffff5bb1895cd7be6b901122fd987193a679438e49b40821f61e2562c040b340265e5a51e9b6c7aad62f105d02441453d8a1e681e7d3fbc821e1cde6c33707d6f4d50d87455a14eda9e3e905fcefa3f8676f02d98d2a4c8afffa39428771f6816d9d6122fde5380ca4beea444bdecfa9f6bb4b60bebfbc70289b7ec6eaa127fad4ef308504881d05d9d4d039e6db99e51fa27cf8c4ac5665f4292244432aff97ab9423a7fc93a039655b59c38f0ccc92ffeff47d85845dd16fa87e4ffe2ce6e0a30143144e0811a1f7537e82bd3af2352ad7d2bbeb86d391',8);\n\n        x = convertToWordArray(numArr);\n\n        a = rnd[0];\n        b = rnd[1];\n        c = rnd[2];\n        d = rnd[3]\n\n        for (k = 0; k < x.length; k += 16) {\n            AA = a;\n            BB = b;\n            CC = c;\n            DD = d;\n            a = ff(a, b, c, d, x[k + 0], 7, rnd[4]);\n            d = ff(d, a, b, c, x[k + 1], 12, rnd[5]);\n            c = ff(c, d, a, b, x[k + 2], 17, rnd[6]);\n            b = ff(b, c, d, a, x[k + 3], 22, rnd[7]);\n            a = ff(a, b, c, d, x[k + 4], 7, rnd[8]);\n            d = ff(d, a, b, c, x[k + 5], 12, rnd[9]);\n            c = ff(c, d, a, b, x[k + 6], 17, rnd[10]);\n            b = ff(b, c, d, a, x[k + 7], 22, rnd[11]);\n            a = ff(a, b, c, d, x[k + 8], 7, rnd[12]);\n            d = ff(d, a, b, c, x[k + 9], 12, rnd[13]);\n            c = ff(c, d, a, b, x[k + 10], 17, rnd[14]);\n            b = ff(b, c, d, a, x[k + 11], 22, rnd[15]);\n            a = ff(a, b, c, d, x[k + 12], 7, rnd[16]);\n            d = ff(d, a, b, c, x[k + 13], 12, rnd[17]);\n            c = ff(c, d, a, b, x[k + 14], 17, rnd[18]);\n            b = ff(b, c, d, a, x[k + 15], 22, rnd[19]);\n            a = gg(a, b, c, d, x[k + 1], 5, rnd[20]);\n            d = gg(d, a, b, c, x[k + 6], 9, rnd[21]);\n            c = gg(c, d, a, b, x[k + 11], 14, rnd[22]);\n            b = gg(b, c, d, a, x[k + 0], 20, rnd[23]);\n            a = gg(a, b, c, d, x[k + 5], 5, rnd[24]);\n            d = gg(d, a, b, c, x[k + 10], 9, rnd[25]);\n            c = gg(c, d, a, b, x[k + 15], 14, rnd[26]);\n            b = gg(b, c, d, a, x[k + 4], 20, rnd[27]);\n            a = gg(a, b, c, d, x[k + 9], 5, rnd[28]);\n            d = gg(d, a, b, c, x[k + 14], 9, rnd[29]);\n            c = gg(c, d, a, b, x[k + 3], 14, rnd[30]);\n            b = gg(b, c, d, a, x[k + 8], 20, rnd[31]);\n            a = gg(a, b, c, d, x[k + 13], 5, rnd[32]);\n            d = gg(d, a, b, c, x[k + 2], 9, rnd[33]);\n            c = gg(c, d, a, b, x[k + 7], 14, rnd[34]);\n            b = gg(b, c, d, a, x[k + 12], 20, rnd[35]);\n            a = hh(a, b, c, d, x[k + 5], 4, rnd[36]);\n            d = hh(d, a, b, c, x[k + 8], 11, rnd[37]);\n            c = hh(c, d, a, b, x[k + 11], 16, rnd[38]);\n            b = hh(b, c, d, a, x[k + 14], 23, rnd[39]);\n            a = hh(a, b, c, d, x[k + 1], 4, rnd[40]);\n            d = hh(d, a, b, c, x[k + 4], 11, rnd[41]);\n            c = hh(c, d, a, b, x[k + 7], 16, rnd[42]);\n            b = hh(b, c, d, a, x[k + 10], 23, rnd[43]);\n            a = hh(a, b, c, d, x[k + 13], 4, rnd[44]);\n            d = hh(d, a, b, c, x[k + 0], 11, rnd[45]);\n            c = hh(c, d, a, b, x[k + 3], 16, rnd[46]);\n            b = hh(b, c, d, a, x[k + 6], 23, rnd[47]);\n            a = hh(a, b, c, d, x[k + 9], 4, rnd[48]);\n            d = hh(d, a, b, c, x[k + 12], 11, rnd[49]);\n            c = hh(c, d, a, b, x[k + 15], 16, rnd[50]);\n            b = hh(b, c, d, a, x[k + 2], 23, rnd[51]);\n            a = ii(a, b, c, d, x[k + 0], 6, rnd[52]);\n            d = ii(d, a, b, c, x[k + 7], 10, rnd[53]);\n            c = ii(c, d, a, b, x[k + 14], 15, rnd[54]);\n            b = ii(b, c, d, a, x[k + 5], 21, rnd[55]);\n            a = ii(a, b, c, d, x[k + 12], 6, rnd[56]);\n            d = ii(d, a, b, c, x[k + 3], 10, rnd[57]);\n            c = ii(c, d, a, b, x[k + 10], 15, rnd[58]);\n            b = ii(b, c, d, a, x[k + 1], 21, rnd[59]);\n            a = ii(a, b, c, d, x[k + 8], 6, rnd[60]);\n            d = ii(d, a, b, c, x[k + 15], 10, rnd[61]);\n            c = ii(c, d, a, b, x[k + 6], 15, rnd[62]);\n            b = ii(b, c, d, a, x[k + 13], 21, rnd[63]);\n            a = ii(a, b, c, d, x[k + 4], 6, rnd[64]);\n            d = ii(d, a, b, c, x[k + 11], 10, rnd[65]);\n            c = ii(c, d, a, b, x[k + 2], 15, rnd[66]);\n            b = ii(b, c, d, a, x[k + 9], 21, rnd[67]);\n            a = addUnsigned(a, AA);\n            b = addUnsigned(b, BB);\n            c = addUnsigned(c, CC);\n            d = addUnsigned(d, DD);\n        }\n\n        return wordToHex(a).concat(wordToHex(b), wordToHex(c), wordToHex(d));\n    },\n\n    encString = function(plaintext, key, iv) {\n        plaintext = s2a(plaintext);\n\n        key = s2a(key);\n        for (var i=key.length; i<32; i++)\n            key[i] = 0;\n\n        if (iv == null) {\n            iv = genIV();\n        } else {\n            iv = s2a(iv);\n            for (var i=iv.length; i<16; i++)\n                iv[i] = 0;\n        }\n\n        var ct = rawEncrypt(plaintext, key, iv);\n        var ret = [iv];\n        for (var i=0; i<ct.length; i++)\n            ret[ret.length] = ct[i];\n        return Base64.encode(ret);\n    },\n\n    decString = function(ciphertext, key) {\n        var tmp = Base64.decode(ciphertext);\n        var iv = tmp.slice(0, 16);\n        var ct = tmp.slice(16, tmp.length);\n\n        key = s2a(key);\n        for (var i=key.length; i<32; i++)\n            key[i] = 0;\n\n        var pt = rawDecrypt(ct, key, iv, false);\n        return pt;\n    },\n\n    Base64 = (function(){\n        // Takes a Nx16x1 byte array and converts it to Base64\n        var _chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n        chars = _chars.split(''),\n\n        encode = function(b, withBreaks) {\n            var flatArr = [],\n            b64 = '',\n            i,\n            broken_b64;\n            var totalChunks = Math.floor(b.length * 16 / 3);\n            for (i = 0; i < b.length * 16; i++) {\n                flatArr.push(b[Math.floor(i / 16)][i % 16]);\n            }\n            for (i = 0; i < flatArr.length; i = i + 3) {\n                b64 += chars[flatArr[i] >> 2];\n                b64 += chars[((flatArr[i] & 3) << 4) | (flatArr[i + 1] >> 4)];\n                if (! (flatArr[i + 1] === undefined)) {\n                    b64 += chars[((flatArr[i + 1] & 15) << 2) | (flatArr[i + 2] >> 6)];\n                } else {\n                    b64 += '=';\n                }\n                if (! (flatArr[i + 2] === undefined)) {\n                    b64 += chars[flatArr[i + 2] & 63];\n                } else {\n                    b64 += '=';\n                }\n            }\n            // OpenSSL is super particular about line breaks\n            broken_b64 = b64.slice(0, 64); // + '\\n';\n            for (i = 1; i < (Math['ceil'](b64.length / 64)); i++) {\n                broken_b64 += b64.slice(i * 64, i * 64 + 64) + (Math.ceil(b64.length / 64) == i + 1 ? '': '\\n');\n            }\n            return broken_b64;\n        },\n\n        decode = function(string) {\n            string = string['replace'](/\\n/g, '');\n            var flatArr = [],\n            c = [],\n            b = [],\n            i;\n            for (i = 0; i < string.length; i = i + 4) {\n                c[0] = _chars.indexOf(string.charAt(i));\n                c[1] = _chars.indexOf(string.charAt(i + 1));\n                c[2] = _chars.indexOf(string.charAt(i + 2));\n                c[3] = _chars.indexOf(string.charAt(i + 3));\n\n                b[0] = (c[0] << 2) | (c[1] >> 4);\n                b[1] = ((c[1] & 15) << 4) | (c[2] >> 2);\n                b[2] = ((c[2] & 3) << 6) | c[3];\n                flatArr.push(b[0], b[1], b[2]);\n            }\n            flatArr = flatArr.slice(0, flatArr.length - (flatArr.length % 16));\n            return flatArr;\n        };\n\n        //internet explorer\n        if(typeof Array.indexOf === \"function\") {\n            _chars = chars;\n        }\n\n        /*\n        //other way to solve internet explorer problem\n        if(!Array.indexOf){\n            Array.prototype.indexOf = function(obj){\n                for(var i=0; i<this.length; i++){\n                    if(this[i]===obj){\n                        return i;\n                    }\n                }\n                return -1;\n            }\n        }\n        */\n\n\n        return {\n            \"encode\": encode,\n            \"decode\": decode\n        };\n    })();\n\n    return {\n        \"size\": size,\n        \"h2a\":h2a,\n        \"expandKey\":expandKey,\n        \"encryptBlock\":encryptBlock,\n        \"decryptBlock\":decryptBlock,\n        \"Decrypt\":Decrypt,\n        \"s2a\":s2a,\n        \"rawEncrypt\":rawEncrypt,\n        \"rawDecrypt\":rawDecrypt,\n        \"dec\":dec,\n        \"openSSLKey\":openSSLKey,\n        \"a2h\":a2h,\n        \"enc\":enc,\n        \"Hash\":{\"MD5\":MD5},\n        \"Base64\":Base64\n    };\n\n})();\n\nfunction crypto_obj (){\n\n\nfunction SHA256(s) {\n\n    var chrsz = 8;\n    var hexcase = 0;\n\n    function safe_add(x, y) {\n        var lsw = (x & 0xFFFF) + (y & 0xFFFF);\n        var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n        return (msw << 16) | (lsw & 0xFFFF);\n    }\n\n    function S(X, n) {\n        return ( X >>> n ) | (X << (32 - n));\n    }\n\n    function R(X, n) {\n        return ( X >>> n );\n    }\n\n    function Ch(x, y, z) {\n        return ((x & y) ^ ((~x) & z));\n    }\n\n    function Maj(x, y, z) {\n        return ((x & y) ^ (x & z) ^ (y & z));\n    }\n\n    function Sigma0256(x) {\n        return (S(x, 2) ^ S(x, 13) ^ S(x, 22));\n    }\n\n    function Sigma1256(x) {\n        return (S(x, 6) ^ S(x, 11) ^ S(x, 25));\n    }\n\n    function Gamma0256(x) {\n        return (S(x, 7) ^ S(x, 18) ^ R(x, 3));\n    }\n\n    function Gamma1256(x) {\n        return (S(x, 17) ^ S(x, 19) ^ R(x, 10));\n    }\n\n    function core_sha256(m, l) {\n        var K = new Array(0x428A2F98, 0x71374491, 0xB5C0FBCF, 0xE9B5DBA5, 0x3956C25B, 0x59F111F1, 0x923F82A4, 0xAB1C5ED5, 0xD807AA98, 0x12835B01, 0x243185BE, 0x550C7DC3, 0x72BE5D74, 0x80DEB1FE, 0x9BDC06A7, 0xC19BF174, 0xE49B69C1, 0xEFBE4786, 0xFC19DC6, 0x240CA1CC, 0x2DE92C6F, 0x4A7484AA, 0x5CB0A9DC, 0x76F988DA, 0x983E5152, 0xA831C66D, 0xB00327C8, 0xBF597FC7, 0xC6E00BF3, 0xD5A79147, 0x6CA6351, 0x14292967, 0x27B70A85, 0x2E1B2138, 0x4D2C6DFC, 0x53380D13, 0x650A7354, 0x766A0ABB, 0x81C2C92E, 0x92722C85, 0xA2BFE8A1, 0xA81A664B, 0xC24B8B70, 0xC76C51A3, 0xD192E819, 0xD6990624, 0xF40E3585, 0x106AA070, 0x19A4C116, 0x1E376C08, 0x2748774C, 0x34B0BCB5, 0x391C0CB3, 0x4ED8AA4A, 0x5B9CCA4F, 0x682E6FF3, 0x748F82EE, 0x78A5636F, 0x84C87814, 0x8CC70208, 0x90BEFFFA, 0xA4506CEB, 0xBEF9A3F7, 0xC67178F2);\n        var HASH = new Array(0x6A09E667, 0xBB67AE85, 0x3C6EF372, 0xA54FF53A, 0x510E527F, 0x9B05688C, 0x1F83D9AB, 0x5BE0CD19);\n        var W = new Array(64);\n        var a, b, c, d, e, f, g, h, i, j;\n        var T1, T2;\n\n        m[l >> 5] |= 0x80 << (24 - l % 32);\n        m[((l + 64 >> 9) << 4) + 15] = l;\n\n        for (var i = 0; i < m.length; i += 16) {\n            a = HASH[0];\n            b = HASH[1];\n            c = HASH[2];\n            d = HASH[3];\n            e = HASH[4];\n            f = HASH[5];\n            g = HASH[6];\n            h = HASH[7];\n\n            for (var j = 0; j < 64; j++) {\n                if (j < 16) W[j] = m[j + i];\n                else W[j] = safe_add(safe_add(safe_add(Gamma1256(W[j - 2]), W[j - 7]), Gamma0256(W[j - 15])), W[j - 16]);\n\n                T1 = safe_add(safe_add(safe_add(safe_add(h, Sigma1256(e)), Ch(e, f, g)), K[j]), W[j]);\n                T2 = safe_add(Sigma0256(a), Maj(a, b, c));\n\n                h = g;\n                g = f;\n                f = e;\n                e = safe_add(d, T1);\n                d = c;\n                c = b;\n                b = a;\n                a = safe_add(T1, T2);\n            }\n\n            HASH[0] = safe_add(a, HASH[0]);\n            HASH[1] = safe_add(b, HASH[1]);\n            HASH[2] = safe_add(c, HASH[2]);\n            HASH[3] = safe_add(d, HASH[3]);\n            HASH[4] = safe_add(e, HASH[4]);\n            HASH[5] = safe_add(f, HASH[5]);\n            HASH[6] = safe_add(g, HASH[6]);\n            HASH[7] = safe_add(h, HASH[7]);\n        }\n        return HASH;\n    }\n\n    function str2binb(str) {\n        var bin = Array();\n        var mask = (1 << chrsz) - 1;\n        for (var i = 0; i < str.length * chrsz; i += chrsz) {\n            bin[i >> 5] |= (str.charCodeAt(i / chrsz) & mask) << (24 - i % 32);\n        }\n        return bin;\n    }\n\n    function Utf8Encode(string) {\n        string = string['replace'](/\\r\\n/g, \"\\n\");\n        var utftext = \"\";\n\n        for (var n = 0; n < string['length']; n++) {\n\n            var c = string.charCodeAt(n);\n\n            if (c < 128) {\n                utftext += String.fromCharCode(c);\n            }\n            else if ((c > 127) && (c < 2048)) {\n                utftext += String.fromCharCode((c >> 6) | 192);\n                utftext += String.fromCharCode((c & 63) | 128);\n            }\n            else {\n                utftext += String.fromCharCode((c >> 12) | 224);\n                utftext += String.fromCharCode(((c >> 6) & 63) | 128);\n                utftext += String.fromCharCode((c & 63) | 128);\n            }\n\n        }\n\n        return utftext;\n    }\n\n    function binb2hex(binarray) {\n        var hex_tab = hexcase ? \"0123456789ABCDEF\" : \"0123456789abcdef\";\n        var str = \"\";\n        for (var i = 0; i < binarray.length * 4; i++) {\n            str += hex_tab.charAt((binarray[i >> 2] >> ((3 - i % 4) * 8 + 4)) & 0xF) +\n                hex_tab.charAt((binarray[i >> 2] >> ((3 - i % 4) * 8  )) & 0xF);\n        }\n        return str;\n    }\n\n    s = Utf8Encode(s);\n    return binb2hex(core_sha256(str2binb(s), s.length * chrsz));\n}\n    var crypto = CRYPTO;\n    crypto['size'](256);\n\n    var cipher_key = \"\";\n    var iv = crypto['s2a'](\"0123456789012345\");\n\n    return {\n\n        'encrypt' : function(data, key) {\n            if (!key) return data;\n            var cipher_key = crypto['s2a'](SHA256(key)['slice'](0,32));\n            var hex_message = crypto['s2a'](JSON['stringify'](data));\n            var encryptedHexArray = crypto['rawEncrypt'](hex_message, cipher_key, iv);\n            var base_64_encrypted = crypto['Base64']['encode'](encryptedHexArray);\n            return base_64_encrypted || data;\n        } ,\n\n        'decrypt' : function(data, key) {\n            if (!key) return data;\n            var cipher_key = crypto['s2a'](SHA256(key)['slice'](0,32));\n            try {\n                var binary_enc = crypto['Base64']['decode'](data);\n                var json_plain = crypto['rawDecrypt'](binary_enc, cipher_key, iv, false);\n                var plaintext = JSON['parse'](json_plain);\n                return plaintext;\n            }\n            catch (e) {\n                return undefined;\n            }\n        }\n    };\n}\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n/* =-=========================     UTIL     =============================-= */\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n\nwindow['PUBNUB'] || (function() {\n\n/**\n * UTIL LOCALS\n */\n\nvar SWF             = 'https://pubnub.a.ssl.fastly.net/pubnub.swf'\n,   ASYNC           = 'async'\n,   UA              = navigator.userAgent\n,   PNSDK           = 'PubNub-JS-' + 'Web' + '/' + '3.7.10'\n,   XORIGN          = UA.indexOf('MSIE 6') == -1;\n\n/**\n * CONSOLE COMPATIBILITY\n */\nwindow.console || (window.console=window.console||{});\nconsole.log    || (\n    console.log   =\n    console.error =\n    ((window.opera||{}).postError||function(){})\n);\n\n/**\n * LOCAL STORAGE OR COOKIE\n */\nvar db = (function(){\n    var store = {};\n    var ls = false;\n    try {\n        ls = window['localStorage'];\n    } catch (e) { }\n    var cookieGet = function(key) {\n        if (document.cookie.indexOf(key) == -1) return null;\n        return ((document.cookie||'').match(\n            RegExp(key+'=([^;]+)')\n        )||[])[1] || null;\n    };\n    var cookieSet = function( key, value ) {\n        document.cookie = key + '=' + value +\n            '; expires=Thu, 1 Aug 2030 20:00:00 UTC; path=/';\n    };\n    var cookieTest = (function() {\n        try {\n            cookieSet('pnctest', '1');\n            return cookieGet('pnctest') === '1';\n        } catch (e) {\n            return false;\n        }\n    }());\n    return {\n        'get' : function(key) {\n            try {\n                if (ls) return ls.getItem(key);\n                if (cookieTest) return cookieGet(key);\n                return store[key];\n            } catch(e) {\n                return store[key];\n            }\n        },\n        'set' : function( key, value ) {\n            try {\n                if (ls) return ls.setItem( key, value ) && 0;\n                if (cookieTest) cookieSet( key, value );\n                store[key] = value;\n            } catch(e) {\n                store[key] = value;\n            }\n        }\n    };\n})();\n\nfunction get_hmac_SHA256(data,key) {\n    var hash = CryptoJS['HmacSHA256'](data, key);\n    return hash.toString(CryptoJS['enc']['Base64']);\n}\n\n/**\n * $\n * =\n * var div = $('divid');\n */\nfunction $(id) { return document.getElementById(id) }\n\n/**\n * ERROR\n * =====\n * error('message');\n */\nfunction error(message) { console['error'](message) }\n\n/**\n * SEARCH\n * ======\n * var elements = search('a div span');\n */\nfunction search( elements, start) {\n    var list = [];\n    each( elements.split(/\\s+/), function(el) {\n        each( (start || document).getElementsByTagName(el), function(node) {\n            list.push(node);\n        } );\n    });\n    return list;\n}\n\n/**\n * BIND\n * ====\n * bind( 'keydown', search('a')[0], function(element) {\n *     ...\n * } );\n */\nfunction bind( type, el, fun ) {\n    each( type.split(','), function(etype) {\n        var rapfun = function(e) {\n            if (!e) e = window.event;\n            if (!fun(e)) {\n                e.cancelBubble = true;\n                e.preventDefault  && e.preventDefault();\n                e.stopPropagation && e.stopPropagation();\n            }\n        };\n\n        if ( el.addEventListener ) el.addEventListener( etype, rapfun, false );\n        else if ( el.attachEvent ) el.attachEvent( 'on' + etype, rapfun );\n        else  el[ 'on' + etype ] = rapfun;\n    } );\n}\n\n/**\n * UNBIND\n * ======\n * unbind( 'keydown', search('a')[0] );\n */\nfunction unbind( type, el, fun ) {\n    if ( el.removeEventListener ) el.removeEventListener( type, false );\n    else if ( el.detachEvent ) el.detachEvent( 'on' + type, false );\n    else  el[ 'on' + type ] = null;\n}\n\n/**\n * HEAD\n * ====\n * head().appendChild(elm);\n */\nfunction head() { return search('head')[0] }\n\n/**\n * ATTR\n * ====\n * var attribute = attr( node, 'attribute' );\n */\nfunction attr( node, attribute, value ) {\n    if (value) node.setAttribute( attribute, value );\n    else return node && node.getAttribute && node.getAttribute(attribute);\n}\n\n/**\n * CSS\n * ===\n * var obj = create('div');\n */\nfunction css( element, styles ) {\n    for (var style in styles) if (styles.hasOwnProperty(style))\n        try {element.style[style] = styles[style] + (\n            '|width|height|top|left|'.indexOf(style) > 0 &&\n            typeof styles[style] == 'number'\n            ? 'px' : ''\n        )}catch(e){}\n}\n\n/**\n * CREATE\n * ======\n * var obj = create('div');\n */\nfunction create(element) { return document.createElement(element) }\n\n\n/**\n * jsonp_cb\n * ========\n * var callback = jsonp_cb();\n */\nfunction jsonp_cb() { return XORIGN || FDomainRequest() ? 0 : unique() }\n\n\n\n/**\n * EVENTS\n * ======\n * PUBNUB.events.bind( 'you-stepped-on-flower', function(message) {\n *     // Do Stuff with message\n * } );\n *\n * PUBNUB.events.fire( 'you-stepped-on-flower', \"message-data\" );\n * PUBNUB.events.fire( 'you-stepped-on-flower', {message:\"data\"} );\n * PUBNUB.events.fire( 'you-stepped-on-flower', [1,2,3] );\n *\n */\nvar events = {\n    'list'   : {},\n    'unbind' : function( name ) { events.list[name] = [] },\n    'bind'   : function( name, fun ) {\n        (events.list[name] = events.list[name] || []).push(fun);\n    },\n    'fire' : function( name, data ) {\n        each(\n            events.list[name] || [],\n            function(fun) { fun(data) }\n        );\n    }\n};\n\n/**\n * XDR Cross Domain Request\n * ========================\n *  xdr({\n *     url     : ['http://www.blah.com/url'],\n *     success : function(response) {},\n *     fail    : function() {}\n *  });\n */\nfunction xdr( setup ) {\n    if (XORIGN || FDomainRequest()) return ajax(setup);\n\n    var script    = create('script')\n    ,   callback  = setup.callback\n    ,   id        = unique()\n    ,   finished  = 0\n    ,   xhrtme    = setup.timeout || DEF_TIMEOUT\n    ,   timer     = timeout( function(){done(1, {\"message\" : \"timeout\"})}, xhrtme )\n    ,   fail      = setup.fail    || function(){}\n    ,   data      = setup.data    || {}\n    ,   success   = setup.success || function(){}\n    ,   append    = function() { head().appendChild(script) }\n    ,   done      = function( failed, response ) {\n            if (finished) return;\n            finished = 1;\n\n            script.onerror = null;\n            clearTimeout(timer);\n\n            (failed || !response) || success(response);\n\n            timeout( function() {\n                failed && fail();\n                var s = $(id)\n                ,   p = s && s.parentNode;\n                p && p.removeChild(s);\n            }, SECOND );\n        };\n\n    window[callback] = function(response) {\n        done( 0, response );\n    };\n\n    if (!setup.blocking) script[ASYNC] = ASYNC;\n\n    script.onerror = function() { done(1) };\n    script.src     = build_url( setup.url, data );\n\n    attr( script, 'id', id );\n\n    append();\n    return done;\n}\n\n/**\n * CORS XHR Request\n * ================\n *  xdr({\n *     url     : ['http://www.blah.com/url'],\n *     success : function(response) {},\n *     fail    : function() {}\n *  });\n */\nfunction ajax( setup ) {\n    var xhr, response\n    ,   finished = function() {\n            if (loaded) return;\n            loaded = 1;\n\n            clearTimeout(timer);\n\n            try       { response = JSON['parse'](xhr.responseText); }\n            catch (r) { return done(1); }\n\n            complete = 1;\n            success(response);\n        }\n    ,   complete = 0\n    ,   loaded   = 0\n    ,   xhrtme   = setup.timeout || DEF_TIMEOUT\n    ,   timer    = timeout( function(){done(1, {\"message\" : \"timeout\"})}, xhrtme )\n    ,   fail     = setup.fail    || function(){}\n    ,   data     = setup.data    || {}\n    ,   success  = setup.success || function(){}\n    ,   async    = !(setup.blocking)\n    ,   done     = function(failed,response) {\n            if (complete) return;\n            complete = 1;\n\n            clearTimeout(timer);\n\n            if (xhr) {\n                xhr.onerror = xhr.onload = null;\n                xhr.abort && xhr.abort();\n                xhr = null;\n            }\n\n            failed && fail(response);\n        };\n\n    // Send\n    try {\n        xhr = FDomainRequest()      ||\n              window.XDomainRequest &&\n              new XDomainRequest()  ||\n              new XMLHttpRequest();\n\n        xhr.onerror = xhr.onabort   = function(){ done(\n            1, xhr.responseText || { \"error\" : \"Network Connection Error\"}\n        ) };\n        xhr.onload  = xhr.onloadend = finished;\n        xhr.onreadystatechange = function() {\n            if (xhr && xhr.readyState == 4) {\n                switch(xhr.status) {\n                    case 200:\n                        break;\n                    default:\n                        try {\n                            response = JSON['parse'](xhr.responseText);\n                            done(1,response);\n                        }\n                        catch (r) { return done(1, {status : xhr.status, payload : null, message : xhr.responseText}); }\n                        return;\n                }\n            }\n        }\n\n        var url = build_url(setup.url,data);\n\n        xhr.open( 'GET', url, async );\n        if (async) xhr.timeout = xhrtme;\n        xhr.send();\n    }\n    catch(eee) {\n        done(0);\n        XORIGN = 0;\n        return xdr(setup);\n    }\n\n    // Return 'done'\n    return done;\n}\n\n// Test Connection State\nfunction _is_online() {\n    if (!('onLine' in navigator)) return 1;\n    try       { return navigator['onLine'] }\n    catch (e) { return true }\n}\n\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n/* =-=========================     PUBNUB     ===========================-= */\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n\nvar PDIV          = $('pubnub') || 0\n,   CREATE_PUBNUB = function(setup) {\n\n    // Force JSONP if requested from user.\n    if (setup['jsonp'])  XORIGN = 0;\n    else                 XORIGN = UA.indexOf('MSIE 6') == -1;\n\n    var SUBSCRIBE_KEY = setup['subscribe_key'] || ''\n    ,   KEEPALIVE     = (+setup['keepalive']   || DEF_KEEPALIVE)   * SECOND\n    ,   UUID          = setup['uuid'] || db['get'](SUBSCRIBE_KEY+'uuid')||'';\n\n    var leave_on_unload = setup['leave_on_unload'] || 0;\n\n    setup['xdr']        = xdr;\n    setup['db']         = db;\n    setup['error']      = setup['error'] || error;\n    setup['_is_online'] = _is_online;\n    setup['jsonp_cb']   = jsonp_cb;\n    setup['hmac_SHA256']= get_hmac_SHA256;\n    setup['crypto_obj'] = crypto_obj();\n    setup['params']     = { 'pnsdk' : PNSDK }\n\n    var SELF = function(setup) {\n        return CREATE_PUBNUB(setup);\n    };\n\n    var PN = PN_API(setup);\n\n    for (var prop in PN) {\n        if (PN.hasOwnProperty(prop)) {\n            SELF[prop] = PN[prop];\n        }\n    }\n    SELF['css']         = css;\n    SELF['$']           = $;\n    SELF['create']      = create;\n    SELF['bind']        = bind;\n    SELF['head']        = head;\n    SELF['search']      = search;\n    SELF['attr']        = attr;\n    SELF['events']      = events;\n    SELF['init']        = SELF;\n    SELF['secure']      = SELF;\n\n\n    // Add Leave Functions\n    bind( 'beforeunload', window, function() {\n        if (leave_on_unload) SELF['each-channel'](function(ch){ SELF['LEAVE']( ch.name, 0 ) });\n        return true;\n    } );\n\n    // Return without Testing\n    if (setup['notest']) return SELF;\n\n    bind( 'offline', window,   SELF['offline'] );\n    bind( 'offline', document, SELF['offline'] );\n\n    // Return PUBNUB Socket Object\n    return SELF;\n};\nCREATE_PUBNUB['init']   = CREATE_PUBNUB;\nCREATE_PUBNUB['secure'] = CREATE_PUBNUB;\n\n// Bind for PUBNUB Readiness to Subscribe\nif (document.readyState === 'complete') {\n    timeout( ready, 0 );\n}\nelse {\n    bind( 'load', window, function(){ timeout( ready, 0 ) } );\n}\n\nvar pdiv = PDIV || {};\n\n// CREATE A PUBNUB GLOBAL OBJECT\nPUBNUB = CREATE_PUBNUB({\n    'notest'        : 1,\n    'publish_key'   : attr( pdiv, 'pub-key' ),\n    'subscribe_key' : attr( pdiv, 'sub-key' ),\n    'ssl'           : !document.location.href.indexOf('https') ||\n                      attr( pdiv, 'ssl' ) == 'on',\n    'origin'        : attr( pdiv, 'origin' ),\n    'uuid'          : attr( pdiv, 'uuid' )\n});\n\n// jQuery Interface\nwindow['jQuery'] && (window['jQuery']['PUBNUB'] = CREATE_PUBNUB);\n\n// For Modern JS + Testling.js - http://testling.com/\ntypeof(module) !== 'undefined' && (module['exports'] = PUBNUB) && ready();\n\nvar pubnubs = $('pubnubs') || 0;\n\n// LEAVE NOW IF NO PDIV.\nif (!PDIV) return;\n\n// PUBNUB Flash Socket\ncss( PDIV, { 'position' : 'absolute', 'top' : -SECOND } );\n\nif ('opera' in window || attr( PDIV, 'flash' )) PDIV['innerHTML'] =\n    '<object id=pubnubs data='  + SWF +\n    '><param name=movie value=' + SWF +\n    '><param name=allowscriptaccess value=always></object>';\n\n// Create Interface for Opera Flash\nPUBNUB['rdx'] = function( id, data ) {\n    if (!data) return FDomainRequest[id]['onerror']();\n    FDomainRequest[id]['responseText'] = unescape(data);\n    FDomainRequest[id]['onload']();\n};\n\nfunction FDomainRequest() {\n    if (!pubnubs || !pubnubs['get']) return 0;\n\n    var fdomainrequest = {\n        'id'    : FDomainRequest['id']++,\n        'send'  : function() {},\n        'abort' : function() { fdomainrequest['id'] = {} },\n        'open'  : function( method, url ) {\n            FDomainRequest[fdomainrequest['id']] = fdomainrequest;\n            pubnubs['get']( fdomainrequest['id'], url );\n        }\n    };\n\n    return fdomainrequest;\n}\nFDomainRequest['id'] = SECOND;\n\n})();\n(function(){\n\n// ---------------------------------------------------------------------------\n// WEBSOCKET INTERFACE\n// ---------------------------------------------------------------------------\nvar WS = PUBNUB['ws'] = function( url, protocols ) {\n    if (!(this instanceof WS)) return new WS( url, protocols );\n\n    var self     = this\n    ,   url      = self.url      = url || ''\n    ,   protocol = self.protocol = protocols || 'Sec-WebSocket-Protocol'\n    ,   bits     = url.split('/')\n    ,   setup    = {\n         'ssl'           : bits[0] === 'wss:'\n        ,'origin'        : bits[2]\n        ,'publish_key'   : bits[3]\n        ,'subscribe_key' : bits[4]\n        ,'channel'       : bits[5]\n    };\n\n    // READY STATES\n    self['CONNECTING'] = 0; // The connection is not yet open.\n    self['OPEN']       = 1; // The connection is open and ready to communicate.\n    self['CLOSING']    = 2; // The connection is in the process of closing.\n    self['CLOSED']     = 3; // The connection is closed or couldn't be opened.\n\n    // CLOSE STATES\n    self['CLOSE_NORMAL']         = 1000; // Normal Intended Close; completed.\n    self['CLOSE_GOING_AWAY']     = 1001; // Closed Unexpecttedly.\n    self['CLOSE_PROTOCOL_ERROR'] = 1002; // Server: Not Supported.\n    self['CLOSE_UNSUPPORTED']    = 1003; // Server: Unsupported Protocol.\n    self['CLOSE_TOO_LARGE']      = 1004; // Server: Too Much Data.\n    self['CLOSE_NO_STATUS']      = 1005; // Server: No reason.\n    self['CLOSE_ABNORMAL']       = 1006; // Abnormal Disconnect.\n\n    // Events Default\n    self['onclose']   = self['onerror'] =\n    self['onmessage'] = self['onopen']  =\n    self['onsend']    =  function(){};\n\n    // Attributes\n    self['binaryType']     = '';\n    self['extensions']     = '';\n    self['bufferedAmount'] = 0;\n    self['trasnmitting']   = false;\n    self['buffer']         = [];\n    self['readyState']     = self['CONNECTING'];\n\n    // Close if no setup.\n    if (!url) {\n        self['readyState'] = self['CLOSED'];\n        self['onclose']({\n            'code'     : self['CLOSE_ABNORMAL'],\n            'reason'   : 'Missing URL',\n            'wasClean' : true\n        });\n        return self;\n    }\n\n    // PubNub WebSocket Emulation\n    self.pubnub       = PUBNUB['init'](setup);\n    self.pubnub.setup = setup;\n    self.setup        = setup;\n\n    self.pubnub['subscribe']({\n        'restore'    : false,\n        'channel'    : setup['channel'],\n        'disconnect' : self['onerror'],\n        'reconnect'  : self['onopen'],\n        'error'      : function() {\n            self['onclose']({\n                'code'     : self['CLOSE_ABNORMAL'],\n                'reason'   : 'Missing URL',\n                'wasClean' : false\n            });\n        },\n        'callback'   : function(message) {\n            self['onmessage']({ 'data' : message });\n        },\n        'connect'    : function() {\n            self['readyState'] = self['OPEN'];\n            self['onopen']();\n        }\n    });\n};\n\n// ---------------------------------------------------------------------------\n// WEBSOCKET SEND\n// ---------------------------------------------------------------------------\nWS.prototype.send = function(data) {\n    var self = this;\n    self.pubnub['publish']({\n        'channel'  : self.pubnub.setup['channel'],\n        'message'  : data,\n        'callback' : function(response) {\n            self['onsend']({ 'data' : response });\n        }\n    });\n};\n\n// ---------------------------------------------------------------------------\n// WEBSOCKET CLOSE\n// ---------------------------------------------------------------------------\nWS.prototype.close = function() {\n    var self = this;\n    self.pubnub['unsubscribe']({ 'channel' : self.pubnub.setup['channel'] });\n    self['readyState'] = self['CLOSED'];\n    self['onclose']({});\n};\n\n})();\n/*\nCryptoJS v3.1.2\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\nvar CryptoJS=CryptoJS||function(h,s){var f={},g=f.lib={},q=function(){},m=g.Base={extend:function(a){q.prototype=this;var c=new q;a&&c.mixIn(a);c.hasOwnProperty(\"init\")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty(\"toString\")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},\nr=g.WordArray=m.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=s?c:4*a.length},toString:function(a){return(a||k).stringify(this)},concat:function(a){var c=this.words,d=a.words,b=this.sigBytes;a=a.sigBytes;this.clamp();if(b%4)for(var e=0;e<a;e++)c[b+e>>>2]|=(d[e>>>2]>>>24-8*(e%4)&255)<<24-8*((b+e)%4);else if(65535<d.length)for(e=0;e<a;e+=4)c[b+e>>>2]=d[e>>>2];else c.push.apply(c,d);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<\n32-8*(c%4);a.length=h.ceil(c/4)},clone:function(){var a=m.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],d=0;d<a;d+=4)c.push(4294967296*h.random()|0);return new r.init(c,a)}}),l=f.enc={},k=l.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var d=[],b=0;b<a;b++){var e=c[b>>>2]>>>24-8*(b%4)&255;d.push((e>>>4).toString(16));d.push((e&15).toString(16))}return d.join(\"\")},parse:function(a){for(var c=a.length,d=[],b=0;b<c;b+=2)d[b>>>3]|=parseInt(a.substr(b,\n2),16)<<24-4*(b%8);return new r.init(d,c/2)}},n=l.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var d=[],b=0;b<a;b++)d.push(String.fromCharCode(c[b>>>2]>>>24-8*(b%4)&255));return d.join(\"\")},parse:function(a){for(var c=a.length,d=[],b=0;b<c;b++)d[b>>>2]|=(a.charCodeAt(b)&255)<<24-8*(b%4);return new r.init(d,c)}},j=l.Utf8={stringify:function(a){try{return decodeURIComponent(escape(n.stringify(a)))}catch(c){throw Error(\"Malformed UTF-8 data\");}},parse:function(a){return n.parse(unescape(encodeURIComponent(a)))}},\nu=g.BufferedBlockAlgorithm=m.extend({reset:function(){this._data=new r.init;this._nDataBytes=0},_append:function(a){\"string\"==typeof a&&(a=j.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,d=c.words,b=c.sigBytes,e=this.blockSize,f=b/(4*e),f=a?h.ceil(f):h.max((f|0)-this._minBufferSize,0);a=f*e;b=h.min(4*a,b);if(a){for(var g=0;g<a;g+=e)this._doProcessBlock(d,g);g=d.splice(0,a);c.sigBytes-=b}return new r.init(g,b)},clone:function(){var a=m.clone.call(this);\na._data=this._data.clone();return a},_minBufferSize:0});g.Hasher=u.extend({cfg:m.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){u.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(c,d){return(new a.init(d)).finalize(c)}},_createHmacHelper:function(a){return function(c,d){return(new t.HMAC.init(a,\nd)).finalize(c)}}});var t=f.algo={};return f}(Math);\n(function(h){for(var s=CryptoJS,f=s.lib,g=f.WordArray,q=f.Hasher,f=s.algo,m=[],r=[],l=function(a){return 4294967296*(a-(a|0))|0},k=2,n=0;64>n;){var j;a:{j=k;for(var u=h.sqrt(j),t=2;t<=u;t++)if(!(j%t)){j=!1;break a}j=!0}j&&(8>n&&(m[n]=l(h.pow(k,0.5))),r[n]=l(h.pow(k,1/3)),n++);k++}var a=[],f=f.SHA256=q.extend({_doReset:function(){this._hash=new g.init(m.slice(0))},_doProcessBlock:function(c,d){for(var b=this._hash.words,e=b[0],f=b[1],g=b[2],j=b[3],h=b[4],m=b[5],n=b[6],q=b[7],p=0;64>p;p++){if(16>p)a[p]=\nc[d+p]|0;else{var k=a[p-15],l=a[p-2];a[p]=((k<<25|k>>>7)^(k<<14|k>>>18)^k>>>3)+a[p-7]+((l<<15|l>>>17)^(l<<13|l>>>19)^l>>>10)+a[p-16]}k=q+((h<<26|h>>>6)^(h<<21|h>>>11)^(h<<7|h>>>25))+(h&m^~h&n)+r[p]+a[p];l=((e<<30|e>>>2)^(e<<19|e>>>13)^(e<<10|e>>>22))+(e&f^e&g^f&g);q=n;n=m;m=h;h=j+k|0;j=g;g=f;f=e;e=k+l|0}b[0]=b[0]+e|0;b[1]=b[1]+f|0;b[2]=b[2]+g|0;b[3]=b[3]+j|0;b[4]=b[4]+h|0;b[5]=b[5]+m|0;b[6]=b[6]+n|0;b[7]=b[7]+q|0},_doFinalize:function(){var a=this._data,d=a.words,b=8*this._nDataBytes,e=8*a.sigBytes;\nd[e>>>5]|=128<<24-e%32;d[(e+64>>>9<<4)+14]=h.floor(b/4294967296);d[(e+64>>>9<<4)+15]=b;a.sigBytes=4*d.length;this._process();return this._hash},clone:function(){var a=q.clone.call(this);a._hash=this._hash.clone();return a}});s.SHA256=q._createHelper(f);s.HmacSHA256=q._createHmacHelper(f)})(Math);\n(function(){var h=CryptoJS,s=h.enc.Utf8;h.algo.HMAC=h.lib.Base.extend({init:function(f,g){f=this._hasher=new f.init;\"string\"==typeof g&&(g=s.parse(g));var h=f.blockSize,m=4*h;g.sigBytes>m&&(g=f.finalize(g));g.clamp();for(var r=this._oKey=g.clone(),l=this._iKey=g.clone(),k=r.words,n=l.words,j=0;j<h;j++)k[j]^=1549556828,n[j]^=909522486;r.sigBytes=l.sigBytes=m;this.reset()},reset:function(){var f=this._hasher;f.reset();f.update(this._iKey)},update:function(f){this._hasher.update(f);return this},finalize:function(f){var g=\nthis._hasher;f=g.finalize(f);g.reset();return g.finalize(this._oKey.clone().concat(f))}})})();\n/*\nCryptoJS v3.1.2\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\n(function(){var h=CryptoJS,j=h.lib.WordArray;h.enc.Base64={stringify:function(b){var e=b.words,f=b.sigBytes,c=this._map;b.clamp();b=[];for(var a=0;a<f;a+=3)for(var d=(e[a>>>2]>>>24-8*(a%4)&255)<<16|(e[a+1>>>2]>>>24-8*((a+1)%4)&255)<<8|e[a+2>>>2]>>>24-8*((a+2)%4)&255,g=0;4>g&&a+0.75*g<f;g++)b.push(c.charAt(d>>>6*(3-g)&63));if(e=c.charAt(64))for(;b.length%4;)b.push(e);return b.join(\"\")},parse:function(b){var e=b.length,f=this._map,c=f.charAt(64);c&&(c=b.indexOf(c),-1!=c&&(e=c));for(var c=[],a=0,d=0;d<\ne;d++)if(d%4){var g=f.indexOf(b.charAt(d-1))<<2*(d%4),h=f.indexOf(b.charAt(d))>>>6-2*(d%4);c[a>>>2]|=(g|h)<<24-8*(a%4);a++}return j.create(c,a)},_map:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"}})();\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(49)(module)))\n\n/***/ },\n/* 40 */\n/***/ function(module, exports, __webpack_require__) {\n\n(function(e,r){true?module.exports=exports=r(__webpack_require__(42),__webpack_require__(45),__webpack_require__(46),__webpack_require__(47),__webpack_require__(48)):\"function\"==typeof define&&define.amd?define([\"./core\",\"./enc-base64\",\"./md5\",\"./evpkdf\",\"./cipher-core\"],r):r(e.CryptoJS)})(this,function(e){return function(){var r=e,t=r.lib,i=t.BlockCipher,o=r.algo,n=[],c=[],s=[],a=[],f=[],u=[],h=[],p=[],d=[],l=[];(function(){for(var e=[],r=0;256>r;r++)e[r]=128>r?r<<1:283^r<<1;for(var t=0,i=0,r=0;256>r;r++){var o=i^i<<1^i<<2^i<<3^i<<4;o=99^(o>>>8^255&o),n[t]=o,c[o]=t;var y=e[t],v=e[y],m=e[v],x=257*e[o]^16843008*o;s[t]=x<<24|x>>>8,a[t]=x<<16|x>>>16,f[t]=x<<8|x>>>24,u[t]=x;var x=16843009*m^65537*v^257*y^16843008*t;h[o]=x<<24|x>>>8,p[o]=x<<16|x>>>16,d[o]=x<<8|x>>>24,l[o]=x,t?(t=y^e[e[e[m^y]]],i^=e[e[i]]):t=i=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],v=o.AES=i.extend({_doReset:function(){for(var e=this._key,r=e.words,t=e.sigBytes/4,i=this._nRounds=t+6,o=4*(i+1),c=this._keySchedule=[],s=0;o>s;s++)if(t>s)c[s]=r[s];else{var a=c[s-1];s%t?t>6&&4==s%t&&(a=n[a>>>24]<<24|n[255&a>>>16]<<16|n[255&a>>>8]<<8|n[255&a]):(a=a<<8|a>>>24,a=n[a>>>24]<<24|n[255&a>>>16]<<16|n[255&a>>>8]<<8|n[255&a],a^=y[0|s/t]<<24),c[s]=c[s-t]^a}for(var f=this._invKeySchedule=[],u=0;o>u;u++){var s=o-u;if(u%4)var a=c[s];else var a=c[s-4];f[u]=4>u||4>=s?a:h[n[a>>>24]]^p[n[255&a>>>16]]^d[n[255&a>>>8]]^l[n[255&a]]}},encryptBlock:function(e,r){this._doCryptBlock(e,r,this._keySchedule,s,a,f,u,n)},decryptBlock:function(e,r){var t=e[r+1];e[r+1]=e[r+3],e[r+3]=t,this._doCryptBlock(e,r,this._invKeySchedule,h,p,d,l,c);var t=e[r+1];e[r+1]=e[r+3],e[r+3]=t},_doCryptBlock:function(e,r,t,i,o,n,c,s){for(var a=this._nRounds,f=e[r]^t[0],u=e[r+1]^t[1],h=e[r+2]^t[2],p=e[r+3]^t[3],d=4,l=1;a>l;l++){var y=i[f>>>24]^o[255&u>>>16]^n[255&h>>>8]^c[255&p]^t[d++],v=i[u>>>24]^o[255&h>>>16]^n[255&p>>>8]^c[255&f]^t[d++],m=i[h>>>24]^o[255&p>>>16]^n[255&f>>>8]^c[255&u]^t[d++],x=i[p>>>24]^o[255&f>>>16]^n[255&u>>>8]^c[255&h]^t[d++];f=y,u=v,h=m,p=x}var y=(s[f>>>24]<<24|s[255&u>>>16]<<16|s[255&h>>>8]<<8|s[255&p])^t[d++],v=(s[u>>>24]<<24|s[255&h>>>16]<<16|s[255&p>>>8]<<8|s[255&f])^t[d++],m=(s[h>>>24]<<24|s[255&p>>>16]<<16|s[255&f>>>8]<<8|s[255&u])^t[d++],x=(s[p>>>24]<<24|s[255&f>>>16]<<16|s[255&u>>>8]<<8|s[255&h])^t[d++];e[r]=y,e[r+1]=v,e[r+2]=m,e[r+3]=x},keySize:8});r.AES=i._createHelper(v)}(),e.AES});\n\n/***/ },\n/* 41 */\n/***/ function(module, exports, __webpack_require__) {\n\n(function(e,r){true?module.exports=exports=r(__webpack_require__(42),__webpack_require__(48)):\"function\"==typeof define&&define.amd?define([\"./core\",\"./cipher-core\"],r):r(e.CryptoJS)})(this,function(e){return e.mode.ECB=function(){var r=e.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(e,r){this._cipher.encryptBlock(e,r)}}),r.Decryptor=r.extend({processBlock:function(e,r){this._cipher.decryptBlock(e,r)}}),r}(),e.mode.ECB});\n\n/***/ },\n/* 42 */\n/***/ function(module, exports, __webpack_require__) {\n\n(function(e,r){true?module.exports=exports=r():\"function\"==typeof define&&define.amd?define([],r):e.CryptoJS=r()})(this,function(){var e=e||function(e,r){var t={},i=t.lib={},n=i.Base=function(){function e(){}return{extend:function(r){e.prototype=this;var t=new e;return r&&t.mixIn(r),t.hasOwnProperty(\"init\")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var r in e)e.hasOwnProperty(r)&&(this[r]=e[r]);e.hasOwnProperty(\"toString\")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=i.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=t!=r?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var r=this.words,t=e.words,i=this.sigBytes,n=e.sigBytes;if(this.clamp(),i%4)for(var o=0;n>o;o++){var c=255&t[o>>>2]>>>24-8*(o%4);r[i+o>>>2]|=c<<24-8*((i+o)%4)}else if(t.length>65535)for(var o=0;n>o;o+=4)r[i+o>>>2]=t[o>>>2];else r.push.apply(r,t);return this.sigBytes+=n,this},clamp:function(){var r=this.words,t=this.sigBytes;r[t>>>2]&=4294967295<<32-8*(t%4),r.length=e.ceil(t/4)},clone:function(){var e=n.clone.call(this);return e.words=this.words.slice(0),e},random:function(r){for(var t=[],i=0;r>i;i+=4)t.push(0|4294967296*e.random());return new o.init(t,r)}}),c=t.enc={},s=c.Hex={stringify:function(e){for(var r=e.words,t=e.sigBytes,i=[],n=0;t>n;n++){var o=255&r[n>>>2]>>>24-8*(n%4);i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join(\"\")},parse:function(e){for(var r=e.length,t=[],i=0;r>i;i+=2)t[i>>>3]|=parseInt(e.substr(i,2),16)<<24-4*(i%8);return new o.init(t,r/2)}},u=c.Latin1={stringify:function(e){for(var r=e.words,t=e.sigBytes,i=[],n=0;t>n;n++){var o=255&r[n>>>2]>>>24-8*(n%4);i.push(String.fromCharCode(o))}return i.join(\"\")},parse:function(e){for(var r=e.length,t=[],i=0;r>i;i++)t[i>>>2]|=(255&e.charCodeAt(i))<<24-8*(i%4);return new o.init(t,r)}},f=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(r){throw Error(\"Malformed UTF-8 data\")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},a=i.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){\"string\"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(r){var t=this._data,i=t.words,n=t.sigBytes,c=this.blockSize,s=4*c,u=n/s;u=r?e.ceil(u):e.max((0|u)-this._minBufferSize,0);var f=u*c,a=e.min(4*f,n);if(f){for(var p=0;f>p;p+=c)this._doProcessBlock(i,p);var d=i.splice(0,f);t.sigBytes-=a}return new o.init(d,a)},clone:function(){var e=n.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=a.extend({cfg:n.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){a.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var r=this._doFinalize();return r},blockSize:16,_createHelper:function(e){return function(r,t){return new e.init(t).finalize(r)}},_createHmacHelper:function(e){return function(r,t){return new p.HMAC.init(e,t).finalize(r)}}});var p=t.algo={};return t}(Math);return e});\n\n/***/ },\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(process, global, module) {/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n * @version   2.0.1\n */\n\n(function() {\n    \"use strict\";\n\n    function $$utils$$objectOrFunction(x) {\n      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n    }\n\n    function $$utils$$isFunction(x) {\n      return typeof x === 'function';\n    }\n\n    function $$utils$$isMaybeThenable(x) {\n      return typeof x === 'object' && x !== null;\n    }\n\n    var $$utils$$_isArray;\n\n    if (!Array.isArray) {\n      $$utils$$_isArray = function (x) {\n        return Object.prototype.toString.call(x) === '[object Array]';\n      };\n    } else {\n      $$utils$$_isArray = Array.isArray;\n    }\n\n    var $$utils$$isArray = $$utils$$_isArray;\n    var $$utils$$now = Date.now || function() { return new Date().getTime(); };\n    function $$utils$$F() { }\n\n    var $$utils$$o_create = (Object.create || function (o) {\n      if (arguments.length > 1) {\n        throw new Error('Second argument not supported');\n      }\n      if (typeof o !== 'object') {\n        throw new TypeError('Argument must be an object');\n      }\n      $$utils$$F.prototype = o;\n      return new $$utils$$F();\n    });\n\n    var $$asap$$len = 0;\n\n    var $$asap$$default = function asap(callback, arg) {\n      $$asap$$queue[$$asap$$len] = callback;\n      $$asap$$queue[$$asap$$len + 1] = arg;\n      $$asap$$len += 2;\n      if ($$asap$$len === 2) {\n        // If len is 1, that means that we need to schedule an async flush.\n        // If additional callbacks are queued before the queue is flushed, they\n        // will be processed by this flush that we are scheduling.\n        $$asap$$scheduleFlush();\n      }\n    };\n\n    var $$asap$$browserGlobal = (typeof window !== 'undefined') ? window : {};\n    var $$asap$$BrowserMutationObserver = $$asap$$browserGlobal.MutationObserver || $$asap$$browserGlobal.WebKitMutationObserver;\n\n    // test for web worker but not in IE10\n    var $$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n      typeof importScripts !== 'undefined' &&\n      typeof MessageChannel !== 'undefined';\n\n    // node\n    function $$asap$$useNextTick() {\n      return function() {\n        process.nextTick($$asap$$flush);\n      };\n    }\n\n    function $$asap$$useMutationObserver() {\n      var iterations = 0;\n      var observer = new $$asap$$BrowserMutationObserver($$asap$$flush);\n      var node = document.createTextNode('');\n      observer.observe(node, { characterData: true });\n\n      return function() {\n        node.data = (iterations = ++iterations % 2);\n      };\n    }\n\n    // web worker\n    function $$asap$$useMessageChannel() {\n      var channel = new MessageChannel();\n      channel.port1.onmessage = $$asap$$flush;\n      return function () {\n        channel.port2.postMessage(0);\n      };\n    }\n\n    function $$asap$$useSetTimeout() {\n      return function() {\n        setTimeout($$asap$$flush, 1);\n      };\n    }\n\n    var $$asap$$queue = new Array(1000);\n\n    function $$asap$$flush() {\n      for (var i = 0; i < $$asap$$len; i+=2) {\n        var callback = $$asap$$queue[i];\n        var arg = $$asap$$queue[i+1];\n\n        callback(arg);\n\n        $$asap$$queue[i] = undefined;\n        $$asap$$queue[i+1] = undefined;\n      }\n\n      $$asap$$len = 0;\n    }\n\n    var $$asap$$scheduleFlush;\n\n    // Decide what async method to use to triggering processing of queued callbacks:\n    if (typeof process !== 'undefined' && {}.toString.call(process) === '[object process]') {\n      $$asap$$scheduleFlush = $$asap$$useNextTick();\n    } else if ($$asap$$BrowserMutationObserver) {\n      $$asap$$scheduleFlush = $$asap$$useMutationObserver();\n    } else if ($$asap$$isWorker) {\n      $$asap$$scheduleFlush = $$asap$$useMessageChannel();\n    } else {\n      $$asap$$scheduleFlush = $$asap$$useSetTimeout();\n    }\n\n    function $$$internal$$noop() {}\n    var $$$internal$$PENDING   = void 0;\n    var $$$internal$$FULFILLED = 1;\n    var $$$internal$$REJECTED  = 2;\n    var $$$internal$$GET_THEN_ERROR = new $$$internal$$ErrorObject();\n\n    function $$$internal$$selfFullfillment() {\n      return new TypeError(\"You cannot resolve a promise with itself\");\n    }\n\n    function $$$internal$$cannotReturnOwn() {\n      return new TypeError('A promises callback cannot return that same promise.')\n    }\n\n    function $$$internal$$getThen(promise) {\n      try {\n        return promise.then;\n      } catch(error) {\n        $$$internal$$GET_THEN_ERROR.error = error;\n        return $$$internal$$GET_THEN_ERROR;\n      }\n    }\n\n    function $$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n      try {\n        then.call(value, fulfillmentHandler, rejectionHandler);\n      } catch(e) {\n        return e;\n      }\n    }\n\n    function $$$internal$$handleForeignThenable(promise, thenable, then) {\n       $$asap$$default(function(promise) {\n        var sealed = false;\n        var error = $$$internal$$tryThen(then, thenable, function(value) {\n          if (sealed) { return; }\n          sealed = true;\n          if (thenable !== value) {\n            $$$internal$$resolve(promise, value);\n          } else {\n            $$$internal$$fulfill(promise, value);\n          }\n        }, function(reason) {\n          if (sealed) { return; }\n          sealed = true;\n\n          $$$internal$$reject(promise, reason);\n        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n        if (!sealed && error) {\n          sealed = true;\n          $$$internal$$reject(promise, error);\n        }\n      }, promise);\n    }\n\n    function $$$internal$$handleOwnThenable(promise, thenable) {\n      if (thenable._state === $$$internal$$FULFILLED) {\n        $$$internal$$fulfill(promise, thenable._result);\n      } else if (promise._state === $$$internal$$REJECTED) {\n        $$$internal$$reject(promise, thenable._result);\n      } else {\n        $$$internal$$subscribe(thenable, undefined, function(value) {\n          $$$internal$$resolve(promise, value);\n        }, function(reason) {\n          $$$internal$$reject(promise, reason);\n        });\n      }\n    }\n\n    function $$$internal$$handleMaybeThenable(promise, maybeThenable) {\n      if (maybeThenable.constructor === promise.constructor) {\n        $$$internal$$handleOwnThenable(promise, maybeThenable);\n      } else {\n        var then = $$$internal$$getThen(maybeThenable);\n\n        if (then === $$$internal$$GET_THEN_ERROR) {\n          $$$internal$$reject(promise, $$$internal$$GET_THEN_ERROR.error);\n        } else if (then === undefined) {\n          $$$internal$$fulfill(promise, maybeThenable);\n        } else if ($$utils$$isFunction(then)) {\n          $$$internal$$handleForeignThenable(promise, maybeThenable, then);\n        } else {\n          $$$internal$$fulfill(promise, maybeThenable);\n        }\n      }\n    }\n\n    function $$$internal$$resolve(promise, value) {\n      if (promise === value) {\n        $$$internal$$reject(promise, $$$internal$$selfFullfillment());\n      } else if ($$utils$$objectOrFunction(value)) {\n        $$$internal$$handleMaybeThenable(promise, value);\n      } else {\n        $$$internal$$fulfill(promise, value);\n      }\n    }\n\n    function $$$internal$$publishRejection(promise) {\n      if (promise._onerror) {\n        promise._onerror(promise._result);\n      }\n\n      $$$internal$$publish(promise);\n    }\n\n    function $$$internal$$fulfill(promise, value) {\n      if (promise._state !== $$$internal$$PENDING) { return; }\n\n      promise._result = value;\n      promise._state = $$$internal$$FULFILLED;\n\n      if (promise._subscribers.length === 0) {\n      } else {\n        $$asap$$default($$$internal$$publish, promise);\n      }\n    }\n\n    function $$$internal$$reject(promise, reason) {\n      if (promise._state !== $$$internal$$PENDING) { return; }\n      promise._state = $$$internal$$REJECTED;\n      promise._result = reason;\n\n      $$asap$$default($$$internal$$publishRejection, promise);\n    }\n\n    function $$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n      var subscribers = parent._subscribers;\n      var length = subscribers.length;\n\n      parent._onerror = null;\n\n      subscribers[length] = child;\n      subscribers[length + $$$internal$$FULFILLED] = onFulfillment;\n      subscribers[length + $$$internal$$REJECTED]  = onRejection;\n\n      if (length === 0 && parent._state) {\n        $$asap$$default($$$internal$$publish, parent);\n      }\n    }\n\n    function $$$internal$$publish(promise) {\n      var subscribers = promise._subscribers;\n      var settled = promise._state;\n\n      if (subscribers.length === 0) { return; }\n\n      var child, callback, detail = promise._result;\n\n      for (var i = 0; i < subscribers.length; i += 3) {\n        child = subscribers[i];\n        callback = subscribers[i + settled];\n\n        if (child) {\n          $$$internal$$invokeCallback(settled, child, callback, detail);\n        } else {\n          callback(detail);\n        }\n      }\n\n      promise._subscribers.length = 0;\n    }\n\n    function $$$internal$$ErrorObject() {\n      this.error = null;\n    }\n\n    var $$$internal$$TRY_CATCH_ERROR = new $$$internal$$ErrorObject();\n\n    function $$$internal$$tryCatch(callback, detail) {\n      try {\n        return callback(detail);\n      } catch(e) {\n        $$$internal$$TRY_CATCH_ERROR.error = e;\n        return $$$internal$$TRY_CATCH_ERROR;\n      }\n    }\n\n    function $$$internal$$invokeCallback(settled, promise, callback, detail) {\n      var hasCallback = $$utils$$isFunction(callback),\n          value, error, succeeded, failed;\n\n      if (hasCallback) {\n        value = $$$internal$$tryCatch(callback, detail);\n\n        if (value === $$$internal$$TRY_CATCH_ERROR) {\n          failed = true;\n          error = value.error;\n          value = null;\n        } else {\n          succeeded = true;\n        }\n\n        if (promise === value) {\n          $$$internal$$reject(promise, $$$internal$$cannotReturnOwn());\n          return;\n        }\n\n      } else {\n        value = detail;\n        succeeded = true;\n      }\n\n      if (promise._state !== $$$internal$$PENDING) {\n        // noop\n      } else if (hasCallback && succeeded) {\n        $$$internal$$resolve(promise, value);\n      } else if (failed) {\n        $$$internal$$reject(promise, error);\n      } else if (settled === $$$internal$$FULFILLED) {\n        $$$internal$$fulfill(promise, value);\n      } else if (settled === $$$internal$$REJECTED) {\n        $$$internal$$reject(promise, value);\n      }\n    }\n\n    function $$$internal$$initializePromise(promise, resolver) {\n      try {\n        resolver(function resolvePromise(value){\n          $$$internal$$resolve(promise, value);\n        }, function rejectPromise(reason) {\n          $$$internal$$reject(promise, reason);\n        });\n      } catch(e) {\n        $$$internal$$reject(promise, e);\n      }\n    }\n\n    function $$$enumerator$$makeSettledResult(state, position, value) {\n      if (state === $$$internal$$FULFILLED) {\n        return {\n          state: 'fulfilled',\n          value: value\n        };\n      } else {\n        return {\n          state: 'rejected',\n          reason: value\n        };\n      }\n    }\n\n    function $$$enumerator$$Enumerator(Constructor, input, abortOnReject, label) {\n      this._instanceConstructor = Constructor;\n      this.promise = new Constructor($$$internal$$noop, label);\n      this._abortOnReject = abortOnReject;\n\n      if (this._validateInput(input)) {\n        this._input     = input;\n        this.length     = input.length;\n        this._remaining = input.length;\n\n        this._init();\n\n        if (this.length === 0) {\n          $$$internal$$fulfill(this.promise, this._result);\n        } else {\n          this.length = this.length || 0;\n          this._enumerate();\n          if (this._remaining === 0) {\n            $$$internal$$fulfill(this.promise, this._result);\n          }\n        }\n      } else {\n        $$$internal$$reject(this.promise, this._validationError());\n      }\n    }\n\n    $$$enumerator$$Enumerator.prototype._validateInput = function(input) {\n      return $$utils$$isArray(input);\n    };\n\n    $$$enumerator$$Enumerator.prototype._validationError = function() {\n      return new Error('Array Methods must be provided an Array');\n    };\n\n    $$$enumerator$$Enumerator.prototype._init = function() {\n      this._result = new Array(this.length);\n    };\n\n    var $$$enumerator$$default = $$$enumerator$$Enumerator;\n\n    $$$enumerator$$Enumerator.prototype._enumerate = function() {\n      var length  = this.length;\n      var promise = this.promise;\n      var input   = this._input;\n\n      for (var i = 0; promise._state === $$$internal$$PENDING && i < length; i++) {\n        this._eachEntry(input[i], i);\n      }\n    };\n\n    $$$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n      var c = this._instanceConstructor;\n      if ($$utils$$isMaybeThenable(entry)) {\n        if (entry.constructor === c && entry._state !== $$$internal$$PENDING) {\n          entry._onerror = null;\n          this._settledAt(entry._state, i, entry._result);\n        } else {\n          this._willSettleAt(c.resolve(entry), i);\n        }\n      } else {\n        this._remaining--;\n        this._result[i] = this._makeResult($$$internal$$FULFILLED, i, entry);\n      }\n    };\n\n    $$$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n      var promise = this.promise;\n\n      if (promise._state === $$$internal$$PENDING) {\n        this._remaining--;\n\n        if (this._abortOnReject && state === $$$internal$$REJECTED) {\n          $$$internal$$reject(promise, value);\n        } else {\n          this._result[i] = this._makeResult(state, i, value);\n        }\n      }\n\n      if (this._remaining === 0) {\n        $$$internal$$fulfill(promise, this._result);\n      }\n    };\n\n    $$$enumerator$$Enumerator.prototype._makeResult = function(state, i, value) {\n      return value;\n    };\n\n    $$$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n      var enumerator = this;\n\n      $$$internal$$subscribe(promise, undefined, function(value) {\n        enumerator._settledAt($$$internal$$FULFILLED, i, value);\n      }, function(reason) {\n        enumerator._settledAt($$$internal$$REJECTED, i, reason);\n      });\n    };\n\n    var $$promise$all$$default = function all(entries, label) {\n      return new $$$enumerator$$default(this, entries, true /* abort on reject */, label).promise;\n    };\n\n    var $$promise$race$$default = function race(entries, label) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      var promise = new Constructor($$$internal$$noop, label);\n\n      if (!$$utils$$isArray(entries)) {\n        $$$internal$$reject(promise, new TypeError('You must pass an array to race.'));\n        return promise;\n      }\n\n      var length = entries.length;\n\n      function onFulfillment(value) {\n        $$$internal$$resolve(promise, value);\n      }\n\n      function onRejection(reason) {\n        $$$internal$$reject(promise, reason);\n      }\n\n      for (var i = 0; promise._state === $$$internal$$PENDING && i < length; i++) {\n        $$$internal$$subscribe(Constructor.resolve(entries[i]), undefined, onFulfillment, onRejection);\n      }\n\n      return promise;\n    };\n\n    var $$promise$resolve$$default = function resolve(object, label) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (object && typeof object === 'object' && object.constructor === Constructor) {\n        return object;\n      }\n\n      var promise = new Constructor($$$internal$$noop, label);\n      $$$internal$$resolve(promise, object);\n      return promise;\n    };\n\n    var $$promise$reject$$default = function reject(reason, label) {\n      /*jshint validthis:true */\n      var Constructor = this;\n      var promise = new Constructor($$$internal$$noop, label);\n      $$$internal$$reject(promise, reason);\n      return promise;\n    };\n\n    var $$es6$promise$promise$$counter = 0;\n\n    function $$es6$promise$promise$$needsResolver() {\n      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n    }\n\n    function $$es6$promise$promise$$needsNew() {\n      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n    }\n\n    var $$es6$promise$promise$$default = $$es6$promise$promise$$Promise;\n\n    /**\n      Promise objects represent the eventual result of an asynchronous operation. The\n      primary way of interacting with a promise is through its `then` method, which\n      registers callbacks to receive either a promises eventual value or the reason\n      why the promise cannot be fulfilled.\n\n      Terminology\n      -----------\n\n      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n      - `thenable` is an object or function that defines a `then` method.\n      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n      - `exception` is a value that is thrown using the throw statement.\n      - `reason` is a value that indicates why a promise was rejected.\n      - `settled` the final resting state of a promise, fulfilled or rejected.\n\n      A promise can be in one of three states: pending, fulfilled, or rejected.\n\n      Promises that are fulfilled have a fulfillment value and are in the fulfilled\n      state.  Promises that are rejected have a rejection reason and are in the\n      rejected state.  A fulfillment value is never a thenable.\n\n      Promises can also be said to *resolve* a value.  If this value is also a\n      promise, then the original promise's settled state will match the value's\n      settled state.  So a promise that *resolves* a promise that rejects will\n      itself reject, and a promise that *resolves* a promise that fulfills will\n      itself fulfill.\n\n\n      Basic Usage:\n      ------------\n\n      ```js\n      var promise = new Promise(function(resolve, reject) {\n        // on success\n        resolve(value);\n\n        // on failure\n        reject(reason);\n      });\n\n      promise.then(function(value) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Advanced Usage:\n      ---------------\n\n      Promises shine when abstracting away asynchronous interactions such as\n      `XMLHttpRequest`s.\n\n      ```js\n      function getJSON(url) {\n        return new Promise(function(resolve, reject){\n          var xhr = new XMLHttpRequest();\n\n          xhr.open('GET', url);\n          xhr.onreadystatechange = handler;\n          xhr.responseType = 'json';\n          xhr.setRequestHeader('Accept', 'application/json');\n          xhr.send();\n\n          function handler() {\n            if (this.readyState === this.DONE) {\n              if (this.status === 200) {\n                resolve(this.response);\n              } else {\n                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n              }\n            }\n          };\n        });\n      }\n\n      getJSON('/posts.json').then(function(json) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Unlike callbacks, promises are great composable primitives.\n\n      ```js\n      Promise.all([\n        getJSON('/posts'),\n        getJSON('/comments')\n      ]).then(function(values){\n        values[0] // => postsJSON\n        values[1] // => commentsJSON\n\n        return values;\n      });\n      ```\n\n      @class Promise\n      @param {function} resolver\n      Useful for tooling.\n      @constructor\n    */\n    function $$es6$promise$promise$$Promise(resolver) {\n      this._id = $$es6$promise$promise$$counter++;\n      this._state = undefined;\n      this._result = undefined;\n      this._subscribers = [];\n\n      if ($$$internal$$noop !== resolver) {\n        if (!$$utils$$isFunction(resolver)) {\n          $$es6$promise$promise$$needsResolver();\n        }\n\n        if (!(this instanceof $$es6$promise$promise$$Promise)) {\n          $$es6$promise$promise$$needsNew();\n        }\n\n        $$$internal$$initializePromise(this, resolver);\n      }\n    }\n\n    $$es6$promise$promise$$Promise.all = $$promise$all$$default;\n    $$es6$promise$promise$$Promise.race = $$promise$race$$default;\n    $$es6$promise$promise$$Promise.resolve = $$promise$resolve$$default;\n    $$es6$promise$promise$$Promise.reject = $$promise$reject$$default;\n\n    $$es6$promise$promise$$Promise.prototype = {\n      constructor: $$es6$promise$promise$$Promise,\n\n    /**\n      The primary way of interacting with a promise is through its `then` method,\n      which registers callbacks to receive either a promise's eventual value or the\n      reason why the promise cannot be fulfilled.\n\n      ```js\n      findUser().then(function(user){\n        // user is available\n      }, function(reason){\n        // user is unavailable, and you are given the reason why\n      });\n      ```\n\n      Chaining\n      --------\n\n      The return value of `then` is itself a promise.  This second, 'downstream'\n      promise is resolved with the return value of the first promise's fulfillment\n      or rejection handler, or rejected if the handler throws an exception.\n\n      ```js\n      findUser().then(function (user) {\n        return user.name;\n      }, function (reason) {\n        return 'default name';\n      }).then(function (userName) {\n        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n        // will be `'default name'`\n      });\n\n      findUser().then(function (user) {\n        throw new Error('Found user, but still unhappy');\n      }, function (reason) {\n        throw new Error('`findUser` rejected and we're unhappy');\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n      });\n      ```\n      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n      ```js\n      findUser().then(function (user) {\n        throw new PedagogicalException('Upstream error');\n      }).then(function (value) {\n        // never reached\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // The `PedgagocialException` is propagated all the way down to here\n      });\n      ```\n\n      Assimilation\n      ------------\n\n      Sometimes the value you want to propagate to a downstream promise can only be\n      retrieved asynchronously. This can be achieved by returning a promise in the\n      fulfillment or rejection handler. The downstream promise will then be pending\n      until the returned promise is settled. This is called *assimilation*.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // The user's comments are now available\n      });\n      ```\n\n      If the assimliated promise rejects, then the downstream promise will also reject.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // If `findCommentsByAuthor` fulfills, we'll have the value here\n      }, function (reason) {\n        // If `findCommentsByAuthor` rejects, we'll have the reason here\n      });\n      ```\n\n      Simple Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var result;\n\n      try {\n        result = findResult();\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n      findResult(function(result, err){\n        if (err) {\n          // failure\n        } else {\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findResult().then(function(result){\n        // success\n      }, function(reason){\n        // failure\n      });\n      ```\n\n      Advanced Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var author, books;\n\n      try {\n        author = findAuthor();\n        books  = findBooksByAuthor(author);\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n\n      function foundBooks(books) {\n\n      }\n\n      function failure(reason) {\n\n      }\n\n      findAuthor(function(author, err){\n        if (err) {\n          failure(err);\n          // failure\n        } else {\n          try {\n            findBoooksByAuthor(author, function(books, err) {\n              if (err) {\n                failure(err);\n              } else {\n                try {\n                  foundBooks(books);\n                } catch(reason) {\n                  failure(reason);\n                }\n              }\n            });\n          } catch(error) {\n            failure(err);\n          }\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findAuthor().\n        then(findBooksByAuthor).\n        then(function(books){\n          // found books\n      }).catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method then\n      @param {Function} onFulfilled\n      @param {Function} onRejected\n      Useful for tooling.\n      @return {Promise}\n    */\n      then: function(onFulfillment, onRejection) {\n        var parent = this;\n        var state = parent._state;\n\n        if (state === $$$internal$$FULFILLED && !onFulfillment || state === $$$internal$$REJECTED && !onRejection) {\n          return this;\n        }\n\n        var child = new this.constructor($$$internal$$noop);\n        var result = parent._result;\n\n        if (state) {\n          var callback = arguments[state - 1];\n          $$asap$$default(function(){\n            $$$internal$$invokeCallback(state, child, callback, result);\n          });\n        } else {\n          $$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n        }\n\n        return child;\n      },\n\n    /**\n      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n      as the catch block of a try/catch statement.\n\n      ```js\n      function findAuthor(){\n        throw new Error('couldn't find that author');\n      }\n\n      // synchronous\n      try {\n        findAuthor();\n      } catch(reason) {\n        // something went wrong\n      }\n\n      // async with promises\n      findAuthor().catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method catch\n      @param {Function} onRejection\n      Useful for tooling.\n      @return {Promise}\n    */\n      'catch': function(onRejection) {\n        return this.then(null, onRejection);\n      }\n    };\n\n    var $$es6$promise$polyfill$$default = function polyfill() {\n      var local;\n\n      if (typeof global !== 'undefined') {\n        local = global;\n      } else if (typeof window !== 'undefined' && window.document) {\n        local = window;\n      } else {\n        local = self;\n      }\n\n      var es6PromiseSupport =\n        \"Promise\" in local &&\n        // Some of these methods are missing from\n        // Firefox/Chrome experimental implementations\n        \"resolve\" in local.Promise &&\n        \"reject\" in local.Promise &&\n        \"all\" in local.Promise &&\n        \"race\" in local.Promise &&\n        // Older version of the spec had a resolver object\n        // as the arg rather than a function\n        (function() {\n          var resolve;\n          new local.Promise(function(r) { resolve = r; });\n          return $$utils$$isFunction(resolve);\n        }());\n\n      if (!es6PromiseSupport) {\n        local.Promise = $$es6$promise$promise$$default;\n      }\n    };\n\n    var es6$promise$umd$$ES6Promise = {\n      'Promise': $$es6$promise$promise$$default,\n      'polyfill': $$es6$promise$polyfill$$default\n    };\n\n    /* global define:true module:true window: true */\n    if (\"function\" === 'function' && __webpack_require__(50)['amd']) {\n      !(__WEBPACK_AMD_DEFINE_RESULT__ = function() { return es6$promise$umd$$ES6Promise; }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof module !== 'undefined' && module['exports']) {\n      module['exports'] = es6$promise$umd$$ES6Promise;\n    } else if (typeof this !== 'undefined') {\n      this['ES6Promise'] = es6$promise$umd$$ES6Promise;\n    }\n}).call(this);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(53), (function() { return this; }()), __webpack_require__(49)(module)))\n\n/***/ },\n/* 44 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar h = __webpack_require__(51);\nvar ajaxObserver = __webpack_require__(6);\nvar r = __webpack_require__(52);\n/**\n * TODO @see https://github.com/github/fetch/blob/master/fetch.js\n */\nvar Request = (function (_super) {\n    __extends(Request, _super);\n    function Request(context) {\n        _super.call(this, context);\n        this.async = true;\n        this.method = '';\n        this.url = '';\n        this.query = null;\n        this.body = {};\n        this.context = context;\n        this.xhr = null;\n        this.observer = ajaxObserver.$get(context);\n    }\n    Request.prototype.isLoaded = function () {\n        return !!this.xhr;\n    };\n    //TODO Remove\n    Request.prototype.setHeader = function (name, value) {\n        _super.prototype.setHeader.call(this, name, value);\n        return this;\n    };\n    //TODO Remove\n    Request.prototype.setHeaders = function (headers) {\n        _super.prototype.setHeaders.call(this, headers);\n        return this;\n    };\n    Request.prototype.setOptions = function (options) {\n        options = options || {};\n        // backwards compatibility\n        if (!('body' in options) && options.post)\n            options.body = options.post;\n        if (!('query' in options) && options.get)\n            options.query = options.get;\n        if ('method' in options)\n            this.method = options.method;\n        if ('url' in options)\n            this.url = options.url;\n        if ('query' in options)\n            this.query = options.query;\n        if ('body' in options)\n            this.body = options.body;\n        if ('headers' in options)\n            this.setHeaders(options.headers);\n        if ('async' in options)\n            this.async = !!options.async;\n        return this;\n    };\n    /**\n     * Checks the send options, defaulting various of the options,\n     * and consuming / transforming some of the options (like get).\n     */\n    Request.prototype.checkOptions = function () {\n        if (!this.url)\n            throw new Error('Url is not defined');\n        if (!this.hasHeader('Accept'))\n            this.setHeader('Accept', h.Headers.jsonContentType);\n        if (!this.hasHeader('Content-Type'))\n            this.setHeader('Content-Type', h.Headers.jsonContentType);\n        this.method = this.method ? this.method.toUpperCase() : 'GET';\n        if (['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'OPTIONS', 'HEAD'].indexOf(this.method) < 0)\n            throw new Error('Method has wrong value');\n        return this;\n    };\n    Request.prototype.getEncodedBody = function () {\n        if (this.method === 'GET')\n            return null;\n        if (typeof this.body === 'string') {\n            return this.body;\n        }\n        else if (this.isJson()) {\n            return JSON.stringify(this.body);\n        }\n        else if (this.isUrlEncoded()) {\n            return this.utils.queryStringify(this.body);\n        }\n        else {\n            return this.body;\n        }\n    };\n    Request.prototype.send = function () {\n        var _this = this;\n        this.observer.emit(this.observer.events.beforeRequest, this);\n        var responsePromise = new (this.context.getPromise())(function (resolve, reject) {\n            _this.checkOptions();\n            var xhr = _this.getXHR(), url = _this.url + (!!_this.query ? ((_this.url.indexOf('?') > -1 ? '&' : '?') + _this.utils.queryStringify(_this.query)) : '');\n            xhr.open(_this.method, url, _this.async);\n            //@see http://stackoverflow.com/questions/19666809/cors-withcredentials-support-limited\n            xhr.withCredentials = true;\n            xhr.onload = function () {\n                //TODO http://jira.ringcentral.com/browse/PLA-10585\n                var response = r.$get(_this.context, xhr.status, xhr.statusText, xhr.responseText, xhr.getAllResponseHeaders());\n                if (response.error) {\n                    var e = response.error;\n                    e.ajax = response; // backwards compatibility\n                    e.response = response; //FIXME Circular\n                    e.request = _this;\n                    reject(e);\n                }\n                else {\n                    resolve(response);\n                }\n            };\n            xhr.onerror = function (event) {\n                var e = new Error('The request cannot be sent' + (event ? ' (' + event.toString() + ')' : ''));\n                e.request = _this;\n                e.response = null;\n                e.ajax = null; // backwards compatibility\n                reject(e);\n            };\n            _this.utils.forEach(_this.headers, function (value, header) {\n                if (!!value)\n                    xhr.setRequestHeader(header, value);\n            });\n            xhr.send(_this.getEncodedBody());\n            _this.xhr = xhr;\n        });\n        return responsePromise.then(function (response) {\n            _this.observer.emit(_this.observer.events.requestSuccess, response, _this);\n            return response;\n        }).catch(function (e) {\n            _this.observer.emit(_this.observer.events.requestError, e);\n            throw e;\n        });\n    };\n    Request.prototype.getXHR = function () {\n        return this.context.getXHR();\n    };\n    Request.prototype.destroy = function () {\n        if (this.xhr)\n            this.xhr.abort();\n    };\n    return Request;\n})(h.Headers);\nexports.Request = Request;\nfunction $get(context) {\n    return new Request(context);\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 45 */\n/***/ function(module, exports, __webpack_require__) {\n\n(function(e,r){true?module.exports=exports=r(__webpack_require__(42)):\"function\"==typeof define&&define.amd?define([\"./core\"],r):r(e.CryptoJS)})(this,function(e){return function(){var r=e,t=r.lib,n=t.WordArray,i=r.enc;i.Base64={stringify:function(e){var r=e.words,t=e.sigBytes,n=this._map;e.clamp();for(var i=[],o=0;t>o;o+=3)for(var c=255&r[o>>>2]>>>24-8*(o%4),f=255&r[o+1>>>2]>>>24-8*((o+1)%4),s=255&r[o+2>>>2]>>>24-8*((o+2)%4),a=c<<16|f<<8|s,u=0;4>u&&t>o+.75*u;u++)i.push(n.charAt(63&a>>>6*(3-u)));var p=n.charAt(64);if(p)for(;i.length%4;)i.push(p);return i.join(\"\")},parse:function(e){var r=e.length,t=this._map,i=t.charAt(64);if(i){var o=e.indexOf(i);-1!=o&&(r=o)}for(var c=[],f=0,s=0;r>s;s++)if(s%4){var a=t.indexOf(e.charAt(s-1))<<2*(s%4),u=t.indexOf(e.charAt(s))>>>6-2*(s%4);c[f>>>2]|=(a|u)<<24-8*(f%4),f++}return n.create(c,f)},_map:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"}}(),e.enc.Base64});\n\n/***/ },\n/* 46 */\n/***/ function(module, exports, __webpack_require__) {\n\n(function(e,r){true?module.exports=exports=r(__webpack_require__(42)):\"function\"==typeof define&&define.amd?define([\"./core\"],r):r(e.CryptoJS)})(this,function(e){return function(r){function t(e,r,t,n,i,o,c){var s=e+(r&t|~r&n)+i+c;return(s<<o|s>>>32-o)+r}function n(e,r,t,n,i,o,c){var s=e+(r&n|t&~n)+i+c;return(s<<o|s>>>32-o)+r}function i(e,r,t,n,i,o,c){var s=e+(r^t^n)+i+c;return(s<<o|s>>>32-o)+r}function o(e,r,t,n,i,o,c){var s=e+(t^(r|~n))+i+c;return(s<<o|s>>>32-o)+r}var c=e,s=c.lib,f=s.WordArray,a=s.Hasher,u=c.algo,p=[];(function(){for(var e=0;64>e;e++)p[e]=0|4294967296*r.abs(r.sin(e+1))})();var d=u.MD5=a.extend({_doReset:function(){this._hash=new f.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,r){for(var c=0;16>c;c++){var s=r+c,f=e[s];e[s]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)}var a=this._hash.words,u=e[r+0],d=e[r+1],h=e[r+2],y=e[r+3],m=e[r+4],l=e[r+5],x=e[r+6],q=e[r+7],g=e[r+8],v=e[r+9],b=e[r+10],S=e[r+11],A=e[r+12],w=e[r+13],_=e[r+14],C=e[r+15],B=a[0],H=a[1],j=a[2],J=a[3];B=t(B,H,j,J,u,7,p[0]),J=t(J,B,H,j,d,12,p[1]),j=t(j,J,B,H,h,17,p[2]),H=t(H,j,J,B,y,22,p[3]),B=t(B,H,j,J,m,7,p[4]),J=t(J,B,H,j,l,12,p[5]),j=t(j,J,B,H,x,17,p[6]),H=t(H,j,J,B,q,22,p[7]),B=t(B,H,j,J,g,7,p[8]),J=t(J,B,H,j,v,12,p[9]),j=t(j,J,B,H,b,17,p[10]),H=t(H,j,J,B,S,22,p[11]),B=t(B,H,j,J,A,7,p[12]),J=t(J,B,H,j,w,12,p[13]),j=t(j,J,B,H,_,17,p[14]),H=t(H,j,J,B,C,22,p[15]),B=n(B,H,j,J,d,5,p[16]),J=n(J,B,H,j,x,9,p[17]),j=n(j,J,B,H,S,14,p[18]),H=n(H,j,J,B,u,20,p[19]),B=n(B,H,j,J,l,5,p[20]),J=n(J,B,H,j,b,9,p[21]),j=n(j,J,B,H,C,14,p[22]),H=n(H,j,J,B,m,20,p[23]),B=n(B,H,j,J,v,5,p[24]),J=n(J,B,H,j,_,9,p[25]),j=n(j,J,B,H,y,14,p[26]),H=n(H,j,J,B,g,20,p[27]),B=n(B,H,j,J,w,5,p[28]),J=n(J,B,H,j,h,9,p[29]),j=n(j,J,B,H,q,14,p[30]),H=n(H,j,J,B,A,20,p[31]),B=i(B,H,j,J,l,4,p[32]),J=i(J,B,H,j,g,11,p[33]),j=i(j,J,B,H,S,16,p[34]),H=i(H,j,J,B,_,23,p[35]),B=i(B,H,j,J,d,4,p[36]),J=i(J,B,H,j,m,11,p[37]),j=i(j,J,B,H,q,16,p[38]),H=i(H,j,J,B,b,23,p[39]),B=i(B,H,j,J,w,4,p[40]),J=i(J,B,H,j,u,11,p[41]),j=i(j,J,B,H,y,16,p[42]),H=i(H,j,J,B,x,23,p[43]),B=i(B,H,j,J,v,4,p[44]),J=i(J,B,H,j,A,11,p[45]),j=i(j,J,B,H,C,16,p[46]),H=i(H,j,J,B,h,23,p[47]),B=o(B,H,j,J,u,6,p[48]),J=o(J,B,H,j,q,10,p[49]),j=o(j,J,B,H,_,15,p[50]),H=o(H,j,J,B,l,21,p[51]),B=o(B,H,j,J,A,6,p[52]),J=o(J,B,H,j,y,10,p[53]),j=o(j,J,B,H,b,15,p[54]),H=o(H,j,J,B,d,21,p[55]),B=o(B,H,j,J,g,6,p[56]),J=o(J,B,H,j,C,10,p[57]),j=o(j,J,B,H,x,15,p[58]),H=o(H,j,J,B,w,21,p[59]),B=o(B,H,j,J,m,6,p[60]),J=o(J,B,H,j,S,10,p[61]),j=o(j,J,B,H,h,15,p[62]),H=o(H,j,J,B,v,21,p[63]),a[0]=0|a[0]+B,a[1]=0|a[1]+H,a[2]=0|a[2]+j,a[3]=0|a[3]+J},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;t[i>>>5]|=128<<24-i%32;var o=r.floor(n/4294967296),c=n;t[(i+64>>>9<<4)+15]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t[(i+64>>>9<<4)+14]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),e.sigBytes=4*(t.length+1),this._process();for(var s=this._hash,f=s.words,a=0;4>a;a++){var u=f[a];f[a]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});c.MD5=a._createHelper(d),c.HmacMD5=a._createHmacHelper(d)}(Math),e.MD5});\n\n/***/ },\n/* 47 */\n/***/ function(module, exports, __webpack_require__) {\n\n(function(e,r){true?module.exports=exports=r(__webpack_require__(42),__webpack_require__(54),__webpack_require__(55)):\"function\"==typeof define&&define.amd?define([\"./core\",\"./sha1\",\"./hmac\"],r):r(e.CryptoJS)})(this,function(e){return function(){var r=e,t=r.lib,i=t.Base,n=t.WordArray,o=r.algo,a=o.MD5,s=o.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,r){for(var t=this.cfg,i=t.hasher.create(),o=n.create(),a=o.words,s=t.keySize,c=t.iterations;s>a.length;){f&&i.update(f);var f=i.update(e).finalize(r);i.reset();for(var u=1;c>u;u++)f=i.finalize(f),i.reset();o.concat(f)}return o.sigBytes=4*s,o}});r.EvpKDF=function(e,r,t){return s.create(t).compute(e,r)}}(),e.EvpKDF});\n\n/***/ },\n/* 48 */\n/***/ function(module, exports, __webpack_require__) {\n\n(function(e,r){true?module.exports=exports=r(__webpack_require__(42)):\"function\"==typeof define&&define.amd?define([\"./core\"],r):r(e.CryptoJS)})(this,function(e){e.lib.Cipher||function(r){var t=e,i=t.lib,n=i.Base,o=i.WordArray,c=i.BufferedBlockAlgorithm,s=t.enc;s.Utf8;var a=s.Base64,f=t.algo,u=f.EvpKDF,h=i.Cipher=c.extend({cfg:n.extend(),createEncryptor:function(e,r){return this.create(this._ENC_XFORM_MODE,e,r)},createDecryptor:function(e,r){return this.create(this._DEC_XFORM_MODE,e,r)},init:function(e,r,t){this.cfg=this.cfg.extend(t),this._xformMode=e,this._key=r,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){e&&this._append(e);var r=this._doFinalize();return r},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return\"string\"==typeof e?q:_}return function(r){return{encrypt:function(t,i,n){return e(i).encrypt(r,t,i,n)},decrypt:function(t,i,n){return e(i).decrypt(r,t,i,n)}}}}()});i.StreamCipher=h.extend({_doFinalize:function(){var e=this._process(true);return e},blockSize:1});var d=t.mode={},p=i.BlockCipherMode=n.extend({createEncryptor:function(e,r){return this.Encryptor.create(e,r)},createDecryptor:function(e,r){return this.Decryptor.create(e,r)},init:function(e,r){this._cipher=e,this._iv=r}}),l=d.CBC=function(){function e(e,t,i){var n=this._iv;if(n){var o=n;this._iv=r}else var o=this._prevBlock;for(var c=0;i>c;c++)e[t+c]^=o[c]}var t=p.extend();return t.Encryptor=t.extend({processBlock:function(r,t){var i=this._cipher,n=i.blockSize;e.call(this,r,t,n),i.encryptBlock(r,t),this._prevBlock=r.slice(t,t+n)}}),t.Decryptor=t.extend({processBlock:function(r,t){var i=this._cipher,n=i.blockSize,o=r.slice(t,t+n);i.decryptBlock(r,t),e.call(this,r,t,n),this._prevBlock=o}}),t}(),y=t.pad={},v=y.Pkcs7={pad:function(e,r){for(var t=4*r,i=t-e.sigBytes%t,n=i<<24|i<<16|i<<8|i,c=[],s=0;i>s;s+=4)c.push(n);var a=o.create(c,i);e.concat(a)},unpad:function(e){var r=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=r}};i.BlockCipher=h.extend({cfg:h.cfg.extend({mode:l,padding:v}),reset:function(){h.reset.call(this);var e=this.cfg,r=e.iv,t=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=t.createEncryptor;else{var i=t.createDecryptor;this._minBufferSize=1}this._mode=i.call(t,this,r&&r.words)},_doProcessBlock:function(e,r){this._mode.processBlock(e,r)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var r=this._process(true)}else{var r=this._process(true);e.unpad(r)}return r},blockSize:4});var g=i.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),m=t.format={},x=m.OpenSSL={stringify:function(e){var r=e.ciphertext,t=e.salt;if(t)var i=o.create([1398893684,1701076831]).concat(t).concat(r);else var i=r;return i.toString(a)},parse:function(e){var r=a.parse(e),t=r.words;if(1398893684==t[0]&&1701076831==t[1]){var i=o.create(t.slice(2,4));t.splice(0,4),r.sigBytes-=16}return g.create({ciphertext:r,salt:i})}},_=i.SerializableCipher=n.extend({cfg:n.extend({format:x}),encrypt:function(e,r,t,i){i=this.cfg.extend(i);var n=e.createEncryptor(t,i),o=n.finalize(r),c=n.cfg;return g.create({ciphertext:o,key:t,iv:c.iv,algorithm:e,mode:c.mode,padding:c.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,r,t,i){i=this.cfg.extend(i),r=this._parse(r,i.format);var n=e.createDecryptor(t,i).finalize(r.ciphertext);return n},_parse:function(e,r){return\"string\"==typeof e?r.parse(e,this):e}}),w=t.kdf={},S=w.OpenSSL={execute:function(e,r,t,i){i||(i=o.random(8));var n=u.create({keySize:r+t}).compute(e,i),c=o.create(n.words.slice(r),4*t);return n.sigBytes=4*r,g.create({key:n,iv:c,salt:i})}},q=i.PasswordBasedCipher=_.extend({cfg:_.cfg.extend({kdf:S}),encrypt:function(e,r,t,i){i=this.cfg.extend(i);var n=i.kdf.execute(t,e.keySize,e.ivSize);i.iv=n.iv;var o=_.encrypt.call(this,e,r,n.key,i);return o.mixIn(n),o},decrypt:function(e,r,t,i){i=this.cfg.extend(i),r=this._parse(r,i.format);var n=i.kdf.execute(t,e.keySize,e.ivSize,r.salt);i.iv=n.iv;var o=_.decrypt.call(this,e,r,n.key,i);return o}})}()});\n\n/***/ },\n/* 49 */\n/***/ function(module, exports, __webpack_require__) {\n\nmodule.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n/***/ },\n/* 50 */\n/***/ function(module, exports, __webpack_require__) {\n\nmodule.exports = function() { throw new Error(\"define cannot be used indirect\"); };\r\n\n\n/***/ },\n/* 51 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../../typings/externals.d.ts\" />\nvar utils = __webpack_require__(16);\nvar Headers = (function () {\n    function Headers(context) {\n        this.headers = {};\n        this.context = context;\n        this.utils = utils.$get(context);\n    }\n    Headers.prototype.setHeader = function (name, value) {\n        this.headers[name.toLowerCase()] = value;\n        return this;\n    };\n    Headers.prototype.getHeader = function (name) {\n        return this.headers[name.toLowerCase()];\n    };\n    Headers.prototype.hasHeader = function (name) {\n        return (name.toLowerCase() in this.headers);\n    };\n    Headers.prototype.setHeaders = function (headers) {\n        var _this = this;\n        this.utils.forEach(headers, function (value, name) {\n            _this.setHeader(name, value);\n        });\n        return this;\n    };\n    Headers.prototype.isContentType = function (contentType) {\n        return this.getContentType().indexOf(contentType) > -1;\n    };\n    Headers.prototype.getContentType = function () {\n        return this.getHeader(Headers.contentType) || '';\n    };\n    Headers.prototype.isMultipart = function () {\n        return this.isContentType(Headers.multipartContentType);\n    };\n    Headers.prototype.isUrlEncoded = function () {\n        return this.isContentType(Headers.urlencodedContentType);\n    };\n    Headers.prototype.isJson = function () {\n        return this.isContentType(Headers.jsonContentType);\n    };\n    Headers.contentType = 'Content-Type';\n    Headers.jsonContentType = 'application/json';\n    Headers.multipartContentType = 'multipart/mixed';\n    Headers.urlencodedContentType = 'application/x-www-form-urlencoded';\n    return Headers;\n})();\nexports.Headers = Headers;\n\n\n/***/ },\n/* 52 */\n/***/ function(module, exports, __webpack_require__) {\n\n/// <reference path=\"../../../typings/externals.d.ts\" />\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar h = __webpack_require__(51);\nvar log = __webpack_require__(11);\nvar Response = (function (_super) {\n    __extends(Response, _super);\n    function Response(context, status, statusText, body, headers) {\n        var _this = this;\n        _super.call(this, context);\n        this.log = log.$get(context);\n        if (typeof (body) === 'string') {\n            body = body.replace(/\\r/g, '');\n            if (!headers) {\n                var tmp = body.split(Response.bodySeparator);\n                headers = (tmp.length > 1) ? tmp.shift() : {};\n                body = tmp.join(Response.bodySeparator);\n            }\n        }\n        /** @type {Response[]|object} */\n        this.data = null;\n        /** @type {object} */\n        this.json = null;\n        /** @type {Response[]} */\n        this.responses = [];\n        /** @type {Error} */\n        this.error = null;\n        //@see http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n        if (status == 1223)\n            status = 204;\n        this.status = status;\n        this.statusText = statusText;\n        this.body = body;\n        try {\n            // Step 1. Parse headers\n            if (typeof (headers) === 'string') {\n                (headers || '').split('\\n').forEach(function (header) {\n                    if (!header)\n                        return;\n                    /** @type {string[]} */\n                    var parts = header.split(Response.headerSeparator), name = parts.shift().trim();\n                    _this.setHeader(name, parts.join(Response.headerSeparator).trim());\n                });\n            }\n            else {\n                this.setHeaders(headers);\n            }\n            // Step 1.1. JEDI proxy sometimes may omit Content-Type header\n            if (!this.hasHeader(h.Headers.contentType))\n                this.setHeader(h.Headers.contentType, h.Headers.jsonContentType);\n            // Step 2. Parse body\n            if (this.isJson() && !!this.body && typeof (this.body) === 'string') {\n                this.json = JSON.parse(this.body);\n                this.data = this.json; // backwards compatibility\n                if (!this.checkStatus())\n                    this.error = new Error(this.getError());\n            }\n            else if (this.isMultipart()) {\n                // Step 2.1. Split multipart response\n                var boundary = this.getContentType().match(/boundary=([^;]+)/i)[1], parts = this.body.split(Response.boundarySeparator + boundary);\n                if (parts[0].trim() === '')\n                    parts.shift();\n                if (parts[parts.length - 1].trim() == Response.boundarySeparator)\n                    parts.pop();\n                // Step 2.2. Parse status info\n                var statusInfo = new Response(this.context, this.status, '', parts.shift());\n                // Step 2.3. Parse all other parts\n                this.responses = parts.map(function (part, i) {\n                    var status = statusInfo.data.response[i].status;\n                    return new Response(_this.context, status, '', part);\n                });\n                this.data = this.responses; // backwards compatibility\n            }\n            else {\n                this.data = this.body;\n            }\n        }\n        catch (e) {\n            this.log.error('Response.parseResponse(): Unable to parse data');\n            this.log.error(e.stack || e);\n            this.log.error(this.body);\n            this.error = e;\n        }\n    }\n    /**\n     * @returns {boolean}\n     */\n    Response.prototype.isUnauthorized = function () {\n        return (this.status == 401);\n    };\n    Response.prototype.checkStatus = function () {\n        return this.status >= 200 && this.status < 300;\n    };\n    Response.prototype.getError = function () {\n        return this.data.message || this.data.error_description || this.data.description || 'Unknown error';\n    };\n    Response.boundarySeparator = '--';\n    Response.headerSeparator = ':';\n    Response.bodySeparator = '\\n\\n';\n    return Response;\n})(h.Headers);\nexports.Response = Response;\nfunction $get(context, status, statusText, body, headers) {\n    return new Response(context, status, statusText, body, headers);\n}\nexports.$get = $get;\n\n\n/***/ },\n/* 53 */\n/***/ function(module, exports, __webpack_require__) {\n\n// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    draining = true;\n    var currentQueue;\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        var i = -1;\n        while (++i < len) {\n            currentQueue[i]();\n        }\n        len = queue.length;\n    }\n    draining = false;\n}\nprocess.nextTick = function (fun) {\n    queue.push(fun);\n    if (!draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ },\n/* 54 */\n/***/ function(module, exports, __webpack_require__) {\n\n(function(e,r){true?module.exports=exports=r(__webpack_require__(42)):\"function\"==typeof define&&define.amd?define([\"./core\"],r):r(e.CryptoJS)})(this,function(e){return function(){var r=e,t=r.lib,n=t.WordArray,i=t.Hasher,o=r.algo,s=[],c=o.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,r){for(var t=this._hash.words,n=t[0],i=t[1],o=t[2],c=t[3],a=t[4],f=0;80>f;f++){if(16>f)s[f]=0|e[r+f];else{var u=s[f-3]^s[f-8]^s[f-14]^s[f-16];s[f]=u<<1|u>>>31}var d=(n<<5|n>>>27)+a+s[f];d+=20>f?(i&o|~i&c)+1518500249:40>f?(i^o^c)+1859775393:60>f?(i&o|i&c|o&c)-1894007588:(i^o^c)-899497514,a=c,c=o,o=i<<30|i>>>2,i=n,n=d}t[0]=0|t[0]+n,t[1]=0|t[1]+i,t[2]=0|t[2]+o,t[3]=0|t[3]+c,t[4]=0|t[4]+a},_doFinalize:function(){var e=this._data,r=e.words,t=8*this._nDataBytes,n=8*e.sigBytes;return r[n>>>5]|=128<<24-n%32,r[(n+64>>>9<<4)+14]=Math.floor(t/4294967296),r[(n+64>>>9<<4)+15]=t,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});r.SHA1=i._createHelper(c),r.HmacSHA1=i._createHmacHelper(c)}(),e.SHA1});\n\n/***/ },\n/* 55 */\n/***/ function(module, exports, __webpack_require__) {\n\n(function(e,r){true?module.exports=exports=r(__webpack_require__(42)):\"function\"==typeof define&&define.amd?define([\"./core\"],r):r(e.CryptoJS)})(this,function(e){(function(){var r=e,t=r.lib,n=t.Base,i=r.enc,o=i.Utf8,a=r.algo;a.HMAC=n.extend({init:function(e,r){e=this._hasher=new e.init,\"string\"==typeof r&&(r=o.parse(r));var t=e.blockSize,n=4*t;r.sigBytes>n&&(r=e.finalize(r)),r.clamp();for(var i=this._oKey=r.clone(),a=this._iKey=r.clone(),s=i.words,c=a.words,f=0;t>f;f++)s[f]^=1549556828,c[f]^=909522486;i.sigBytes=a.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var r=this._hasher,t=r.finalize(e);r.reset();var n=r.finalize(this._oKey.clone().concat(t));return n}})})()});\n\n/***/ }\n/******/ ])\n});\n;\n//# sourceMappingURL=rc-sdk-bundle.js.map"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap f0e6955c7fee778c8e8b\n **/","/// <reference path=\"../typings/externals.d.ts\" />\n\ndeclare\nvar require:(name:string)=>any;\n\nimport headers = require('./core/http/Headers');\nimport request = require('./core/http/Request');\nimport response = require('./core/http/Response');\nimport pubnubMock = require('./core/pubnub/PubnubMock');\nimport xhrMock = require('./core/xhr/XhrMock');\nimport xhrResponse = require('./core/xhr/XhrResponse');\nimport ajaxObserver = require('./core/AjaxObserver');\nimport cache = require('./core/Cache');\nimport context = require('./core/Context');\nimport helper = require('./core/Helper');\nimport list = require('./core/List');\nimport log = require('./core/Log');\nimport observable = require('./core/Observable');\nimport pageVisibility = require('./core/PageVisibility');\nimport platform = require('./core/Platform');\nimport subscription = require('./core/Subscription');\nimport utils = require('./core/Utils');\nimport validator = require('./core/Validator');\n\nimport accountHelper = require('./helpers/Account');\nimport blockedNumberHelper = require('./helpers/BlockedNumber');\nimport callHelper = require('./helpers/Call');\nimport contactHelper = require('./helpers/Contact');\nimport contactGroupHelper = require('./helpers/ContactGroup');\nimport conferencingHelper = require('./helpers/Conferencing');\nimport countryHelper = require('./helpers/Country');\nimport deviceHelper = require('./helpers/Device');\nimport deviceModelHelper = require('./helpers/DeviceModel');\nimport extensionHelper = require('./helpers/Extension');\nimport forwardingNumberHelper = require('./helpers/ForwardingNumber');\nimport languageHelper = require('./helpers/Language');\nimport locationHelper = require('./helpers/Location');\nimport messageHelper = require('./helpers/Message');\nimport phoneNumberHelper = require('./helpers/PhoneNumber');\nimport presenceHelper = require('./helpers/Presence');\nimport ringoutHelper = require('./helpers/Ringout');\nimport serviceHelper = require('./helpers/Service');\nimport shippingMethodHelper = require('./helpers/ShippingMethod');\nimport stateHelper = require('./helpers/State');\nimport timezoneHelper = require('./helpers/Timezone');\n\nimport promise = require('es6-promise');\nimport pubnub = require('pubnub');\nimport rcsdk = require('./RCSDK');\n\nrequire('crypto-js/aes');\nrequire('crypto-js/mode-ecb');\n\nclass RCSDK {\n\n    public static version = '1.3.0';\n\n    public static CryptoJS = require('crypto-js/core');\n\n    public static XHR = () => {\n        try { return new XMLHttpRequest(); } catch (e) {}\n        try { return new ActiveXObject(\"Msxml2.XMLHTTP.6.0\"); } catch (e1) {}\n        try { return new ActiveXObject(\"Msxml2.XMLHTTP.3.0\"); } catch (e2) {}\n        try { return new ActiveXObject(\"Msxml2.XMLHTTP\"); } catch (e3) {}\n        try { return new (require('xhr' + '2'))(); } catch (e4) {} // Node only\n        throw new Error(\"This browser does not support XMLHttpRequest.\");\n    };\n\n    public static injections = <context.IInjections>{\n        CryptoJS: RCSDK.CryptoJS,\n        localStorage: (typeof(localStorage) !== 'undefined'\n            ? localStorage\n            : require('dom-' + 'storage')), // Node only\n        Promise: typeof(Promise) !== 'undefined' ? Promise : promise.Promise,\n        PUBNUB: pubnub,\n        XHR: RCSDK.XHR,\n        pubnubMock: pubnubMock,\n        xhrMock: xhrMock\n    };\n\n    private _context:context.Context;\n\n    constructor(options?:{\n        server:string;\n        appKey:string;\n        appSecret:string;\n        cachePrefix?:string;\n    }) {\n\n        options = options || <any>{};\n\n        this._context = context.$get(RCSDK.injections);\n\n        this.getCache()\n            .setPrefix(options.cachePrefix || '');\n\n        this.getPlatform()\n            .setServer(options.server || '')\n            .setCredentials(options.appKey || '', options.appSecret || '');\n\n        //TODO Link Platform events with Subscriptions and the rest\n\n    }\n\n    // Internals\n\n    getContext() { return this._context; }\n\n    // Core\n\n    getAjaxObserver() { return ajaxObserver.$get(this.getContext()); }\n\n    getXhrResponse() { return xhrResponse.$get(this.getContext()); }\n\n    getPlatform() { return platform.$get(this.getContext()); }\n\n    getCache() { return cache.$get(this.getContext()); }\n\n    getSubscription() { return subscription.$get(this.getContext()); }\n\n    getPageVisibility() { return pageVisibility.$get(this.getContext()); }\n\n    getHelper() { return helper.$get(this.getContext()); }\n\n    getObservable() { return observable.$get(this.getContext()); }\n\n    getValidator() { return validator.$get(this.getContext()); }\n\n    getLog() { return log.$get(this.getContext()); }\n\n    getUtils() { return utils.$get(this.getContext()); }\n\n    getList() { return list.$get(this.getContext()); }\n\n    // Helpers\n\n    getCountryHelper() { return countryHelper.$get(this.getContext()); }\n\n    getDeviceModelHelper() { return deviceModelHelper.$get(this.getContext()); }\n\n    getLanguageHelper() { return languageHelper.$get(this.getContext()); }\n\n    getLocationHelper() { return locationHelper.$get(this.getContext()); }\n\n    getShippingMethodHelper() { return shippingMethodHelper.$get(this.getContext()); }\n\n    getStateHelper() { return stateHelper.$get(this.getContext()); }\n\n    getTimezoneHelper() { return timezoneHelper.$get(this.getContext()); }\n\n    getAccountHelper() { return accountHelper.$get(this.getContext()); }\n\n    getBlockedNumberHelper() { return blockedNumberHelper.$get(this.getContext()); }\n\n    getCallHelper() { return callHelper.$get(this.getContext()); }\n\n    getConferencingHelper() { return conferencingHelper.$get(this.getContext()); }\n\n    getContactHelper() { return contactHelper.$get(this.getContext()); }\n\n    getContactGroupHelper() { return contactGroupHelper.$get(this.getContext()); }\n\n    getDeviceHelper() { return deviceHelper.$get(this.getContext()); }\n\n    getExtensionHelper() { return extensionHelper.$get(this.getContext()); }\n\n    getForwardingNumberHelper() { return forwardingNumberHelper.$get(this.getContext()); }\n\n    getMessageHelper() { return messageHelper.$get(this.getContext()); }\n\n    getPhoneNumberHelper() { return phoneNumberHelper.$get(this.getContext()); }\n\n    getPresenceHelper() { return presenceHelper.$get(this.getContext()); }\n\n    getRingoutHelper() { return ringoutHelper.$get(this.getContext()); }\n\n    getServiceHelper() { return serviceHelper.$get(this.getContext()); }\n\n}\n\nexport = RCSDK;\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/RCSDK.ts\n **/","if(typeof __WEBPACK_EXTERNAL_MODULE_1__ === 'undefined') {var e = new Error(\"Cannot find module \\\"undefined\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e;}\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"amd\":\"exports\",\"commonjs\":\"xhr2\",\"commonjs2\":\"xhr2\",\"root\":\"XMLHttpRequest\"}\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"amd\":\"exports\",\"commonjs\":\"dom-storage\",\"commonjs2\":\"dom-storage\",\"root\":\"localStorage\"}\n ** module id = 2\n ** module chunks = 0\n **/","/// <reference path=\"../../../typings/externals.d.ts\" />\n\nimport context = require('../Context');\n\nexport class PubnubMock implements PUBNUB.PubnubInstance {\n\n    onMessage:(message, env, channel) => void;\n\n    ready() {}\n\n    unsubscribe(options) {}\n\n    subscribe(options:{message:(message, env, channel) => void}) {\n        this.onMessage = options.message;\n    }\n\n    receiveMessage(msg) {\n        this.onMessage(msg, 'env', 'channel');\n    }\n\n}\n\nexport class PubnubFactory implements PUBNUB.PUBNUB {\n\n    context:context.Context;\n\n    constructor(context:context.Context) {\n        this.context = context;\n    }\n\n    init(options) {\n        return new PubnubMock();\n    }\n\n}\n\nexport function $get(context:context.Context):PubnubFactory {\n    return new PubnubFactory(context);\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/pubnub/PubnubMock.ts\n **/","import context = require('../Context');\nimport utils = require('../Utils');\nimport log = require('../Log');\nimport xhrResponse = require('./XhrResponse'); //FIXME Circular\n\nexport class XhrMock {\n\n    // Service\n    private context:context.Context;\n    private log:log.Log;\n    private utils:utils.Utils;\n    private responses:xhrResponse.XhrResponse;\n\n    // Request\n    public async:boolean;\n    public method:string;\n    public url:string;\n    public requestHeaders:any;\n    public withCredentials:boolean;\n    public onload:()=>any;\n    public onerror:(e:Error)=>any;\n\n    // Response\n    public data:any;\n    public readyState:number;\n    public responseHeaders:any;\n    public responseText:string;\n    public status:number;\n\n    constructor(context:context.Context) {\n\n        // Service\n        this.context = context;\n        this.responses = xhrResponse.$get(context);\n        this.log = log.$get(context);\n        this.utils = utils.$get(context);\n\n        // Request\n        this.async = true;\n        this.method = '';\n        this.url = '';\n        this.requestHeaders = {};\n        this.withCredentials = false;\n\n        // Response\n        this.data = null;\n        this.readyState = 0;\n        this.responseHeaders = {};\n        this.status = 0;\n\n    }\n\n    getResponseHeader(header:string) {\n        return this.responseHeaders[header.toLowerCase()];\n    }\n\n    setRequestHeader(header:string, value:string) {\n        this.requestHeaders[header.toLowerCase()] = value;\n    }\n\n    getAllResponseHeaders() {\n        var res = [];\n        this.utils.forEach(this.responseHeaders, (value:string, name:string) => {\n            res.push(name + ':' + value);\n        });\n        return res.join('\\n');\n    }\n\n    open(method:string, url:string, async?:boolean) {\n        this.method = method;\n        this.url = url;\n        this.async = async;\n    }\n\n    send(data:any) {\n\n        var contentType = this.getRequestHeader('Content-Type');\n\n        this.data = data;\n\n        if (this.data && typeof this.data == 'string') {\n            // For convenience encoded post data will be decoded\n            if (contentType == 'application/json') this.data = JSON.parse(this.data);\n            if (contentType == 'application/x-www-form-urlencoded') this.data = this.utils.parseQueryString(this.data);\n        }\n\n        this.log.debug('API REQUEST', this.method, this.url);\n\n        var currentResponse = this.responses.find(this);\n\n        if (!currentResponse) {\n            setTimeout(() => {\n                if (this.onerror) this.onerror(new Error('Unknown request: ' + this.url));\n            }, 1);\n            return;\n        }\n\n        this.setStatus(200);\n        this.setResponseHeader('Content-Type', 'application/json');\n\n        var res = currentResponse.response(this),\n            Promise = this.context.getPromise(),\n            onLoad = (res) => {\n\n                if (this.getResponseHeader('Content-Type') == 'application/json') res = JSON.stringify(res);\n\n                this.responseText = res;\n\n                setTimeout(() => {\n                    if (this.onload) this.onload();\n                }, 1);\n\n            };\n\n        if (res instanceof Promise) {\n\n            res.then(onLoad.bind(this)).catch(this.onerror.bind(this));\n\n        } else onLoad(res);\n\n    }\n\n    abort() {\n        this.log.debug('XhrMock.destroy(): Aborted');\n    }\n\n    getRequestHeader(header:string) {\n        return this.requestHeaders[header.toLowerCase()];\n    }\n\n    setResponseHeader(header:string, value:string) {\n        this.responseHeaders[header.toLowerCase()] = value;\n    }\n\n    setStatus(status) {\n        this.status = status;\n        return this;\n    }\n\n}\n\nexport function $get(context:context.Context):XhrMock {\n    return new XhrMock(context);\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/xhr/XhrMock.ts\n **/","import context = require('../Context');\nimport r = require('../http/Response');\nimport xhrMock = require('./XhrMock'); //FIXME Circular\n\nexport class XhrResponse {\n\n    private responses:IXhrResponse[];\n\n    constructor(context:context.Context) {\n        this.responses = [];\n    }\n\n    add(response:any) {\n        this.responses.push(response);\n    }\n\n    clear() {\n        this.responses = [];\n    }\n\n    find(ajax:xhrMock.XhrMock):IXhrResponse {\n\n        var currentResponse;\n\n        this.responses.forEach((response:IXhrResponse) => {\n\n            if (ajax.url.indexOf(response.path) > -1 && (!response.test || response.test(ajax))) {\n                currentResponse = response;\n            }\n\n        });\n\n        return currentResponse;\n\n    }\n}\n\nexport interface IXhrResponse {\n    path?:string;\n    response?:(xhr?:xhrMock.XhrMock)=>Promise<r.Response>;\n    test?:(xhr:xhrMock.XhrMock)=>boolean;\n}\n\nexport function $get(context:context.Context):XhrResponse {\n    return context.createSingleton('XhrResponse', ()=> {\n        return new XhrResponse(context);\n    });\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/xhr/XhrResponse.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport observable = require('./Observable');\nimport context = require('./Context');\n\nexport class AjaxObserver extends observable.Observable {\n\n    public events = {\n        beforeRequest: 'beforeRequest', // parameters: ajax\n        requestSuccess: 'requestSuccess', // means that response was successfully fetched from server\n        requestError: 'requestError' // means that request failed completely\n    };\n\n}\n\nexport function $get(context:context.Context):AjaxObserver {\n\n    return context.createSingleton('AjaxObserver', ()=> {\n        return new AjaxObserver(context);\n    });\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/AjaxObserver.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('./Context');\n\nexport class Cache {\n\n    private context:context.Context;\n    private storage:Storage;\n    private prefix:string;\n\n    constructor(context:context.Context) {\n        this.setPrefix();\n        this.context = context;\n        this.storage = context.getLocalStorage(); // storage must be defined from outside\n    }\n\n    setPrefix(prefix?:string) {\n        this.prefix = prefix || 'rc-';\n        return this;\n    }\n\n    prefixKey(key) {\n        return this.prefix + key;\n    }\n\n    setItem(key, data) {\n        this.storage.setItem(this.prefixKey(key), JSON.stringify(data));\n        return this;\n    }\n\n    removeItem(key) {\n        this.storage.removeItem(this.prefixKey(key));\n        return this;\n    }\n\n    getItem(key) {\n        var item = this.storage.getItem(this.prefixKey(key));\n        if (!item) return null;\n        return JSON.parse(item);\n    }\n\n    clean() {\n\n        for (var key in this.storage) {\n            if (!this.storage.hasOwnProperty(key)) continue;\n            if (key.indexOf(this.prefix) === 0) {\n                this.storage.removeItem(key);\n                delete this.storage[key];\n            }\n        }\n\n        return this;\n\n    }\n    \n}\n\nexport function $get(context:context.Context):Cache {\n    return context.createSingleton('Cache', ()=> {\n        return new Cache(context);\n    });\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/Cache.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nexport class Context {\n\n    private singletons:ISingletons;\n    private injections:IInjections;\n    private stubPubnub:boolean;\n    private stubAjax:boolean;\n\n    constructor(injections:IInjections) {\n        this.singletons = {};\n        this.injections = injections;\n        this.stubPubnub = false;\n        this.stubAjax = false;\n    }\n\n    createSingleton(name:string, factory:()=>any) {\n\n        if (!this.singletons[name]) this.singletons[name] = factory();\n        return this.singletons[name];\n\n    }\n\n    usePubnubStub(flag:boolean) {\n        this.stubPubnub = !!flag;\n        return this;\n    }\n\n    useAjaxStub(flag:boolean) {\n        this.stubAjax = !!flag;\n        return this;\n    }\n\n    getCryptoJS():CryptoJS.CryptoJSStatic {\n        return this.injections.CryptoJS;\n    }\n\n    getPubnub():PUBNUB.PUBNUB {\n        return this.stubPubnub ? this.injections.pubnubMock.$get(this) : this.injections.PUBNUB;\n    }\n\n    getLocalStorage():Storage {\n\n        return this.createSingleton('localStorage', () => {\n\n            if (typeof this.injections.localStorage !== 'function') {\n                return this.injections.localStorage; // this is window.localStorage\n            }\n\n            return new (<any> this.injections.localStorage)(); // this is NPM dom-storage constructor\n\n        });\n\n    }\n\n    getPromise():typeof Promise {\n        return this.injections.Promise;\n    }\n\n    getXHR():XMLHttpRequest {\n        return <XMLHttpRequest>(this.stubAjax ? this.injections.xhrMock.$get(this) : (<any>this.injections.XHR)());\n    }\n\n}\n\nexport function $get(injections:IInjections) {\n    return new Context(injections);\n}\n\nexport interface ISingletons {\n    [name: string]: any;\n}\n\nexport interface IInjections {\n    pubnubMock:any;\n    xhrMock:any;\n    PUBNUB:any;\n    CryptoJS:any;\n    localStorage:any;\n    XHR:any;\n    Promise:any;\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/Context.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport utils = require('./Utils');\nimport context = require('./Context');\nimport request = require('./http/Request');\nimport response = require('./http/Response');\n\nexport class Helper {\n\n    protected defaultProperty:string = 'id';\n\n    protected context:context.Context;\n    protected utils:utils.Utils;\n\n    constructor(context:context.Context) {\n\n        this.context = context;\n        this.utils = utils.$get(context);\n\n    }\n\n    getContext() {\n        return this.context;\n    }\n\n    createUrl(options?:any, id?:string) {\n        return '';\n    }\n\n    getId(object:IHelperObject) {\n        return object && object[this.defaultProperty];\n    }\n\n    isNew(object:IHelperObject) {\n        return !this.getId(object) || !this.getUri(object);\n    }\n\n    resetAsNew(object:IHelperObject) {\n        if (object) {\n            delete object.id;\n            delete object.uri;\n        }\n        return object;\n    }\n\n    getUri(object:IHelperObject) {\n        return object && object.uri;\n    }\n\n    parseMultipartResponse(ajax:response.Response) {\n\n        if (ajax.isMultipart()) {\n\n            // ajax.data has full array, leave only successful\n            return ajax.data.filter((result) => {\n                return (!result.error);\n            }).map((result) => {\n                return result.data;\n            });\n\n        } else { // Single ID\n\n            return [ajax.data];\n\n        }\n\n    }\n\n    /**\n     * Options have higher priority, if object.url and options.url were provided, options.url will be returned\n     * If no URL was provided, default will be returned\n     */\n    loadRequest(object?, options?:request.IAjaxOptions):request.IAjaxOptions {\n\n        return this.utils.extend(options || {}, {\n            url: (options && options.url) || (object && this.getUri(object)) || this.createUrl(),\n            method: (options && options.method) || 'GET'\n        });\n\n    }\n\n    /**\n     * Options have higher priority, if object.url and options.url were provided, options.url will be returned\n     * If no URL was provided, default will be returned\n     */\n    saveRequest(object?, options?:request.IAjaxOptions):request.IAjaxOptions {\n\n        if (!object && !(options && (options.post || options.body))) throw new Error('No Object');\n\n        return this.utils.extend(options || {}, {\n            method: (options && options.method) || (this.isNew(object) ? 'POST' : 'PUT'),\n            url: (options && options.url) || this.getUri(object) || this.createUrl(),\n            body: (options && (options.body || options.post)) || object\n        });\n\n    }\n\n    /**\n     * Options have higher priority, if object.url and options.url were provided, options.url will be returned\n     * If no URL was provided exception will be thrown\n     */\n    deleteRequest(object?, options?:request.IAjaxOptions):request.IAjaxOptions {\n\n        options = options || {};\n\n        if (!this.getUri(object) && !(options && options.url)) throw new Error('Object has to be not new or URL must be provided');\n\n        return this.utils.extend(options || {}, {\n            method: (options && options.method) || 'DELETE',\n            url: (options && options.url) || this.getUri(object)\n        });\n\n    }\n\n    /**\n     * If no url was provided, default SYNC url will be returned\n     */\n    syncRequest(options?:request.IAjaxOptions):request.IAjaxOptions {\n\n        options = options || {};\n\n        options.url = options.url || this.createUrl({sync: true});\n        options.query = options.query || options.get || {};\n\n        if (!!options.query.syncToken) {\n            options.query = {\n                syncType: 'ISync',\n                syncToken: options.get.syncToken\n            };\n        } else {\n            options.query.syncType = 'FSync';\n        }\n\n        return options;\n\n    }\n\n    nextPageExists(data):boolean {\n\n        return (data && data.navigation && ('nextPage' in data.navigation));\n\n    }\n\n    /**\n     * array - an array to be indexed\n     * getIdFn - must return an ID for each array item\n     * gather - if true, then each index will have an array of items, that has same ID, otherwise the first indexed\n     * item wins\n     */\n    index(array:IHelperObject[], getIdFn?:(obj:IHelperObject)=>string, gather?:boolean):any {\n\n        getIdFn = getIdFn || this.getId.bind(this);\n        array = array || [];\n\n        return array.reduce((index, item) => {\n\n            var id = getIdFn(item);\n\n            if (!id || (index[id] && !gather)) return index;\n\n            if (gather) {\n                if (!index[id]) index[id] = [];\n                index[id].push(item);\n            } else {\n                index[id] = item;\n            }\n\n            return index;\n\n        }, {});\n\n    }\n\n    /**\n     * Returns a shallow copy of merged _target_ array plus _supplement_ array\n     * mergeItems\n     * - if true, properties of _supplement_ item will be applied to _target_ item,\n     * - otherwise _target_ item will be replaced\n     */\n    merge(target:IHelperObject[],\n          supplement:IHelperObject[],\n          getIdFn?:(obj:IHelperObject)=>string, mergeItems?:boolean):any {\n\n        getIdFn = getIdFn || this.getId.bind(this);\n        target = target || [];\n        supplement = supplement || [];\n\n        var supplementIndex = this.index(supplement, getIdFn),\n            updatedIDs = [],\n            result = target.map((item) => {\n\n                var id = getIdFn(item),\n                    newItem = supplementIndex[id];\n\n                if (newItem) updatedIDs.push(id);\n\n                return newItem ? (mergeItems ? this.utils.extend(item, newItem) : newItem) : item;\n\n            });\n\n        supplement.forEach((item) => {\n\n            if (updatedIDs.indexOf(getIdFn(item)) == -1) result.push(item);\n\n        });\n\n        return result;\n\n    }\n\n\n}\n\nexport function $get(context:context.Context):Helper {\n    return new Helper(context);\n}\n\nexport interface IHelperObject {\n    id?:string;\n    uri?:string;\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/Helper.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport utils = require('./Utils');\nimport context = require('./Context');\n\nexport class List {\n\n    protected context:context.Context;\n    protected utils:utils.Utils;\n\n    constructor(context:context.Context) {\n        this.context = context;\n        this.utils = utils.$get(context);\n        this.numberComparator = this.numberComparator.bind(this);\n        this.stringComparator = this.stringComparator.bind(this);\n    }\n\n    /**\n     * TODO Use utils getProperty\n     * @param {string} property\n     * @returns {function(object)}\n     */\n    propertyExtractor(property) {\n        return (item, options) => {\n            return property ? ((item && item[property]) || null) : item;\n        };\n    }\n\n    /**\n     * Non-string types are converted to string\n     * Non-string types are extracted as an empty string if they could be converted to false\n     * If no options.sortBy given the item itself is extracted\n     * Compares strings:\n     * - if (a is less than b) return -1;\n     * - if (a is greater than b) return 1;\n     * - else (a must be equal to b) return 0;\n     * Exceptions in will be suppressed, if any - a is assumed to be less than b\n     */\n    stringComparator(a:string, b:string, options?:IListComparatorOptions):number {\n\n        return this.utils.parseString(a).localeCompare(this.utils.parseString(b));\n\n    }\n\n    /**\n     * Non-numeric types are extracted as 0 if they could be converted to false\n     * Objects that could not be converted to number are extracted as 0\n     * If no options.sortBy given the item itself is extracted\n     * See parseFloat for more info\n     * Compares numbers:\n     * - if (a is less than b) return -1;\n     * - if (a is greater than b) return 1;\n     * - else (a must be equal to b) return 0;\n     * Function does not check types\n     * Exceptions in will be suppressed, if any - a is assumed to be less than b\n     */\n    numberComparator(a:any, b:any, options?:IListComparatorOptions):number {\n\n        return (this.utils.parseNumber(a) - this.utils.parseNumber(b));\n\n    }\n\n    /**\n     * Function extracts (using _extractFn_ option) values of a property (_sortBy_ option) and compares them using\n     * compare function (_compareFn_ option, by default Helper.stringComparator)\n     * Merged options are provided to _extractFn_ and _compareFn_\n     * TODO Check memory leaks for all that options links\n     */\n    comparator(options?:IListComparatorOptions):(item1:any, item2:any) => number {\n\n        options = this.utils.extend({\n            extractFn: this.propertyExtractor((options && options.sortBy) || null).bind(this),\n            compareFn: this.stringComparator.bind(this)\n        }, options);\n\n        return (item1:any, item2:any):number => {\n\n            return options.compareFn(options.extractFn(item1, options), options.extractFn(item2, options), options);\n\n        };\n\n    }\n\n    equalsFilter(obj:any, options?:IListFilterOptions):boolean {\n        return (options.condition === obj);\n    }\n\n    /**\n     * @param {string} obj\n     * @param {IListFilterOptions} options\n     * @returns {boolean}\n     */\n    containsFilter(obj:any, options?:IListFilterOptions):boolean {\n        return (obj && obj.toString().indexOf(options.condition) > -1);\n    }\n\n    regexpFilter(obj, options?:IListFilterOptions):boolean {\n        if (!(options.condition instanceof RegExp)) throw new Error('Condition must be an instance of RegExp');\n        return (options.condition.test(obj));\n    }\n\n    /**\n     * Function extracts (using `extractFn` option) values of a property (`filterBy` option) and filters them using\n     * compare function (`filterFn` option, by default Helper.equalsFilter)\n     * Merged options are provided to `extractFn` and `compareFn`\n     * Set `filterBy` to null to force `propertyExtractor` to return object itself\n     * TODO Check memory leaks for all that options links\n     */\n    filter(filterConfigs:IListFilterOptions[]):(item:any) => boolean {\n\n        var self = this;\n\n        filterConfigs = (filterConfigs || []).map((opt) => {\n\n            return this.utils.extend({\n                condition: '',\n                extractFn: self.propertyExtractor((opt && opt.filterBy) || null).bind(this),\n                filterFn: self.equalsFilter.bind(this)\n            }, opt);\n\n        });\n\n        return (item):boolean => {\n\n            return <boolean>filterConfigs.reduce((pass, opt) => {\n\n                if (!pass || !opt.condition) return pass;\n                return opt.filterFn(opt.extractFn(item, opt), opt);\n\n            }, true);\n\n        };\n\n    }\n\n}\n\nexport function $get(context:context.Context):List {\n    return context.createSingleton('List', ()=> {\n        return new List(context);\n    });\n}\n\nexport interface IListComparatorOptions {\n    sortBy?:string;\n    extractFn?:(object:any, options?:IListComparatorOptions|any)=>any;\n    compareFn?:(a:any, b:any, options?:IListComparatorOptions|any)=>number;\n}\n\nexport interface IListFilterOptions {\n    filterBy?:string;\n    condition?:any|string|RegExp;\n    extractFn?:(object:any, options?:IListFilterOptions|any)=>any;\n    filterFn?:(object:any, options?:IListFilterOptions|any)=>any;\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/List.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport utils = require('./Utils');\nimport context = require('./Context');\n\nexport class Log {\n\n    private context:context.Context;\n    private utils:utils.Utils;\n\n    public console:Console;\n    public logDebug:boolean;\n    public logInfo:boolean;\n    public logWarnings:boolean;\n    public logErrors:boolean;\n    public addTimestamps:boolean;\n\n    constructor(context:context.Context, console?:Console) {\n\n        if (!console) {\n            console = <Console>{ // safety\n                log: () => {},\n                warn: () => {},\n                info: () => {},\n                error: () => {}\n            };\n        }\n\n        this.context = context;\n        this.console = console;\n        this.utils = utils.$get(context);\n\n        this.logDebug = false;\n        this.logInfo = false;\n        this.logWarnings = false;\n        this.logErrors = false;\n\n        this.addTimestamps = false;\n\n    }\n\n    disableAll() {\n        this.logDebug = false;\n        this.logInfo = false;\n        this.logWarnings = false;\n        this.logErrors = false;\n    }\n\n    enableAll() {\n        this.logDebug = true;\n        this.logInfo = true;\n        this.logWarnings = true;\n        this.logErrors = true;\n    }\n\n    parseArguments(args) {\n        args = this.utils.argumentsToArray(args);\n        if (this.addTimestamps) args.unshift(new Date().toLocaleString(), '-');\n        return args;\n    }\n\n    debug(...args) {\n        if (this.logDebug) this.console.log.apply(this.console, this.parseArguments(arguments));\n    }\n\n    info(...args) {\n        if (this.logInfo) this.console.info.apply(this.console, this.parseArguments(arguments));\n    }\n\n    warn(...args) {\n        if (this.logWarnings) this.console.warn.apply(this.console, this.parseArguments(arguments));\n    }\n\n    error(...args) {\n        if (this.logErrors) this.console.error.apply(this.console, this.parseArguments(arguments));\n    }\n\n}\n\nexport function $get(context:context.Context):Log {\n\n    return context.createSingleton('Log', ()=> {\n        return new Log(context, console);\n    });\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/Log.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport utils = require('./Utils');\nimport log = require('./Log');\nimport context = require('./Context');\n\nexport class Observable {\n\n    protected context:context.Context;\n    protected utils:utils.Utils;\n    protected log:log.Log;\n\n    private listeners:any;\n    private oneTimeEvents:any;\n    private oneTimeArguments:any;\n\n    /**\n     * @constructor\n     * @alias RCSDK.core.Observable\n     */\n    constructor(context:context.Context) {\n        if (!(this instanceof Observable)) throw new Error('Observable(): New operator was omitted');\n        Object.defineProperty(this, 'listeners', {value: {}, enumerable: false, writable: true});\n        Object.defineProperty(this, 'oneTimeEvents', {value: {}, enumerable: false, writable: true});\n        Object.defineProperty(this, 'oneTimeArguments', {value: {}, enumerable: false, writable: true});\n        this.context = context;\n        this.utils = utils.$get(context);\n        this.log = log.$get(context);\n    }\n\n    hasListeners(event) {\n        return (event in this.listeners);\n    }\n\n    registerOneTimeEvent(event) {\n        this.oneTimeEvents[event] = false;\n        this.oneTimeArguments[event] = [];\n    }\n\n    on(events, callback) {\n\n        if (typeof events == 'string') events = [events];\n        if (!events) throw new Error('No events to subscribe to');\n        if (typeof callback !== 'function') throw new Error('Callback must be a function');\n\n        var self = this;\n\n        events.forEach((event) => {\n\n            if (!self.hasListeners(event)) self.listeners[event] = [];\n\n            self.listeners[event].push(callback);\n\n            if (self.isOneTimeEventFired(event)) { // Fire listener immediately if is inited already\n                this.log.debug('Observable.on(%s): One-time event has been fired already, executing callback', event);\n                callback.apply(self, self.getOneTimeEventArgumens(event));\n            }\n\n        });\n\n        return this;\n\n    }\n\n    emit(event, ...args) {\n\n        if (this.isOneTimeEventFired(event)) {\n            this.log.debug('Observable.emit(%s): One-time event has been fired already', event);\n            return null;\n        }\n\n        var result = null;\n\n        if (this.isOneTimeEvent(event)) {\n            this.setOneTimeEventFired(event);\n            this.setOneTimeEventArgumens(event, args);\n        }\n\n        if (!this.hasListeners(event)) return null;\n\n        this.listeners[event].some((callback) => {\n\n            result = callback.apply(this, args);\n            return (result === false);\n\n        });\n\n        return result;\n\n    }\n\n    off(event, callback?) {\n        var self = this;\n        if (!callback) {\n            delete this.listeners[event];\n        } else {\n            if (!this.hasListeners(event)) return this;\n            this.listeners[event].forEach((cb, i) => {\n\n                if (cb === callback) delete this.listeners[event][i];\n\n            });\n        }\n        return this;\n    }\n\n    isOneTimeEvent(event) {\n        return (event in this.oneTimeEvents);\n    }\n\n    isOneTimeEventFired(event) {\n        if (!this.isOneTimeEvent(event)) return false;\n        return (this.oneTimeEvents[event]);\n    }\n\n    setOneTimeEventFired(event) {\n        this.oneTimeEvents[event] = true;\n    }\n\n    setOneTimeEventArgumens(event, args) {\n        this.oneTimeArguments[event] = args;\n    }\n\n    getOneTimeEventArgumens(event) {\n        return this.oneTimeArguments[event];\n    }\n\n    offAll() {\n        this.listeners = {};\n        this.oneTimeEvents = {};\n        this.oneTimeArguments = {};\n        return this;\n    }\n\n    destroy() {\n        this.offAll();\n        this.log.debug('Observable.destroy(): Listeners were destroyed');\n        return this;\n    }\n\n    emitAndCallback(event, args?, callback?) {\n        args = this.utils.argumentsToArray(args);\n        if (event) this.emit.apply(this, [event].concat(args));\n        if (callback) callback.apply(this, args);\n        return this;\n    }\n\n}\n\nexport function $get(context:context.Context):Observable {\n    return new Observable(context);\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/Observable.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('./Context');\nimport observable = require('./Observable');\n\nexport class PageVisibility extends observable.Observable {\n\n    public events = {\n        change: 'change'\n    };\n\n    public visible:boolean;\n\n    constructor(context:context.Context) {\n\n        super(context);\n\n        var hidden = \"hidden\",\n            onchange = (evt) => {\n\n                evt = evt || window.event;\n\n                var v = 'visible',\n                    h = 'hidden',\n                    evtMap = {\n                        focus: v, focusin: v, pageshow: v, blur: h, focusout: h, pagehide: h\n                    };\n\n                this.visible = (evt.type in evtMap) ? evtMap[evt.type] == v : !document[hidden];\n\n                this.emit(this.events.change, this.visible);\n\n            };\n\n        this.visible = true;\n\n        if (typeof document == 'undefined' || typeof window == 'undefined') return;\n\n        // Standards:\n\n        if (hidden in document)\n            document.addEventListener(\"visibilitychange\", onchange);\n        else if ((hidden = \"mozHidden\") in document)\n            document.addEventListener(\"mozvisibilitychange\", onchange);\n        else if ((hidden = \"webkitHidden\") in document)\n            document.addEventListener(\"webkitvisibilitychange\", onchange);\n        else if ((hidden = \"msHidden\") in document)\n            document.addEventListener(\"msvisibilitychange\", onchange);\n        // IE 9 and lower:\n        else if ('onfocusin' in document)\n            document.onfocusin = document.onfocusout = onchange;\n        // All others:\n        else\n            window.onpageshow = window.onpagehide = window.onfocus = window.onblur = onchange;\n\n    }\n\n    isVisible() {\n        return this.visible;\n    }\n\n}\n\nexport function $get(context:context.Context):PageVisibility {\n    return new PageVisibility(context);\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/PageVisibility.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\ndeclare class Buffer {\n    constructor(str:string);\n    toString(encoding:string):string;\n}\n\nimport context = require('./Context');\nimport utils = require('./Utils');\nimport observable = require('./Observable');\nimport cache = require('./Cache');\nimport log = require('./Log');\nimport request = require('./http/Request');\nimport r = require('./http/Response');\n\nexport class Platform extends observable.Observable {\n\n    public server:string;\n    public apiKey:string;\n    public account:string;\n    public urlPrefix:string;\n    public apiVersion:string;\n    public accountPrefix:string;\n    public accessTokenTtl:number;\n    public refreshTokenTtl:number;\n    public refreshTokenTtlRemember:number;\n    public refreshHandicapMs:number;\n    public refreshDelayMs:number;\n    public clearCacheOnRefreshError:boolean;\n    public refreshPromise:Promise<any>;\n\n    public cacheId:string;\n    public pollInterval:number;\n    public releaseTimeout:number;\n\n    public events = {\n        accessViolation: 'accessViolation',\n        logoutSuccess: 'logoutSuccess',\n        logoutError: 'logoutError',\n        authorizeSuccess: 'authorizeSuccess',\n        authorizeError: 'authorizeError',\n        refreshSuccess: 'refreshSuccess',\n        refreshError: 'refreshError'\n    };\n\n    static forcedTokenType = 'forced';\n\n    constructor(context:context.Context) {\n\n        super(context);\n\n        this.server = '';\n        this.apiKey = '';\n        this.account = '~';\n        this.urlPrefix = '/restapi';\n        this.apiVersion = 'v1.0';\n        this.accountPrefix = '/account/';\n        this.accessTokenTtl = null; // Platform server by default sets it to 60 * 60 = 1 hour\n        this.refreshTokenTtl = 10 * 60 * 60; // 10 hours\n        this.refreshTokenTtlRemember = 7 * 24 * 60 * 60; // 1 week\n        this.refreshHandicapMs = 60 * 1000; // 1 minute\n        this.refreshDelayMs = 100;\n        this.clearCacheOnRefreshError = true;\n        this.refreshPromise = null;\n\n        this.cacheId = 'platform';\n        this.pollInterval = 250;\n        this.releaseTimeout = 5000; // If queue was not released then force it to do so after some timeout\n\n    }\n\n    getStorage():cache.Cache {\n\n        return cache.$get(this.context);\n\n    }\n\n    getRequest():request.Request {\n\n        return request.$get(this.context);\n\n    }\n\n    clearStorage() {\n\n        this.getStorage().clean();\n\n        return this;\n\n    }\n\n    setCredentials(appKey, appSecret) {\n\n        var apiKey = (appKey || '') + ':' + (appSecret || '');\n\n        if (apiKey == ':') return this;\n\n        this.apiKey = (typeof btoa == 'function') ? btoa(apiKey) : new Buffer(apiKey).toString('base64');\n\n        return this;\n\n    }\n\n    setServer(server) {\n\n        this.server = server || '';\n\n        return this;\n\n    }\n\n    remember(remember?:boolean):Platform {\n\n        var key = this.cacheId + '-remember';\n\n        if (remember !== undefined) {\n\n            this.getStorage().setItem(key, remember);\n            return this;\n\n        }\n\n        return this.getStorage().getItem(key) || false;\n\n    }\n\n    authorize(options?:{username:string; password: string; extension?:string; remember?:boolean}) {\n\n        options = options || <any>{};\n\n        options.remember = options.remember || false;\n\n        return this.authCall({\n            url: '/restapi/oauth/token',\n            post: {\n                \"grant_type\": \"password\",\n                \"username\": options.username,\n                \"extension\": options.extension || '',\n                \"password\": options.password,\n                \"access_token_ttl\": this.accessTokenTtl,\n                \"refresh_token_ttl\": options.remember ? this.refreshTokenTtlRemember : this.refreshTokenTtl\n            }\n        }).then((response) => {\n\n            this.setCache(response.data)\n                .remember(options.remember)\n                .emitAndCallback(this.events.authorizeSuccess, []);\n\n            return response;\n\n        }).catch((e:request.IAjaxError):any => {\n\n            this.clearStorage()\n                .emitAndCallback(this.events.authorizeError, [e]);\n\n            throw e;\n\n        });\n\n    }\n\n    isPaused() {\n        var storage = this.getStorage(),\n            cacheId = this.cacheId + '-refresh';\n        return !!storage.getItem(cacheId) && Date.now() - parseInt(storage.getItem(cacheId)) < this.releaseTimeout;\n    }\n\n    pause() {\n        this.getStorage().setItem(this.cacheId + '-refresh', Date.now());\n        return this;\n    }\n\n    /**\n     * If the queue is unpaused internally, polling will be cancelled\n     * @returns {Platform}\n     */\n    resume() {\n        this.getStorage().removeItem(this.cacheId + '-refresh');\n        return this;\n    }\n\n    refresh() {\n\n        var refresh = new (this.context.getPromise())((resolve, reject) => {\n\n            if (this.isPaused()) {\n                return resolve(this.refreshPolling(null));\n            } else {\n                this.pause();\n            }\n\n            // Make sure all existing AJAX calls had a chance to reach the server\n            setTimeout(() => {\n\n                var authData = this.getAuthData();\n\n                this.log.debug('Platform.refresh(): Performing token refresh (access token', authData.access_token, ', refresh token', authData.refresh_token, ')');\n\n                if (!authData || !authData.refresh_token) return reject(new Error('Refresh token is missing'));\n                if (Date.now() > authData.refreshExpireTime) return reject(new Error('Refresh token has expired'));\n                if (!this.isPaused()) return reject(new Error('Queue was resumed before refresh call'));\n\n                resolve(this.authCall({\n                    url: '/restapi/oauth/token',\n                    post: {\n                        \"grant_type\": \"refresh_token\",\n                        \"refresh_token\": authData.refresh_token,\n                        \"access_token_ttl\": this.accessTokenTtl,\n                        \"refresh_token_ttl\": this.remember() ? this.refreshTokenTtlRemember : this.refreshTokenTtl\n                    }\n                }));\n\n            }, this.refreshDelayMs);\n\n        });\n\n        return refresh.then((response:r.Response) => {\n\n            // This means refresh has happened elsewhere and we are here because of timeout\n            if (!response || !response.data) return response;\n\n            this.log.info('Platform.refresh(): Token was refreshed');\n\n            if (!response.data.refresh_token || !response.data.access_token) {\n                var e = <request.IAjaxError>new Error('Malformed OAuth response');\n                e.ajax = response;\n                throw e;\n            }\n\n            this.setCache(response.data)\n                .resume();\n\n            return response;\n\n        }).then((result) => {\n\n            this.emit(this.events.refreshSuccess, result);\n            return result;\n\n        }).catch((e:request.IAjaxError):any => {\n\n            if (this.clearCacheOnRefreshError) this.clearStorage();\n\n            this.emitAndCallback(this.events.accessViolation, [e])\n                .emitAndCallback(this.events.refreshError, [e]);\n\n            throw e;\n\n        });\n\n    }\n\n    /**\n     * @returns {Promise}\n     */\n    logout():Promise<r.Response> {\n\n        this.pause();\n\n        return this.authCall({\n            url: '/restapi/oauth/revoke',\n            post: {\n                token: this.getToken()\n            }\n        }).then((response)  => {\n\n            this.resume()\n                .clearStorage()\n                .emit(this.events.logoutSuccess, response);\n\n            return response;\n\n        }).catch((e:request.IAjaxError):any => {\n\n            this.resume()\n                .emitAndCallback(this.events.accessViolation, [e])\n                .emitAndCallback(this.events.logoutError, [e]);\n\n            throw e;\n\n        });\n\n    }\n\n    refreshPolling(result) {\n\n        if (this.refreshPromise) return this.refreshPromise;\n\n        this.refreshPromise = new (this.context.getPromise())((resolve, reject) => {\n\n            this.log.warn('Platform.refresh(): Refresh is already in progress polling started');\n\n            this.utils.poll((next) => {\n\n                if (this.isPaused()) return next();\n\n                this.refreshPromise = null;\n                this.resume();\n\n                if (this.isTokenValid()) {\n                    resolve(result);\n                } else {\n                    reject(new Error('Automatic authentification timeout'));\n                }\n\n            }, this.pollInterval);\n\n        });\n\n        return this.refreshPromise;\n\n    }\n\n    getToken() {\n\n        return this.getAuthData().access_token;\n\n    }\n\n    getTokenType() {\n\n        return this.getAuthData().token_type;\n\n    }\n\n    getAuthData():IPlatformAuthInfo {\n\n        return this.getStorage().getItem(this.cacheId) || {\n                token_type: '',\n                access_token: '',\n                expires_in: 0,\n                refresh_token: '',\n                refresh_token_expires_in: 0\n            };\n\n    }\n\n    /**\n     * Check if there is a valid (not expired) access token\n     */\n    isTokenValid():boolean {\n\n        var authData = this.getAuthData();\n        return (authData.token_type == Platform.forcedTokenType || (new Date(authData.expireTime).getTime() - this.refreshHandicapMs) > Date.now() && !this.isPaused());\n\n    }\n\n    /**\n     * Checks if user is authorized\n     * If there is no access token, refresh will be performed\n     */\n    isAuthorized():Promise<any> {\n\n        if (this.isTokenValid()) return this.context.getPromise().resolve(true);\n        return this.refresh();\n\n    }\n\n    cancelAccessToken() {\n\n        return this.setCache(this.utils.extend(this.getAuthData(), {\n            access_token: '',\n            expires_in: 0\n        }));\n\n    }\n\n    setCache(authData:IPlatformAuthInfo) {\n\n        var oldAuthData = this.getAuthData();\n\n        this.log.info('Platform.setCache(): Tokens were updated, new:', authData, ', old:', oldAuthData);\n\n        authData.expireTime = Date.now() + (authData.expires_in * 1000);\n        authData.refreshExpireTime = Date.now() + (authData.refresh_token_expires_in * 1000);\n\n        this.getStorage().setItem(this.cacheId, authData);\n\n        return this;\n\n    }\n\n    forceAuthentication() {\n\n        this.setCache(<IPlatformAuthInfo>{\n            token_type: Platform.forcedTokenType,\n            access_token: '',\n            expires_in: 0,\n            refresh_token: '',\n            refresh_token_expires_in: 0\n        });\n\n        return this;\n\n    }\n\n    apiCall(options?:request.IAjaxOptions):Promise<r.Response> {\n\n        options = options || {};\n        options.url = this.apiUrl(options.url, {addServer: true});\n\n        return this.isAuthorized().then(() => { // Refresh will occur inside\n\n            var token = this.getToken();\n\n            return this.getRequest()\n                .setOptions(options)\n                .setHeader('Authorization', this.getTokenType() + (token ? ' ' + token : ''))\n                .send();\n\n        }).catch((e:request.IAjaxError) => {\n\n            if (!e.response || !e.response.isUnauthorized()) throw e;\n\n            this.cancelAccessToken();\n\n            return this\n                .refresh()\n                .then(() => {\n\n                          // Re-send with same options\n                          return this.apiCall(options);\n\n                      });\n\n        });\n\n    }\n\n    get(url:string, options?:request.IAjaxOptions) {\n        options = options || {};\n        options.url = url;\n        options.method = 'GET';\n        return this.apiCall(options);\n    }\n\n    post(url:string, options:request.IAjaxOptions) {\n        options = options || {};\n        options.url = url;\n        options.method = 'POST';\n        return this.apiCall(options);\n    }\n\n    put(url:string, options:request.IAjaxOptions) {\n        options = options || {};\n        options.url = url;\n        options.method = 'PUT';\n        return this.apiCall(options);\n    }\n\n    'delete'(url:string, options?:request.IAjaxOptions) {\n        options = options || {};\n        options.url = url;\n        options.method = 'DELETE';\n        return this.apiCall(options);\n    }\n\n    authCall(options?:request.IAjaxOptions):Promise<r.Response> {\n\n        options = options || {};\n        options.method = options.method || 'POST';\n        options.url = this.apiUrl(options.url, {addServer: true});\n\n        return this.getRequest()\n            .setOptions(options)\n            .setHeader('Content-Type', 'application/x-www-form-urlencoded')\n            .setHeader('Accept', 'application/json')\n            .setHeader('Authorization', 'Basic ' + this.apiKey)\n            .send();\n\n    }\n\n    apiUrl(url, options?:{addMethod?: string; addToken?: boolean; addServer?: boolean}):string {\n\n        url = url || '';\n        options = options || {};\n\n        var builtUrl = '';\n\n        if (options.addServer && url.indexOf('http://') == -1 && url.indexOf('https://') == -1) builtUrl += this.server;\n\n        if (url.indexOf(this.urlPrefix) == -1) builtUrl += this.urlPrefix + '/' + this.apiVersion;\n\n        if (url.indexOf(this.accountPrefix) > -1) builtUrl.replace(this.accountPrefix + '~', this.accountPrefix + this.account);\n\n        builtUrl += url;\n\n        if (options.addMethod || options.addToken) builtUrl += (url.indexOf('?') > -1 ? '&' : '?');\n\n        if (options.addMethod) builtUrl += '_method=' + options.addMethod;\n        if (options.addToken) builtUrl += (options.addMethod ? '&' : '') + 'access_token=' + this.getToken();\n\n        return builtUrl;\n\n    }\n\n    destroy() {\n        super.destroy();\n        return this;\n    }\n\n    on(events, callback) {\n        super.on(events, callback);\n        return this;\n    }\n\n    off(events, callback?) {\n        super.on(events, callback);\n        return this;\n    }\n    emitAndCallback(event, args?, callback?) {\n        super.emitAndCallback(event, args, callback);\n        return this;\n    }\n\n}\n\nexport interface IPlatformAuthInfo {\n    token_type?:string;\n    access_token?:string;\n    expires_in?:number; // actually it's string\n    expireTime?:number;\n    refresh_token?:string;\n    refresh_token_expires_in?:number; // actually it's string\n    refreshExpireTime?:number;\n    scope?:string;\n}\n\nexport function $get(context:context.Context):Platform {\n    return context.createSingleton('Platform', ()=> {\n        return new Platform(context);\n    });\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/Platform.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport observable = require('./Observable');\nimport utils = require('./Utils');\nimport log = require('./Log');\nimport context = require('./Context');\nimport platform = require('./Platform');\nimport r = require('./http/Response');\n\nexport class Subscription extends observable.Observable {\n\n    static renewHandicapMs = 60 * 1000;\n\n    public subscription;\n    public timeout;\n    public eventFilters:string[];\n    public pubnub:PUBNUB.PubnubInstance;\n\n    public events = {\n        notification: 'notification',\n        removeSuccess: 'removeSuccess',\n        removeError: 'removeError',\n        renewSuccess: 'renewSuccess',\n        renewError: 'renewError',\n        subscribeSuccess: 'subscribeSuccess',\n        subscribeError: 'subscribeError'\n    };\n\n    constructor(context:context.Context) {\n\n        super(context);\n\n        this.pubnub = null;\n        this.eventFilters = [];\n        this.timeout = null;\n        this.subscription = {\n            eventFilters: [],\n            expirationTime: '', // 2014-03-12T19:54:35.613Z\n            expiresIn: 0,\n            deliveryMode: {\n                transportType: 'PubNub',\n                encryption: false,\n                address: '',\n                subscriberKey: '',\n                secretKey: ''\n            },\n            id: '',\n            creationTime: '', // 2014-03-12T19:54:35.613Z\n            status: '', // Active\n            uri: ''\n        };\n\n    }\n\n    getPubnub() {\n\n        return this.context.getPubnub();\n\n    }\n\n    getCrypto() {\n\n        return this.context.getCryptoJS();\n\n    }\n\n    getPlatform() {\n\n        return platform.$get(this.context);\n\n    }\n\n    /**\n     * Creates or updates subscription if there is an active one\n     * @param {{events?:string[]}} [options] New array of events\n     * @returns {Promise}\n     */\n    register(options?:{events?:string[]}):Promise<r.Response> {\n\n        if (this.isSubscribed()) {\n            return this.renew(options);\n        } else {\n            return this.subscribe(options);\n        }\n\n    }\n\n    addEvents(events:string[]) {\n        this.eventFilters = this.eventFilters.concat(events);\n        return this;\n    }\n\n    setEvents(events:string[]) {\n        this.eventFilters = events;\n        return this;\n    }\n\n    getFullEventFilters() {\n\n        return this.eventFilters.map((event) => {\n            return this.getPlatform().apiUrl(event);\n        });\n\n    }\n\n    subscribe(options?:{events?:string[]}):Promise<r.Response> {\n\n        options = options || {};\n        if (options.events) this.eventFilters = options.events;\n\n        this.clearTimeout();\n\n        return <any>new (this.context.getPromise())((resolve, reject) => {\n\n            if (!this.eventFilters || !this.eventFilters.length) throw new Error('Events are undefined');\n\n            resolve(this.getPlatform().apiCall({\n                method: 'POST',\n                url: '/restapi/v1.0/subscription',\n                post: {\n                    eventFilters: this.getFullEventFilters(),\n                    deliveryMode: {\n                        transportType: 'PubNub'\n                    }\n                }\n            }));\n\n        }).then((ajax:r.Response) => {\n\n                    this.updateSubscription(ajax.data)\n                        .subscribeAtPubnub()\n                        .emit(this.events.subscribeSuccess, ajax.data);\n\n                    return ajax;\n\n                }).catch((e) => {\n\n                             this.unsubscribe()\n                                 .emit(this.events.subscribeError, e);\n\n                             throw e;\n\n                         });\n\n    }\n\n    renew(options?:{events?:string[]}):Promise<r.Response> {\n\n        options = options || {};\n        if (options.events) this.eventFilters = options.events;\n\n        this.clearTimeout();\n\n        return <any>new (this.context.getPromise())((resolve, reject) => {\n\n            if (!this.subscription || !this.subscription.id) throw new Error('Subscription ID is required');\n            if (!this.eventFilters || !this.eventFilters.length) throw new Error('Events are undefined');\n\n            resolve();\n\n        }).then(():Promise<r.Response> => {\n\n                    return this.getPlatform().apiCall({\n                        method: 'PUT',\n                        url: '/restapi/v1.0/subscription/' + this.subscription.id,\n                        post: {\n                            eventFilters: this.getFullEventFilters()\n                        }\n                    });\n\n                })\n            .then((ajax:any) => {\n\n                      this.updateSubscription(ajax.data)\n                          .emit(this.events.renewSuccess, ajax.data);\n\n                      return ajax;\n\n                  })\n            .catch((e):any => {\n\n                       this.unsubscribe()\n                           .emit(this.events.renewError, e);\n\n                       throw e;\n\n                   });\n\n    }\n\n    remove(options?:{async?:boolean}):Promise<r.Response> {\n\n        options = this.utils.extend({\n            async: true\n        }, options);\n\n        return <any>new (this.context.getPromise())((resolve, reject)  => {\n\n            if (!this.subscription || !this.subscription.id) throw new Error('Subscription ID is required');\n\n            resolve(this.getPlatform().apiCall({\n                async: !!options.async, // Warning! This is necessary because this method is used in beforeunload\n                                        // hook and has to be synchronous\n                method: 'DELETE',\n                url: '/restapi/v1.0/subscription/' + this.subscription.id\n            }));\n\n        }).then((ajax:r.Response) => {\n\n                    this.unsubscribe()\n                        .emit(this.events.removeSuccess, ajax);\n\n                    return ajax;\n\n                }).catch((e) => {\n\n                             this.emit(this.events.removeError, e);\n\n                             throw e;\n\n                         });\n\n    }\n\n    destroy() {\n\n        this.unsubscribe();\n\n        this.log.info('RC.core.Subscription: Destroyed');\n\n        return super.destroy();\n\n    }\n\n    isSubscribed() {\n\n        return this.subscription &&\n            this.subscription.deliveryMode &&\n            this.subscription.deliveryMode.subscriberKey &&\n            this.subscription.deliveryMode.address;\n\n    }\n\n    protected setTimeout() {\n\n        var timeToExpiration = (this.subscription.expiresIn * 1000) - Subscription.renewHandicapMs;\n\n        this.timeout = setTimeout(() => {\n\n            this.renew({});\n\n        }, timeToExpiration);\n\n    }\n\n    protected clearTimeout() {\n\n        clearTimeout(this.timeout);\n\n    }\n\n    protected updateSubscription(subscription) {\n\n        this.clearTimeout();\n        this.subscription = subscription;\n        this.setTimeout();\n        return this;\n\n    }\n\n    /**\n     * Remove subscription and disconnect from PUBNUB\n     */\n    protected unsubscribe() {\n        this.clearTimeout();\n        if (this.pubnub && this.isSubscribed()) this.pubnub.unsubscribe({channel: this.subscription.deliveryMode.address});\n        this.subscription = null;\n        return this;\n    }\n\n    /**\n     * Do not use this method! Internal use only\n     * @param message\n     * @returns {Subscription}\n     */\n    notify(message) {\n\n        if (this.isSubscribed() && this.subscription.deliveryMode.encryptionKey) {\n\n            var CryptoJS = this.getCrypto();\n\n            var key = CryptoJS.enc.Base64.parse(this.subscription.deliveryMode.encryptionKey);\n            var data = CryptoJS.enc.Base64.parse(message);\n            var decrypted = CryptoJS.AES.decrypt({ciphertext: data}, key, {\n                mode: CryptoJS.mode.ECB,\n                padding: CryptoJS.pad.Pkcs7\n            }).toString(CryptoJS.enc.Utf8);\n            message = JSON.parse(decrypted);\n\n        }\n\n        this.emit(this.events.notification, message);\n\n        return this;\n\n    }\n\n    /**\n     * Do not use this method! Internal use only\n     * @returns {Subscription}\n     */\n    subscribeAtPubnub() {\n\n        if (!this.isSubscribed()) return this;\n\n        var PUBNUB = this.getPubnub();\n\n        this.pubnub = PUBNUB.init({\n            ssl: true,\n            subscribe_key: this.subscription.deliveryMode.subscriberKey\n        });\n\n        this.pubnub.ready();\n\n        this.pubnub.subscribe({\n            channel: this.subscription.deliveryMode.address,\n            message: (message, env, channel) => {\n\n                this.log.info('RC.core.Subscription: Incoming message', message);\n                this.notify(message);\n\n            },\n            connect: () => {\n                this.log.info('RC.core.Subscription: PUBNUB connected');\n            }\n        });\n\n        return this;\n\n    }\n\n    on(events, callback) {\n        super.on(events, callback);\n        return this;\n    }\n\n    off(events, callback?) {\n        super.on(events, callback);\n        return this;\n    }\n    emitAndCallback(event, args?, callback?) {\n        super.emitAndCallback(event, args, callback);\n        return this;\n    }\n\n}\n\nexport function $get(context:context.Context):Subscription {\n    return new Subscription(context);\n}\n\nexport interface ISubscription {\n    eventFilters:string[];\n    expirationTime:string; // 2014-03-12T19:54:35.613Z\n    expiresIn:number;\n    deliveryMode: {\n        transportType:string;\n        encryption:boolean;\n        address:string;\n        subscriberKey:string;\n        secretKey:string;\n    };\n    id:string;\n    creationTime:string; // 2014-03-12T19:54:35.613Z\n    status:string; // Active\n    uri: string;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/Subscription.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('./Context');\n\nvar hasOwn = Object.prototype.hasOwnProperty,\n    toString = Object.prototype.toString,\n    rdigit = /\\d/,\n    class2type = {};\n\n// Populate the class2type map\n'Boolean Number String Function Array Date RegExp Object'.split(' ').forEach((name) => {\n    class2type[\"[object \" + name + \"]\"] = name.toLowerCase();\n});\n\nexport class Utils {\n\n    constructor() {}\n\n    /**\n     * Ported from jQuery.fn.extend\n     * Optional first parameter makes deep copy\n     */\n    extend(targetObject:any, sourceObject:any, ...args) {\n\n        var options, name, src, copy, copyIsArray, clone,\n            target = arguments[0] || {},\n            i = 1,\n            length = arguments.length,\n            deep = false;\n\n        // Handle a deep copy situation\n        if (typeof target === \"boolean\") {\n            deep = target;\n\n            // skip the boolean and the target\n            target = arguments[i] || {};\n            i++;\n        }\n\n        // Handle case when target is a string or something (possible in deep copy)\n        if (typeof target !== \"object\" && !this.isFunction(target)) {\n            target = {};\n        }\n\n        for (; i < length; i++) {\n\n            // Only deal with non-null/undefined values\n            if ((options = arguments[i]) !== null) {\n\n                // Extend the base object\n                for (name in options) {\n\n                    src = target[name];\n                    copy = options[name];\n\n                    // Prevent never-ending loop\n                    if (target === copy) {\n                        continue;\n                    }\n\n                    // Recurse if we're merging plain objects or arrays\n                    if (deep && copy && (this.isPlainObject(copy) || (copyIsArray = this.isArray(copy)))) {\n\n                        if (copyIsArray) {\n                            copyIsArray = false;\n                            clone = src && this.isArray(src) ? src : [];\n                        } else {\n                            clone = src && this.isPlainObject(src) ? src : {};\n                        }\n\n                        // Never move original objects, clone them\n                        target[name] = this.extend(deep, clone, copy);\n\n                        // Don't bring in undefined values\n                    } else if (copy !== undefined) {\n\n                        target[name] = copy;\n\n                    }\n                }\n            }\n        }\n\n        // Return the modified object\n        return target;\n\n    }\n\n    forEach(object, cb) {\n\n        for (var i in object) {\n\n            if (!object.hasOwnProperty(i)) continue;\n\n            var res = cb(object[i], i);\n\n            if (res === false) break;\n\n        }\n\n    }\n\n    /**\n     * TODO Replace with something better\n     * @see https://github.com/joyent/node/blob/master/lib/querystring.js\n     * @param {object} parameters\n     * @returns {string}\n     */\n    queryStringify(parameters) {\n\n        var array = [];\n\n        this.forEach(parameters, (v, i) => {\n\n            if (this.isArray(v)) {\n                v.forEach((vv) => {\n                    array.push(encodeURIComponent(i) + '=' + encodeURIComponent(vv));\n                });\n            } else {\n                array.push(encodeURIComponent(i) + '=' + encodeURIComponent(v));\n            }\n\n        });\n\n        return array.join('&');\n\n    }\n\n    /**\n     * TODO Replace with something better\n     * @see https://github.com/joyent/node/blob/master/lib/querystring.js\n     * @param {string} queryString\n     * @returns {object}\n     */\n    parseQueryString(queryString) {\n\n        var argsParsed = {},\n            self = this;\n\n        queryString.split('&').forEach((arg) => {\n\n            arg = decodeURIComponent(arg);\n\n            if (arg.indexOf('=') == -1) {\n\n                argsParsed[arg.trim()] = true;\n\n            } else {\n\n                var pair = arg.split('='),\n                    key = pair[0].trim(),\n                    value = pair[1].trim();\n\n                if (key in argsParsed) {\n                    if (key in argsParsed && !self.isArray(argsParsed[key])) argsParsed[key] = [argsParsed[key]];\n                    argsParsed[key].push(value);\n                } else {\n                    argsParsed[key] = value;\n                }\n\n            }\n\n        });\n\n        return argsParsed;\n\n    }\n\n    /**\n     * Returns true if the passed value is valid email address.\n     * Checks multiple comma separated emails according to RFC 2822 if parameter `multiple` is `true`\n     */\n    isEmail(v:string, multiple:boolean):boolean {\n        if (!!multiple) {\n            //this Regexp is also suitable for multiple emails (comma separated)\n            return /^(?:[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?[ ,;]*)+$/i.test(v);\n        } else {\n            return /^[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i.test(v);\n        }\n\n    }\n\n    isPhoneNumber(v:string) {\n        return (/\\+?1[0-9]{3}[0-9a-z]{7}/im.test(v.toString().split(/[^0-9a-z\\+]/im).join('')));\n    }\n\n    /**\n     * @param args\n     * @returns {Array}\n     */\n    argumentsToArray(args:any) {\n        return Array.prototype.slice.call(args || [], 0);\n    }\n\n    isDate(obj:any) {\n        return this.type(obj) === \"date\";\n    }\n\n    isFunction(obj:any) {\n        return this.type(obj) === \"function\";\n    }\n\n    isArray(obj:any) {\n        return Array.isArray ? Array.isArray(obj) : this.type(obj) === \"array\";\n    }\n\n    // A crude way of determining if an object is a window\n    isWindow(obj:any) {\n        return obj && typeof obj === \"object\" && \"setInterval\" in obj;\n    }\n\n    isNaN(obj:any) {\n        return obj === null || !rdigit.test(obj) || isNaN(obj);\n    }\n\n    type(obj:any) {\n        return obj === null ?\n               String(obj) :\n               class2type[toString.call(obj)] || \"object\";\n    }\n\n    isPlainObject(obj:any) {\n\n        // Must be an Object.\n        // Because of IE, we also have to check the presence of the constructor property.\n        // Make sure that DOM nodes and window objects don't pass through, as well\n        if (!obj || this.type(obj) !== \"object\" || obj.nodeType || this.isWindow(obj)) {\n            return false;\n        }\n\n        // Not own constructor property must be Object\n        if (obj.constructor && !hasOwn.call(obj, \"constructor\") && !hasOwn.call(obj.constructor.prototype, \"isPrototypeOf\")) {\n            return false;\n        }\n\n        // Own properties are enumerated firstly, so to speed up,\n        // if last one is own, then all properties are own.\n\n        var key;\n        for (key in obj) {}\n\n        return key === undefined || hasOwn.call(obj, key);\n\n    }\n\n    getProperty(obj, property) {\n\n        return property\n            .split(/[.[\\]]/)\n            .reduce((res, part) => {\n                        if (!res) return undefined;\n                        return part ? res[part] : res;\n                    }, obj);\n\n    }\n\n    poll(fn, interval?:number, timeout?:any):any { //NodeJS.Timer|number\n\n        this.stopPolling(timeout);\n\n        interval = interval || 1000;\n\n        var next = (delay?:number):any => {\n\n            delay = delay || interval;\n\n            interval = delay;\n\n            return setTimeout(() => {\n\n                fn(next, delay);\n\n            }, delay);\n\n        };\n\n        return next();\n\n    }\n\n    stopPolling(timeout) {\n        if (timeout) clearTimeout(timeout);\n    }\n\n    parseString(s) {\n        return s ? s.toString() : '';\n    }\n\n    parseNumber(n) {\n        if (!n) return 0;\n        n = parseFloat(n);\n        return isNaN(n) ? 0 : n;\n    }\n\n}\n\nexport function $get(context:context.Context):Utils {\n    return context.createSingleton('Utils', ()=> {\n        return new Utils();\n    })\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/Utils.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('./Context');\nimport utils = require('./Utils');\n\nexport class Validator {\n\n    private utils:utils.Utils;\n    private context:context.Context;\n\n    constructor(context:context.Context) {\n        this.context = context;\n        this.utils = utils.$get(context);\n    }\n\n    validate(validators:IValidator[]):IValidatorResult {\n\n        var result = <IValidatorResult>{\n            errors: {},\n            isValid: true\n        };\n\n        result.errors = <any>validators.reduce((errors, validator) => {\n\n            var res = validator.validator();\n\n            if (res.length > 0) {\n                result.isValid = false;\n                errors[validator.field] = errors[validator.field] || [];\n                errors[validator.field] = errors[validator.field].concat(res);\n            }\n\n            return errors;\n\n        }, {});\n\n        return result;\n\n    }\n\n    /**\n     * It is not recommended to have any kinds of complex validators at front end\n     * @deprecated\n     */\n    email(value:string, multiple?:boolean) {\n        return ():Error[] => {\n            if (!value) return [];\n            return this.utils.isEmail(value, multiple) ? [] : [new Error('Value has to be a valid email')];\n        };\n    }\n\n    /**\n     * It is not recommended to have any kinds of complex validators at front end\n     * TODO International phone numbers\n     * @deprecated\n     */\n    phone(value:string) {\n        return ():Error[] => {\n            if (!value) return [];\n            return this.utils.isPhoneNumber(value) ? [] : [new Error('Value has to be a valid US phone number')];\n        };\n    }\n\n    required(value:any) {\n        return ():Error[] => {\n            return !value ? [new Error('Field is required')] : [];\n        };\n    }\n\n    length(value:string, max?:number, min?:number) {\n        return ():Error[] => {\n\n            var errors = [];\n\n            if (!value) return errors;\n\n            value = value.toString();\n\n            if (min && value.length < min) errors.push(new Error('Minimum length of ' + min + ' characters is required'));\n            if (max && value.length > max) errors.push(new Error('Maximum length of ' + max + ' characters is required'));\n\n            return errors;\n\n        };\n    }\n\n\n}\n\nexport function $get(context:context.Context):Validator {\n    return context.createSingleton('Validator', ()=> {\n        return new Validator(context);\n    });\n}\n\nexport interface IValidator {\n    field:string;\n    validator:(...args)=>Error[];\n}\n\nexport interface IValidatorErrors {\n    [id:string]: Error[];\n}\n\nexport interface IValidatorResult {\n    isValid:boolean;\n    errors:IValidatorErrors;\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/Validator.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\n\nexport class Account extends helper.Helper {\n\n    createUrl() {\n        return '/account/~';\n    }\n\n}\n\nexport function $get(context:context.Context):Account {\n    return context.createSingleton('Account', ()=> {\n        return new Account(context);\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Account.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\nimport validator = require('../core/Validator');\n\nexport class BlockedNumber extends helper.Helper {\n\n    private validator:validator.Validator;\n\n    constructor(context:context.Context) {\n        super(context);\n        this.validator = validator.$get(context);\n    }\n\n    createUrl(options?:IBlockedNumberOptions, id?:string) {\n\n        options = options || {};\n\n        return '/account/~/extension/' +\n            (options.extensionId ? options.extensionId : '~') +\n            '/blocked-number' +\n            (id ? '/' + id : '');\n\n    }\n\n    validate(item:IBlockedNumber) {\n\n        return this.validator.validate([\n            {field: 'phoneNumber', validator: this.validator.phone(item.phoneNumber)},\n            {field: 'phoneNumber', validator: this.validator.required(item.phoneNumber)},\n            {field: 'name', validator: this.validator.required(item.name)}\n        ]);\n\n    }\n\n}\n\nexport function $get(context:context.Context):BlockedNumber {\n    return context.createSingleton('BlockedNumber', ()=> {\n        return new BlockedNumber(context);\n    });\n}\n\nexport interface IBlockedNumber extends helper.IHelperObject {\n    name:string;\n    phoneNumber:string;\n}\n\nexport interface IBlockedNumberOptions {\n    extensionId?:string;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/BlockedNumber.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\nimport validator = require('../core/Validator');\nimport list = require('../core/List');\nimport presence = require('./Presence');\nimport contact = require('./Contact');\n\nexport class Call extends helper.Helper {\n\n    private list:list.List;\n    private presence:presence.Presence;\n    private contact:contact.Contact;\n\n    constructor(context:context.Context) {\n        super(context);\n        this.list = list.$get(context);\n        this.contact = contact.$get(context);\n        this.presence = presence.$get(context);\n    }\n\n    createUrl(options?:ICallOptions, id?:string) {\n\n        options = options || {};\n\n        if (!('personal' in options) && !('extensionId' in options)) options.personal = true;\n\n        return '/account/~/' +\n            (options.personal || options.extensionId ? ('extension/' + (options.extensionId || '~') + '/') : '') +\n            (options.active ? 'active-calls' : 'call-log') +\n            (id ? '/' + id : '');\n\n    }\n\n    getSessionId(call:ICall) {\n        return (call && call.sessionId);\n    }\n\n    isInProgress(call:ICall) {\n        return (call && call.result == 'In Progress');\n    }\n\n    isAlive(call:ICall) {\n        return (call && call.availability == 'Alive');\n    }\n\n    isInbound(call:ICall) {\n        return (call && call.direction == 'Inbound');\n    }\n\n    isOutbound(call:ICall) {\n        return !this.isInbound(call);\n    }\n\n    isMissed(call:ICall) {\n        return (call && call.result == 'Missed');\n    }\n\n    isFindMe(call:ICall) {\n        return (call && call.action == 'FindMe');\n    }\n\n    getCallerInfo(call:ICall):ICallerInfo {\n        return this.isInbound(call) ? call.from : call.to;\n    }\n\n    getAllCallerInfos(call:ICall):ICallerInfo[] {\n        return [this.getCallerInfo(call)].concat(this.isInbound(call) ? call.to : call.from);\n    }\n\n    formatDuration(call:ICall) {\n\n        function addZero(v) {\n            return (v < 10) ? '0' + v : v;\n        }\n\n        var duration = parseInt(<any>call.duration),\n            hours = Math.floor(duration / (60 * 60)),\n            mins = Math.floor((duration % (60 * 60)) / 60),\n            secs = Math.floor(duration % 60);\n\n        return (hours ? hours + ':' : '') + addZero(mins) + ':' + addZero(secs);\n\n    }\n\n    filter(options?:ICallFilterOptions):(call:ICall)=>boolean {\n\n        options = this.utils.extend({\n            alive: true,\n            direction: '',\n            type: ''\n        }, options);\n\n        return this.list.filter([\n            //{condition: options.alive, filterFn: this.isAlive},\n            {filterBy: 'direction', condition: options.direction},\n            {filterBy: 'type', condition: options.type}\n        ]);\n\n    }\n\n    comparator(options?:list.IListComparatorOptions) {\n\n        return this.list.comparator(this.utils.extend({\n            sortBy: 'startTime'\n        }, options));\n\n    }\n\n    /**\n     * Injects contact field with appropriate {IContact} data structure into all callerInfos found in\n     * all calls Warning, this function may be performance-consuming, reduce the amount of items passed to contacts\n     * and calls\n     */\n    attachContacts(contacts:contact.IContact[], calls:ICall[], options?:contact.IContactMatchOptions) {\n\n        // Flatten all caller infos from all messages\n        var callerInfos = calls.reduce((callerInfos, call) => {\n\n            return callerInfos.concat(this.getAllCallerInfos(call));\n\n        }, []);\n\n        this.contact.attachToCallerInfos(callerInfos, contacts, options);\n\n    }\n\n    /**\n     * Check whether pair of calls are two legs of RingOut\n     */\n    checkMergeability(outboundRingOutCall:ICall, inboundCall:ICall, options?:ICallProcessingOptions):boolean {\n\n        var getTime = (dateString) => {\n            return (new Date(dateString)).getTime();\n        };\n\n        return (\n        (!options.strict || outboundRingOutCall.action && outboundRingOutCall.action.toLowerCase().indexOf('ringout') != -1) &&\n            // Check directions\n        outboundRingOutCall.direction == 'Outbound' &&\n        inboundCall.direction == 'Inbound' &&\n            // Check that start times are equal or close enough\n        ((!inboundCall.startTime && !outboundRingOutCall.startTime) || Math.abs(getTime(inboundCall.startTime) - getTime(outboundRingOutCall.startTime)) < (options.maxStartTimeDiscrepancy || 5000)) &&\n            // Check that numbers match\n        inboundCall.from.phoneNumber == outboundRingOutCall.to.phoneNumber &&\n        (inboundCall.to.phoneNumber == outboundRingOutCall.from.phoneNumber || inboundCall.to.name == outboundRingOutCall.from.name) //TODO Maybe name check is not required\n        );\n\n    }\n\n    combineCalls(outboundRingOutCall:ICall, inboundCall:ICall, options?:ICallProcessingOptions):ICall[] {\n\n        options = options || <any>{};\n\n        var result = [];\n\n        outboundRingOutCall.hasSubsequent = true;\n\n        if (options.merge) {\n\n            outboundRingOutCall.duration = (outboundRingOutCall.duration > inboundCall.duration) ? outboundRingOutCall.duration : inboundCall.duration;\n\n            // TODO Usually information from inbound call is more accurate for unknown reason\n            outboundRingOutCall.from = inboundCall.to;\n            outboundRingOutCall.to = inboundCall.from;\n\n            // Push only one \"merged\" outbound call\n            result.push(outboundRingOutCall);\n\n        } else {\n\n            // Mark next call as subsequent\n            inboundCall.subsequent = true;\n\n            inboundCall.startTime = outboundRingOutCall.startTime; // Needed for sort\n\n            // Push both calls, first outbound then inbound\n            result.push(outboundRingOutCall);\n            result.push(inboundCall);\n\n        }\n\n        return result;\n\n    }\n\n    /**\n     * (!) Experimental (!)\n     *\n     * Calls in Recent Calls (Call Log) or Active Calls arrays can be combined if they are, for example, two legs of\n     * one RingOut. The logic that stands behind this process is simple:\n     *\n     * - Calls must have opposite directions\n     * - Must have been started within a certain limited time frame\n     * - Must have same phone numbers in their Caller Info sections (from/to)\n     *\n     * ```js\n     * var processedCalls = Call.processCalls(callsArray, {strict: false, merge: true});\n     * ```\n     *\n     * Flags:\n     *\n     * - if `strict` is `true` then only calls with RingOut in `action` property will be affected\n     * - `merge` &mdash; controls whether to merge calls (reducing the length of array) or give them `subsequent`\n     *     and `hasSubsequent` properties\n     */\n    processCalls(calls:ICall[], options?:ICallProcessingOptions):ICall[] {\n\n        var processedCalls = [],\n            callsToMerge = [],\n            self = this;\n\n        // Iterate through calls\n        calls.forEach((call:ICall) => {\n\n            var merged = false;\n\n            call.subsequent = false;\n            call.hasSubsequent = false;\n\n            // Second cycle to find other leg\n            // It is assumed that call is the outbound, secondCall is inbound\n            calls.some((secondCall:ICall) => {\n\n                if (call === secondCall) return false;\n\n                if (self.checkMergeability(call, secondCall, options)) {\n\n                    // Push to result array merged call\n                    processedCalls = processedCalls.concat(self.combineCalls(call, secondCall, options));\n\n                    // Push to array calls that are merged\n                    callsToMerge.push(call);\n                    callsToMerge.push(secondCall);\n\n                    merged = true;\n\n                }\n\n                return merged;\n\n            });\n\n        });\n\n        // After all calls are merged, add non-merged calls\n        calls.forEach((call:ICall) => {\n\n            if (callsToMerge.indexOf(call) == -1) processedCalls.push(call);\n\n        });\n\n        return processedCalls;\n\n    }\n\n    /**\n     * Converts Presence's ActiveCall array into regular Calls array\n     */\n    parsePresenceCalls(activeCalls:presence.IPresenceCall[]):ICall[] {\n\n        return activeCalls.map((activeCall:presence.IPresenceCall):ICall => {\n\n            return {\n                id: activeCall.id,\n                uri: '',\n                sessionId: activeCall.sessionId,\n                from: {phoneNumber: activeCall.from},\n                to: {phoneNumber: activeCall.to},\n                direction: activeCall.direction,\n                startTime: '',\n                duration: 0,\n                type: '',\n                action: '',\n                result: this.presence.isCallInProgress(activeCall) ? 'In Progress' : activeCall.telephonyStatus,\n                telephonyStatus: activeCall.telephonyStatus // non-standard property for compatibility\n            };\n\n        });\n\n    }\n\n    getSignature(call:ICall) {\n\n        var cleanup = (phoneNumber) => {\n            return (phoneNumber || '').toString().replace(/[^0-9]/ig, '');\n        };\n\n        return call.direction + '|' + (call.from && cleanup(call.from.phoneNumber)) + '|' + (call.to && cleanup(call.to.phoneNumber));\n\n    }\n\n    mergePresenceCalls(presenceCalls:ICall[], presence:presence.IPresence):ICall[] {\n\n        var currentDate = new Date(),\n\n            activeCalls = this\n                .parsePresenceCalls(presence && presence.activeCalls || [])\n                .map((call:ICall) => {\n                         // delete property to make sure it is skipped during merge\n                         delete call.startTime;\n                         return call;\n                     });\n\n        presenceCalls = this.merge(presenceCalls || [], activeCalls, this.getSessionId, true);\n\n        presenceCalls.forEach((call:ICall) => {\n            if (!call.startTime) call.startTime = currentDate.toISOString();\n        });\n\n        return presenceCalls;\n\n    }\n\n    mergeAll(presenceCalls:ICall[], calls:ICall[], activeCalls:ICall[]):ICall[] {\n\n        // First, merge calls into presence calls\n        var presenceAndCalls = this.merge(presenceCalls || [], calls || [], this.getSessionId, true);\n\n        // Second, merge activeCalls into previous result\n        return this.merge(presenceAndCalls, activeCalls || [], this.getSessionId, true);\n\n    }\n\n}\n\nexport function $get(context:context.Context):Call {\n    return context.createSingleton('Call', ()=> {\n        return new Call(context);\n    });\n}\n\nexport interface ICall extends helper.IHelperObject {\n    sessionId?:string;\n    availability?:string;\n    startTime?:string;\n    duration?:number;\n    type?:string;\n    direction?:string;\n    action?:string;\n    result?:string;\n    to?:ICallerInfo;\n    from?:ICallerInfo;\n    subsequent?:boolean; // added during processing\n    hasSubsequent?:boolean; // added during processing\n    telephonyStatus?:string; // added during processing\n}\n\nexport interface ICallOptions {\n    extensionId?:string;\n    active?:boolean;\n    personal?:boolean;\n}\n\nexport interface ICallProcessingOptions {\n    maxStartTimeDiscrepancy?:number;\n    strict?:boolean;\n    merge?:boolean;\n}\n\nexport interface ICallFilterOptions {\n    extensionId?:string;\n    direction?:string;\n    type?:string;\n}\n\n/**\n * @see http://platform-dev.dins.ru/artifacts/documentation/latest/webhelp/dev_guide_advanced/CallerInfo.html\n */\nexport interface ICallerInfo {\n    phoneNumber?:string;\n    extensionNumber?:string;\n    name?:string;\n    location?:string;\n    contact?:contact.IContact; // corresponding contact (added by attachContacts methods)\n    contactPhone?:string; // contact's phone as written in contact (added by attachContacts methods)\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Call.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\nimport validator = require('../core/Validator');\nimport list = require('../core/List');\nimport call = require('./Call');\n\nexport class Contact extends helper.Helper {\n    \n    private list:list.List;\n    private validator:validator.Validator;\n    \n    constructor(context:context.Context) {\n        super(context);\n        this.list = list.$get(context);\n        this.validator = validator.$get(context);\n    }\n    \n    createUrl(options?:IContactOptions, id?:string) {\n\n        options = options || {};\n\n        var root = '/account/~/extension/' +\n                   (options.extensionId ? options.extensionId : '~') +\n                   '/address-book';\n\n        if (options.sync) return root + '-sync';\n\n        return root +\n               (options.groupId ? '/group/' + options.groupId + '/contact' : '/contact') +\n               (id ? '/' + id : '');\n\n    }\n\n    /**\n     * Returns all values of the given fields if value exists\n     */\n    protected getFieldValues(where:IContact, fields?:string[], asHash?:boolean):any {\n\n        return fields.reduce((result:string[], field:string) => {\n\n            if (where && where[field]) {\n                if (asHash) {\n                    result[field] = where[field];\n                } else {\n                    result.push(where[field]);\n                }\n            }\n\n            return result;\n\n        }, asHash ? {} : []);\n\n    }\n\n    getFullName(contact:IContact) {\n        return this.getFieldValues(contact, this.nameFields).join(' ');\n    }\n\n    getEmails(contact:IContact, asHash?:boolean):string[] {\n        return this.getFieldValues(contact, this.emailFields, asHash);\n    }\n\n    getPhones(contact:IContact, asHash?:boolean):string[] {\n        return this.getFieldValues(contact, this.phoneFields, asHash);\n    }\n\n    getFaxes(contact:IContact, asHash?:boolean):string[] {\n        return this.getFieldValues(contact, this.faxFields, asHash);\n    }\n\n    getAddresses(contact:IContact, asHash?:boolean):IContactAddress[] {\n        return this.getFieldValues(contact, this.addressFields, asHash);\n    }\n\n    isAlive(contact:IContact) {\n        return (contact.availability == 'Alive');\n    }\n\n    /**\n     * Matches a contact against a given string, returns null if nothing found\n     */\n    match(contact:IContact, string:string, options?:IContactMatchOptions):any {\n\n        options = this.utils.extend({\n            fields: [].concat(this.nameFields, this.emailFields, this.phoneFields, this.faxFields, this.otherFields),\n            inAddresses: true,\n            transformFn: (value, options) => {\n                return value ? value.toString().toLocaleLowerCase() : '';\n            },\n            strict: false\n        }, options);\n\n        string = options.transformFn(string, options);\n\n        var found = null;\n\n        if (!string) return found;\n\n        var matchWith = (value) => {\n\n            // skip unnecessary cycles if match has been found\n            if (found) return;\n\n            var transformed = options.transformFn(value, options);\n\n            if (!transformed) return;\n\n            var match = (options.strict ? transformed == string : transformed.indexOf(string) > -1);\n\n            if (match) found = value;\n\n        };\n\n        // Search in fields\n        options.fields.forEach((field) => {\n            matchWith(contact[field]);\n        });\n\n        // Search in addresses, skip unnecessary cycles if match has been found\n        if (options.inAddresses && !found) this.addressFields.forEach((field) => {\n\n            // skip unnecessary cycles if match has been found or no field value\n            if (!contact[field] || found) return;\n\n            this.addressSubFields.forEach((subField) => {\n                matchWith(contact[field][subField]);\n            });\n\n        });\n\n        return found;\n\n    }\n\n    /**\n     * Matches a contact against a given phone number, returns null if nothing found\n     */\n    matchAsPhone(contact:IContact, phone:string, options?:IContactMatchOptions) {\n\n        return this.match(contact, phone, this.utils.extend({\n            fields: [].concat(this.phoneFields, this.faxFields),\n            inAddresses: false,\n            transformFn: (value, options) => {\n                return value ? value.toString().replace(/[^\\d\\w]/ig, '') : ''; //TODO Trickier removal reqired;\n            },\n            strict: false\n        }, options));\n\n    }\n\n\n    /**\n     * Injects contact field with appropriate {IContact} data structure into all given {ICallerInfo}\n     * Warning, this function may be performance-consuming, reduce the amount of items passed to contacts and callerInfos\n     */\n    attachToCallerInfos(callerInfos:call.ICallerInfo[], contacts:IContact[], options?:IContactMatchOptions) {\n\n        var self = this,\n            callerInfoIndex = this.index(callerInfos, (callerInfo:call.ICallerInfo) => {\n                return callerInfo.phoneNumber;\n            }, true);\n\n        this.utils.forEach(callerInfoIndex, (indexedCallerInfos, phoneNumber) => {\n\n            var foundContact:IContact = null,\n                foundPhone = null;\n\n            contacts.some((contact:IContact) => {\n\n                foundPhone = self.matchAsPhone(contact, phoneNumber, options);\n\n                if (foundPhone) foundContact = contact;\n\n                return foundPhone;\n\n            });\n\n            if (foundContact) {\n\n                indexedCallerInfos.forEach((callerInfo:call.ICallerInfo) => {\n                    callerInfo.contact = foundContact;\n                    callerInfo.contactPhone = foundPhone;\n                });\n\n            }\n\n        });\n\n    }\n\n    comparator(options?:list.IListComparatorOptions) {\n\n        return this.list.comparator(this.utils.extend({\n            extractFn: (contact:IContact, options) => {\n                return this.getFullName(contact);\n            }\n        }, options));\n\n    }\n\n    /**\n     * TODO Add filtering by group http://jira.ringcentral.com/browse/SDK-4\n     */\n    filter(options?:IContactFilterOptions) {\n\n        options = this.utils.extend({\n            alive: true,\n            startsWith: '',\n            phonesOnly: false,\n            faxesOnly: false\n        }, options);\n\n        return this.list.filter([\n            {condition: options.alive, filterFn: this.isAlive},\n            {condition: options.startsWith, filterFn: (item, opts) => { return this.match(item, opts.condition); }},\n            {condition: options.phonesOnly, filterFn: (item, opts) => { return (this.getPhones(item).length > 0); }},\n            {condition: options.faxesOnly, filterFn: (item, opts) => { return (this.getFaxes(item).length > 0); }}\n        ]);\n\n    }\n\n    validate(item:IContact) {\n\n        return this.validator.validate([\n            {field: 'firstName', validator: this.validator.required(item.firstName)},\n            {field: 'lastName', validator: this.validator.required(item.lastName)},\n            {field: 'email', validator: this.validator.email(item.email)},\n            {field: 'email2', validator: this.validator.email(item.email2)},\n            {field: 'email3', validator: this.validator.email(item.email3)}\n        ]);\n\n    }\n\n    phoneFields = [\n        'homePhone',\n        'homePhone2',\n        'businessPhone',\n        'businessPhone2',\n        'mobilePhone',\n        'companyPhone',\n        'assistantPhone',\n        'carPhone',\n        'otherPhone',\n        'callbackPhone'\n    ];\n\n    faxFields = [\n        'businessFax',\n        'otherFax'\n    ];\n\n    addressFields = [\n        'homeAddress',\n        'businessAddress',\n        'otherAddress'\n    ];\n\n    addressSubFields = [\n        'street',\n        'city',\n        'state',\n        'zip'\n    ];\n\n    nameFields = [\n        'firstName',\n        'middleName',\n        'lastName',\n        'nickName'\n    ];\n\n    otherFields = [\n        'company',\n        'jobTitle',\n        'webPage',\n        'notes'\n    ];\n\n    emailFields = [\n        'email',\n        'email2',\n        'email3'\n    ];\n    \n    \n}\n\nexport function $get(context:context.Context):Contact {\n    return context.createSingleton('Contact', ()=> {\n        return new Contact(context);\n    });\n}\n\nexport interface IContactOptions {\n    extensionId?:string;\n    groupId?:string;\n    sync?:boolean;\n}\n\nexport interface IContactFilterOptions {\n    startsWith?:string;\n    alive?:boolean;\n    phonesOnly?:boolean;\n    faxesOnly?:boolean;\n}\n\nexport interface IContactMatchOptions {\n    transformFn?:(object:IContact, options?:IContactMatchOptions)=>any;\n    strict?:boolean;\n    inAddresses?:boolean;\n    fields?:string[];\n}\n\n/**\n * @see http://platform-dev.dins.ru/artifacts/documentation/webhelp/dev_guide/content/ch16s04.html#ContactAddressInfo\n */\nexport interface IContactAddress {\n    country?:string;\n    street?:string;\n    city?:string;\n    state?:string;\n    zip?:string;\n}\n\n/**\n * @see http://platform-dev.dins.ru/artifacts/documentation/latest/webhelp/dev_guide_advanced/ch18s04.html#ContactInfo\n */\nexport interface IContactBrief {\n    firstName?:string;\n    lastName?:string;\n    company?:string;\n    email?:string;\n    businessAddress?:IContactAddress;\n}\n\n/**\n * @see http://platform-dev.dins.ru/artifacts/documentation/webhelp/dev_guide/content/ch16s04.html#ContactInfo\n */\nexport interface IContact extends helper.IHelperObject {\n    availability?:string;\n\n    // Names:\n    firstName?:string;\n    lastName?:string;\n    company?:string;\n    nickName?:string;\n    middleName?:string;\n\n    // Emails:\n    email?:string;\n    email2?:string;\n    email3?:string;\n\n    // Addresses:\n    businessAddress?:IContactAddress;\n    homeAddress?:IContactAddress;\n    otherAddress?:IContactAddress;\n\n    // Phones:\n    homePhone?:string;\n    homePhone2?:string;\n    businessPhone?:string;\n    businessPhone2?:string;\n    mobilePhone?:string;\n    companyPhone?:string;\n    assistantPhone?:string;\n    carPhone?:string;\n    otherPhone?:string;\n    callbackPhone?:string;\n\n    // Faxes:\n    businessFax?:string;\n    otherFax?:string;\n    \n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Contact.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\nimport validator = require('../core/Validator');\n\nexport class ContactGroup extends helper.Helper {\n    \n    private validator:validator.Validator;\n    \n    constructor(context:context.Context){\n        super(context);\n        this.validator = validator.$get(context);\n    }\n    \n    createUrl(options?:any, id?:string) {\n        return '/account/~/extension/~/address-book/group' + (id ? '/' + id : '');\n    }\n\n    validate(item:IContactGroup) {\n\n        return this.validator.validate([\n            {field: 'groupName', validator: this.validator.required(item && item.groupName)}\n        ]);\n\n    }\n\n}\n\nexport function $get(context:context.Context):ContactGroup {\n    return context.createSingleton('ContactGroup', ()=> {\n        return new ContactGroup(context);\n    });\n}\n\nexport interface IContactGroup extends helper.IHelperObject {\n    notes?:string;\n    groupName?:string;\n    contactsCount?:number;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/ContactGroup.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\n\nexport class Conferencing extends helper.Helper {\n\n    createUrl() {\n        return '/account/~/extension/~/conferencing';\n    }\n\n}\n\nexport function $get(context:context.Context):Conferencing {\n    return context.createSingleton('Conferencing', ()=> {\n        return new Conferencing(context);\n    });\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Conferencing.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\n\nexport class Country extends helper.Helper {\n\n    createUrl(options?:any, id?:string) {\n        return '/dictionary/country';\n    }\n\n}\n\nexport function $get(context:context.Context):Country {\n    return context.createSingleton('Country', ()=> {\n        return new Country(context);\n    });\n}\n\nexport interface ICountry extends helper.IHelperObject {\n    name?:string;\n    isoCode?:string;\n    callingCode?:string;\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Country.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\nimport validator = require('../core/Validator');\nimport extension = require('./Extension');\nimport deviceModel = require('./DeviceModel');\nimport shippingMethod = require('./ShippingMethod');\nimport phoneNumber = require('./PhoneNumber');\n\nexport class Device extends helper.Helper {\n\n    private validator:validator.Validator;\n    private extension:extension.Extension;\n    private deviceModel:deviceModel.DeviceModel;\n\n    constructor(context:context.Context){\n        super(context);\n        this.validator = validator.$get(context);\n        this.extension = extension.$get(context);\n        this.deviceModel = deviceModel.$get(context);\n    }\n\n    createUrl(options?:IDeviceOptions, id?:string) {\n\n        options = options || {};\n\n        if (options.order) return '/account/~/order';\n\n        return '/account/~' +\n               (options.extensionId ? '/extension/' + options.extensionId : '') +\n               '/device' +\n               (id ? '/' + id : '');\n\n    }\n\n    /**\n     * @param {IDevice} item\n     */\n    validate(item:IDevice) {\n\n        return this.validator.validate([\n            {field: 'emergencyServiceAddress-street', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.street)},\n            {field: 'emergencyServiceAddress-city', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.city)},\n            {field: 'emergencyServiceAddress-state', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.state)},\n            {field: 'emergencyServiceAddress-country', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.country)},\n            {field: 'emergencyServiceAddress-zip', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.zip)},\n            {field: 'emergencyServiceAddress-customerName', validator: this.validator.required(item && item.emergencyServiceAddress && item.emergencyServiceAddress.customerName)},\n            {field: 'extension', validator: this.validator.required(this.extension.getId(item && item.extension))},\n            {field: 'model', validator: this.validator.required(this.deviceModel.getId(item && item.model))}\n        ]);\n\n    }\n\n}\n\nexport function $get(context:context.Context):Device {\n    return context.createSingleton('Device', ()=> {\n        return new Device(context);\n    });\n}\n\nexport interface IContactGroup extends helper.IHelperObject {\n    notes?:string;\n    groupName?:string;\n    contactsCount?:number;\n}\n\nexport interface IDevice extends helper.IHelperObject {\n    type?:string;\n    name?:string;\n    serial?:string;\n    model?:deviceModel.IDeviceModel;\n    extension?:extension.IExtensionShort; //TODO IExtension?\n    emergencyServiceAddress?:IDeviceAddress;\n    shipping?:IDeviceShipping;\n    phoneLines?:IDevicePhoneLine[];\n}\n\nexport interface IDeviceOrder {\n    devices?:IDevice[];\n}\n\nexport interface IDeviceAddress {\n    street?:string;\n    street2?:string;\n    city?:string;\n    state?:string;\n    country?:string;\n    zip?:string;\n    customerName?:string;\n}\n\nexport interface IDeviceShipping {\n    address?:IDeviceAddress;\n    method?:shippingMethod.IShippingMethod;\n    status?:string;\n}\n\nexport interface IDevicePhoneLine {\n    lineType?:string;\n    phoneInfo?:phoneNumber.IPhoneNumber;\n}\n\nexport interface IDeviceOptions {\n    extensionId?:string;\n    order?:boolean;\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Device.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\n\nexport class DeviceModel extends helper.Helper {\n    \n    getId(device:IDeviceModel) {\n\n        if (!device) return null;\n\n        return device.id + (\n                device.addons && device.addons[0]\n                    ? '-' + device.addons[0].id + '-' + device.addons[0].count\n                    : ''\n            );\n\n    }\n\n    /**\n     * Remove extra textual information from device\n     * @exceptionalCase Platform does not understand full device info\n     */\n    cleanForSaving(device?:IDeviceModel):IDeviceModel {\n\n        if (!device) return null;\n\n        delete device.name;\n        delete device.deviceClass;\n\n        if (device.addons && device.addons.length > 0) {\n\n            device.addons.forEach((addon, i) => {\n                delete device.addons[i].name;\n            });\n\n        } else {\n\n            delete device.addons;\n\n        }\n\n        return device;\n\n    }\n\n    /**\n     * TODO Remove when http://jira.ringcentral.com/browse/SDK-1 is done\n     */\n    devices:IDeviceModel[] = [\n        {\n            id: '-1',\n            name: 'Softphone'\n        },\n        {\n            id: '0',\n            name: 'Existing device'\n        },\n        {\n            id: '19',\n            name: 'Cisco SPA-525G2 Desk Phone',\n            deviceClass: 'Desk Phone'\n        },\n        {\n            id: '23',\n            name: 'Polycom IP 321 Basic IP phone',\n            deviceClass: 'Desk Phone'\n        },\n        {\n            id: '30',\n            name: 'Polycom IP 550 HD Manager IP phone',\n            deviceClass: 'Desk Phone'\n        },\n        {\n            id: '37',\n            name: 'Polycom IP 6000 Conference Phone',\n            deviceClass: 'Conference Phone'\n        },\n        {\n            id: '40',\n            name: 'Polycom IP 335 HD IP phone',\n            deviceClass: 'Desk Phone'\n        },\n        {\n            id: '51',\n            name: 'Cisco SPA-303 Desk Phone',\n            deviceClass: 'Desk Phone'\n        },\n        {\n            id: '16',\n            name: 'Cisco SPA-508G Desk Phone with 1 Expansion Module',\n            deviceClass: 'Desk Phone',\n            addons: [\n                {\n                    id: '2',\n                    name: 'Cisco Sidecar',\n                    count: '1'\n                }\n            ]\n        },\n        {\n            id: '16',\n            name: 'Cisco SPA-508G Desk Phone with 2 Expansion Modules',\n            deviceClass: 'Desk Phone',\n            addons: [\n                {\n                    id: '2',\n                    name: 'Cisco Sidecar',\n                    count: '2'\n                }\n            ]\n        },\n        {\n            id: '16',\n            name: 'Cisco SPA-508G Desk Phone',\n            deviceClass: 'Desk Phone'\n        },\n        {\n            id: '19',\n            name: 'Cisco SPA-525G2 Desk Phone with 1 Expansion Module',\n            deviceClass: 'Desk Phone',\n            addons: [\n                {\n                    id: '2',\n                    name: 'Cisco Sidecar',\n                    count: '1'\n                }\n            ]\n        },\n        {\n            id: '19',\n            name: 'Cisco SPA-525G2 Desk Phone with 2 Expansion Modules\tDesk Phone',\n            addons: [\n                {\n                    id: '2',\n                    name: 'Cisco Sidecar',\n                    count: '2'\n                }\n            ]\n        },\n        {\n            id: '34',\n            name: 'Polycom IP 650 HD Executive IP phone with 1 Expansion Module',\n            deviceClass: 'Desk Phone',\n            addons: [\n                {\n                    id: '1',\n                    name: 'Plolycom Expansion',\n                    count: '1'\n                }\n            ]\n        },\n        {\n            id: '34',\n            name: 'Polycom IP 650 HD Executive IP phone with 2 Expansion Modules',\n            deviceClass: 'Desk Phone',\n            addons: [\n                {\n                    id: '1',\n                    name: 'Plolycom Expansion',\n                    count: '2'\n                }\n            ]\n        },\n        {\n            id: '34',\n            name: 'Polycom IP 650 HD Executive IP phone with 3 Expansion Modules',\n            deviceClass: 'Desk Phone',\n            addons: [\n                {\n                    id: '1',\n                    name: 'Plolycom Expansion',\n                    count: '3'\n                }\n            ]\n        },\n        {\n            id: '34',\n            name: 'Polycom IP 650 HD Executive IP phone',\n            deviceClass: 'Desk Phone'\n        },\n        {\n            id: '52',\n            name: 'Cisco SPA-122 ATA',\n            deviceClass: 'Analog Adapter'\n        },\n        {\n            id: '53',\n            name: 'Polycom VVX-500 Color Touchscreen',\n            deviceClass: 'Desk Phone'\n        },\n        {\n            id: '54',\n            name: 'Polycom VVX-310 Gigabit Ethernet Phone',\n            deviceClass: 'Desk Phone'\n        },\n        {\n            id: '55',\n            name: 'Polycom VVX-410 Color Gigabit Ethernet Phone',\n            deviceClass: 'Desk Phone'\n        }\n    ];\n    \n}\n\nexport function $get(context:context.Context):DeviceModel {\n    return context.createSingleton('DeviceModel', ()=> {\n        return new DeviceModel(context);\n    });\n}\n\nexport interface IDeviceModel extends helper.IHelperObject {\n    name?:string;\n    deviceClass?:string;\n    addons?:IDeviceModelAddon[];\n}\n\nexport interface IDeviceModelAddon extends helper.IHelperObject {\n    name?:string;\n    count?:string;\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/DeviceModel.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\nimport list = require('../core/List');\nimport contact = require('./Contact');\nimport service = require('./Service');\nimport country = require('./Country');\nimport timezone = require('./Timezone');\nimport language = require('./Language');\nimport presence = require('./Presence');\n\nexport class Extension extends helper.Helper {\n\n    private list:list.List;\n\n    type = {\n        department: 'Department',\n        user: 'User',\n        announcement: 'Announcement',\n        voicemail: 'Voicemail'\n    };\n\n    constructor(context:context.Context) {\n        super(context);\n        this.list = list.$get(context);\n    }\n\n    createUrl(options?:IExtensionOptions, id?:string) {\n\n        options = options || {};\n\n        return '/account/~' +\n            (options.departmentId ? '/department/' + options.departmentId + '/members' : '/extension') +\n            (id ? '/' + id : '');\n\n    }\n\n    isUser(extension?:IExtension) {\n        return extension && extension.type == this.type.user;\n    }\n\n    isDepartment(extension?:IExtension) {\n        return extension && extension.type == this.type.department;\n    }\n\n    isAnnouncement(extension?:IExtension) {\n        return extension && extension.type == this.type.announcement;\n    }\n\n    isVoicemail(extension?:IExtension) {\n        return extension && extension.type == this.type.voicemail;\n    }\n\n    comparator(options?:list.IListComparatorOptions) {\n\n        return this.list.comparator(this.utils.extend({\n            sortBy: 'extensionNumber',\n            compareFn: this.list.numberComparator\n        }, options));\n\n    }\n\n    filter(options?:IExtensionFilterOptions) {\n\n        options = this.utils.extend({\n            search: '',\n            type: ''\n        }, options);\n\n        return this.list.filter([\n            {filterBy: 'type', condition: options.type},\n            {\n                condition: options.search.toLocaleLowerCase(),\n                filterFn: this.list.containsFilter,\n                extractFn: (item) => {\n                    return (item.name && (item.name.toLocaleLowerCase() + ' ')) +\n                        (item.extensionNumber && item.extensionNumber.toString().toLocaleLowerCase());\n                }\n            }\n        ]);\n\n    }\n\n}\n\nexport function $get(context:context.Context):Extension {\n    return context.createSingleton('Extension', ()=> {\n        return new Extension(context);\n    });\n}\n\nexport interface IExtensionOptions {\n    departmentId?:string;\n}\n\nexport interface IExtensionFilterOptions {\n    search?:string;\n    type?:string;\n}\n\nexport interface IExtensionRegionalSettings {\n    timezone?:timezone.ITimezone;\n    language?:language.ILanguage;\n    homeCountry?:country.ICountry;\n}\n\n/**\n * @see http://platform-dev.dins.ru/artifacts/documentation/latest/webhelp/dev_guide_advanced/ch18s04.html#ShortExtensionInfo\n */\nexport interface IExtensionShort extends helper.IHelperObject {\n    extensionNumber?:string;\n}\n\n/**\n * @see http://platform-dev.dins.ru/artifacts/documentation/latest/webhelp/dev_guide_advanced/ch18s04.html#ExtensionInfo\n */\nexport interface IExtension extends helper.IHelperObject {\n    extensionNumber?:string;\n    name?:string;\n    type?:string;\n    status?:string;\n    setupWizardState?:string;\n    contact?:contact.IContactBrief;\n    regionalSettings?:IExtensionRegionalSettings;\n    serviceFeatures?:service.IServiceFeature[];\n    presence?:presence.IPresence; // added by helper\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Extension.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\nimport list = require('../core/List');\n\nexport class ForwardingNumber extends helper.Helper {\n\n    private list:list.List;\n\n    constructor(context:context.Context) {\n        super(context);\n        this.list = list.$get(context);\n    }\n\n    createUrl(options?:{extensionId?:string}, id?:string) {\n\n        options = options || {};\n\n        return '/account/~/extension/' + (options.extensionId || '~') + '/forwarding-number' + (id ? '/' + id : '');\n\n    }\n\n    getId(forwardingNumber) {\n        return forwardingNumber && (forwardingNumber.id || (forwardingNumber.phoneNumber)); //TODO @exceptionalCase\n    }\n\n    hasFeature(phoneNumber:IForwardingNumber, feature) {\n        return (!!phoneNumber && !!phoneNumber.features && phoneNumber.features.indexOf(feature) != -1);\n    }\n\n    comparator(options?:list.IListComparatorOptions) {\n\n        return this.list.comparator(this.utils.extend({\n            sortBy: 'label'\n        }, options));\n\n    }\n\n    filter(options?:{features:string[]}) {\n\n        options = this.utils.extend({\n            features: []\n        }, options);\n\n        return this.list.filter([{\n            condition: options.features.length,\n            filterFn: (item) => {\n\n                return options.features.some((feature) => {\n                    return this.hasFeature(item, feature);\n                });\n\n            }\n        }]);\n\n    }\n\n}\n\nexport function $get(context:context.Context):ForwardingNumber {\n    return context.createSingleton('ForwardingNumber', ()=> {\n        return new ForwardingNumber(context);\n    });\n}\n\nexport interface IForwardingNumber extends helper.IHelperObject {\n    label?:string;\n    phoneNumber?:string;\n    flipNumber?:string;\n    features?:string[];\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/ForwardingNumber.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\n\nexport class Language extends helper.Helper {\n\n    languages:ILanguage[] = [\n        {\n            id: '1033',\n            name: 'English (US)'\n        },\n        {\n            id: '3084',\n            name: 'French (Canada)'\n        }\n    ];\n\n}\n\nexport function $get(context:context.Context):Language {\n    return context.createSingleton('Language', ()=> {\n        return new Language(context);\n    });\n}\n\nexport interface ILanguage extends helper.IHelperObject {\n    name?:string;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Language.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\nimport list = require('../core/List');\nimport state = require('./State');\n\nexport class Location extends helper.Helper {\n\n    private list:list.List;\n    private state:state.State;\n\n    constructor(context:context.Context) {\n        super(context);\n        this.list = list.$get(context);\n        this.state = state.$get(context);\n    }\n\n    createUrl() {\n        return '/dictionary/location';\n    }\n\n    filter(options?:ILocationFilterOptions) {\n\n        var uniqueNPAs = [];\n\n        options = this.utils.extend({\n            stateId: '',\n            onlyUniqueNPA: false\n        }, options);\n\n        return this.list.filter([\n            {\n                condition: options.stateId,\n                filterFn: (item:ILocation, opts) => {\n                    return (this.state.getId(item.state) == opts.condition);\n                }\n            },\n            {\n                condition: options.onlyUniqueNPA,\n                filterFn: (item:ILocation, opts) => {\n                    if (uniqueNPAs.indexOf(item.npa) == -1) {\n                        uniqueNPAs.push(item.npa);\n                        return true;\n                    } else {\n                        return false;\n                    }\n                }\n            }\n        ]);\n\n    }\n\n    comparator(options?:list.IListComparatorOptions) {\n\n        options = this.utils.extend({\n            sortBy: 'npa'\n        }, options);\n\n        if (options.sortBy == 'nxx') {\n\n            options.extractFn = (item:ILocation) => {\n                return (parseInt(item.npa) * 1000000) + parseInt(item.nxx);\n            };\n\n            options.compareFn = this.list.numberComparator;\n\n        }\n\n        return this.list.comparator(options);\n\n    }\n    \n}\n\nexport function $get(context:context.Context):Location {\n    return context.createSingleton('Location', ()=> {\n        return new Location(context);\n    });\n}\n\nexport interface ILocation extends helper.IHelperObject {\n    name?:string;\n    isoCode?:string;\n    npa?:string;\n    nxx?:string;\n    state?:state.IState;\n}\n\nexport interface ILocationFilterOptions {\n    stateId?:string;\n    onlyUniqueNPA?:boolean;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Location.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\nimport list = require('../core/List');\nimport validator = require('../core/Validator');\nimport subscription = require('../core/Subscription');\nimport platform = require('../core/Platform');\nimport contact = require('./Contact');\nimport call = require('./Call');\n\nexport class Message extends helper.Helper {\n\n    private list:list.List;\n    private contact:contact.Contact;\n    private platform:platform.Platform;\n    private validator:validator.Validator;\n\n    constructor(context:context.Context) {\n        super(context);\n        this.contact = contact.$get(context);\n        this.list = list.$get(context);\n        this.platform = platform.$get(context);\n        this.validator = validator.$get(context);\n    }\n    \n    /**\n     *\n     * @exceptionalCase Different endpoint when creating SMS/Pager\n     */\n    createUrl(options?:IMessageOptions, id?:string|number) {\n\n        options = options || {};\n\n        var root = '/account/~/extension/' + (options.extensionId || '~');\n\n        if (options.fax) return root + '/fax';\n        if (options.sms) return root + '/sms';\n        if (options.pager) return root + '/company-pager';\n        if (options.sync) return root + '/message-sync';\n\n        return root + '/message-store' + (id ? '/' + id : '');\n\n    }\n\n    isInbound(message):IMessage {\n        return (message && message.direction == 'Inbound');\n    }\n\n    isOutbound(message):IMessage {\n        return !this.isInbound(message);\n    }\n\n    isSMS(message:IMessage) {\n        return (message && message.type == 'SMS');\n    }\n\n    isPager(message:IMessage):IMessage {\n        return (message && message.type == 'Pager');\n    }\n\n    isVoiceMail(message:IMessage) {\n        return (message && message.type == 'VoiceMail');\n    }\n\n    isFax(message:IMessage) {\n        return (message && message.type == 'Fax');\n    }\n\n    isAlive(message:IMessage) {\n        //return (this.availability != 'Deleted' && this.availability != 'Purged');\n        return (message && message.availability == 'Alive');\n    }\n\n    isRead(message:IMessage) {\n        return (message.readStatus == 'Read');\n    }\n\n    setIsRead(message:IMessage, isRead:boolean):IMessage {\n        message.readStatus = (!!isRead) ? 'Read' : 'Unread';\n        return message;\n    }\n\n    getAttachmentUrl(message:IMessage, i:number) {\n        return message.attachments[i] ? this.platform.apiUrl(message.attachments[i].uri, {addMethod: 'GET', addServer: true, addToken: true}) : '';\n    }\n\n    getAttachmentContentType(message:IMessage, i:number) {\n        return message.attachments[i] ? message.attachments[i].contentType : '';\n    }\n\n    getSubscription(options?:IMessageOptions):subscription.Subscription {\n\n        return subscription.$get(this.context).setEvents([this.createUrl(options)]);\n\n    }\n\n    /**\n     * Returns from-phones if inbound (oterwise to-phones)\n     */\n    getCallerInfos(message:IMessage):call.ICallerInfo[] {\n        return this.isInbound(message) ? [message.from] : message.to;\n    }\n\n    /**\n     * Returns first from-phones if inbound (oterwise to-phones), then vice-versa\n     */\n    getAllCallerInfos(message:IMessage):call.ICallerInfo[] {\n        return this.getCallerInfos(message).concat(this.isInbound(message) ? message.to : [message.from]);\n    }\n\n    /**\n     * TODO Compare as dates\n     */\n    comparator(options?:list.IListComparatorOptions) {\n\n        return this.list.comparator(this.utils.extend({\n            sortBy: 'creationTime'\n        }, options));\n\n    }\n\n    filter(options?:IMessageFilterOptions) {\n\n        options = this.utils.extend({\n            search: '',\n            alive: true,\n            direction: '',\n            conversationId: '',\n            readStatus: ''\n        }, options);\n\n        return this.list.filter([\n            {condition: options.alive, filterFn: this.isAlive},\n            {filterBy: 'type', condition: options.type},\n            {filterBy: 'direction', condition: options.direction},\n            {filterBy: 'conversationId', condition: options.conversationId},\n            {filterBy: 'readStatus', condition: options.readStatus},\n            {filterBy: 'subject', condition: options.search, filterFn: this.list.containsFilter}\n        ]);\n\n    }\n\n    /**\n     * Injects contact field with appropriate {IContact} data structure into all callerInfos found in all messages\n     * Warning, this function may be performance-consuming, reduce the amount of items passed to contacts and messages\n     */\n    attachContacts(contacts:contact.IContact[], messages:IMessage[], options?:contact.IContactMatchOptions) {\n\n        var self = this;\n\n        // Flatten all caller infos from all messages\n        var callerInfos = messages.reduce((callerInfos, message) => {\n\n            return callerInfos.concat(self.getAllCallerInfos(message));\n\n        }, []);\n\n        this.contact.attachToCallerInfos(callerInfos, contacts, options);\n\n    }\n\n    shorten(message:IMessage):IMessageShort {\n\n        return {\n            from: message.from,\n            to: message.to,\n            text: message.subject\n        };\n\n    }\n\n    validateSMS(item:IMessage) {\n\n        return this.validator.validate([\n            {field: 'to', validator: this.validator.required(this.utils.getProperty(item, 'to[0].phoneNumber'))},\n            {field: 'from', validator: this.validator.required(this.utils.getProperty(item, 'from.phoneNumber'))},\n            {field: 'subject', validator: this.validator.required(this.utils.getProperty(item, 'subject'))},\n            {field: 'subject', validator: this.validator.length(this.utils.getProperty(item, 'subject'), 160)}\n        ]);\n\n    }\n\n    validatePager(item:IMessage) {\n\n        return this.validator.validate([\n            {field: 'to', validator: this.validator.required(this.utils.getProperty(item, 'to.extensionNumber'))},\n            {field: 'from', validator: this.validator.required(this.utils.getProperty(item, 'from.extensionNumber'))},\n            {field: 'subject', validator: this.validator.required(this.utils.getProperty(item, 'subject'))},\n            {field: 'subject', validator: this.validator.length(this.utils.getProperty(item, 'subject'), 160)}\n        ]);\n\n    }\n\n}\n\nexport function $get(context:context.Context):Message {\n    return context.createSingleton('Message', ()=> {\n        return new Message(context);\n    });\n}\n\nexport interface IMessage extends helper.IHelperObject{\n    to?:call.ICallerInfo[];\n    from?:call.ICallerInfo;\n    type?:string;\n    creationTime?:string;\n    readStatus?:string;\n    priority?:string;\n    attachments?:IMessageAttachment[];\n    direction?:string;\n    availability?:string;\n    subject?:string;\n    messageStatus?:string;\n    conversationId?:string;\n    lastModifiedTime?:string;\n}\n\nexport interface IMessageShort {\n    to?:call.ICallerInfo[];\n    from?:call.ICallerInfo;\n    text?:string;\n}\n\nexport interface IMessageOptions {\n    fax?:boolean;\n    sync?:boolean;\n    sms?:boolean;\n    pager?:boolean;\n    extensionId?:string;\n}\n\nexport interface IMessageFilterOptions {\n    alive?:boolean;\n    conversationId?:string;\n    direction?:string;\n    readStatus?:string;\n    type?:string;\n    search?:string;\n}\n\n/**\n * @see http://platform-dev.dins.ru/artifacts/documentation/webhelp/dev_guide/content/ch18s01.html#MessageAttachmentInfo\n */\nexport interface IMessageFaxAttachment extends helper.IHelperObject {\n    contentType?:string;\n    content?:string;\n    fileName?:string;\n}\n/**\n * @see http://platform-dev.dins.ru/artifacts/documentation/webhelp/dev_guide/content/ch18s01.html#MessageAttachmentInfo\n */\nexport interface IMessageAttachment extends helper.IHelperObject {\n    contentType?:string;\n    vmDuration?:string;\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Message.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\nimport list = require('../core/List');\nimport extension = require('./Extension');\n\nexport class PhoneNumber extends helper.Helper {\n\n    private extension:extension.Extension;\n    private list:list.List;\n\n    constructor(context:context.Context) {\n        super(context);\n        this.extension = extension.$get(context);\n        this.list = list.$get(context);\n    }\n\n    createUrl(options?:IPhoneNumberOptions, id?:string) {\n\n        options = options || {};\n\n        if (options.lookup) return '/number-pool/lookup';\n\n        return '/account/~' +\n            (options.extensionId ? '/extension/' + options.extensionId : '') +\n            '/phone-number' +\n            (id ? '/' + id : '');\n\n    }\n\n    isSMS(phoneNumber:IPhoneNumber) {\n        return this.hasFeature(phoneNumber, 'SmsSender');\n    }\n\n    hasFeature(phoneNumber:IPhoneNumber, feature:string) {\n        return (!!phoneNumber.features && phoneNumber.features.indexOf(feature) != -1);\n    }\n\n    reserve(phoneNumber:IPhoneNumber, date:any) {\n        phoneNumber.reservedTill = new Date(date).toISOString();\n    }\n\n    unreserve(phoneNumber:IPhoneNumber) {\n        phoneNumber.reservedTill = null;\n    }\n\n    comparator(options?:list.IListComparatorOptions) {\n\n        return this.list.comparator(this.utils.extend({\n            extractFn: (item:IPhoneNumber) => {\n                return item.usageType + '-' +\n                    item.paymentType + '-' +\n                    item.type;\n            }\n        }, options));\n\n    }\n\n    /**\n     * TODO Add other filtering methods http://jira.ringcentral.com/browse/SDK-5\n     */\n    filter(options?:IPhoneNumberFilterOptions) {\n\n        options = this.utils.extend({\n            usageType: '',\n            paymentType: '',\n            type: '',\n            features: []\n        }, options);\n\n        return this.list.filter([\n            {filterBy: 'usageType', condition: options.usageType},\n            {filterBy: 'paymentType', condition: options.paymentType},\n            {filterBy: 'type', condition: options.type},\n            {\n                condition: options.features.length,\n                filterFn: (item:IPhoneNumber) => {\n\n                    return options.features.some((feature:string) => {\n                        return this.hasFeature(item, feature);\n                    });\n\n                }\n            }\n        ]);\n\n    }\n\n}\n\nexport function $get(context:context.Context):PhoneNumber {\n    return context.createSingleton('PhoneNumber', ()=> {\n        return new PhoneNumber(context);\n    });\n}\n\nexport interface IPhoneNumber extends helper.IHelperObject {\n    phoneNumber?:string;\n    paymentType?:string; // External, TollFree, Local\n    location?:string;\n    type?:string; // VoiceFax, FaxOnly, VoiceOnly\n    usageType?:string; // CompanyNumber, DirectNumber, CompanyFaxNumber, ForwardedNumber\n    features?:string[]; // CallerId, SmsSender\n    reservedTill?:string;\n    error?:string;\n}\n\nexport interface IPhoneNumberOptions {\n    extensionId?:string;\n    lookup?:boolean;\n    countryId?:string;\n    paymentType?:string;\n    npa?:string;\n    nxx?:string;\n    line?:string;\n    exclude?:string;\n}\n\nexport interface IPhoneNumberFilterOptions {\n    paymentType?:string;\n    usageType?:string;\n    type?:string;\n    features?:string[];\n}\n\nexport interface IPhoneNumberOrder {\n    records?:IPhoneNumber[];\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/PhoneNumber.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\nimport subscription = require('../core/Subscription');\nimport extension = require('./Extension');\n\nexport class Presence extends helper.Helper {\n\n    private extension:extension.Extension;\n\n    constructor(context:context.Context) {\n        super(context);\n        this.extension = extension.$get(context);\n    }\n\n    createUrl(options?:IPresenceOptions, id?:string) {\n\n        options = options || {};\n\n        return '/account/~/extension/' + (id || '~') + '/presence' + (options.detailed ? '?detailedTelephonyState=true' : '');\n\n    }\n\n    getId(presence:IPresence) {\n        return presence && (this.extension.getId(presence.extension) || presence.extensionId);\n    }\n\n    isAvailable(presence:IPresence) {\n        return presence && presence.presenceStatus == 'Available';\n    }\n\n    getSubscription(options?:IPresenceOptions, id?:string):subscription.Subscription {\n\n        return subscription.$get(this.context).setEvents([this.createUrl(options, id)]);\n\n    }\n\n    updateSubscription(subscription:subscription.Subscription,\n                       presences:IPresence[],\n                       options?:IPresenceOptions):subscription.Subscription {\n\n        var events = presences.map(this.getId, this).map((id) => {\n            return this.createUrl(options, id);\n        }, this);\n\n        subscription.addEvents(events);\n\n        return subscription;\n\n    }\n\n    attachToExtensions(extensions:extension.IExtension[], presences:IPresence[], merge?:boolean) {\n\n        var index = this.index(presences);\n\n        extensions.forEach((ex:extension.IExtension) => {\n\n            var presence = index[this.extension.getId(ex)];\n\n            if (presence) {\n                if ('presence' in ex && merge) {\n                    this.utils.extend(ex.presence, presence);\n                } else {\n                    ex.presence = presence;\n                }\n            }\n\n        }, this);\n\n        return this;\n\n    }\n\n    isCallInProgress(presenceCall:IPresenceCall) {\n        return (presenceCall && presenceCall.telephonyStatus != 'NoCall');\n    }\n\n\n}\n\nexport function $get(context:context.Context):Presence {\n    return context.createSingleton('Presence', ()=> {\n        return new Presence(context);\n    });\n}\n\nexport interface IPresence extends helper.IHelperObject {\n    extension?:extension.IExtension;\n    activeCalls?:IPresenceCall[];\n    presenceStatus?:string; // Offline, Busy, Available\n    telephonyStatus?:string; // NoCall, CallConnected, Ringing, OnHold\n    userStatus?:string; // Offline, Busy, Available\n    dndStatus?:string; // TakeAllCalls, DoNotAcceptAnyCalls, DoNotAcceptDepartmentCalls, TakeDepartmentCallsOnly\n    allowSeeMyPresence?:boolean;\n    ringOnMonitoredCall?:boolean;\n    pickUpCallsOnHold?:boolean;\n    extensionId?:string;\n    sequence?:number;\n}\n\nexport interface IPresenceCall {\n    direction?:string;\n    from?:string;\n    to?:string;\n    sessionId?:string;\n    id?:string;\n    telephonyStatus?:string;\n}\n\nexport interface IPresenceOptions {\n    detailed?:boolean;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Presence.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\nimport validator = require('../core/Validator');\nimport call = require('./Call');\n\nexport class Ringout extends helper.Helper {\n\n    private validator:validator.Validator;\n\n    constructor(context:context.Context) {\n        super(context);\n        this.validator = validator.$get(context);\n    }\n\n    createUrl(options?:{extensionId?:string}, id?:string) {\n\n        options = options || {};\n\n        return '/account/~/extension/' + (options.extensionId || '~') + '/ringout' + (id ? '/' + id : '');\n\n    }\n\n    resetAsNew(object:IRingout) {\n        object = super.resetAsNew(object);\n        if (object) {\n            delete object.status;\n        }\n        return object;\n    }\n\n    isInProgress(ringout:IRingout) {\n        return ringout && !this.isNew(ringout) && ringout.status && ringout.status.callStatus == 'InProgress';\n    }\n\n    isSuccess(ringout:IRingout) {\n        return ringout && !this.isNew(ringout) && ringout.status && ringout.status.callStatus == 'Success';\n    }\n\n    isError(ringout:IRingout) {\n        return !this.isNew(ringout) && !this.isInProgress(ringout) && !this.isSuccess(ringout);\n    }\n\n    validate(item:IRingout) {\n\n        return this.validator.validate([\n            {field: 'to', validator: this.validator.required(item && item.to && item.to.phoneNumber)},\n            {field: 'from', validator: this.validator.required(item && item.from && item.from.phoneNumber)}\n        ]);\n\n    }\n    \n}\n\nexport function $get(context:context.Context):Ringout {\n    return context.createSingleton('Ringout', ()=> {\n        return new Ringout(context);\n    });\n}\n\nexport interface IRingout extends helper.IHelperObject {\n    from?:call.ICallerInfo; // (!) ONLY PHONE NUMBER\n    to?:call.ICallerInfo; // (!) ONLY PHONE NUMBER\n    callerId?:call.ICallerInfo; // (!) ONLY PHONE NUMBER\n    playPrompt?:boolean;\n    status?:{\n        callStatus?:string;\n        callerStatus?:string;\n        calleeStatus?:string\n    };\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Ringout.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\n\nexport class Service extends helper.Helper {\n    \n    createUrl() {\n        return '/account/~/service-info';\n    }\n\n    isEnabled(feature:string, serviceFeatures:IServiceFeature[]) {\n\n        return serviceFeatures.reduce((value, f) => {\n\n            if (f.featureName == feature) value = f.enabled;\n            return value;\n\n        }, false);\n\n    }\n\n    isServiceFeatureEnabledMethod(feature) {\n        return (serviceFeatures) => {\n            return this.isEnabled(feature, serviceFeatures);\n        };\n    }\n\n    isSmsEnabled = this.isServiceFeatureEnabledMethod('SMS');\n    isSmsReceivingEnabled = this.isServiceFeatureEnabledMethod('SMSReceiving');\n    isPresenceEnabled = this.isServiceFeatureEnabledMethod('Presence');\n    isRingOutEnabled = this.isServiceFeatureEnabledMethod('RingOut');\n    isInternationalCallingEnabled = this.isServiceFeatureEnabledMethod('InternationalCalling');\n    isDndEnabled = this.isServiceFeatureEnabledMethod('DND');\n    isFaxEnabled = this.isServiceFeatureEnabledMethod('Fax');\n    isFaxReceivingEnabled = this.isServiceFeatureEnabledMethod('FaxReceiving');\n    isVoicemailEnabled = this.isServiceFeatureEnabledMethod('Voicemail');\n    isPagerEnabled = this.isServiceFeatureEnabledMethod('Pager');\n    isPagerReceivingEnabled = this.isServiceFeatureEnabledMethod('PagerReceiving');\n    isVoipCallingEnabled = this.isServiceFeatureEnabledMethod('VoipCalling');\n    isVideoConferencingEnabled = this.isServiceFeatureEnabledMethod('VideoConferencing');\n    isSalesForceEnabled = this.isServiceFeatureEnabledMethod('SalesForce');\n    isIntercomEnabled = this.isServiceFeatureEnabledMethod('Intercom');\n    isPagingEnabled = this.isServiceFeatureEnabledMethod('Paging');\n    isConferencingEnabled = this.isServiceFeatureEnabledMethod('Conferencing');\n    isFreeSoftPhoneLinesEnabled = this.isServiceFeatureEnabledMethod('FreeSoftPhoneLines');\n    isHipaaComplianceEnabled = this.isServiceFeatureEnabledMethod('HipaaCompliance');\n    isCallParkEnabled = this.isServiceFeatureEnabledMethod('CallPark');\n    isOnDemandCallRecordingEnabled = this.isServiceFeatureEnabledMethod('OnDemandCallRecording');\n    \n}\n\nexport function $get(context:context.Context):Service {\n    return context.createSingleton('Service', ()=> {\n        return new Service(context);\n    });\n}\n\nexport interface IService extends helper.IHelperObject {\n    serviceFeatures?:IServiceFeature[];\n    servicePlanName?:string;\n}\n\nexport interface IServiceFeature {\n    featureName?:string;\n    enabled?:boolean;\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Service.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\n\nexport class ShippingMethod extends helper.Helper {\n\n    /**\n     * TODO Remove when http://jira.ringcentral.com/browse/SDK-3 id done\n     */\n    shippingMethods:IShippingMethod[] = [\n        {\n            id: '1',\n            name: 'Ground Shipping (5-7 business days)'\n        },\n        {\n            id: '2',\n            name: '2-days Shipping'\n        },\n        {\n            id: '3',\n            name: 'Overnight Shipping'\n        }\n    ];\n\n}\n\nexport function $get(context:context.Context):ShippingMethod {\n    return context.createSingleton('ShippingMethod', ()=> {\n        return new ShippingMethod(context);\n    });\n}\n\nexport interface IShippingMethod extends helper.IHelperObject {\n    name?:string;\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/ShippingMethod.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\nimport list = require('../core/List');\nimport country = require('./Country');\n\nexport class State extends helper.Helper {\n    \n    private countryHelper:country.Country;\n    private list:list.List;\n\n    constructor(context:context.Context){\n        super(context);\n        this.countryHelper = country.$get(context);\n        this.list = list.$get(context);\n    }\n    \n    createUrl() {\n        return '/dictionary/state';\n    }\n\n    filter(options?:IStateOptions) {\n\n        options = this.utils.extend({\n            countryId: ''\n        }, options);\n\n        return this.list.filter([\n            {\n                condition: options.countryId,\n                filterFn: (item:IState, opts) => {\n                    return (this.countryHelper.getId(item.country) == opts.condition);\n                }\n            }\n        ]);\n\n    }\n    \n}\n\nexport function $get(context:context.Context):State {\n    return context.createSingleton('State', ()=> {\n        return new State(context);\n    });\n}\n\nexport interface IState extends helper.IHelperObject {\n    name?:string;\n    isoCode?:string;\n    country?:country.ICountry;\n}\n\nexport interface IStateOptions {\n    countryId?:string;\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/State.ts\n **/","/// <reference path=\"../../typings/externals.d.ts\" />\n\nimport context = require('../core/Context');\nimport helper = require('../core/Helper');\n\nexport class Timezone extends helper.Helper {\n\n    createUrl() {\n        return '/dictionary/timezone';\n    }\n\n}\n\nexport function $get(context:context.Context):Timezone {\n    return context.createSingleton('Timezone', ()=> {\n        return new Timezone(context);\n    });\n}\n\nexport interface ITimezone extends helper.IHelperObject {\n    name?:string;\n    description?:string;\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/helpers/Timezone.ts\n **/","// Version: 3.7.10\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n/* =-=========================     JSON     =============================-= */\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n\n(window['JSON'] && window['JSON']['stringify']) || (function () {\n    window['JSON'] || (window['JSON'] = {});\n\n    function toJSON(key) {\n        try      { return this.valueOf() }\n        catch(e) { return null }\n    }\n\n    var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        gap,\n        indent,\n        meta = {    // table of character substitutions\n            '\\b': '\\\\b',\n            '\\t': '\\\\t',\n            '\\n': '\\\\n',\n            '\\f': '\\\\f',\n            '\\r': '\\\\r',\n            '\"' : '\\\\\"',\n            '\\\\': '\\\\\\\\'\n        },\n        rep;\n\n    function quote(string) {\n        escapable.lastIndex = 0;\n        return escapable.test(string) ?\n            '\"' + string.replace(escapable, function (a) {\n                var c = meta[a];\n                return typeof c === 'string' ? c :\n                    '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n            }) + '\"' :\n            '\"' + string + '\"';\n    }\n\n    function str(key, holder) {\n        var i,          // The loop counter.\n            k,          // The member key.\n            v,          // The member value.\n            length,\n            partial,\n            mind  = gap,\n            value = holder[key];\n\n        if (value && typeof value === 'object') {\n            value = toJSON.call( value, key );\n        }\n\n        if (typeof rep === 'function') {\n            value = rep.call(holder, key, value);\n        }\n\n        switch (typeof value) {\n        case 'string':\n            return quote(value);\n\n        case 'number':\n            return isFinite(value) ? String(value) : 'null';\n\n        case 'boolean':\n        case 'null':\n            return String(value);\n\n        case 'object':\n\n            if (!value) {\n                return 'null';\n            }\n\n            gap += indent;\n            partial = [];\n\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n\n                length = value.length;\n                for (i = 0; i < length; i += 1) {\n                    partial[i] = str(i, value) || 'null';\n                }\n\n                v = partial.length === 0 ? '[]' :\n                    gap ? '[\\n' + gap +\n                            partial.join(',\\n' + gap) + '\\n' +\n                                mind + ']' :\n                          '[' + partial.join(',') + ']';\n                gap = mind;\n                return v;\n            }\n            if (rep && typeof rep === 'object') {\n                length = rep.length;\n                for (i = 0; i < length; i += 1) {\n                    k = rep[i];\n                    if (typeof k === 'string') {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            } else {\n                for (k in value) {\n                    if (Object.hasOwnProperty.call(value, k)) {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n\n            v = partial.length === 0 ? '{}' :\n                gap ? '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' +\n                        mind + '}' : '{' + partial.join(',') + '}';\n            gap = mind;\n            return v;\n        }\n    }\n\n    if (typeof JSON['stringify'] !== 'function') {\n        JSON['stringify'] = function (value, replacer, space) {\n            var i;\n            gap = '';\n            indent = '';\n\n            if (typeof space === 'number') {\n                for (i = 0; i < space; i += 1) {\n                    indent += ' ';\n                }\n            } else if (typeof space === 'string') {\n                indent = space;\n            }\n            rep = replacer;\n            if (replacer && typeof replacer !== 'function' &&\n                    (typeof replacer !== 'object' ||\n                     typeof replacer.length !== 'number')) {\n                throw new Error('JSON.stringify');\n            }\n            return str('', {'': value});\n        };\n    }\n\n    if (typeof JSON['parse'] !== 'function') {\n        // JSON is parsed on the server for security.\n        JSON['parse'] = function (text) {return eval('('+text+')')};\n    }\n}());\nvar NOW             = 1\n,   READY           = false\n,   READY_BUFFER    = []\n,   PRESENCE_SUFFIX = '-pnpres'\n,   DEF_WINDOWING   = 10     // MILLISECONDS.\n,   DEF_TIMEOUT     = 10000  // MILLISECONDS.\n,   DEF_SUB_TIMEOUT = 310    // SECONDS.\n,   DEF_KEEPALIVE   = 60     // SECONDS (FOR TIMESYNC).\n,   SECOND          = 1000   // A THOUSAND MILLISECONDS.\n,   URLBIT          = '/'\n,   PARAMSBIT       = '&'\n,   PRESENCE_HB_THRESHOLD = 5\n,   PRESENCE_HB_DEFAULT  = 30\n,   SDK_VER         = '3.7.10'\n,   REPL            = /{([\\w\\-]+)}/g;\n\n/**\n * UTILITIES\n */\nfunction unique() { return'x'+ ++NOW+''+(+new Date) }\nfunction rnow()   { return+new Date }\n\n/**\n * NEXTORIGIN\n * ==========\n * var next_origin = nextorigin();\n */\nvar nextorigin = (function() {\n    var max = 20\n    ,   ori = Math.floor(Math.random() * max);\n    return function( origin, failover ) {\n        return origin.indexOf('pubsub.') > 0\n            && origin.replace(\n             'pubsub', 'ps' + (\n                failover ? generate_uuid().split('-')[0] :\n                (++ori < max? ori : ori=1)\n            ) ) || origin;\n    }\n})();\n\n\n/**\n * Build Url\n * =======\n *\n */\nfunction build_url( url_components, url_params ) {\n    var url    = url_components.join(URLBIT)\n    ,   params = [];\n\n    if (!url_params) return url;\n\n    each( url_params, function( key, value ) {\n        var value_str = (typeof value == 'object')?JSON['stringify'](value):value;\n        (typeof value != 'undefined' &&\n            value != null && encode(value_str).length > 0\n        ) && params.push(key + \"=\" + encode(value_str));\n    } );\n\n    url += \"?\" + params.join(PARAMSBIT);\n    return url;\n}\n\n/**\n * UPDATER\n * =======\n * var timestamp = unique();\n */\nfunction updater( fun, rate ) {\n    var timeout\n    ,   last   = 0\n    ,   runnit = function() {\n        if (last + rate > rnow()) {\n            clearTimeout(timeout);\n            timeout = setTimeout( runnit, rate );\n        }\n        else {\n            last = rnow();\n            fun();\n        }\n    };\n\n    return runnit;\n}\n\n/**\n * GREP\n * ====\n * var list = grep( [1,2,3], function(item) { return item % 2 } )\n */\nfunction grep( list, fun ) {\n    var fin = [];\n    each( list || [], function(l) { fun(l) && fin.push(l) } );\n    return fin\n}\n\n/**\n * SUPPLANT\n * ========\n * var text = supplant( 'Hello {name}!', { name : 'John' } )\n */\nfunction supplant( str, values ) {\n    return str.replace( REPL, function( _, match ) {\n        return values[match] || _\n    } );\n}\n\n/**\n * timeout\n * =======\n * timeout( function(){}, 100 );\n */\nfunction timeout( fun, wait ) {\n    return setTimeout( fun, wait );\n}\n\n/**\n * uuid\n * ====\n * var my_uuid = generate_uuid();\n */\nfunction generate_uuid(callback) {\n    var u = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,\n    function(c) {\n        var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\n        return v.toString(16);\n    });\n    if (callback) callback(u);\n    return u;\n}\n\nfunction isArray(arg) {\n  return !!arg && typeof arg !== 'string' && (Array.isArray && Array.isArray(arg) || typeof(arg.length) === \"number\")\n  //return !!arg && (Array.isArray && Array.isArray(arg) || typeof(arg.length) === \"number\")\n}\n\n/**\n * EACH\n * ====\n * each( [1,2,3], function(item) { } )\n */\nfunction each( o, f) {\n    if ( !o || !f ) return;\n\n    if ( isArray(o) )\n        for ( var i = 0, l = o.length; i < l; )\n            f.call( o[i], o[i], i++ );\n    else\n        for ( var i in o )\n            o.hasOwnProperty    &&\n            o.hasOwnProperty(i) &&\n            f.call( o[i], i, o[i] );\n}\n\n/**\n * MAP\n * ===\n * var list = map( [1,2,3], function(item) { return item + 1 } )\n */\nfunction map( list, fun ) {\n    var fin = [];\n    each( list || [], function( k, v ) { fin.push(fun( k, v )) } );\n    return fin;\n}\n\n/**\n * ENCODE\n * ======\n * var encoded_data = encode('path');\n */\nfunction encode(path) { return encodeURIComponent(path) }\n\n/**\n * Generate Subscription Channel List\n * ==================================\n * generate_channel_list(channels_object);\n */\nfunction generate_channel_list(channels, nopresence) {\n    var list = [];\n    each( channels, function( channel, status ) {\n        if (nopresence) {\n            if(channel.search('-pnpres') < 0) {\n                if (status.subscribed) list.push(channel);\n            }\n        } else {\n            if (status.subscribed) list.push(channel);\n        }\n    });\n    return list.sort();\n}\n\n/**\n * Generate Subscription Channel Groups List\n * ==================================\n * generate_channel_group_list(channels_groups object);\n */\nfunction generate_channel_group_list(channel_groups, nopresence) {\n    var list = [];\n    each(channel_groups, function( channel_group, status ) {\n        if (nopresence) {\n            if(channel_group.search('-pnpres') < 0) {\n                if (status.subscribed) list.push(channel_group);\n            }\n        } else {\n            if (status.subscribed) list.push(channel_group);\n        }\n    });\n    return list.sort();\n}\n\n// PUBNUB READY TO CONNECT\nfunction ready() { timeout( function() {\n    if (READY) return;\n    READY = 1;\n    each( READY_BUFFER, function(connect) { connect() } );\n}, SECOND ); }\n\nfunction PNmessage(args) {\n    msg = args || {'apns' : {}},\n    msg['getPubnubMessage'] = function() {\n        var m = {};\n\n        if (Object.keys(msg['apns']).length) {\n            m['pn_apns'] = {\n                    'aps' : {\n                        'alert' : msg['apns']['alert'] ,\n                        'badge' : msg['apns']['badge']\n                    }\n            }\n            for (var k in msg['apns']) {\n                m['pn_apns'][k] = msg['apns'][k];\n            }\n            var exclude1 = ['badge','alert'];\n            for (var k in exclude1) {\n                delete m['pn_apns'][exclude1[k]];\n            }\n        }\n\n\n\n        if (msg['gcm']) {\n            m['pn_gcm'] = {\n                'data' : msg['gcm']\n            }\n        }\n\n        for (var k in msg) {\n            m[k] = msg[k];\n        }\n        var exclude = ['apns','gcm','publish', 'channel','callback','error'];\n        for (var k in exclude) {\n            delete m[exclude[k]];\n        }\n\n        return m;\n    };\n    msg['publish'] = function() {\n\n        var m = msg.getPubnubMessage();\n\n        if (msg['pubnub'] && msg['channel']) {\n            msg['pubnub'].publish({\n                'message' : m,\n                'channel' : msg['channel'],\n                'callback' : msg['callback'],\n                'error' : msg['error']\n            })\n        }\n    };\n    return msg;\n}\n\nfunction PN_API(setup) {\n    var SUB_WINDOWING =  +setup['windowing']   || DEF_WINDOWING\n    ,   SUB_TIMEOUT   = (+setup['timeout']     || DEF_SUB_TIMEOUT) * SECOND\n    ,   KEEPALIVE     = (+setup['keepalive']   || DEF_KEEPALIVE)   * SECOND\n    ,   TIME_CHECK    = setup['timecheck']     || 0\n    ,   NOLEAVE       = setup['noleave']       || 0\n    ,   PUBLISH_KEY   = setup['publish_key']   || 'demo'\n    ,   SUBSCRIBE_KEY = setup['subscribe_key'] || 'demo'\n    ,   AUTH_KEY      = setup['auth_key']      || ''\n    ,   SECRET_KEY    = setup['secret_key']    || ''\n    ,   hmac_SHA256   = setup['hmac_SHA256']\n    ,   SSL           = setup['ssl']            ? 's' : ''\n    ,   ORIGIN        = 'http'+SSL+'://'+(setup['origin']||'pubsub.pubnub.com')\n    ,   STD_ORIGIN    = nextorigin(ORIGIN)\n    ,   SUB_ORIGIN    = nextorigin(ORIGIN)\n    ,   CONNECT       = function(){}\n    ,   PUB_QUEUE     = []\n    ,   CLOAK         = true\n    ,   TIME_DRIFT    = 0\n    ,   SUB_CALLBACK  = 0\n    ,   SUB_CHANNEL   = 0\n    ,   SUB_RECEIVER  = 0\n    ,   SUB_RESTORE   = setup['restore'] || 0\n    ,   SUB_BUFF_WAIT = 0\n    ,   TIMETOKEN     = 0\n    ,   RESUMED       = false\n    ,   CHANNELS      = {}\n    ,   CHANNEL_GROUPS       = {}\n    ,   SUB_ERROR     = function(){}\n    ,   STATE         = {}\n    ,   PRESENCE_HB_TIMEOUT  = null\n    ,   PRESENCE_HB          = validate_presence_heartbeat(\n        setup['heartbeat'] || setup['pnexpires'] || 0, setup['error']\n    )\n    ,   PRESENCE_HB_INTERVAL = setup['heartbeat_interval'] || (PRESENCE_HB / 2) -1\n    ,   PRESENCE_HB_RUNNING  = false\n    ,   NO_WAIT_FOR_PENDING  = setup['no_wait_for_pending']\n    ,   COMPATIBLE_35 = setup['compatible_3.5']  || false\n    ,   xdr           = setup['xdr']\n    ,   params        = setup['params'] || {}\n    ,   error         = setup['error']      || function() {}\n    ,   _is_online    = setup['_is_online'] || function() { return 1 }\n    ,   jsonp_cb      = setup['jsonp_cb']   || function() { return 0 }\n    ,   db            = setup['db']         || {'get': function(){}, 'set': function(){}}\n    ,   CIPHER_KEY    = setup['cipher_key']\n    ,   UUID          = setup['uuid'] || ( !setup['unique_uuid'] && db && db['get'](SUBSCRIBE_KEY+'uuid') || '')\n    ,   USE_INSTANCEID = setup['instance_id'] || false\n    ,   INSTANCEID     = ''\n    ,   _poll_timer\n    ,   _poll_timer2;\n\n    if (PRESENCE_HB === 2) PRESENCE_HB_INTERVAL = 1;\n\n    var crypto_obj    = setup['crypto_obj'] ||\n        {\n            'encrypt' : function(a,key){ return a},\n            'decrypt' : function(b,key){return b}\n        };\n\n    function _get_url_params(data) {\n        if (!data) data = {};\n        each( params , function( key, value ) {\n            if (!(key in data)) data[key] = value;\n        });\n        return data;\n    }\n\n    function _object_to_key_list(o) {\n        var l = []\n        each( o , function( key, value ) {\n            l.push(key);\n        });\n        return l;\n    }\n    function _object_to_key_list_sorted(o) {\n        return _object_to_key_list(o).sort();\n    }\n\n    function _get_pam_sign_input_from_params(params) {\n        var si = \"\";\n        var l = _object_to_key_list_sorted(params);\n\n        for (var i in l) {\n            var k = l[i]\n            si += k + \"=\" + encode(params[k]) ;\n            if (i != l.length - 1) si += \"&\"\n        }\n        return si;\n    }\n\n    function validate_presence_heartbeat(heartbeat, cur_heartbeat, error) {\n        var err = false;\n\n        if (typeof heartbeat === 'undefined') {\n            return cur_heartbeat;\n        }\n\n        if (typeof heartbeat === 'number') {\n            if (heartbeat > PRESENCE_HB_THRESHOLD || heartbeat == 0)\n                err = false;\n            else\n                err = true;\n        } else if(typeof heartbeat === 'boolean'){\n            if (!heartbeat) {\n                return 0;\n            } else {\n                return PRESENCE_HB_DEFAULT;\n            }\n        } else {\n            err = true;\n        }\n\n        if (err) {\n            error && error(\"Presence Heartbeat value invalid. Valid range ( x > \" + PRESENCE_HB_THRESHOLD + \" or x = 0). Current Value : \" + (cur_heartbeat || PRESENCE_HB_THRESHOLD));\n            return cur_heartbeat || PRESENCE_HB_THRESHOLD;\n        } else return heartbeat;\n    }\n\n    function encrypt(input, key) {\n        return crypto_obj['encrypt'](input, key || CIPHER_KEY) || input;\n    }\n    function decrypt(input, key) {\n        return crypto_obj['decrypt'](input, key || CIPHER_KEY) ||\n               crypto_obj['decrypt'](input, CIPHER_KEY) ||\n               input;\n    }\n\n    function error_common(message, callback) {\n        callback && callback({ 'error' : message || \"error occurred\"});\n        error && error(message);\n    }\n    function _presence_heartbeat() {\n\n        clearTimeout(PRESENCE_HB_TIMEOUT);\n\n        if (!PRESENCE_HB_INTERVAL || PRESENCE_HB_INTERVAL >= 500 ||\n            PRESENCE_HB_INTERVAL < 1 ||\n            (!generate_channel_list(CHANNELS,true).length  && !generate_channel_group_list(CHANNEL_GROUPS, true).length ) )\n        {\n            PRESENCE_HB_RUNNING = false;\n            return;\n        }\n\n        PRESENCE_HB_RUNNING = true;\n        SELF['presence_heartbeat']({\n            'callback' : function(r) {\n                PRESENCE_HB_TIMEOUT = timeout( _presence_heartbeat, (PRESENCE_HB_INTERVAL) * SECOND );\n            },\n            'error' : function(e) {\n                error && error(\"Presence Heartbeat unable to reach Pubnub servers.\" + JSON.stringify(e));\n                PRESENCE_HB_TIMEOUT = timeout( _presence_heartbeat, (PRESENCE_HB_INTERVAL) * SECOND );\n            }\n        });\n    }\n\n    function start_presence_heartbeat() {\n        !PRESENCE_HB_RUNNING && _presence_heartbeat();\n    }\n\n    function publish(next) {\n\n        if (NO_WAIT_FOR_PENDING) {\n            if (!PUB_QUEUE.length) return;\n        } else {\n            if (next) PUB_QUEUE.sending = 0;\n            if ( PUB_QUEUE.sending || !PUB_QUEUE.length ) return;\n            PUB_QUEUE.sending = 1;\n        }\n\n        xdr(PUB_QUEUE.shift());\n    }\n    function each_channel_group(callback) {\n        var count = 0;\n\n        each( generate_channel_group_list(CHANNEL_GROUPS), function(channel_group) {\n            var chang = CHANNEL_GROUPS[channel_group];\n\n            if (!chang) return;\n\n            count++;\n            (callback||function(){})(chang);\n        } );\n\n        return count;\n    }\n\n    function each_channel(callback) {\n        var count = 0;\n\n        each( generate_channel_list(CHANNELS), function(channel) {\n            var chan = CHANNELS[channel];\n\n            if (!chan) return;\n\n            count++;\n            (callback||function(){})(chan);\n        } );\n\n        return count;\n    }\n    function _invoke_callback(response, callback, err) {\n        if (typeof response == 'object') {\n            if (response['error']) {\n                var callback_data = {};\n\n                if (response['message']) {\n                    callback_data['message'] = response['message'];\n                }\n\n                if (response['payload']) {\n                    callback_data['payload'] = response['payload'];\n                }\n\n                err && err(callback_data);\n                return;\n\n            }\n            if (response['payload']) {\n                if (response['next_page'])\n                    callback && callback(response['payload'], response['next_page']);\n                else\n                    callback && callback(response['payload']);\n                return;\n            }\n        }\n        callback && callback(response);\n    }\n\n    function _invoke_error(response,err) {\n\n        if (typeof response == 'object' && response['error']) {\n                var callback_data = {};\n\n                if (response['message']) {\n                    callback_data['message'] = response['message'];\n                }\n\n                if (response['payload']) {\n                    callback_data['payload'] = response['payload'];\n                }\n                \n                err && err(callback_data);\n                return;\n        } else {\n            err && err(response);\n        }\n    }\n    function CR(args, callback, url1, data) {\n            var callback        = args['callback']      || callback\n            ,   err             = args['error']         || error\n            ,   jsonp           = jsonp_cb();\n\n            data = data || {};\n            \n            if (!data['auth']) {\n                data['auth'] = args['auth_key'] || AUTH_KEY;\n            }\n            \n            var url = [\n                    STD_ORIGIN, 'v1', 'channel-registration',\n                    'sub-key', SUBSCRIBE_KEY\n                ];\n\n            url.push.apply(url,url1);\n            \n            if (jsonp) data['callback']              = jsonp;\n            \n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n\n    }\n\n    // Announce Leave Event\n    var SELF = {\n        'LEAVE' : function( channel, blocking, auth_key, callback, error ) {\n\n            var data   = { 'uuid' : UUID, 'auth' : auth_key || AUTH_KEY }\n            ,   origin = nextorigin(ORIGIN)\n            ,   callback = callback || function(){}\n            ,   err      = error    || function(){}\n            ,   jsonp  = jsonp_cb();\n\n            // Prevent Leaving a Presence Channel\n            if (channel.indexOf(PRESENCE_SUFFIX) > 0) return true;\n\n            if (COMPATIBLE_35) {\n                if (!SSL)         return false;\n                if (jsonp == '0') return false;\n            }\n\n            if (NOLEAVE)  return false;\n\n            if (jsonp != '0') data['callback'] = jsonp;\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                blocking : blocking || SSL,\n                timeout  : 2000,\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    origin, 'v2', 'presence', 'sub_key',\n                    SUBSCRIBE_KEY, 'channel', encode(channel), 'leave'\n                ]\n            });\n            return true;\n        },\n        'LEAVE_GROUP' : function( channel_group, blocking, auth_key, callback, error ) {\n\n            var data   = { 'uuid' : UUID, 'auth' : auth_key || AUTH_KEY }\n            ,   origin = nextorigin(ORIGIN)\n            ,   callback = callback || function(){}\n            ,   err      = error    || function(){}\n            ,   jsonp  = jsonp_cb();\n\n            // Prevent Leaving a Presence Channel Group\n            if (channel_group.indexOf(PRESENCE_SUFFIX) > 0) return true;\n\n            if (COMPATIBLE_35) {\n                if (!SSL)         return false;\n                if (jsonp == '0') return false;\n            }\n\n            if (NOLEAVE)  return false;\n\n            if (jsonp != '0') data['callback'] = jsonp;\n\n            if (channel_group && channel_group.length > 0) data['channel-group'] = channel_group;\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                blocking : blocking || SSL,\n                timeout  : 5000,\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    origin, 'v2', 'presence', 'sub_key',\n                    SUBSCRIBE_KEY, 'channel', encode(','), 'leave'\n                ]\n            });\n            return true;\n        },\n        'set_resumed' : function(resumed) {\n                RESUMED = resumed;\n        },\n        'get_cipher_key' : function() {\n            return CIPHER_KEY;\n        },\n        'set_cipher_key' : function(key) {\n            CIPHER_KEY = key;\n        },\n        'raw_encrypt' : function(input, key) {\n            return encrypt(input, key);\n        },\n        'raw_decrypt' : function(input, key) {\n            return decrypt(input, key);\n        },\n        'get_heartbeat' : function() {\n            return PRESENCE_HB;\n        },\n        \n        'set_heartbeat' : function(heartbeat, heartbeat_interval) {\n            PRESENCE_HB = validate_presence_heartbeat(heartbeat, PRESENCE_HB, error);\n            PRESENCE_HB_INTERVAL = heartbeat_interval || (PRESENCE_HB / 2) - 1;\n            if (PRESENCE_HB == 2) {\n                PRESENCE_HB_INTERVAL = 1;\n            }\n            CONNECT();\n            _presence_heartbeat();\n        },\n        \n        'get_heartbeat_interval' : function() {\n            return PRESENCE_HB_INTERVAL;\n        },\n        \n        'set_heartbeat_interval' : function(heartbeat_interval) {\n            PRESENCE_HB_INTERVAL = heartbeat_interval;\n            _presence_heartbeat();\n        },\n        \n        'get_version' : function() {\n            return SDK_VER;\n        },\n        'getGcmMessageObject' : function(obj) {\n            return {\n                'data' : obj\n            }\n        },\n        'getApnsMessageObject' : function(obj) {\n            var x =  {\n                'aps' : { 'badge' : 1, 'alert' : ''}\n            }\n            for (k in obj) {\n                k[x] = obj[k];\n            }\n            return x;\n        },\n        'newPnMessage' : function() {\n            var x = {};\n            if (gcm) x['pn_gcm'] = gcm;\n            if (apns) x['pn_apns'] = apns;\n            for ( k in n ) {\n                x[k] = n[k];\n            }\n            return x;\n        },\n\n        '_add_param' : function(key,val) {\n            params[key] = val;\n        },\n\n        'channel_group' : function(args, callback) {\n            var ns_ch       = args['channel_group']\n            ,   callback    = callback         || args['callback']\n            ,   channels    = args['channels'] || args['channel']\n            ,   cloak       = args['cloak']\n            ,   namespace\n            ,   channel_group\n            ,   url = []\n            ,   data = {}\n            ,   mode = args['mode'] || 'add';\n\n\n            if (ns_ch) {\n                var ns_ch_a = ns_ch.split(':');\n\n                if (ns_ch_a.length > 1) {\n                    namespace = (ns_ch_a[0] === '*')?null:ns_ch_a[0];\n\n                    channel_group = ns_ch_a[1];\n                } else {\n                    channel_group = ns_ch_a[0];\n                }\n            }\n\n            namespace && url.push('namespace') && url.push(encode(namespace));\n\n            url.push('channel-group');\n\n            if (channel_group && channel_group !== '*') {\n                url.push(channel_group);\n            }\n\n            if (channels ) {\n                if (isArray(channels)) {\n                    channels = channels.join(',');\n                }\n                data[mode] = channels;\n                data['cloak'] = (CLOAK)?'true':'false';\n            } else {\n                if (mode === 'remove') url.push('remove');\n            }\n\n            if (typeof cloak != 'undefined') data['cloak'] = (cloak)?'true':'false';\n\n            CR(args, callback, url, data);\n        },\n\n        'channel_group_list_groups' : function(args, callback) {\n            var namespace;\n\n            namespace = args['namespace'] || args['ns'] || args['channel_group'] || null;\n            if (namespace) {\n                args[\"channel_group\"] = namespace + \":*\";\n            }\n\n            SELF['channel_group'](args, callback);\n        },\n\n        'channel_group_list_channels' : function(args, callback) {\n            if (!args['channel_group']) return error('Missing Channel Group');\n            SELF['channel_group'](args, callback);\n        },\n\n        'channel_group_remove_channel' : function(args, callback) {\n            if (!args['channel_group']) return error('Missing Channel Group');\n            if (!args['channel'] && !args['channels'] ) return error('Missing Channel');\n\n            args['mode'] = 'remove';\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_remove_group' : function(args, callback) {\n            if (!args['channel_group']) return error('Missing Channel Group');\n            if (args['channel']) return error('Use channel_group_remove_channel if you want to remove a channel from a group.');\n\n            args['mode'] = 'remove';\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_add_channel' : function(args, callback) {\n           if (!args['channel_group']) return error('Missing Channel Group');\n           if (!args['channel'] && !args['channels'] ) return error('Missing Channel');\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_cloak' : function(args, callback) {\n            if (typeof args['cloak'] == 'undefined') {\n                callback(CLOAK);\n                return;\n            }\n            CLOAK = args['cloak'];\n            SELF['channel_group'](args,callback);\n        },\n\n        'channel_group_list_namespaces' : function(args, callback) {\n            var url = ['namespace'];\n            CR(args, callback, url);\n        },\n        'channel_group_remove_namespace' : function(args, callback) {\n            var url = ['namespace',args['namespace'],'remove'];\n            CR(args, callback, url);\n        },\n\n        /*\n            PUBNUB.history({\n                channel  : 'my_chat_channel',\n                limit    : 100,\n                callback : function(history) { }\n            });\n        */\n        'history' : function( args, callback ) {\n            var callback         = args['callback'] || callback\n            ,   count            = args['count']    || args['limit'] || 100\n            ,   reverse          = args['reverse']  || \"false\"\n            ,   err              = args['error']    || function(){}\n            ,   auth_key         = args['auth_key'] || AUTH_KEY\n            ,   cipher_key       = args['cipher_key']\n            ,   channel          = args['channel']\n            ,   channel_group    = args['channel_group']\n            ,   start            = args['start']\n            ,   end              = args['end']\n            ,   include_token    = args['include_token']\n            ,   params           = {}\n            ,   jsonp            = jsonp_cb();\n\n            // Make sure we have a Channel\n            if (!channel && !channel_group) return error('Missing Channel');\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            params['stringtoken'] = 'true';\n            params['count']       = count;\n            params['reverse']     = reverse;\n            params['auth']        = auth_key;\n\n            if (channel_group) {\n                params['channel-group'] = channel_group;\n                if (!channel) {\n                    channel = ','; \n                }\n            }\n            if (jsonp) params['callback']              = jsonp;\n            if (start) params['start']                 = start;\n            if (end)   params['end']                   = end;\n            if (include_token) params['include_token'] = 'true';\n\n            // Send Message\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(params),\n                success  : function(response) {\n                    if (typeof response == 'object' && response['error']) {\n                        err({'message' : response['message'], 'payload' : response['payload']});\n                        return;\n                    }\n                    var messages = response[0];\n                    var decrypted_messages = [];\n                    for (var a = 0; a < messages.length; a++) {\n                        var new_message = decrypt(messages[a],cipher_key);\n                        try {\n                            decrypted_messages['push'](JSON['parse'](new_message));\n                        } catch (e) {\n                            decrypted_messages['push']((new_message));\n                        }\n                    }\n                    callback([decrypted_messages, response[1], response[2]]);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v2', 'history', 'sub-key',\n                    SUBSCRIBE_KEY, 'channel', encode(channel)\n                ]\n            });\n        },\n\n        /*\n            PUBNUB.replay({\n                source      : 'my_channel',\n                destination : 'new_channel'\n            });\n        */\n        'replay' : function(args, callback) {\n            var callback    = callback || args['callback'] || function(){}\n            ,   auth_key    = args['auth_key'] || AUTH_KEY\n            ,   source      = args['source']\n            ,   destination = args['destination']\n            ,   stop        = args['stop']\n            ,   start       = args['start']\n            ,   end         = args['end']\n            ,   reverse     = args['reverse']\n            ,   limit       = args['limit']\n            ,   jsonp       = jsonp_cb()\n            ,   data        = {}\n            ,   url;\n\n            // Check User Input\n            if (!source)        return error('Missing Source Channel');\n            if (!destination)   return error('Missing Destination Channel');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            // Setup URL Params\n            if (jsonp != '0') data['callback'] = jsonp;\n            if (stop)         data['stop']     = 'all';\n            if (reverse)      data['reverse']  = 'true';\n            if (start)        data['start']    = start;\n            if (end)          data['end']      = end;\n            if (limit)        data['count']    = limit;\n\n            data['auth'] = auth_key;\n\n            // Compose URL Parts\n            url = [\n                STD_ORIGIN, 'v1', 'replay',\n                PUBLISH_KEY, SUBSCRIBE_KEY,\n                source, destination\n            ];\n\n            // Start (or Stop) Replay!\n            xdr({\n                callback : jsonp,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function() { callback([ 0, 'Disconnected' ]) },\n                url      : url,\n                data     : _get_url_params(data)\n            });\n        },\n\n        /*\n            PUBNUB.auth('AJFLKAJSDKLA');\n        */\n        'auth' : function(auth) {\n            AUTH_KEY = auth;\n            CONNECT();\n        },\n\n        /*\n            PUBNUB.time(function(time){ });\n        */\n        'time' : function(callback) {\n            var jsonp = jsonp_cb();\n\n            var data = { 'uuid' : UUID, 'auth' : AUTH_KEY }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                timeout  : SECOND * 5,\n                url      : [STD_ORIGIN, 'time', jsonp],\n                success  : function(response) { callback(response[0]) },\n                fail     : function() { callback(0) }\n            });\n        },\n\n        /*\n            PUBNUB.publish({\n                channel : 'my_chat_channel',\n                message : 'hello!'\n            });\n        */\n        'publish' : function( args, callback ) {\n            var msg      = args['message'];\n            if (!msg) return error('Missing Message');\n\n            var callback = callback || args['callback'] || msg['callback'] || function(){}\n            ,   channel  = args['channel'] || msg['channel']\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   cipher_key = args['cipher_key']\n            ,   err      = args['error'] || msg['error'] || function() {}\n            ,   post     = args['post'] || false\n            ,   store    = ('store_in_history' in args) ? args['store_in_history']: true\n            ,   jsonp    = jsonp_cb()\n            ,   add_msg  = 'push'\n            ,   url;\n\n            if (args['prepend']) add_msg = 'unshift'\n\n            if (!channel)       return error('Missing Channel');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            if (msg['getPubnubMessage']) {\n                msg = msg['getPubnubMessage']();\n            }\n\n            // If trying to send Object\n            msg = JSON['stringify'](encrypt(msg, cipher_key));\n\n            // Create URL\n            url = [\n                STD_ORIGIN, 'publish',\n                PUBLISH_KEY, SUBSCRIBE_KEY,\n                0, encode(channel),\n                jsonp, encode(msg)\n            ];\n\n            params = { 'uuid' : UUID, 'auth' : auth_key }\n\n            if (!store) params['store'] =\"0\"\n\n            if (USE_INSTANCEID) params['instanceid'] = INSTANCEID;\n\n            // Queue Message Send\n            PUB_QUEUE[add_msg]({\n                callback : jsonp,\n                timeout  : SECOND * 5,\n                url      : url,\n                data     : _get_url_params(params),\n                fail     : function(response){\n                    _invoke_error(response, err);\n                    publish(1);\n                },\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                    publish(1);\n                },\n                mode     : (post)?'POST':'GET'\n            });\n\n            // Send Message\n            publish();\n        },\n\n        /*\n            PUBNUB.unsubscribe({ channel : 'my_chat' });\n        */\n        'unsubscribe' : function(args, callback) {\n            var channel       = args['channel']\n            ,   channel_group = args['channel_group']\n            ,   auth_key      = args['auth_key']    || AUTH_KEY\n            ,   callback      = callback            || args['callback'] || function(){}\n            ,   err           = args['error']       || function(){};\n\n            TIMETOKEN   = 0;\n            //SUB_RESTORE = 1;    REVISIT !!!!\n\n            if (channel) {\n                // Prepare Channel(s)\n                channel = map( (\n                    channel.join ? channel.join(',') : ''+channel\n                ).split(','), function(channel) {\n                    if (!CHANNELS[channel]) return;\n                    return channel + ',' + channel + PRESENCE_SUFFIX;\n                } ).join(',');\n\n                // Iterate over Channels\n                each( channel.split(','), function(ch) {\n                    var CB_CALLED = true;\n                    if (!ch) return;\n                    CHANNELS[ch] = 0;\n                    if (ch in STATE) delete STATE[ch];\n                    if (READY) {\n                        CB_CALLED = SELF['LEAVE']( ch, 0 , auth_key, callback, err);\n                    }\n                    if (!CB_CALLED) callback({action : \"leave\"});\n\n                    \n                } );\n            }\n\n            if (channel_group) {\n                // Prepare channel group(s)\n                channel_group = map( (\n                    channel_group.join ? channel_group.join(',') : ''+channel_group\n                ).split(','), function(channel_group) {\n                    if (!CHANNEL_GROUPS[channel_group]) return;\n                    return channel_group + ',' + channel_group + PRESENCE_SUFFIX;\n                } ).join(',');\n\n                // Iterate over channel groups\n                each( channel_group.split(','), function(chg) {\n                    var CB_CALLED = true;\n                    if (!chg) return;\n                    CHANNEL_GROUPS[chg] = 0;\n                    if (chg in STATE) delete STATE[chg];\n                    if (READY) {\n                        CB_CALLED = SELF['LEAVE_GROUP']( chg, 0 , auth_key, callback, err);\n                    }\n                    if (!CB_CALLED) callback({action : \"leave\"});\n\n                } );\n            }\n\n            // Reset Connection if Count Less\n            CONNECT();\n        },\n\n        /*\n            PUBNUB.subscribe({\n                channel  : 'my_chat'\n                callback : function(message) { }\n            });\n        */\n        'subscribe' : function( args, callback ) {\n            var channel         = args['channel']\n            ,   channel_group   = args['channel_group']\n            ,   callback        = callback            || args['callback']\n            ,   callback        = callback            || args['message']\n            ,   auth_key        = args['auth_key']    || AUTH_KEY\n            ,   connect         = args['connect']     || function(){}\n            ,   reconnect       = args['reconnect']   || function(){}\n            ,   disconnect      = args['disconnect']  || function(){}\n            ,   SUB_ERROR       = args['error']       || SUB_ERROR || function(){}\n            ,   idlecb          = args['idle']        || function(){}\n            ,   presence        = args['presence']    || 0\n            ,   noheresync      = args['noheresync']  || 0\n            ,   backfill        = args['backfill']    || 0\n            ,   timetoken       = args['timetoken']   || 0\n            ,   sub_timeout     = args['timeout']     || SUB_TIMEOUT\n            ,   windowing       = args['windowing']   || SUB_WINDOWING\n            ,   state           = args['state']\n            ,   heartbeat       = args['heartbeat'] || args['pnexpires']\n            ,   heartbeat_interval = args['heartbeat_interval']\n            ,   restore         = args['restore'] || SUB_RESTORE;\n\n            // Restore Enabled?\n            SUB_RESTORE = restore;\n\n            // Always Reset the TT\n            TIMETOKEN = timetoken;\n\n            // Make sure we have a Channel\n            if (!channel && !channel_group) {\n                return error('Missing Channel');\n            }\n\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            if (heartbeat || heartbeat === 0 || heartbeat_interval || heartbeat_interval === 0) {\n                SELF['set_heartbeat'](heartbeat, heartbeat_interval);\n            }\n\n            // Setup Channel(s)\n            if (channel) {\n                each( (channel.join ? channel.join(',') : ''+channel).split(','),\n                function(channel) {\n                    var settings = CHANNELS[channel] || {};\n\n                    // Store Channel State\n                    CHANNELS[SUB_CHANNEL = channel] = {\n                        name         : channel,\n                        connected    : settings.connected,\n                        disconnected : settings.disconnected,\n                        subscribed   : 1,\n                        callback     : SUB_CALLBACK = callback,\n                        'cipher_key' : args['cipher_key'],\n                        connect      : connect,\n                        disconnect   : disconnect,\n                        reconnect    : reconnect\n                    };\n\n                    if (state) {\n                        if (channel in state) {\n                            STATE[channel] = state[channel];\n                        } else {\n                            STATE[channel] = state;\n                        }\n                    }\n\n                    // Presence Enabled?\n                    if (!presence) return;\n\n                    // Subscribe Presence Channel\n                    SELF['subscribe']({\n                        'channel'  : channel + PRESENCE_SUFFIX,\n                        'callback' : presence,\n                        'restore'  : restore\n                    });\n\n                    // Presence Subscribed?\n                    if (settings.subscribed) return;\n\n                    // See Who's Here Now?\n                    if (noheresync) return;\n                    SELF['here_now']({\n                        'channel'  : channel,\n                        'data'     : _get_url_params({ 'uuid' : UUID, 'auth' : auth_key }),\n                        'callback' : function(here) {\n                            each( 'uuids' in here ? here['uuids'] : [],\n                            function(uid) { presence( {\n                                'action'    : 'join',\n                                'uuid'      : uid,\n                                'timestamp' : Math.floor(rnow() / 1000),\n                                'occupancy' : here['occupancy'] || 1\n                            }, here, channel ); } );\n                        }\n                    });\n                } );\n            }\n\n            // Setup Channel Groups\n            if (channel_group) {\n                each( (channel_group.join ? channel_group.join(',') : ''+channel_group).split(','),\n                function(channel_group) {\n                    var settings = CHANNEL_GROUPS[channel_group] || {};\n\n                    CHANNEL_GROUPS[channel_group] = {\n                        name         : channel_group,\n                        connected    : settings.connected,\n                        disconnected : settings.disconnected,\n                        subscribed   : 1,\n                        callback     : SUB_CALLBACK = callback,\n                        'cipher_key' : args['cipher_key'],\n                        connect      : connect,\n                        disconnect   : disconnect,\n                        reconnect    : reconnect\n                    };\n\n                    // Presence Enabled?\n                    if (!presence) return;\n\n                    // Subscribe Presence Channel\n                    SELF['subscribe']({\n                        'channel_group'  : channel_group + PRESENCE_SUFFIX,\n                        'callback' : presence,\n                        'restore'  : restore,\n                        'auth_key' : auth_key\n                    });\n\n                    // Presence Subscribed?\n                    if (settings.subscribed) return;\n\n                    // See Who's Here Now?\n                    if (noheresync) return;\n                    SELF['here_now']({\n                        'channel_group'  : channel_group,\n                        'data'           : _get_url_params({ 'uuid' : UUID, 'auth' : auth_key }),\n                        'callback' : function(here) {\n                            each( 'uuids' in here ? here['uuids'] : [],\n                            function(uid) { presence( {\n                                'action'    : 'join',\n                                'uuid'      : uid,\n                                'timestamp' : Math.floor(rnow() / 1000),\n                                'occupancy' : here['occupancy'] || 1\n                            }, here, channel_group ); } );\n                        }\n                    });\n                } );\n            }\n\n\n            // Test Network Connection\n            function _test_connection(success) {\n                if (success) {\n                    // Begin Next Socket Connection\n                    timeout( CONNECT, SECOND );\n                }\n                else {\n                    // New Origin on Failed Connection\n                    STD_ORIGIN = nextorigin( ORIGIN, 1 );\n                    SUB_ORIGIN = nextorigin( ORIGIN, 1 );\n\n                    // Re-test Connection\n                    timeout( function() {\n                        SELF['time'](_test_connection);\n                    }, SECOND );\n                }\n\n                // Disconnect & Reconnect\n                each_channel(function(channel){\n                    // Reconnect\n                    if (success && channel.disconnected) {\n                        channel.disconnected = 0;\n                        return channel.reconnect(channel.name);\n                    }\n\n                    // Disconnect\n                    if (!success && !channel.disconnected) {\n                        channel.disconnected = 1;\n                        channel.disconnect(channel.name);\n                    }\n                });\n                \n                // Disconnect & Reconnect for channel groups\n                each_channel_group(function(channel_group){\n                    // Reconnect\n                    if (success && channel_group.disconnected) {\n                        channel_group.disconnected = 0;\n                        return channel_group.reconnect(channel_group.name);\n                    }\n\n                    // Disconnect\n                    if (!success && !channel_group.disconnected) {\n                        channel_group.disconnected = 1;\n                        channel_group.disconnect(channel_group.name);\n                    }\n                });\n            }\n\n            // Evented Subscribe\n            function _connect() {\n                var jsonp           = jsonp_cb()\n                ,   channels        = generate_channel_list(CHANNELS).join(',')\n                ,   channel_groups  = generate_channel_group_list(CHANNEL_GROUPS).join(',');\n\n                // Stop Connection\n                if (!channels && !channel_groups) return;\n\n                if (!channels) channels = ',';\n\n                // Connect to PubNub Subscribe Servers\n                _reset_offline();\n\n                var data = _get_url_params({ 'uuid' : UUID, 'auth' : auth_key });\n\n                if (channel_groups) {\n                    data['channel-group'] = channel_groups;\n                }\n\n\n                var st = JSON.stringify(STATE);\n                if (st.length > 2) data['state'] = JSON.stringify(STATE);\n\n                if (PRESENCE_HB) data['heartbeat'] = PRESENCE_HB;\n\n                if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n                start_presence_heartbeat();\n                SUB_RECEIVER = xdr({\n                    timeout  : sub_timeout,\n                    callback : jsonp,\n                    fail     : function(response) {\n                        if (response && response['error'] && response['service']) {\n                            _invoke_error(response, SUB_ERROR);\n                            _test_connection(1);\n                        } else {\n                            SELF['time'](function(success){\n                                !success && ( _invoke_error(response, SUB_ERROR));\n                                _test_connection(success);\n                            });\n                        }\n                    },\n                    data     : _get_url_params(data),\n                    url      : [\n                        SUB_ORIGIN, 'subscribe',\n                        SUBSCRIBE_KEY, encode(channels),\n                        jsonp, TIMETOKEN\n                    ],\n                    success : function(messages) {\n\n                        // Check for Errors\n                        if (!messages || (\n                            typeof messages == 'object' &&\n                            'error' in messages         &&\n                            messages['error']\n                        )) {\n                            SUB_ERROR(messages['error']);\n                            return timeout( CONNECT, SECOND );\n                        }\n\n                        // User Idle Callback\n                        idlecb(messages[1]);\n\n                        // Restore Previous Connection Point if Needed\n                        TIMETOKEN = !TIMETOKEN               &&\n                                    SUB_RESTORE              &&\n                                    db['get'](SUBSCRIBE_KEY) || messages[1];\n\n                        /*\n                        // Connect\n                        each_channel_registry(function(registry){\n                            if (registry.connected) return;\n                            registry.connected = 1;\n                            registry.connect(channel.name);\n                        });\n                        */\n\n                        // Connect\n                        each_channel(function(channel){\n                            if (channel.connected) return;\n                            channel.connected = 1;\n                            channel.connect(channel.name);\n                        });\n\n                        // Connect for channel groups\n                        each_channel_group(function(channel_group){\n                            if (channel_group.connected) return;\n                            channel_group.connected = 1;\n                            channel_group.connect(channel_group.name);\n                        });\n\n                        if (RESUMED && !SUB_RESTORE) {\n                                TIMETOKEN = 0;\n                                RESUMED = false;\n                                // Update Saved Timetoken\n                                db['set']( SUBSCRIBE_KEY, 0 );\n                                timeout( _connect, windowing );\n                                return;\n                        }\n\n                        // Invoke Memory Catchup and Receive Up to 100\n                        // Previous Messages from the Queue.\n                        if (backfill) {\n                            TIMETOKEN = 10000;\n                            backfill  = 0;\n                        }\n\n                        // Update Saved Timetoken\n                        db['set']( SUBSCRIBE_KEY, messages[1] );\n\n                        // Route Channel <---> Callback for Message\n                        var next_callback = (function() {\n                            var channels = '';\n                            var channels2 = '';\n\n                            if (messages.length > 3) {\n                                channels  = messages[3];\n                                channels2 = messages[2];\n                            } else if (messages.length > 2) {\n                                channels = messages[2];\n                            } else {\n                                channels =  map(\n                                    generate_channel_list(CHANNELS), function(chan) { return map(\n                                        Array(messages[0].length)\n                                        .join(',').split(','),\n                                        function() { return chan; }\n                                    ) }).join(',')\n                            }\n\n                            var list  = channels.split(',');\n                            var list2 = (channels2)?channels2.split(','):[];\n\n                            return function() {\n                                var channel  = list.shift()||SUB_CHANNEL;\n                                var channel2 = list2.shift();\n\n                                var chobj = {};\n\n                                if (channel2) {\n                                    if (channel && channel.indexOf('-pnpres') >= 0 \n                                        && channel2.indexOf('-pnpres') < 0) {\n                                        channel2 += '-pnpres';\n                                    }\n                                    chobj = CHANNEL_GROUPS[channel2] || CHANNELS[channel2] || {'callback' : function(){}};\n                                } else {\n                                    chobj = CHANNELS[channel];\n                                }\n\n                                var r = [\n                                    chobj\n                                    .callback||SUB_CALLBACK,\n                                    channel.split(PRESENCE_SUFFIX)[0]\n                                ];\n                                channel2 && r.push(channel2.split(PRESENCE_SUFFIX)[0]);\n                                return r;\n                            };\n                        })();\n\n                        var latency = detect_latency(+messages[1]);\n                        each( messages[0], function(msg) {\n                            var next = next_callback();\n                            var decrypted_msg = decrypt(msg,\n                                (CHANNELS[next[1]])?CHANNELS[next[1]]['cipher_key']:null);\n                            next[0] && next[0]( decrypted_msg, messages, next[2] || next[1], latency, next[1]);\n                        });\n\n                        timeout( _connect, windowing );\n                    }\n                });\n            }\n\n            CONNECT = function() {\n                _reset_offline();\n                timeout( _connect, windowing );\n            };\n\n            // Reduce Status Flicker\n            if (!READY) return READY_BUFFER.push(CONNECT);\n\n            // Connect Now\n            CONNECT();\n        },\n\n        /*\n            PUBNUB.here_now({ channel : 'my_chat', callback : fun });\n        */\n        'here_now' : function( args, callback ) {\n            var callback = args['callback'] || callback\n            ,   err      = args['error']    || function(){}\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   channel  = args['channel']\n            ,   channel_group = args['channel_group']\n            ,   jsonp    = jsonp_cb()\n            ,   uuids    = ('uuids' in args) ? args['uuids'] : true\n            ,   state    = args['state']\n            ,   data     = { 'uuid' : UUID, 'auth' : auth_key };\n\n            if (!uuids) data['disable_uuids'] = 1;\n            if (state) data['state'] = 1;\n\n            // Make sure we have a Channel\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            var url = [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub_key', SUBSCRIBE_KEY\n                ];\n\n            channel && url.push('channel') && url.push(encode(channel));\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            if (channel_group) {\n                data['channel-group'] = channel_group;\n                !channel && url.push('channel') && url.push(','); \n            }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n        },\n\n        /*\n            PUBNUB.current_channels_by_uuid({ channel : 'my_chat', callback : fun });\n        */\n        'where_now' : function( args, callback ) {\n            var callback = args['callback'] || callback\n            ,   err      = args['error']    || function(){}\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   jsonp    = jsonp_cb()\n            ,   uuid     = args['uuid']     || UUID\n            ,   data     = { 'auth' : auth_key };\n\n            // Make sure we have a Channel\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub_key', SUBSCRIBE_KEY,\n                    'uuid', encode(uuid)\n                ]\n            });\n        },\n\n        'state' : function(args, callback) {\n            var callback = args['callback'] || callback || function(r) {}\n            ,   err      = args['error']    || function(){}\n            ,   auth_key = args['auth_key'] || AUTH_KEY\n            ,   jsonp    = jsonp_cb()\n            ,   state    = args['state']\n            ,   uuid     = args['uuid'] || UUID\n            ,   channel  = args['channel']\n            ,   channel_group = args['channel_group']\n            ,   url\n            ,   data     = _get_url_params({ 'auth' : auth_key });\n\n            // Make sure we have a Channel\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n            if (!uuid) return error('Missing UUID');\n            if (!channel && !channel_group) return error('Missing Channel');\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            if (typeof channel != 'undefined'\n                && CHANNELS[channel] && CHANNELS[channel].subscribed ) {\n                if (state) STATE[channel] = state;\n            }\n\n            if (typeof channel_group != 'undefined'\n                && CHANNEL_GROUPS[channel_group]\n                && CHANNEL_GROUPS[channel_group].subscribed\n                ) {\n                if (state) STATE[channel_group] = state;\n                data['channel-group'] = channel_group;\n\n                if (!channel) {\n                    channel = ',';\n                }\n            }\n\n            data['state'] = JSON.stringify(state);\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            if (state) {\n                url      = [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub-key', SUBSCRIBE_KEY,\n                    'channel', channel,\n                    'uuid', uuid, 'data'\n                ]\n            } else {\n                url      = [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub-key', SUBSCRIBE_KEY,\n                    'channel', channel,\n                    'uuid', encode(uuid)\n                ]\n            }\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n\n            });\n\n        },\n\n        /*\n            PUBNUB.grant({\n                channel  : 'my_chat',\n                callback : fun,\n                error    : fun,\n                ttl      : 24 * 60, // Minutes\n                read     : true,\n                write    : true,\n                auth_key : '3y8uiajdklytowsj'\n            });\n        */\n        'grant' : function( args, callback ) {\n            var callback        = args['callback'] || callback\n            ,   err             = args['error']    || function(){}\n            ,   channel         = args['channel']\n            ,   channel_group   = args['channel_group']\n            ,   jsonp           = jsonp_cb()\n            ,   ttl             = args['ttl']\n            ,   r               = (args['read'] )?\"1\":\"0\"\n            ,   w               = (args['write'])?\"1\":\"0\"\n            ,   m               = (args['manage'])?\"1\":\"0\"\n            ,   auth_key        = args['auth_key'];\n\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SECRET_KEY)    return error('Missing Secret Key');\n\n            var timestamp  = Math.floor(new Date().getTime() / 1000)\n            ,   sign_input = SUBSCRIBE_KEY + \"\\n\" + PUBLISH_KEY + \"\\n\"\n                    + \"grant\" + \"\\n\";\n\n            var data = {\n                'w'         : w,\n                'r'         : r,\n                'timestamp' : timestamp\n            };\n            if (args['manage']) {\n                data['m'] = m;\n            }\n            if (typeof channel != 'undefined' && channel != null && channel.length > 0) data['channel'] = channel;\n            if (typeof channel_group != 'undefined' && channel_group != null && channel_group.length > 0) {\n                data['channel-group'] = channel_group;\n            }\n            if (jsonp != '0') { data['callback'] = jsonp; }\n            if (ttl || ttl === 0) data['ttl'] = ttl;\n\n            if (auth_key) data['auth'] = auth_key;\n\n            data = _get_url_params(data)\n\n            if (!auth_key) delete data['auth'];\n\n            sign_input += _get_pam_sign_input_from_params(data);\n\n            var signature = hmac_SHA256( sign_input, SECRET_KEY );\n\n            signature = signature.replace( /\\+/g, \"-\" );\n            signature = signature.replace( /\\//g, \"_\" );\n\n            data['signature'] = signature;\n\n            xdr({\n                callback : jsonp,\n                data     : data,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v1', 'auth', 'grant' ,\n                    'sub-key', SUBSCRIBE_KEY\n                ]\n            });\n        },\n\n        /*\n         PUBNUB.mobile_gw_provision ({\n         device_id: 'A655FBA9931AB',\n         op       : 'add' | 'remove',\n         gw_type  : 'apns' | 'gcm',\n         channel  : 'my_chat',\n         callback : fun,\n         error    : fun,\n         });\n         */\n\n        'mobile_gw_provision' : function( args ) {\n\n            var callback = args['callback'] || function(){}\n                ,   auth_key       = args['auth_key'] || AUTH_KEY\n                ,   err            = args['error'] || function() {}\n                ,   jsonp          = jsonp_cb()\n                ,   channel        = args['channel']\n                ,   op             = args['op']\n                ,   gw_type        = args['gw_type']\n                ,   device_id      = args['device_id']\n                ,   url;\n\n            if (!device_id)     return error('Missing Device ID (device_id)');\n            if (!gw_type)       return error('Missing GW Type (gw_type: gcm or apns)');\n            if (!op)            return error('Missing GW Operation (op: add or remove)');\n            if (!channel)       return error('Missing gw destination Channel (channel)');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n\n            // Create URL\n            url = [\n                STD_ORIGIN, 'v1/push/sub-key',\n                SUBSCRIBE_KEY, 'devices', device_id\n            ];\n\n            params = { 'uuid' : UUID, 'auth' : auth_key, 'type': gw_type};\n\n            if (op == \"add\") {\n                params['add'] = channel;\n            } else if (op == \"remove\") {\n                params['remove'] = channel;\n            }\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : params,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : url\n            });\n\n        },\n\n        /*\n            PUBNUB.audit({\n                channel  : 'my_chat',\n                callback : fun,\n                error    : fun,\n                read     : true,\n                write    : true,\n                auth_key : '3y8uiajdklytowsj'\n            });\n        */\n        'audit' : function( args, callback ) {\n            var callback        = args['callback'] || callback\n            ,   err             = args['error']    || function(){}\n            ,   channel         = args['channel']\n            ,   channel_group   = args['channel_group']\n            ,   auth_key        = args['auth_key']\n            ,   jsonp           = jsonp_cb();\n\n            // Make sure we have a Channel\n            if (!callback)      return error('Missing Callback');\n            if (!SUBSCRIBE_KEY) return error('Missing Subscribe Key');\n            if (!PUBLISH_KEY)   return error('Missing Publish Key');\n            if (!SECRET_KEY)    return error('Missing Secret Key');\n\n            var timestamp  = Math.floor(new Date().getTime() / 1000)\n            ,   sign_input = SUBSCRIBE_KEY + \"\\n\"\n                + PUBLISH_KEY + \"\\n\"\n                + \"audit\" + \"\\n\";\n\n            var data = {'timestamp' : timestamp };\n            if (jsonp != '0') { data['callback'] = jsonp; }\n            if (typeof channel != 'undefined' && channel != null && channel.length > 0) data['channel'] = channel;\n            if (typeof channel_group != 'undefined' && channel_group != null && channel_group.length > 0) {\n                data['channel-group'] = channel_group;\n            }\n            if (auth_key) data['auth']    = auth_key;\n\n            data = _get_url_params(data);\n\n            if (!auth_key) delete data['auth'];\n\n            sign_input += _get_pam_sign_input_from_params(data);\n\n            var signature = hmac_SHA256( sign_input, SECRET_KEY );\n\n            signature = signature.replace( /\\+/g, \"-\" );\n            signature = signature.replace( /\\//g, \"_\" );\n\n            data['signature'] = signature;\n            xdr({\n                callback : jsonp,\n                data     : data,\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) {\n                    _invoke_error(response, err);\n                },\n                url      : [\n                    STD_ORIGIN, 'v1', 'auth', 'audit' ,\n                    'sub-key', SUBSCRIBE_KEY\n                ]\n            });\n        },\n\n        /*\n            PUBNUB.revoke({\n                channel  : 'my_chat',\n                callback : fun,\n                error    : fun,\n                auth_key : '3y8uiajdklytowsj'\n            });\n        */\n        'revoke' : function( args, callback ) {\n            args['read']  = false;\n            args['write'] = false;\n            SELF['grant']( args, callback );\n        },\n        'set_uuid' : function(uuid) {\n            UUID = uuid;\n            CONNECT();\n        },\n        'get_uuid' : function() {\n            return UUID;\n        },\n        'isArray'  : function(arg) {\n            return isArray(arg);\n        },\n        'get_subscibed_channels' : function() {\n            return generate_channel_list(CHANNELS, true);\n        },\n        'presence_heartbeat' : function(args) {\n            var callback = args['callback'] || function() {}\n            var err      = args['error']    || function() {}\n            var jsonp    = jsonp_cb();\n            var data     = { 'uuid' : UUID, 'auth' : AUTH_KEY };\n\n            var st = JSON['stringify'](STATE);\n            if (st.length > 2) data['state'] = JSON['stringify'](STATE);\n\n            if (PRESENCE_HB > 0 && PRESENCE_HB < 320) data['heartbeat'] = PRESENCE_HB;\n\n            if (jsonp != '0') { data['callback'] = jsonp; }\n\n            var channels        = encode(generate_channel_list(CHANNELS, true)['join'](','));\n            var channel_groups  = generate_channel_group_list(CHANNEL_GROUPS, true)['join'](',');\n\n            if (!channels) channels = ',';\n            if (channel_groups) data['channel-group'] = channel_groups;\n\n            if (USE_INSTANCEID) data['instanceid'] = INSTANCEID;\n\n            xdr({\n                callback : jsonp,\n                data     : _get_url_params(data),\n                timeout  : SECOND * 5,\n                url      : [\n                    STD_ORIGIN, 'v2', 'presence',\n                    'sub-key', SUBSCRIBE_KEY,\n                    'channel' , channels,\n                    'heartbeat'\n                ],\n                success  : function(response) {\n                    _invoke_callback(response, callback, err);\n                },\n                fail     : function(response) { _invoke_error(response, err); }\n            });\n        },\n        'stop_timers': function () {\n            clearTimeout(_poll_timer);\n            clearTimeout(_poll_timer2);\n        },\n\n        // Expose PUBNUB Functions\n        'xdr'           : xdr,\n        'ready'         : ready,\n        'db'            : db,\n        'uuid'          : generate_uuid,\n        'map'           : map,\n        'each'          : each,\n        'each-channel'  : each_channel,\n        'grep'          : grep,\n        'offline'       : function(){ _reset_offline(\n            1, { \"message\" : \"Offline. Please check your network settings.\" })\n        },\n        'supplant'      : supplant,\n        'now'           : rnow,\n        'unique'        : unique,\n        'updater'       : updater\n    };\n\n    function _poll_online() {\n        _is_online() || _reset_offline( 1, {\n            \"error\" : \"Offline. Please check your network settings. \"\n        });\n        _poll_timer && clearTimeout(_poll_timer);\n        _poll_timer = timeout( _poll_online, SECOND );\n    }\n\n    function _poll_online2() {\n        if (!TIME_CHECK) return;\n        SELF['time'](function(success){\n            detect_time_detla( function(){}, success );\n            success || _reset_offline( 1, {\n                \"error\" : \"Heartbeat failed to connect to Pubnub Servers.\" +\n                    \"Please check your network settings.\"\n                });\n            _poll_timer2 && clearTimeout(_poll_timer2);\n            _poll_timer2 = timeout( _poll_online2, KEEPALIVE );\n        });\n    }\n\n    function _reset_offline(err, msg) {\n        SUB_RECEIVER && SUB_RECEIVER(err, msg);\n        SUB_RECEIVER = null;\n\n        clearTimeout(_poll_timer);\n        clearTimeout(_poll_timer2);\n    }\n    \n    if (!UUID) UUID = SELF['uuid']();\n    if (!INSTANCEID) INSTANCEID = SELF['uuid']();\n    db['set']( SUBSCRIBE_KEY + 'uuid', UUID );\n\n    _poll_timer  = timeout( _poll_online,  SECOND    );\n    _poll_timer2 = timeout( _poll_online2, KEEPALIVE );\n    PRESENCE_HB_TIMEOUT = timeout(\n        start_presence_heartbeat,\n        ( PRESENCE_HB_INTERVAL - 3 ) * SECOND\n    );\n\n    // Detect Age of Message\n    function detect_latency(tt) {\n        var adjusted_time = rnow() - TIME_DRIFT;\n        return adjusted_time - tt / 10000;\n    }\n\n    detect_time_detla();\n    function detect_time_detla( cb, time ) {\n        var stime = rnow();\n\n        time && calculate(time) || SELF['time'](calculate);\n\n        function calculate(time) {\n            if (!time) return;\n            var ptime   = time / 10000\n            ,   latency = (rnow() - stime) / 2;\n            TIME_DRIFT = rnow() - (ptime + latency);\n            cb && cb(TIME_DRIFT);\n        }\n    }\n\n    return SELF;\n}\n\nvar CRYPTO = (function(){\n    var Nr = 14,\n    /* Default to 256 Bit Encryption */\n    Nk = 8,\n    Decrypt = false,\n\n    enc_utf8 = function(s)\n    {\n        try {\n            return unescape(encodeURIComponent(s));\n        }\n        catch(e) {\n            throw 'Error on UTF-8 encode';\n        }\n    },\n\n    dec_utf8 = function(s)\n    {\n        try {\n            return decodeURIComponent(escape(s));\n        }\n        catch(e) {\n            throw ('Bad Key');\n        }\n    },\n\n    padBlock = function(byteArr)\n    {\n        var array = [], cpad, i;\n        if (byteArr.length < 16) {\n            cpad = 16 - byteArr.length;\n            array = [cpad, cpad, cpad, cpad, cpad, cpad, cpad, cpad, cpad, cpad, cpad, cpad, cpad, cpad, cpad, cpad];\n        }\n        for (i = 0; i < byteArr.length; i++)\n        {\n            array[i] = byteArr[i];\n        }\n        return array;\n    },\n\n    block2s = function(block, lastBlock)\n    {\n        var string = '', padding, i;\n        if (lastBlock) {\n            padding = block[15];\n            if (padding > 16) {\n                throw ('Decryption error: Maybe bad key');\n            }\n            if (padding == 16) {\n                return '';\n            }\n            for (i = 0; i < 16 - padding; i++) {\n                string += String.fromCharCode(block[i]);\n            }\n        } else {\n            for (i = 0; i < 16; i++) {\n                string += String.fromCharCode(block[i]);\n            }\n        }\n        return string;\n    },\n\n    a2h = function(numArr)\n    {\n        var string = '', i;\n        for (i = 0; i < numArr.length; i++) {\n            string += (numArr[i] < 16 ? '0': '') + numArr[i].toString(16);\n        }\n        return string;\n    },\n\n    h2a = function(s)\n    {\n        var ret = [];\n        s.replace(/(..)/g,\n        function(s) {\n            ret.push(parseInt(s, 16));\n        });\n        return ret;\n    },\n\n    s2a = function(string, binary) {\n        var array = [], i;\n\n        if (! binary) {\n            string = enc_utf8(string);\n        }\n\n        for (i = 0; i < string.length; i++)\n        {\n            array[i] = string.charCodeAt(i);\n        }\n\n        return array;\n    },\n\n    size = function(newsize)\n    {\n        switch (newsize)\n        {\n        case 128:\n            Nr = 10;\n            Nk = 4;\n            break;\n        case 192:\n            Nr = 12;\n            Nk = 6;\n            break;\n        case 256:\n            Nr = 14;\n            Nk = 8;\n            break;\n        default:\n            throw ('Invalid Key Size Specified:' + newsize);\n        }\n    },\n\n    randArr = function(num) {\n        var result = [], i;\n        for (i = 0; i < num; i++) {\n            result = result.concat(Math.floor(Math.random() * 256));\n        }\n        return result;\n    },\n\n    openSSLKey = function(passwordArr, saltArr) {\n        // Number of rounds depends on the size of the AES in use\n        // 3 rounds for 256\n        //        2 rounds for the key, 1 for the IV\n        // 2 rounds for 128\n        //        1 round for the key, 1 round for the IV\n        // 3 rounds for 192 since it's not evenly divided by 128 bits\n        var rounds = Nr >= 12 ? 3: 2,\n        key = [],\n        iv = [],\n        md5_hash = [],\n        result = [],\n        data00 = passwordArr.concat(saltArr),\n        i;\n        md5_hash[0] = GibberishAES.Hash.MD5(data00);\n        result = md5_hash[0];\n        for (i = 1; i < rounds; i++) {\n            md5_hash[i] = GibberishAES.Hash.MD5(md5_hash[i - 1].concat(data00));\n            result = result.concat(md5_hash[i]);\n        }\n        key = result.slice(0, 4 * Nk);\n        iv = result.slice(4 * Nk, 4 * Nk + 16);\n        return {\n            key: key,\n            iv: iv\n        };\n    },\n\n    rawEncrypt = function(plaintext, key, iv) {\n        // plaintext, key and iv as byte arrays\n        key = expandKey(key);\n        var numBlocks = Math.ceil(plaintext.length / 16),\n        blocks = [],\n        i,\n        cipherBlocks = [];\n        for (i = 0; i < numBlocks; i++) {\n            blocks[i] = padBlock(plaintext.slice(i * 16, i * 16 + 16));\n        }\n        if (plaintext.length % 16 === 0) {\n            blocks.push([16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16]);\n            // CBC OpenSSL padding scheme\n            numBlocks++;\n        }\n        for (i = 0; i < blocks.length; i++) {\n            blocks[i] = (i === 0) ? xorBlocks(blocks[i], iv) : xorBlocks(blocks[i], cipherBlocks[i - 1]);\n            cipherBlocks[i] = encryptBlock(blocks[i], key);\n        }\n        return cipherBlocks;\n    },\n\n    rawDecrypt = function(cryptArr, key, iv, binary) {\n        //  cryptArr, key and iv as byte arrays\n        key = expandKey(key);\n        var numBlocks = cryptArr.length / 16,\n        cipherBlocks = [],\n        i,\n        plainBlocks = [],\n        string = '';\n        for (i = 0; i < numBlocks; i++) {\n            cipherBlocks.push(cryptArr.slice(i * 16, (i + 1) * 16));\n        }\n        for (i = cipherBlocks.length - 1; i >= 0; i--) {\n            plainBlocks[i] = decryptBlock(cipherBlocks[i], key);\n            plainBlocks[i] = (i === 0) ? xorBlocks(plainBlocks[i], iv) : xorBlocks(plainBlocks[i], cipherBlocks[i - 1]);\n        }\n        for (i = 0; i < numBlocks - 1; i++) {\n            string += block2s(plainBlocks[i]);\n        }\n        string += block2s(plainBlocks[i], true);\n        return binary ? string : dec_utf8(string);\n    },\n\n    encryptBlock = function(block, words) {\n        Decrypt = false;\n        var state = addRoundKey(block, words, 0),\n        round;\n        for (round = 1; round < (Nr + 1); round++) {\n            state = subBytes(state);\n            state = shiftRows(state);\n            if (round < Nr) {\n                state = mixColumns(state);\n            }\n            //last round? don't mixColumns\n            state = addRoundKey(state, words, round);\n        }\n\n        return state;\n    },\n\n    decryptBlock = function(block, words) {\n        Decrypt = true;\n        var state = addRoundKey(block, words, Nr),\n        round;\n        for (round = Nr - 1; round > -1; round--) {\n            state = shiftRows(state);\n            state = subBytes(state);\n            state = addRoundKey(state, words, round);\n            if (round > 0) {\n                state = mixColumns(state);\n            }\n            //last round? don't mixColumns\n        }\n\n        return state;\n    },\n\n    subBytes = function(state) {\n        var S = Decrypt ? SBoxInv: SBox,\n        temp = [],\n        i;\n        for (i = 0; i < 16; i++) {\n            temp[i] = S[state[i]];\n        }\n        return temp;\n    },\n\n    shiftRows = function(state) {\n        var temp = [],\n        shiftBy = Decrypt ? [0, 13, 10, 7, 4, 1, 14, 11, 8, 5, 2, 15, 12, 9, 6, 3] : [0, 5, 10, 15, 4, 9, 14, 3, 8, 13, 2, 7, 12, 1, 6, 11],\n        i;\n        for (i = 0; i < 16; i++) {\n            temp[i] = state[shiftBy[i]];\n        }\n        return temp;\n    },\n\n    mixColumns = function(state) {\n        var t = [],\n        c;\n        if (!Decrypt) {\n            for (c = 0; c < 4; c++) {\n                t[c * 4] = G2X[state[c * 4]] ^ G3X[state[1 + c * 4]] ^ state[2 + c * 4] ^ state[3 + c * 4];\n                t[1 + c * 4] = state[c * 4] ^ G2X[state[1 + c * 4]] ^ G3X[state[2 + c * 4]] ^ state[3 + c * 4];\n                t[2 + c * 4] = state[c * 4] ^ state[1 + c * 4] ^ G2X[state[2 + c * 4]] ^ G3X[state[3 + c * 4]];\n                t[3 + c * 4] = G3X[state[c * 4]] ^ state[1 + c * 4] ^ state[2 + c * 4] ^ G2X[state[3 + c * 4]];\n            }\n        }else {\n            for (c = 0; c < 4; c++) {\n                t[c*4] = GEX[state[c*4]] ^ GBX[state[1+c*4]] ^ GDX[state[2+c*4]] ^ G9X[state[3+c*4]];\n                t[1+c*4] = G9X[state[c*4]] ^ GEX[state[1+c*4]] ^ GBX[state[2+c*4]] ^ GDX[state[3+c*4]];\n                t[2+c*4] = GDX[state[c*4]] ^ G9X[state[1+c*4]] ^ GEX[state[2+c*4]] ^ GBX[state[3+c*4]];\n                t[3+c*4] = GBX[state[c*4]] ^ GDX[state[1+c*4]] ^ G9X[state[2+c*4]] ^ GEX[state[3+c*4]];\n            }\n        }\n\n        return t;\n    },\n\n    addRoundKey = function(state, words, round) {\n        var temp = [],\n        i;\n        for (i = 0; i < 16; i++) {\n            temp[i] = state[i] ^ words[round][i];\n        }\n        return temp;\n    },\n\n    xorBlocks = function(block1, block2) {\n        var temp = [],\n        i;\n        for (i = 0; i < 16; i++) {\n            temp[i] = block1[i] ^ block2[i];\n        }\n        return temp;\n    },\n\n    expandKey = function(key) {\n        // Expects a 1d number array\n        var w = [],\n        temp = [],\n        i,\n        r,\n        t,\n        flat = [],\n        j;\n\n        for (i = 0; i < Nk; i++) {\n            r = [key[4 * i], key[4 * i + 1], key[4 * i + 2], key[4 * i + 3]];\n            w[i] = r;\n        }\n\n        for (i = Nk; i < (4 * (Nr + 1)); i++) {\n            w[i] = [];\n            for (t = 0; t < 4; t++) {\n                temp[t] = w[i - 1][t];\n            }\n            if (i % Nk === 0) {\n                temp = subWord(rotWord(temp));\n                temp[0] ^= Rcon[i / Nk - 1];\n            } else if (Nk > 6 && i % Nk == 4) {\n                temp = subWord(temp);\n            }\n            for (t = 0; t < 4; t++) {\n                w[i][t] = w[i - Nk][t] ^ temp[t];\n            }\n        }\n        for (i = 0; i < (Nr + 1); i++) {\n            flat[i] = [];\n            for (j = 0; j < 4; j++) {\n                flat[i].push(w[i * 4 + j][0], w[i * 4 + j][1], w[i * 4 + j][2], w[i * 4 + j][3]);\n            }\n        }\n        return flat;\n    },\n\n    subWord = function(w) {\n        // apply SBox to 4-byte word w\n        for (var i = 0; i < 4; i++) {\n            w[i] = SBox[w[i]];\n        }\n        return w;\n    },\n\n    rotWord = function(w) {\n        // rotate 4-byte word w left by one byte\n        var tmp = w[0],\n        i;\n        for (i = 0; i < 4; i++) {\n            w[i] = w[i + 1];\n        }\n        w[3] = tmp;\n        return w;\n    },\n\n// jlcooke: 2012-07-12: added strhex + invertArr to compress G2X/G3X/G9X/GBX/GEX/SBox/SBoxInv/Rcon saving over 7KB, and added encString, decString\n    strhex = function(str,size) {\n        var ret = [];\n        for (i=0; i<str.length; i+=size)\n            ret[i/size] = parseInt(str.substr(i,size), 16);\n        return ret;\n    },\n    invertArr = function(arr) {\n        var ret = [];\n        for (i=0; i<arr.length; i++)\n            ret[arr[i]] = i;\n        return ret;\n    },\n    Gxx = function(a, b) {\n        var i, ret;\n\n        ret = 0;\n        for (i=0; i<8; i++) {\n            ret = ((b&1)==1) ? ret^a : ret;\n            /* xmult */\n            a = (a>0x7f) ? 0x11b^(a<<1) : (a<<1);\n            b >>>= 1;\n        }\n\n        return ret;\n    },\n    Gx = function(x) {\n        var r = [];\n        for (var i=0; i<256; i++)\n            r[i] = Gxx(x, i);\n        return r;\n    },\n\n    // S-box\n/*\n    SBox = [\n    99, 124, 119, 123, 242, 107, 111, 197, 48, 1, 103, 43, 254, 215, 171,\n    118, 202, 130, 201, 125, 250, 89, 71, 240, 173, 212, 162, 175, 156, 164,\n    114, 192, 183, 253, 147, 38, 54, 63, 247, 204, 52, 165, 229, 241, 113,\n    216, 49, 21, 4, 199, 35, 195, 24, 150, 5, 154, 7, 18, 128, 226,\n    235, 39, 178, 117, 9, 131, 44, 26, 27, 110, 90, 160, 82, 59, 214,\n    179, 41, 227, 47, 132, 83, 209, 0, 237, 32, 252, 177, 91, 106, 203,\n    190, 57, 74, 76, 88, 207, 208, 239, 170, 251, 67, 77, 51, 133, 69,\n    249, 2, 127, 80, 60, 159, 168, 81, 163, 64, 143, 146, 157, 56, 245,\n    188, 182, 218, 33, 16, 255, 243, 210, 205, 12, 19, 236, 95, 151, 68,\n    23, 196, 167, 126, 61, 100, 93, 25, 115, 96, 129, 79, 220, 34, 42,\n    144, 136, 70, 238, 184, 20, 222, 94, 11, 219, 224, 50, 58, 10, 73,\n    6, 36, 92, 194, 211, 172, 98, 145, 149, 228, 121, 231, 200, 55, 109,\n    141, 213, 78, 169, 108, 86, 244, 234, 101, 122, 174, 8, 186, 120, 37,\n    46, 28, 166, 180, 198, 232, 221, 116, 31, 75, 189, 139, 138, 112, 62,\n    181, 102, 72, 3, 246, 14, 97, 53, 87, 185, 134, 193, 29, 158, 225,\n    248, 152, 17, 105, 217, 142, 148, 155, 30, 135, 233, 206, 85, 40, 223,\n    140, 161, 137, 13, 191, 230, 66, 104, 65, 153, 45, 15, 176, 84, 187,\n    22], //*/ SBox = strhex('637c777bf26b6fc53001672bfed7ab76ca82c97dfa5947f0add4a2af9ca472c0b7fd9326363ff7cc34a5e5f171d8311504c723c31896059a071280e2eb27b27509832c1a1b6e5aa0523bd6b329e32f8453d100ed20fcb15b6acbbe394a4c58cfd0efaafb434d338545f9027f503c9fa851a3408f929d38f5bcb6da2110fff3d2cd0c13ec5f974417c4a77e3d645d197360814fdc222a908846eeb814de5e0bdbe0323a0a4906245cc2d3ac629195e479e7c8376d8dd54ea96c56f4ea657aae08ba78252e1ca6b4c6e8dd741f4bbd8b8a703eb5664803f60e613557b986c11d9ee1f8981169d98e949b1e87e9ce5528df8ca1890dbfe6426841992d0fb054bb16',2),\n\n    // Precomputed lookup table for the inverse SBox\n/*    SBoxInv = [\n    82, 9, 106, 213, 48, 54, 165, 56, 191, 64, 163, 158, 129, 243, 215,\n    251, 124, 227, 57, 130, 155, 47, 255, 135, 52, 142, 67, 68, 196, 222,\n    233, 203, 84, 123, 148, 50, 166, 194, 35, 61, 238, 76, 149, 11, 66,\n    250, 195, 78, 8, 46, 161, 102, 40, 217, 36, 178, 118, 91, 162, 73,\n    109, 139, 209, 37, 114, 248, 246, 100, 134, 104, 152, 22, 212, 164, 92,\n    204, 93, 101, 182, 146, 108, 112, 72, 80, 253, 237, 185, 218, 94, 21,\n    70, 87, 167, 141, 157, 132, 144, 216, 171, 0, 140, 188, 211, 10, 247,\n    228, 88, 5, 184, 179, 69, 6, 208, 44, 30, 143, 202, 63, 15, 2,\n    193, 175, 189, 3, 1, 19, 138, 107, 58, 145, 17, 65, 79, 103, 220,\n    234, 151, 242, 207, 206, 240, 180, 230, 115, 150, 172, 116, 34, 231, 173,\n    53, 133, 226, 249, 55, 232, 28, 117, 223, 110, 71, 241, 26, 113, 29,\n    41, 197, 137, 111, 183, 98, 14, 170, 24, 190, 27, 252, 86, 62, 75,\n    198, 210, 121, 32, 154, 219, 192, 254, 120, 205, 90, 244, 31, 221, 168,\n    51, 136, 7, 199, 49, 177, 18, 16, 89, 39, 128, 236, 95, 96, 81,\n    127, 169, 25, 181, 74, 13, 45, 229, 122, 159, 147, 201, 156, 239, 160,\n    224, 59, 77, 174, 42, 245, 176, 200, 235, 187, 60, 131, 83, 153, 97,\n    23, 43, 4, 126, 186, 119, 214, 38, 225, 105, 20, 99, 85, 33, 12,\n    125], //*/ SBoxInv = invertArr(SBox),\n\n    // Rijndael Rcon\n/*\n    Rcon = [1, 2, 4, 8, 16, 32, 64, 128, 27, 54, 108, 216, 171, 77, 154, 47, 94,\n    188, 99, 198, 151, 53, 106, 212, 179, 125, 250, 239, 197, 145],\n//*/ Rcon = strhex('01020408102040801b366cd8ab4d9a2f5ebc63c697356ad4b37dfaefc591',2),\n\n/*\n    G2X = [\n    0x00, 0x02, 0x04, 0x06, 0x08, 0x0a, 0x0c, 0x0e, 0x10, 0x12, 0x14, 0x16,\n    0x18, 0x1a, 0x1c, 0x1e, 0x20, 0x22, 0x24, 0x26, 0x28, 0x2a, 0x2c, 0x2e,\n    0x30, 0x32, 0x34, 0x36, 0x38, 0x3a, 0x3c, 0x3e, 0x40, 0x42, 0x44, 0x46,\n    0x48, 0x4a, 0x4c, 0x4e, 0x50, 0x52, 0x54, 0x56, 0x58, 0x5a, 0x5c, 0x5e,\n    0x60, 0x62, 0x64, 0x66, 0x68, 0x6a, 0x6c, 0x6e, 0x70, 0x72, 0x74, 0x76,\n    0x78, 0x7a, 0x7c, 0x7e, 0x80, 0x82, 0x84, 0x86, 0x88, 0x8a, 0x8c, 0x8e,\n    0x90, 0x92, 0x94, 0x96, 0x98, 0x9a, 0x9c, 0x9e, 0xa0, 0xa2, 0xa4, 0xa6,\n    0xa8, 0xaa, 0xac, 0xae, 0xb0, 0xb2, 0xb4, 0xb6, 0xb8, 0xba, 0xbc, 0xbe,\n    0xc0, 0xc2, 0xc4, 0xc6, 0xc8, 0xca, 0xcc, 0xce, 0xd0, 0xd2, 0xd4, 0xd6,\n    0xd8, 0xda, 0xdc, 0xde, 0xe0, 0xe2, 0xe4, 0xe6, 0xe8, 0xea, 0xec, 0xee,\n    0xf0, 0xf2, 0xf4, 0xf6, 0xf8, 0xfa, 0xfc, 0xfe, 0x1b, 0x19, 0x1f, 0x1d,\n    0x13, 0x11, 0x17, 0x15, 0x0b, 0x09, 0x0f, 0x0d, 0x03, 0x01, 0x07, 0x05,\n    0x3b, 0x39, 0x3f, 0x3d, 0x33, 0x31, 0x37, 0x35, 0x2b, 0x29, 0x2f, 0x2d,\n    0x23, 0x21, 0x27, 0x25, 0x5b, 0x59, 0x5f, 0x5d, 0x53, 0x51, 0x57, 0x55,\n    0x4b, 0x49, 0x4f, 0x4d, 0x43, 0x41, 0x47, 0x45, 0x7b, 0x79, 0x7f, 0x7d,\n    0x73, 0x71, 0x77, 0x75, 0x6b, 0x69, 0x6f, 0x6d, 0x63, 0x61, 0x67, 0x65,\n    0x9b, 0x99, 0x9f, 0x9d, 0x93, 0x91, 0x97, 0x95, 0x8b, 0x89, 0x8f, 0x8d,\n    0x83, 0x81, 0x87, 0x85, 0xbb, 0xb9, 0xbf, 0xbd, 0xb3, 0xb1, 0xb7, 0xb5,\n    0xab, 0xa9, 0xaf, 0xad, 0xa3, 0xa1, 0xa7, 0xa5, 0xdb, 0xd9, 0xdf, 0xdd,\n    0xd3, 0xd1, 0xd7, 0xd5, 0xcb, 0xc9, 0xcf, 0xcd, 0xc3, 0xc1, 0xc7, 0xc5,\n    0xfb, 0xf9, 0xff, 0xfd, 0xf3, 0xf1, 0xf7, 0xf5, 0xeb, 0xe9, 0xef, 0xed,\n    0xe3, 0xe1, 0xe7, 0xe5\n    ], //*/ G2X = Gx(2),\n\n/*    G3X = [\n    0x00, 0x03, 0x06, 0x05, 0x0c, 0x0f, 0x0a, 0x09, 0x18, 0x1b, 0x1e, 0x1d,\n    0x14, 0x17, 0x12, 0x11, 0x30, 0x33, 0x36, 0x35, 0x3c, 0x3f, 0x3a, 0x39,\n    0x28, 0x2b, 0x2e, 0x2d, 0x24, 0x27, 0x22, 0x21, 0x60, 0x63, 0x66, 0x65,\n    0x6c, 0x6f, 0x6a, 0x69, 0x78, 0x7b, 0x7e, 0x7d, 0x74, 0x77, 0x72, 0x71,\n    0x50, 0x53, 0x56, 0x55, 0x5c, 0x5f, 0x5a, 0x59, 0x48, 0x4b, 0x4e, 0x4d,\n    0x44, 0x47, 0x42, 0x41, 0xc0, 0xc3, 0xc6, 0xc5, 0xcc, 0xcf, 0xca, 0xc9,\n    0xd8, 0xdb, 0xde, 0xdd, 0xd4, 0xd7, 0xd2, 0xd1, 0xf0, 0xf3, 0xf6, 0xf5,\n    0xfc, 0xff, 0xfa, 0xf9, 0xe8, 0xeb, 0xee, 0xed, 0xe4, 0xe7, 0xe2, 0xe1,\n    0xa0, 0xa3, 0xa6, 0xa5, 0xac, 0xaf, 0xaa, 0xa9, 0xb8, 0xbb, 0xbe, 0xbd,\n    0xb4, 0xb7, 0xb2, 0xb1, 0x90, 0x93, 0x96, 0x95, 0x9c, 0x9f, 0x9a, 0x99,\n    0x88, 0x8b, 0x8e, 0x8d, 0x84, 0x87, 0x82, 0x81, 0x9b, 0x98, 0x9d, 0x9e,\n    0x97, 0x94, 0x91, 0x92, 0x83, 0x80, 0x85, 0x86, 0x8f, 0x8c, 0x89, 0x8a,\n    0xab, 0xa8, 0xad, 0xae, 0xa7, 0xa4, 0xa1, 0xa2, 0xb3, 0xb0, 0xb5, 0xb6,\n    0xbf, 0xbc, 0xb9, 0xba, 0xfb, 0xf8, 0xfd, 0xfe, 0xf7, 0xf4, 0xf1, 0xf2,\n    0xe3, 0xe0, 0xe5, 0xe6, 0xef, 0xec, 0xe9, 0xea, 0xcb, 0xc8, 0xcd, 0xce,\n    0xc7, 0xc4, 0xc1, 0xc2, 0xd3, 0xd0, 0xd5, 0xd6, 0xdf, 0xdc, 0xd9, 0xda,\n    0x5b, 0x58, 0x5d, 0x5e, 0x57, 0x54, 0x51, 0x52, 0x43, 0x40, 0x45, 0x46,\n    0x4f, 0x4c, 0x49, 0x4a, 0x6b, 0x68, 0x6d, 0x6e, 0x67, 0x64, 0x61, 0x62,\n    0x73, 0x70, 0x75, 0x76, 0x7f, 0x7c, 0x79, 0x7a, 0x3b, 0x38, 0x3d, 0x3e,\n    0x37, 0x34, 0x31, 0x32, 0x23, 0x20, 0x25, 0x26, 0x2f, 0x2c, 0x29, 0x2a,\n    0x0b, 0x08, 0x0d, 0x0e, 0x07, 0x04, 0x01, 0x02, 0x13, 0x10, 0x15, 0x16,\n    0x1f, 0x1c, 0x19, 0x1a\n    ], //*/ G3X = Gx(3),\n\n/*\n    G9X = [\n    0x00, 0x09, 0x12, 0x1b, 0x24, 0x2d, 0x36, 0x3f, 0x48, 0x41, 0x5a, 0x53,\n    0x6c, 0x65, 0x7e, 0x77, 0x90, 0x99, 0x82, 0x8b, 0xb4, 0xbd, 0xa6, 0xaf,\n    0xd8, 0xd1, 0xca, 0xc3, 0xfc, 0xf5, 0xee, 0xe7, 0x3b, 0x32, 0x29, 0x20,\n    0x1f, 0x16, 0x0d, 0x04, 0x73, 0x7a, 0x61, 0x68, 0x57, 0x5e, 0x45, 0x4c,\n    0xab, 0xa2, 0xb9, 0xb0, 0x8f, 0x86, 0x9d, 0x94, 0xe3, 0xea, 0xf1, 0xf8,\n    0xc7, 0xce, 0xd5, 0xdc, 0x76, 0x7f, 0x64, 0x6d, 0x52, 0x5b, 0x40, 0x49,\n    0x3e, 0x37, 0x2c, 0x25, 0x1a, 0x13, 0x08, 0x01, 0xe6, 0xef, 0xf4, 0xfd,\n    0xc2, 0xcb, 0xd0, 0xd9, 0xae, 0xa7, 0xbc, 0xb5, 0x8a, 0x83, 0x98, 0x91,\n    0x4d, 0x44, 0x5f, 0x56, 0x69, 0x60, 0x7b, 0x72, 0x05, 0x0c, 0x17, 0x1e,\n    0x21, 0x28, 0x33, 0x3a, 0xdd, 0xd4, 0xcf, 0xc6, 0xf9, 0xf0, 0xeb, 0xe2,\n    0x95, 0x9c, 0x87, 0x8e, 0xb1, 0xb8, 0xa3, 0xaa, 0xec, 0xe5, 0xfe, 0xf7,\n    0xc8, 0xc1, 0xda, 0xd3, 0xa4, 0xad, 0xb6, 0xbf, 0x80, 0x89, 0x92, 0x9b,\n    0x7c, 0x75, 0x6e, 0x67, 0x58, 0x51, 0x4a, 0x43, 0x34, 0x3d, 0x26, 0x2f,\n    0x10, 0x19, 0x02, 0x0b, 0xd7, 0xde, 0xc5, 0xcc, 0xf3, 0xfa, 0xe1, 0xe8,\n    0x9f, 0x96, 0x8d, 0x84, 0xbb, 0xb2, 0xa9, 0xa0, 0x47, 0x4e, 0x55, 0x5c,\n    0x63, 0x6a, 0x71, 0x78, 0x0f, 0x06, 0x1d, 0x14, 0x2b, 0x22, 0x39, 0x30,\n    0x9a, 0x93, 0x88, 0x81, 0xbe, 0xb7, 0xac, 0xa5, 0xd2, 0xdb, 0xc0, 0xc9,\n    0xf6, 0xff, 0xe4, 0xed, 0x0a, 0x03, 0x18, 0x11, 0x2e, 0x27, 0x3c, 0x35,\n    0x42, 0x4b, 0x50, 0x59, 0x66, 0x6f, 0x74, 0x7d, 0xa1, 0xa8, 0xb3, 0xba,\n    0x85, 0x8c, 0x97, 0x9e, 0xe9, 0xe0, 0xfb, 0xf2, 0xcd, 0xc4, 0xdf, 0xd6,\n    0x31, 0x38, 0x23, 0x2a, 0x15, 0x1c, 0x07, 0x0e, 0x79, 0x70, 0x6b, 0x62,\n    0x5d, 0x54, 0x4f, 0x46\n    ], //*/ G9X = Gx(9),\n\n/*    GBX = [\n    0x00, 0x0b, 0x16, 0x1d, 0x2c, 0x27, 0x3a, 0x31, 0x58, 0x53, 0x4e, 0x45,\n    0x74, 0x7f, 0x62, 0x69, 0xb0, 0xbb, 0xa6, 0xad, 0x9c, 0x97, 0x8a, 0x81,\n    0xe8, 0xe3, 0xfe, 0xf5, 0xc4, 0xcf, 0xd2, 0xd9, 0x7b, 0x70, 0x6d, 0x66,\n    0x57, 0x5c, 0x41, 0x4a, 0x23, 0x28, 0x35, 0x3e, 0x0f, 0x04, 0x19, 0x12,\n    0xcb, 0xc0, 0xdd, 0xd6, 0xe7, 0xec, 0xf1, 0xfa, 0x93, 0x98, 0x85, 0x8e,\n    0xbf, 0xb4, 0xa9, 0xa2, 0xf6, 0xfd, 0xe0, 0xeb, 0xda, 0xd1, 0xcc, 0xc7,\n    0xae, 0xa5, 0xb8, 0xb3, 0x82, 0x89, 0x94, 0x9f, 0x46, 0x4d, 0x50, 0x5b,\n    0x6a, 0x61, 0x7c, 0x77, 0x1e, 0x15, 0x08, 0x03, 0x32, 0x39, 0x24, 0x2f,\n    0x8d, 0x86, 0x9b, 0x90, 0xa1, 0xaa, 0xb7, 0xbc, 0xd5, 0xde, 0xc3, 0xc8,\n    0xf9, 0xf2, 0xef, 0xe4, 0x3d, 0x36, 0x2b, 0x20, 0x11, 0x1a, 0x07, 0x0c,\n    0x65, 0x6e, 0x73, 0x78, 0x49, 0x42, 0x5f, 0x54, 0xf7, 0xfc, 0xe1, 0xea,\n    0xdb, 0xd0, 0xcd, 0xc6, 0xaf, 0xa4, 0xb9, 0xb2, 0x83, 0x88, 0x95, 0x9e,\n    0x47, 0x4c, 0x51, 0x5a, 0x6b, 0x60, 0x7d, 0x76, 0x1f, 0x14, 0x09, 0x02,\n    0x33, 0x38, 0x25, 0x2e, 0x8c, 0x87, 0x9a, 0x91, 0xa0, 0xab, 0xb6, 0xbd,\n    0xd4, 0xdf, 0xc2, 0xc9, 0xf8, 0xf3, 0xee, 0xe5, 0x3c, 0x37, 0x2a, 0x21,\n    0x10, 0x1b, 0x06, 0x0d, 0x64, 0x6f, 0x72, 0x79, 0x48, 0x43, 0x5e, 0x55,\n    0x01, 0x0a, 0x17, 0x1c, 0x2d, 0x26, 0x3b, 0x30, 0x59, 0x52, 0x4f, 0x44,\n    0x75, 0x7e, 0x63, 0x68, 0xb1, 0xba, 0xa7, 0xac, 0x9d, 0x96, 0x8b, 0x80,\n    0xe9, 0xe2, 0xff, 0xf4, 0xc5, 0xce, 0xd3, 0xd8, 0x7a, 0x71, 0x6c, 0x67,\n    0x56, 0x5d, 0x40, 0x4b, 0x22, 0x29, 0x34, 0x3f, 0x0e, 0x05, 0x18, 0x13,\n    0xca, 0xc1, 0xdc, 0xd7, 0xe6, 0xed, 0xf0, 0xfb, 0x92, 0x99, 0x84, 0x8f,\n    0xbe, 0xb5, 0xa8, 0xa3\n    ], //*/ GBX = Gx(0xb),\n\n/*\n    GDX = [\n    0x00, 0x0d, 0x1a, 0x17, 0x34, 0x39, 0x2e, 0x23, 0x68, 0x65, 0x72, 0x7f,\n    0x5c, 0x51, 0x46, 0x4b, 0xd0, 0xdd, 0xca, 0xc7, 0xe4, 0xe9, 0xfe, 0xf3,\n    0xb8, 0xb5, 0xa2, 0xaf, 0x8c, 0x81, 0x96, 0x9b, 0xbb, 0xb6, 0xa1, 0xac,\n    0x8f, 0x82, 0x95, 0x98, 0xd3, 0xde, 0xc9, 0xc4, 0xe7, 0xea, 0xfd, 0xf0,\n    0x6b, 0x66, 0x71, 0x7c, 0x5f, 0x52, 0x45, 0x48, 0x03, 0x0e, 0x19, 0x14,\n    0x37, 0x3a, 0x2d, 0x20, 0x6d, 0x60, 0x77, 0x7a, 0x59, 0x54, 0x43, 0x4e,\n    0x05, 0x08, 0x1f, 0x12, 0x31, 0x3c, 0x2b, 0x26, 0xbd, 0xb0, 0xa7, 0xaa,\n    0x89, 0x84, 0x93, 0x9e, 0xd5, 0xd8, 0xcf, 0xc2, 0xe1, 0xec, 0xfb, 0xf6,\n    0xd6, 0xdb, 0xcc, 0xc1, 0xe2, 0xef, 0xf8, 0xf5, 0xbe, 0xb3, 0xa4, 0xa9,\n    0x8a, 0x87, 0x90, 0x9d, 0x06, 0x0b, 0x1c, 0x11, 0x32, 0x3f, 0x28, 0x25,\n    0x6e, 0x63, 0x74, 0x79, 0x5a, 0x57, 0x40, 0x4d, 0xda, 0xd7, 0xc0, 0xcd,\n    0xee, 0xe3, 0xf4, 0xf9, 0xb2, 0xbf, 0xa8, 0xa5, 0x86, 0x8b, 0x9c, 0x91,\n    0x0a, 0x07, 0x10, 0x1d, 0x3e, 0x33, 0x24, 0x29, 0x62, 0x6f, 0x78, 0x75,\n    0x56, 0x5b, 0x4c, 0x41, 0x61, 0x6c, 0x7b, 0x76, 0x55, 0x58, 0x4f, 0x42,\n    0x09, 0x04, 0x13, 0x1e, 0x3d, 0x30, 0x27, 0x2a, 0xb1, 0xbc, 0xab, 0xa6,\n    0x85, 0x88, 0x9f, 0x92, 0xd9, 0xd4, 0xc3, 0xce, 0xed, 0xe0, 0xf7, 0xfa,\n    0xb7, 0xba, 0xad, 0xa0, 0x83, 0x8e, 0x99, 0x94, 0xdf, 0xd2, 0xc5, 0xc8,\n    0xeb, 0xe6, 0xf1, 0xfc, 0x67, 0x6a, 0x7d, 0x70, 0x53, 0x5e, 0x49, 0x44,\n    0x0f, 0x02, 0x15, 0x18, 0x3b, 0x36, 0x21, 0x2c, 0x0c, 0x01, 0x16, 0x1b,\n    0x38, 0x35, 0x22, 0x2f, 0x64, 0x69, 0x7e, 0x73, 0x50, 0x5d, 0x4a, 0x47,\n    0xdc, 0xd1, 0xc6, 0xcb, 0xe8, 0xe5, 0xf2, 0xff, 0xb4, 0xb9, 0xae, 0xa3,\n    0x80, 0x8d, 0x9a, 0x97\n    ], //*/ GDX = Gx(0xd),\n\n/*\n    GEX = [\n    0x00, 0x0e, 0x1c, 0x12, 0x38, 0x36, 0x24, 0x2a, 0x70, 0x7e, 0x6c, 0x62,\n    0x48, 0x46, 0x54, 0x5a, 0xe0, 0xee, 0xfc, 0xf2, 0xd8, 0xd6, 0xc4, 0xca,\n    0x90, 0x9e, 0x8c, 0x82, 0xa8, 0xa6, 0xb4, 0xba, 0xdb, 0xd5, 0xc7, 0xc9,\n    0xe3, 0xed, 0xff, 0xf1, 0xab, 0xa5, 0xb7, 0xb9, 0x93, 0x9d, 0x8f, 0x81,\n    0x3b, 0x35, 0x27, 0x29, 0x03, 0x0d, 0x1f, 0x11, 0x4b, 0x45, 0x57, 0x59,\n    0x73, 0x7d, 0x6f, 0x61, 0xad, 0xa3, 0xb1, 0xbf, 0x95, 0x9b, 0x89, 0x87,\n    0xdd, 0xd3, 0xc1, 0xcf, 0xe5, 0xeb, 0xf9, 0xf7, 0x4d, 0x43, 0x51, 0x5f,\n    0x75, 0x7b, 0x69, 0x67, 0x3d, 0x33, 0x21, 0x2f, 0x05, 0x0b, 0x19, 0x17,\n    0x76, 0x78, 0x6a, 0x64, 0x4e, 0x40, 0x52, 0x5c, 0x06, 0x08, 0x1a, 0x14,\n    0x3e, 0x30, 0x22, 0x2c, 0x96, 0x98, 0x8a, 0x84, 0xae, 0xa0, 0xb2, 0xbc,\n    0xe6, 0xe8, 0xfa, 0xf4, 0xde, 0xd0, 0xc2, 0xcc, 0x41, 0x4f, 0x5d, 0x53,\n    0x79, 0x77, 0x65, 0x6b, 0x31, 0x3f, 0x2d, 0x23, 0x09, 0x07, 0x15, 0x1b,\n    0xa1, 0xaf, 0xbd, 0xb3, 0x99, 0x97, 0x85, 0x8b, 0xd1, 0xdf, 0xcd, 0xc3,\n    0xe9, 0xe7, 0xf5, 0xfb, 0x9a, 0x94, 0x86, 0x88, 0xa2, 0xac, 0xbe, 0xb0,\n    0xea, 0xe4, 0xf6, 0xf8, 0xd2, 0xdc, 0xce, 0xc0, 0x7a, 0x74, 0x66, 0x68,\n    0x42, 0x4c, 0x5e, 0x50, 0x0a, 0x04, 0x16, 0x18, 0x32, 0x3c, 0x2e, 0x20,\n    0xec, 0xe2, 0xf0, 0xfe, 0xd4, 0xda, 0xc8, 0xc6, 0x9c, 0x92, 0x80, 0x8e,\n    0xa4, 0xaa, 0xb8, 0xb6, 0x0c, 0x02, 0x10, 0x1e, 0x34, 0x3a, 0x28, 0x26,\n    0x7c, 0x72, 0x60, 0x6e, 0x44, 0x4a, 0x58, 0x56, 0x37, 0x39, 0x2b, 0x25,\n    0x0f, 0x01, 0x13, 0x1d, 0x47, 0x49, 0x5b, 0x55, 0x7f, 0x71, 0x63, 0x6d,\n    0xd7, 0xd9, 0xcb, 0xc5, 0xef, 0xe1, 0xf3, 0xfd, 0xa7, 0xa9, 0xbb, 0xb5,\n    0x9f, 0x91, 0x83, 0x8d\n    ], //*/ GEX = Gx(0xe),\n\n    enc = function(string, pass, binary) {\n        // string, password in plaintext\n        var salt = randArr(8),\n        pbe = openSSLKey(s2a(pass, binary), salt),\n        key = pbe.key,\n        iv = pbe.iv,\n        cipherBlocks,\n        saltBlock = [[83, 97, 108, 116, 101, 100, 95, 95].concat(salt)];\n        string = s2a(string, binary);\n        cipherBlocks = rawEncrypt(string, key, iv);\n        // Spells out 'Salted__'\n        cipherBlocks = saltBlock.concat(cipherBlocks);\n        return Base64.encode(cipherBlocks);\n    },\n\n    dec = function(string, pass, binary) {\n        // string, password in plaintext\n        var cryptArr = Base64.decode(string),\n        salt = cryptArr.slice(8, 16),\n        pbe = openSSLKey(s2a(pass, binary), salt),\n        key = pbe.key,\n        iv = pbe.iv;\n        cryptArr = cryptArr.slice(16, cryptArr.length);\n        // Take off the Salted__ffeeddcc\n        string = rawDecrypt(cryptArr, key, iv, binary);\n        return string;\n    },\n\n    MD5 = function(numArr) {\n\n        function rotateLeft(lValue, iShiftBits) {\n            return (lValue << iShiftBits) | (lValue >>> (32 - iShiftBits));\n        }\n\n        function addUnsigned(lX, lY) {\n            var lX4,\n            lY4,\n            lX8,\n            lY8,\n            lResult;\n            lX8 = (lX & 0x80000000);\n            lY8 = (lY & 0x80000000);\n            lX4 = (lX & 0x40000000);\n            lY4 = (lY & 0x40000000);\n            lResult = (lX & 0x3FFFFFFF) + (lY & 0x3FFFFFFF);\n            if (lX4 & lY4) {\n                return (lResult ^ 0x80000000 ^ lX8 ^ lY8);\n            }\n            if (lX4 | lY4) {\n                if (lResult & 0x40000000) {\n                    return (lResult ^ 0xC0000000 ^ lX8 ^ lY8);\n                } else {\n                    return (lResult ^ 0x40000000 ^ lX8 ^ lY8);\n                }\n            } else {\n                return (lResult ^ lX8 ^ lY8);\n            }\n        }\n\n        function f(x, y, z) {\n            return (x & y) | ((~x) & z);\n        }\n        function g(x, y, z) {\n            return (x & z) | (y & (~z));\n        }\n        function h(x, y, z) {\n            return (x ^ y ^ z);\n        }\n        function funcI(x, y, z) {\n            return (y ^ (x | (~z)));\n        }\n\n        function ff(a, b, c, d, x, s, ac) {\n            a = addUnsigned(a, addUnsigned(addUnsigned(f(b, c, d), x), ac));\n            return addUnsigned(rotateLeft(a, s), b);\n        }\n\n        function gg(a, b, c, d, x, s, ac) {\n            a = addUnsigned(a, addUnsigned(addUnsigned(g(b, c, d), x), ac));\n            return addUnsigned(rotateLeft(a, s), b);\n        }\n\n        function hh(a, b, c, d, x, s, ac) {\n            a = addUnsigned(a, addUnsigned(addUnsigned(h(b, c, d), x), ac));\n            return addUnsigned(rotateLeft(a, s), b);\n        }\n\n        function ii(a, b, c, d, x, s, ac) {\n            a = addUnsigned(a, addUnsigned(addUnsigned(funcI(b, c, d), x), ac));\n            return addUnsigned(rotateLeft(a, s), b);\n        }\n\n        function convertToWordArray(numArr) {\n            var lWordCount,\n            lMessageLength = numArr.length,\n            lNumberOfWords_temp1 = lMessageLength + 8,\n            lNumberOfWords_temp2 = (lNumberOfWords_temp1 - (lNumberOfWords_temp1 % 64)) / 64,\n            lNumberOfWords = (lNumberOfWords_temp2 + 1) * 16,\n            lWordArray = [],\n            lBytePosition = 0,\n            lByteCount = 0;\n            while (lByteCount < lMessageLength) {\n                lWordCount = (lByteCount - (lByteCount % 4)) / 4;\n                lBytePosition = (lByteCount % 4) * 8;\n                lWordArray[lWordCount] = (lWordArray[lWordCount] | (numArr[lByteCount] << lBytePosition));\n                lByteCount++;\n            }\n            lWordCount = (lByteCount - (lByteCount % 4)) / 4;\n            lBytePosition = (lByteCount % 4) * 8;\n            lWordArray[lWordCount] = lWordArray[lWordCount] | (0x80 << lBytePosition);\n            lWordArray[lNumberOfWords - 2] = lMessageLength << 3;\n            lWordArray[lNumberOfWords - 1] = lMessageLength >>> 29;\n            return lWordArray;\n        }\n\n        function wordToHex(lValue) {\n            var lByte,\n            lCount,\n            wordToHexArr = [];\n            for (lCount = 0; lCount <= 3; lCount++) {\n                lByte = (lValue >>> (lCount * 8)) & 255;\n                wordToHexArr = wordToHexArr.concat(lByte);\n             }\n            return wordToHexArr;\n        }\n\n        /*function utf8Encode(string) {\n            string = string.replace(/\\r\\n/g, \"\\n\");\n            var utftext = \"\",\n            n,\n            c;\n\n            for (n = 0; n < string.length; n++) {\n\n                c = string.charCodeAt(n);\n\n                if (c < 128) {\n                    utftext += String.fromCharCode(c);\n                }\n                else if ((c > 127) && (c < 2048)) {\n                    utftext += String.fromCharCode((c >> 6) | 192);\n                    utftext += String.fromCharCode((c & 63) | 128);\n                }\n                else {\n                    utftext += String.fromCharCode((c >> 12) | 224);\n                    utftext += String.fromCharCode(((c >> 6) & 63) | 128);\n                    utftext += String.fromCharCode((c & 63) | 128);\n                }\n\n            }\n\n            return utftext;\n        }*/\n\n        var x = [],\n        k,\n        AA,\n        BB,\n        CC,\n        DD,\n        a,\n        b,\n        c,\n        d,\n        rnd = strhex('67452301efcdab8998badcfe10325476d76aa478e8c7b756242070dbc1bdceeef57c0faf4787c62aa8304613fd469501698098d88b44f7afffff5bb1895cd7be6b901122fd987193a679438e49b40821f61e2562c040b340265e5a51e9b6c7aad62f105d02441453d8a1e681e7d3fbc821e1cde6c33707d6f4d50d87455a14eda9e3e905fcefa3f8676f02d98d2a4c8afffa39428771f6816d9d6122fde5380ca4beea444bdecfa9f6bb4b60bebfbc70289b7ec6eaa127fad4ef308504881d05d9d4d039e6db99e51fa27cf8c4ac5665f4292244432aff97ab9423a7fc93a039655b59c38f0ccc92ffeff47d85845dd16fa87e4ffe2ce6e0a30143144e0811a1f7537e82bd3af2352ad7d2bbeb86d391',8);\n\n        x = convertToWordArray(numArr);\n\n        a = rnd[0];\n        b = rnd[1];\n        c = rnd[2];\n        d = rnd[3]\n\n        for (k = 0; k < x.length; k += 16) {\n            AA = a;\n            BB = b;\n            CC = c;\n            DD = d;\n            a = ff(a, b, c, d, x[k + 0], 7, rnd[4]);\n            d = ff(d, a, b, c, x[k + 1], 12, rnd[5]);\n            c = ff(c, d, a, b, x[k + 2], 17, rnd[6]);\n            b = ff(b, c, d, a, x[k + 3], 22, rnd[7]);\n            a = ff(a, b, c, d, x[k + 4], 7, rnd[8]);\n            d = ff(d, a, b, c, x[k + 5], 12, rnd[9]);\n            c = ff(c, d, a, b, x[k + 6], 17, rnd[10]);\n            b = ff(b, c, d, a, x[k + 7], 22, rnd[11]);\n            a = ff(a, b, c, d, x[k + 8], 7, rnd[12]);\n            d = ff(d, a, b, c, x[k + 9], 12, rnd[13]);\n            c = ff(c, d, a, b, x[k + 10], 17, rnd[14]);\n            b = ff(b, c, d, a, x[k + 11], 22, rnd[15]);\n            a = ff(a, b, c, d, x[k + 12], 7, rnd[16]);\n            d = ff(d, a, b, c, x[k + 13], 12, rnd[17]);\n            c = ff(c, d, a, b, x[k + 14], 17, rnd[18]);\n            b = ff(b, c, d, a, x[k + 15], 22, rnd[19]);\n            a = gg(a, b, c, d, x[k + 1], 5, rnd[20]);\n            d = gg(d, a, b, c, x[k + 6], 9, rnd[21]);\n            c = gg(c, d, a, b, x[k + 11], 14, rnd[22]);\n            b = gg(b, c, d, a, x[k + 0], 20, rnd[23]);\n            a = gg(a, b, c, d, x[k + 5], 5, rnd[24]);\n            d = gg(d, a, b, c, x[k + 10], 9, rnd[25]);\n            c = gg(c, d, a, b, x[k + 15], 14, rnd[26]);\n            b = gg(b, c, d, a, x[k + 4], 20, rnd[27]);\n            a = gg(a, b, c, d, x[k + 9], 5, rnd[28]);\n            d = gg(d, a, b, c, x[k + 14], 9, rnd[29]);\n            c = gg(c, d, a, b, x[k + 3], 14, rnd[30]);\n            b = gg(b, c, d, a, x[k + 8], 20, rnd[31]);\n            a = gg(a, b, c, d, x[k + 13], 5, rnd[32]);\n            d = gg(d, a, b, c, x[k + 2], 9, rnd[33]);\n            c = gg(c, d, a, b, x[k + 7], 14, rnd[34]);\n            b = gg(b, c, d, a, x[k + 12], 20, rnd[35]);\n            a = hh(a, b, c, d, x[k + 5], 4, rnd[36]);\n            d = hh(d, a, b, c, x[k + 8], 11, rnd[37]);\n            c = hh(c, d, a, b, x[k + 11], 16, rnd[38]);\n            b = hh(b, c, d, a, x[k + 14], 23, rnd[39]);\n            a = hh(a, b, c, d, x[k + 1], 4, rnd[40]);\n            d = hh(d, a, b, c, x[k + 4], 11, rnd[41]);\n            c = hh(c, d, a, b, x[k + 7], 16, rnd[42]);\n            b = hh(b, c, d, a, x[k + 10], 23, rnd[43]);\n            a = hh(a, b, c, d, x[k + 13], 4, rnd[44]);\n            d = hh(d, a, b, c, x[k + 0], 11, rnd[45]);\n            c = hh(c, d, a, b, x[k + 3], 16, rnd[46]);\n            b = hh(b, c, d, a, x[k + 6], 23, rnd[47]);\n            a = hh(a, b, c, d, x[k + 9], 4, rnd[48]);\n            d = hh(d, a, b, c, x[k + 12], 11, rnd[49]);\n            c = hh(c, d, a, b, x[k + 15], 16, rnd[50]);\n            b = hh(b, c, d, a, x[k + 2], 23, rnd[51]);\n            a = ii(a, b, c, d, x[k + 0], 6, rnd[52]);\n            d = ii(d, a, b, c, x[k + 7], 10, rnd[53]);\n            c = ii(c, d, a, b, x[k + 14], 15, rnd[54]);\n            b = ii(b, c, d, a, x[k + 5], 21, rnd[55]);\n            a = ii(a, b, c, d, x[k + 12], 6, rnd[56]);\n            d = ii(d, a, b, c, x[k + 3], 10, rnd[57]);\n            c = ii(c, d, a, b, x[k + 10], 15, rnd[58]);\n            b = ii(b, c, d, a, x[k + 1], 21, rnd[59]);\n            a = ii(a, b, c, d, x[k + 8], 6, rnd[60]);\n            d = ii(d, a, b, c, x[k + 15], 10, rnd[61]);\n            c = ii(c, d, a, b, x[k + 6], 15, rnd[62]);\n            b = ii(b, c, d, a, x[k + 13], 21, rnd[63]);\n            a = ii(a, b, c, d, x[k + 4], 6, rnd[64]);\n            d = ii(d, a, b, c, x[k + 11], 10, rnd[65]);\n            c = ii(c, d, a, b, x[k + 2], 15, rnd[66]);\n            b = ii(b, c, d, a, x[k + 9], 21, rnd[67]);\n            a = addUnsigned(a, AA);\n            b = addUnsigned(b, BB);\n            c = addUnsigned(c, CC);\n            d = addUnsigned(d, DD);\n        }\n\n        return wordToHex(a).concat(wordToHex(b), wordToHex(c), wordToHex(d));\n    },\n\n    encString = function(plaintext, key, iv) {\n        plaintext = s2a(plaintext);\n\n        key = s2a(key);\n        for (var i=key.length; i<32; i++)\n            key[i] = 0;\n\n        if (iv == null) {\n            iv = genIV();\n        } else {\n            iv = s2a(iv);\n            for (var i=iv.length; i<16; i++)\n                iv[i] = 0;\n        }\n\n        var ct = rawEncrypt(plaintext, key, iv);\n        var ret = [iv];\n        for (var i=0; i<ct.length; i++)\n            ret[ret.length] = ct[i];\n        return Base64.encode(ret);\n    },\n\n    decString = function(ciphertext, key) {\n        var tmp = Base64.decode(ciphertext);\n        var iv = tmp.slice(0, 16);\n        var ct = tmp.slice(16, tmp.length);\n\n        key = s2a(key);\n        for (var i=key.length; i<32; i++)\n            key[i] = 0;\n\n        var pt = rawDecrypt(ct, key, iv, false);\n        return pt;\n    },\n\n    Base64 = (function(){\n        // Takes a Nx16x1 byte array and converts it to Base64\n        var _chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n        chars = _chars.split(''),\n\n        encode = function(b, withBreaks) {\n            var flatArr = [],\n            b64 = '',\n            i,\n            broken_b64;\n            var totalChunks = Math.floor(b.length * 16 / 3);\n            for (i = 0; i < b.length * 16; i++) {\n                flatArr.push(b[Math.floor(i / 16)][i % 16]);\n            }\n            for (i = 0; i < flatArr.length; i = i + 3) {\n                b64 += chars[flatArr[i] >> 2];\n                b64 += chars[((flatArr[i] & 3) << 4) | (flatArr[i + 1] >> 4)];\n                if (! (flatArr[i + 1] === undefined)) {\n                    b64 += chars[((flatArr[i + 1] & 15) << 2) | (flatArr[i + 2] >> 6)];\n                } else {\n                    b64 += '=';\n                }\n                if (! (flatArr[i + 2] === undefined)) {\n                    b64 += chars[flatArr[i + 2] & 63];\n                } else {\n                    b64 += '=';\n                }\n            }\n            // OpenSSL is super particular about line breaks\n            broken_b64 = b64.slice(0, 64); // + '\\n';\n            for (i = 1; i < (Math['ceil'](b64.length / 64)); i++) {\n                broken_b64 += b64.slice(i * 64, i * 64 + 64) + (Math.ceil(b64.length / 64) == i + 1 ? '': '\\n');\n            }\n            return broken_b64;\n        },\n\n        decode = function(string) {\n            string = string['replace'](/\\n/g, '');\n            var flatArr = [],\n            c = [],\n            b = [],\n            i;\n            for (i = 0; i < string.length; i = i + 4) {\n                c[0] = _chars.indexOf(string.charAt(i));\n                c[1] = _chars.indexOf(string.charAt(i + 1));\n                c[2] = _chars.indexOf(string.charAt(i + 2));\n                c[3] = _chars.indexOf(string.charAt(i + 3));\n\n                b[0] = (c[0] << 2) | (c[1] >> 4);\n                b[1] = ((c[1] & 15) << 4) | (c[2] >> 2);\n                b[2] = ((c[2] & 3) << 6) | c[3];\n                flatArr.push(b[0], b[1], b[2]);\n            }\n            flatArr = flatArr.slice(0, flatArr.length - (flatArr.length % 16));\n            return flatArr;\n        };\n\n        //internet explorer\n        if(typeof Array.indexOf === \"function\") {\n            _chars = chars;\n        }\n\n        /*\n        //other way to solve internet explorer problem\n        if(!Array.indexOf){\n            Array.prototype.indexOf = function(obj){\n                for(var i=0; i<this.length; i++){\n                    if(this[i]===obj){\n                        return i;\n                    }\n                }\n                return -1;\n            }\n        }\n        */\n\n\n        return {\n            \"encode\": encode,\n            \"decode\": decode\n        };\n    })();\n\n    return {\n        \"size\": size,\n        \"h2a\":h2a,\n        \"expandKey\":expandKey,\n        \"encryptBlock\":encryptBlock,\n        \"decryptBlock\":decryptBlock,\n        \"Decrypt\":Decrypt,\n        \"s2a\":s2a,\n        \"rawEncrypt\":rawEncrypt,\n        \"rawDecrypt\":rawDecrypt,\n        \"dec\":dec,\n        \"openSSLKey\":openSSLKey,\n        \"a2h\":a2h,\n        \"enc\":enc,\n        \"Hash\":{\"MD5\":MD5},\n        \"Base64\":Base64\n    };\n\n})();\n\nfunction crypto_obj (){\n\n\nfunction SHA256(s) {\n\n    var chrsz = 8;\n    var hexcase = 0;\n\n    function safe_add(x, y) {\n        var lsw = (x & 0xFFFF) + (y & 0xFFFF);\n        var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n        return (msw << 16) | (lsw & 0xFFFF);\n    }\n\n    function S(X, n) {\n        return ( X >>> n ) | (X << (32 - n));\n    }\n\n    function R(X, n) {\n        return ( X >>> n );\n    }\n\n    function Ch(x, y, z) {\n        return ((x & y) ^ ((~x) & z));\n    }\n\n    function Maj(x, y, z) {\n        return ((x & y) ^ (x & z) ^ (y & z));\n    }\n\n    function Sigma0256(x) {\n        return (S(x, 2) ^ S(x, 13) ^ S(x, 22));\n    }\n\n    function Sigma1256(x) {\n        return (S(x, 6) ^ S(x, 11) ^ S(x, 25));\n    }\n\n    function Gamma0256(x) {\n        return (S(x, 7) ^ S(x, 18) ^ R(x, 3));\n    }\n\n    function Gamma1256(x) {\n        return (S(x, 17) ^ S(x, 19) ^ R(x, 10));\n    }\n\n    function core_sha256(m, l) {\n        var K = new Array(0x428A2F98, 0x71374491, 0xB5C0FBCF, 0xE9B5DBA5, 0x3956C25B, 0x59F111F1, 0x923F82A4, 0xAB1C5ED5, 0xD807AA98, 0x12835B01, 0x243185BE, 0x550C7DC3, 0x72BE5D74, 0x80DEB1FE, 0x9BDC06A7, 0xC19BF174, 0xE49B69C1, 0xEFBE4786, 0xFC19DC6, 0x240CA1CC, 0x2DE92C6F, 0x4A7484AA, 0x5CB0A9DC, 0x76F988DA, 0x983E5152, 0xA831C66D, 0xB00327C8, 0xBF597FC7, 0xC6E00BF3, 0xD5A79147, 0x6CA6351, 0x14292967, 0x27B70A85, 0x2E1B2138, 0x4D2C6DFC, 0x53380D13, 0x650A7354, 0x766A0ABB, 0x81C2C92E, 0x92722C85, 0xA2BFE8A1, 0xA81A664B, 0xC24B8B70, 0xC76C51A3, 0xD192E819, 0xD6990624, 0xF40E3585, 0x106AA070, 0x19A4C116, 0x1E376C08, 0x2748774C, 0x34B0BCB5, 0x391C0CB3, 0x4ED8AA4A, 0x5B9CCA4F, 0x682E6FF3, 0x748F82EE, 0x78A5636F, 0x84C87814, 0x8CC70208, 0x90BEFFFA, 0xA4506CEB, 0xBEF9A3F7, 0xC67178F2);\n        var HASH = new Array(0x6A09E667, 0xBB67AE85, 0x3C6EF372, 0xA54FF53A, 0x510E527F, 0x9B05688C, 0x1F83D9AB, 0x5BE0CD19);\n        var W = new Array(64);\n        var a, b, c, d, e, f, g, h, i, j;\n        var T1, T2;\n\n        m[l >> 5] |= 0x80 << (24 - l % 32);\n        m[((l + 64 >> 9) << 4) + 15] = l;\n\n        for (var i = 0; i < m.length; i += 16) {\n            a = HASH[0];\n            b = HASH[1];\n            c = HASH[2];\n            d = HASH[3];\n            e = HASH[4];\n            f = HASH[5];\n            g = HASH[6];\n            h = HASH[7];\n\n            for (var j = 0; j < 64; j++) {\n                if (j < 16) W[j] = m[j + i];\n                else W[j] = safe_add(safe_add(safe_add(Gamma1256(W[j - 2]), W[j - 7]), Gamma0256(W[j - 15])), W[j - 16]);\n\n                T1 = safe_add(safe_add(safe_add(safe_add(h, Sigma1256(e)), Ch(e, f, g)), K[j]), W[j]);\n                T2 = safe_add(Sigma0256(a), Maj(a, b, c));\n\n                h = g;\n                g = f;\n                f = e;\n                e = safe_add(d, T1);\n                d = c;\n                c = b;\n                b = a;\n                a = safe_add(T1, T2);\n            }\n\n            HASH[0] = safe_add(a, HASH[0]);\n            HASH[1] = safe_add(b, HASH[1]);\n            HASH[2] = safe_add(c, HASH[2]);\n            HASH[3] = safe_add(d, HASH[3]);\n            HASH[4] = safe_add(e, HASH[4]);\n            HASH[5] = safe_add(f, HASH[5]);\n            HASH[6] = safe_add(g, HASH[6]);\n            HASH[7] = safe_add(h, HASH[7]);\n        }\n        return HASH;\n    }\n\n    function str2binb(str) {\n        var bin = Array();\n        var mask = (1 << chrsz) - 1;\n        for (var i = 0; i < str.length * chrsz; i += chrsz) {\n            bin[i >> 5] |= (str.charCodeAt(i / chrsz) & mask) << (24 - i % 32);\n        }\n        return bin;\n    }\n\n    function Utf8Encode(string) {\n        string = string['replace'](/\\r\\n/g, \"\\n\");\n        var utftext = \"\";\n\n        for (var n = 0; n < string['length']; n++) {\n\n            var c = string.charCodeAt(n);\n\n            if (c < 128) {\n                utftext += String.fromCharCode(c);\n            }\n            else if ((c > 127) && (c < 2048)) {\n                utftext += String.fromCharCode((c >> 6) | 192);\n                utftext += String.fromCharCode((c & 63) | 128);\n            }\n            else {\n                utftext += String.fromCharCode((c >> 12) | 224);\n                utftext += String.fromCharCode(((c >> 6) & 63) | 128);\n                utftext += String.fromCharCode((c & 63) | 128);\n            }\n\n        }\n\n        return utftext;\n    }\n\n    function binb2hex(binarray) {\n        var hex_tab = hexcase ? \"0123456789ABCDEF\" : \"0123456789abcdef\";\n        var str = \"\";\n        for (var i = 0; i < binarray.length * 4; i++) {\n            str += hex_tab.charAt((binarray[i >> 2] >> ((3 - i % 4) * 8 + 4)) & 0xF) +\n                hex_tab.charAt((binarray[i >> 2] >> ((3 - i % 4) * 8  )) & 0xF);\n        }\n        return str;\n    }\n\n    s = Utf8Encode(s);\n    return binb2hex(core_sha256(str2binb(s), s.length * chrsz));\n}\n    var crypto = CRYPTO;\n    crypto['size'](256);\n\n    var cipher_key = \"\";\n    var iv = crypto['s2a'](\"0123456789012345\");\n\n    return {\n\n        'encrypt' : function(data, key) {\n            if (!key) return data;\n            var cipher_key = crypto['s2a'](SHA256(key)['slice'](0,32));\n            var hex_message = crypto['s2a'](JSON['stringify'](data));\n            var encryptedHexArray = crypto['rawEncrypt'](hex_message, cipher_key, iv);\n            var base_64_encrypted = crypto['Base64']['encode'](encryptedHexArray);\n            return base_64_encrypted || data;\n        } ,\n\n        'decrypt' : function(data, key) {\n            if (!key) return data;\n            var cipher_key = crypto['s2a'](SHA256(key)['slice'](0,32));\n            try {\n                var binary_enc = crypto['Base64']['decode'](data);\n                var json_plain = crypto['rawDecrypt'](binary_enc, cipher_key, iv, false);\n                var plaintext = JSON['parse'](json_plain);\n                return plaintext;\n            }\n            catch (e) {\n                return undefined;\n            }\n        }\n    };\n}\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n/* =-=========================     UTIL     =============================-= */\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n\nwindow['PUBNUB'] || (function() {\n\n/**\n * UTIL LOCALS\n */\n\nvar SWF             = 'https://pubnub.a.ssl.fastly.net/pubnub.swf'\n,   ASYNC           = 'async'\n,   UA              = navigator.userAgent\n,   PNSDK           = 'PubNub-JS-' + 'Web' + '/' + '3.7.10'\n,   XORIGN          = UA.indexOf('MSIE 6') == -1;\n\n/**\n * CONSOLE COMPATIBILITY\n */\nwindow.console || (window.console=window.console||{});\nconsole.log    || (\n    console.log   =\n    console.error =\n    ((window.opera||{}).postError||function(){})\n);\n\n/**\n * LOCAL STORAGE OR COOKIE\n */\nvar db = (function(){\n    var store = {};\n    var ls = false;\n    try {\n        ls = window['localStorage'];\n    } catch (e) { }\n    var cookieGet = function(key) {\n        if (document.cookie.indexOf(key) == -1) return null;\n        return ((document.cookie||'').match(\n            RegExp(key+'=([^;]+)')\n        )||[])[1] || null;\n    };\n    var cookieSet = function( key, value ) {\n        document.cookie = key + '=' + value +\n            '; expires=Thu, 1 Aug 2030 20:00:00 UTC; path=/';\n    };\n    var cookieTest = (function() {\n        try {\n            cookieSet('pnctest', '1');\n            return cookieGet('pnctest') === '1';\n        } catch (e) {\n            return false;\n        }\n    }());\n    return {\n        'get' : function(key) {\n            try {\n                if (ls) return ls.getItem(key);\n                if (cookieTest) return cookieGet(key);\n                return store[key];\n            } catch(e) {\n                return store[key];\n            }\n        },\n        'set' : function( key, value ) {\n            try {\n                if (ls) return ls.setItem( key, value ) && 0;\n                if (cookieTest) cookieSet( key, value );\n                store[key] = value;\n            } catch(e) {\n                store[key] = value;\n            }\n        }\n    };\n})();\n\nfunction get_hmac_SHA256(data,key) {\n    var hash = CryptoJS['HmacSHA256'](data, key);\n    return hash.toString(CryptoJS['enc']['Base64']);\n}\n\n/**\n * $\n * =\n * var div = $('divid');\n */\nfunction $(id) { return document.getElementById(id) }\n\n/**\n * ERROR\n * =====\n * error('message');\n */\nfunction error(message) { console['error'](message) }\n\n/**\n * SEARCH\n * ======\n * var elements = search('a div span');\n */\nfunction search( elements, start) {\n    var list = [];\n    each( elements.split(/\\s+/), function(el) {\n        each( (start || document).getElementsByTagName(el), function(node) {\n            list.push(node);\n        } );\n    });\n    return list;\n}\n\n/**\n * BIND\n * ====\n * bind( 'keydown', search('a')[0], function(element) {\n *     ...\n * } );\n */\nfunction bind( type, el, fun ) {\n    each( type.split(','), function(etype) {\n        var rapfun = function(e) {\n            if (!e) e = window.event;\n            if (!fun(e)) {\n                e.cancelBubble = true;\n                e.preventDefault  && e.preventDefault();\n                e.stopPropagation && e.stopPropagation();\n            }\n        };\n\n        if ( el.addEventListener ) el.addEventListener( etype, rapfun, false );\n        else if ( el.attachEvent ) el.attachEvent( 'on' + etype, rapfun );\n        else  el[ 'on' + etype ] = rapfun;\n    } );\n}\n\n/**\n * UNBIND\n * ======\n * unbind( 'keydown', search('a')[0] );\n */\nfunction unbind( type, el, fun ) {\n    if ( el.removeEventListener ) el.removeEventListener( type, false );\n    else if ( el.detachEvent ) el.detachEvent( 'on' + type, false );\n    else  el[ 'on' + type ] = null;\n}\n\n/**\n * HEAD\n * ====\n * head().appendChild(elm);\n */\nfunction head() { return search('head')[0] }\n\n/**\n * ATTR\n * ====\n * var attribute = attr( node, 'attribute' );\n */\nfunction attr( node, attribute, value ) {\n    if (value) node.setAttribute( attribute, value );\n    else return node && node.getAttribute && node.getAttribute(attribute);\n}\n\n/**\n * CSS\n * ===\n * var obj = create('div');\n */\nfunction css( element, styles ) {\n    for (var style in styles) if (styles.hasOwnProperty(style))\n        try {element.style[style] = styles[style] + (\n            '|width|height|top|left|'.indexOf(style) > 0 &&\n            typeof styles[style] == 'number'\n            ? 'px' : ''\n        )}catch(e){}\n}\n\n/**\n * CREATE\n * ======\n * var obj = create('div');\n */\nfunction create(element) { return document.createElement(element) }\n\n\n/**\n * jsonp_cb\n * ========\n * var callback = jsonp_cb();\n */\nfunction jsonp_cb() { return XORIGN || FDomainRequest() ? 0 : unique() }\n\n\n\n/**\n * EVENTS\n * ======\n * PUBNUB.events.bind( 'you-stepped-on-flower', function(message) {\n *     // Do Stuff with message\n * } );\n *\n * PUBNUB.events.fire( 'you-stepped-on-flower', \"message-data\" );\n * PUBNUB.events.fire( 'you-stepped-on-flower', {message:\"data\"} );\n * PUBNUB.events.fire( 'you-stepped-on-flower', [1,2,3] );\n *\n */\nvar events = {\n    'list'   : {},\n    'unbind' : function( name ) { events.list[name] = [] },\n    'bind'   : function( name, fun ) {\n        (events.list[name] = events.list[name] || []).push(fun);\n    },\n    'fire' : function( name, data ) {\n        each(\n            events.list[name] || [],\n            function(fun) { fun(data) }\n        );\n    }\n};\n\n/**\n * XDR Cross Domain Request\n * ========================\n *  xdr({\n *     url     : ['http://www.blah.com/url'],\n *     success : function(response) {},\n *     fail    : function() {}\n *  });\n */\nfunction xdr( setup ) {\n    if (XORIGN || FDomainRequest()) return ajax(setup);\n\n    var script    = create('script')\n    ,   callback  = setup.callback\n    ,   id        = unique()\n    ,   finished  = 0\n    ,   xhrtme    = setup.timeout || DEF_TIMEOUT\n    ,   timer     = timeout( function(){done(1, {\"message\" : \"timeout\"})}, xhrtme )\n    ,   fail      = setup.fail    || function(){}\n    ,   data      = setup.data    || {}\n    ,   success   = setup.success || function(){}\n    ,   append    = function() { head().appendChild(script) }\n    ,   done      = function( failed, response ) {\n            if (finished) return;\n            finished = 1;\n\n            script.onerror = null;\n            clearTimeout(timer);\n\n            (failed || !response) || success(response);\n\n            timeout( function() {\n                failed && fail();\n                var s = $(id)\n                ,   p = s && s.parentNode;\n                p && p.removeChild(s);\n            }, SECOND );\n        };\n\n    window[callback] = function(response) {\n        done( 0, response );\n    };\n\n    if (!setup.blocking) script[ASYNC] = ASYNC;\n\n    script.onerror = function() { done(1) };\n    script.src     = build_url( setup.url, data );\n\n    attr( script, 'id', id );\n\n    append();\n    return done;\n}\n\n/**\n * CORS XHR Request\n * ================\n *  xdr({\n *     url     : ['http://www.blah.com/url'],\n *     success : function(response) {},\n *     fail    : function() {}\n *  });\n */\nfunction ajax( setup ) {\n    var xhr, response\n    ,   finished = function() {\n            if (loaded) return;\n            loaded = 1;\n\n            clearTimeout(timer);\n\n            try       { response = JSON['parse'](xhr.responseText); }\n            catch (r) { return done(1); }\n\n            complete = 1;\n            success(response);\n        }\n    ,   complete = 0\n    ,   loaded   = 0\n    ,   xhrtme   = setup.timeout || DEF_TIMEOUT\n    ,   timer    = timeout( function(){done(1, {\"message\" : \"timeout\"})}, xhrtme )\n    ,   fail     = setup.fail    || function(){}\n    ,   data     = setup.data    || {}\n    ,   success  = setup.success || function(){}\n    ,   async    = !(setup.blocking)\n    ,   done     = function(failed,response) {\n            if (complete) return;\n            complete = 1;\n\n            clearTimeout(timer);\n\n            if (xhr) {\n                xhr.onerror = xhr.onload = null;\n                xhr.abort && xhr.abort();\n                xhr = null;\n            }\n\n            failed && fail(response);\n        };\n\n    // Send\n    try {\n        xhr = FDomainRequest()      ||\n              window.XDomainRequest &&\n              new XDomainRequest()  ||\n              new XMLHttpRequest();\n\n        xhr.onerror = xhr.onabort   = function(){ done(\n            1, xhr.responseText || { \"error\" : \"Network Connection Error\"}\n        ) };\n        xhr.onload  = xhr.onloadend = finished;\n        xhr.onreadystatechange = function() {\n            if (xhr && xhr.readyState == 4) {\n                switch(xhr.status) {\n                    case 200:\n                        break;\n                    default:\n                        try {\n                            response = JSON['parse'](xhr.responseText);\n                            done(1,response);\n                        }\n                        catch (r) { return done(1, {status : xhr.status, payload : null, message : xhr.responseText}); }\n                        return;\n                }\n            }\n        }\n\n        var url = build_url(setup.url,data);\n\n        xhr.open( 'GET', url, async );\n        if (async) xhr.timeout = xhrtme;\n        xhr.send();\n    }\n    catch(eee) {\n        done(0);\n        XORIGN = 0;\n        return xdr(setup);\n    }\n\n    // Return 'done'\n    return done;\n}\n\n// Test Connection State\nfunction _is_online() {\n    if (!('onLine' in navigator)) return 1;\n    try       { return navigator['onLine'] }\n    catch (e) { return true }\n}\n\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n/* =-=========================     PUBNUB     ===========================-= */\n/* =-====================================================================-= */\n/* =-====================================================================-= */\n\nvar PDIV          = $('pubnub') || 0\n,   CREATE_PUBNUB = function(setup) {\n\n    // Force JSONP if requested from user.\n    if (setup['jsonp'])  XORIGN = 0;\n    else                 XORIGN = UA.indexOf('MSIE 6') == -1;\n\n    var SUBSCRIBE_KEY = setup['subscribe_key'] || ''\n    ,   KEEPALIVE     = (+setup['keepalive']   || DEF_KEEPALIVE)   * SECOND\n    ,   UUID          = setup['uuid'] || db['get'](SUBSCRIBE_KEY+'uuid')||'';\n\n    var leave_on_unload = setup['leave_on_unload'] || 0;\n\n    setup['xdr']        = xdr;\n    setup['db']         = db;\n    setup['error']      = setup['error'] || error;\n    setup['_is_online'] = _is_online;\n    setup['jsonp_cb']   = jsonp_cb;\n    setup['hmac_SHA256']= get_hmac_SHA256;\n    setup['crypto_obj'] = crypto_obj();\n    setup['params']     = { 'pnsdk' : PNSDK }\n\n    var SELF = function(setup) {\n        return CREATE_PUBNUB(setup);\n    };\n\n    var PN = PN_API(setup);\n\n    for (var prop in PN) {\n        if (PN.hasOwnProperty(prop)) {\n            SELF[prop] = PN[prop];\n        }\n    }\n    SELF['css']         = css;\n    SELF['$']           = $;\n    SELF['create']      = create;\n    SELF['bind']        = bind;\n    SELF['head']        = head;\n    SELF['search']      = search;\n    SELF['attr']        = attr;\n    SELF['events']      = events;\n    SELF['init']        = SELF;\n    SELF['secure']      = SELF;\n\n\n    // Add Leave Functions\n    bind( 'beforeunload', window, function() {\n        if (leave_on_unload) SELF['each-channel'](function(ch){ SELF['LEAVE']( ch.name, 0 ) });\n        return true;\n    } );\n\n    // Return without Testing\n    if (setup['notest']) return SELF;\n\n    bind( 'offline', window,   SELF['offline'] );\n    bind( 'offline', document, SELF['offline'] );\n\n    // Return PUBNUB Socket Object\n    return SELF;\n};\nCREATE_PUBNUB['init']   = CREATE_PUBNUB;\nCREATE_PUBNUB['secure'] = CREATE_PUBNUB;\n\n// Bind for PUBNUB Readiness to Subscribe\nif (document.readyState === 'complete') {\n    timeout( ready, 0 );\n}\nelse {\n    bind( 'load', window, function(){ timeout( ready, 0 ) } );\n}\n\nvar pdiv = PDIV || {};\n\n// CREATE A PUBNUB GLOBAL OBJECT\nPUBNUB = CREATE_PUBNUB({\n    'notest'        : 1,\n    'publish_key'   : attr( pdiv, 'pub-key' ),\n    'subscribe_key' : attr( pdiv, 'sub-key' ),\n    'ssl'           : !document.location.href.indexOf('https') ||\n                      attr( pdiv, 'ssl' ) == 'on',\n    'origin'        : attr( pdiv, 'origin' ),\n    'uuid'          : attr( pdiv, 'uuid' )\n});\n\n// jQuery Interface\nwindow['jQuery'] && (window['jQuery']['PUBNUB'] = CREATE_PUBNUB);\n\n// For Modern JS + Testling.js - http://testling.com/\ntypeof(module) !== 'undefined' && (module['exports'] = PUBNUB) && ready();\n\nvar pubnubs = $('pubnubs') || 0;\n\n// LEAVE NOW IF NO PDIV.\nif (!PDIV) return;\n\n// PUBNUB Flash Socket\ncss( PDIV, { 'position' : 'absolute', 'top' : -SECOND } );\n\nif ('opera' in window || attr( PDIV, 'flash' )) PDIV['innerHTML'] =\n    '<object id=pubnubs data='  + SWF +\n    '><param name=movie value=' + SWF +\n    '><param name=allowscriptaccess value=always></object>';\n\n// Create Interface for Opera Flash\nPUBNUB['rdx'] = function( id, data ) {\n    if (!data) return FDomainRequest[id]['onerror']();\n    FDomainRequest[id]['responseText'] = unescape(data);\n    FDomainRequest[id]['onload']();\n};\n\nfunction FDomainRequest() {\n    if (!pubnubs || !pubnubs['get']) return 0;\n\n    var fdomainrequest = {\n        'id'    : FDomainRequest['id']++,\n        'send'  : function() {},\n        'abort' : function() { fdomainrequest['id'] = {} },\n        'open'  : function( method, url ) {\n            FDomainRequest[fdomainrequest['id']] = fdomainrequest;\n            pubnubs['get']( fdomainrequest['id'], url );\n        }\n    };\n\n    return fdomainrequest;\n}\nFDomainRequest['id'] = SECOND;\n\n})();\n(function(){\n\n// ---------------------------------------------------------------------------\n// WEBSOCKET INTERFACE\n// ---------------------------------------------------------------------------\nvar WS = PUBNUB['ws'] = function( url, protocols ) {\n    if (!(this instanceof WS)) return new WS( url, protocols );\n\n    var self     = this\n    ,   url      = self.url      = url || ''\n    ,   protocol = self.protocol = protocols || 'Sec-WebSocket-Protocol'\n    ,   bits     = url.split('/')\n    ,   setup    = {\n         'ssl'           : bits[0] === 'wss:'\n        ,'origin'        : bits[2]\n        ,'publish_key'   : bits[3]\n        ,'subscribe_key' : bits[4]\n        ,'channel'       : bits[5]\n    };\n\n    // READY STATES\n    self['CONNECTING'] = 0; // The connection is not yet open.\n    self['OPEN']       = 1; // The connection is open and ready to communicate.\n    self['CLOSING']    = 2; // The connection is in the process of closing.\n    self['CLOSED']     = 3; // The connection is closed or couldn't be opened.\n\n    // CLOSE STATES\n    self['CLOSE_NORMAL']         = 1000; // Normal Intended Close; completed.\n    self['CLOSE_GOING_AWAY']     = 1001; // Closed Unexpecttedly.\n    self['CLOSE_PROTOCOL_ERROR'] = 1002; // Server: Not Supported.\n    self['CLOSE_UNSUPPORTED']    = 1003; // Server: Unsupported Protocol.\n    self['CLOSE_TOO_LARGE']      = 1004; // Server: Too Much Data.\n    self['CLOSE_NO_STATUS']      = 1005; // Server: No reason.\n    self['CLOSE_ABNORMAL']       = 1006; // Abnormal Disconnect.\n\n    // Events Default\n    self['onclose']   = self['onerror'] =\n    self['onmessage'] = self['onopen']  =\n    self['onsend']    =  function(){};\n\n    // Attributes\n    self['binaryType']     = '';\n    self['extensions']     = '';\n    self['bufferedAmount'] = 0;\n    self['trasnmitting']   = false;\n    self['buffer']         = [];\n    self['readyState']     = self['CONNECTING'];\n\n    // Close if no setup.\n    if (!url) {\n        self['readyState'] = self['CLOSED'];\n        self['onclose']({\n            'code'     : self['CLOSE_ABNORMAL'],\n            'reason'   : 'Missing URL',\n            'wasClean' : true\n        });\n        return self;\n    }\n\n    // PubNub WebSocket Emulation\n    self.pubnub       = PUBNUB['init'](setup);\n    self.pubnub.setup = setup;\n    self.setup        = setup;\n\n    self.pubnub['subscribe']({\n        'restore'    : false,\n        'channel'    : setup['channel'],\n        'disconnect' : self['onerror'],\n        'reconnect'  : self['onopen'],\n        'error'      : function() {\n            self['onclose']({\n                'code'     : self['CLOSE_ABNORMAL'],\n                'reason'   : 'Missing URL',\n                'wasClean' : false\n            });\n        },\n        'callback'   : function(message) {\n            self['onmessage']({ 'data' : message });\n        },\n        'connect'    : function() {\n            self['readyState'] = self['OPEN'];\n            self['onopen']();\n        }\n    });\n};\n\n// ---------------------------------------------------------------------------\n// WEBSOCKET SEND\n// ---------------------------------------------------------------------------\nWS.prototype.send = function(data) {\n    var self = this;\n    self.pubnub['publish']({\n        'channel'  : self.pubnub.setup['channel'],\n        'message'  : data,\n        'callback' : function(response) {\n            self['onsend']({ 'data' : response });\n        }\n    });\n};\n\n// ---------------------------------------------------------------------------\n// WEBSOCKET CLOSE\n// ---------------------------------------------------------------------------\nWS.prototype.close = function() {\n    var self = this;\n    self.pubnub['unsubscribe']({ 'channel' : self.pubnub.setup['channel'] });\n    self['readyState'] = self['CLOSED'];\n    self['onclose']({});\n};\n\n})();\n/*\nCryptoJS v3.1.2\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\nvar CryptoJS=CryptoJS||function(h,s){var f={},g=f.lib={},q=function(){},m=g.Base={extend:function(a){q.prototype=this;var c=new q;a&&c.mixIn(a);c.hasOwnProperty(\"init\")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty(\"toString\")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},\nr=g.WordArray=m.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=s?c:4*a.length},toString:function(a){return(a||k).stringify(this)},concat:function(a){var c=this.words,d=a.words,b=this.sigBytes;a=a.sigBytes;this.clamp();if(b%4)for(var e=0;e<a;e++)c[b+e>>>2]|=(d[e>>>2]>>>24-8*(e%4)&255)<<24-8*((b+e)%4);else if(65535<d.length)for(e=0;e<a;e+=4)c[b+e>>>2]=d[e>>>2];else c.push.apply(c,d);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<\n32-8*(c%4);a.length=h.ceil(c/4)},clone:function(){var a=m.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],d=0;d<a;d+=4)c.push(4294967296*h.random()|0);return new r.init(c,a)}}),l=f.enc={},k=l.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var d=[],b=0;b<a;b++){var e=c[b>>>2]>>>24-8*(b%4)&255;d.push((e>>>4).toString(16));d.push((e&15).toString(16))}return d.join(\"\")},parse:function(a){for(var c=a.length,d=[],b=0;b<c;b+=2)d[b>>>3]|=parseInt(a.substr(b,\n2),16)<<24-4*(b%8);return new r.init(d,c/2)}},n=l.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var d=[],b=0;b<a;b++)d.push(String.fromCharCode(c[b>>>2]>>>24-8*(b%4)&255));return d.join(\"\")},parse:function(a){for(var c=a.length,d=[],b=0;b<c;b++)d[b>>>2]|=(a.charCodeAt(b)&255)<<24-8*(b%4);return new r.init(d,c)}},j=l.Utf8={stringify:function(a){try{return decodeURIComponent(escape(n.stringify(a)))}catch(c){throw Error(\"Malformed UTF-8 data\");}},parse:function(a){return n.parse(unescape(encodeURIComponent(a)))}},\nu=g.BufferedBlockAlgorithm=m.extend({reset:function(){this._data=new r.init;this._nDataBytes=0},_append:function(a){\"string\"==typeof a&&(a=j.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,d=c.words,b=c.sigBytes,e=this.blockSize,f=b/(4*e),f=a?h.ceil(f):h.max((f|0)-this._minBufferSize,0);a=f*e;b=h.min(4*a,b);if(a){for(var g=0;g<a;g+=e)this._doProcessBlock(d,g);g=d.splice(0,a);c.sigBytes-=b}return new r.init(g,b)},clone:function(){var a=m.clone.call(this);\na._data=this._data.clone();return a},_minBufferSize:0});g.Hasher=u.extend({cfg:m.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){u.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(c,d){return(new a.init(d)).finalize(c)}},_createHmacHelper:function(a){return function(c,d){return(new t.HMAC.init(a,\nd)).finalize(c)}}});var t=f.algo={};return f}(Math);\n(function(h){for(var s=CryptoJS,f=s.lib,g=f.WordArray,q=f.Hasher,f=s.algo,m=[],r=[],l=function(a){return 4294967296*(a-(a|0))|0},k=2,n=0;64>n;){var j;a:{j=k;for(var u=h.sqrt(j),t=2;t<=u;t++)if(!(j%t)){j=!1;break a}j=!0}j&&(8>n&&(m[n]=l(h.pow(k,0.5))),r[n]=l(h.pow(k,1/3)),n++);k++}var a=[],f=f.SHA256=q.extend({_doReset:function(){this._hash=new g.init(m.slice(0))},_doProcessBlock:function(c,d){for(var b=this._hash.words,e=b[0],f=b[1],g=b[2],j=b[3],h=b[4],m=b[5],n=b[6],q=b[7],p=0;64>p;p++){if(16>p)a[p]=\nc[d+p]|0;else{var k=a[p-15],l=a[p-2];a[p]=((k<<25|k>>>7)^(k<<14|k>>>18)^k>>>3)+a[p-7]+((l<<15|l>>>17)^(l<<13|l>>>19)^l>>>10)+a[p-16]}k=q+((h<<26|h>>>6)^(h<<21|h>>>11)^(h<<7|h>>>25))+(h&m^~h&n)+r[p]+a[p];l=((e<<30|e>>>2)^(e<<19|e>>>13)^(e<<10|e>>>22))+(e&f^e&g^f&g);q=n;n=m;m=h;h=j+k|0;j=g;g=f;f=e;e=k+l|0}b[0]=b[0]+e|0;b[1]=b[1]+f|0;b[2]=b[2]+g|0;b[3]=b[3]+j|0;b[4]=b[4]+h|0;b[5]=b[5]+m|0;b[6]=b[6]+n|0;b[7]=b[7]+q|0},_doFinalize:function(){var a=this._data,d=a.words,b=8*this._nDataBytes,e=8*a.sigBytes;\nd[e>>>5]|=128<<24-e%32;d[(e+64>>>9<<4)+14]=h.floor(b/4294967296);d[(e+64>>>9<<4)+15]=b;a.sigBytes=4*d.length;this._process();return this._hash},clone:function(){var a=q.clone.call(this);a._hash=this._hash.clone();return a}});s.SHA256=q._createHelper(f);s.HmacSHA256=q._createHmacHelper(f)})(Math);\n(function(){var h=CryptoJS,s=h.enc.Utf8;h.algo.HMAC=h.lib.Base.extend({init:function(f,g){f=this._hasher=new f.init;\"string\"==typeof g&&(g=s.parse(g));var h=f.blockSize,m=4*h;g.sigBytes>m&&(g=f.finalize(g));g.clamp();for(var r=this._oKey=g.clone(),l=this._iKey=g.clone(),k=r.words,n=l.words,j=0;j<h;j++)k[j]^=1549556828,n[j]^=909522486;r.sigBytes=l.sigBytes=m;this.reset()},reset:function(){var f=this._hasher;f.reset();f.update(this._iKey)},update:function(f){this._hasher.update(f);return this},finalize:function(f){var g=\nthis._hasher;f=g.finalize(f);g.reset();return g.finalize(this._oKey.clone().concat(f))}})})();\n/*\nCryptoJS v3.1.2\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\n(function(){var h=CryptoJS,j=h.lib.WordArray;h.enc.Base64={stringify:function(b){var e=b.words,f=b.sigBytes,c=this._map;b.clamp();b=[];for(var a=0;a<f;a+=3)for(var d=(e[a>>>2]>>>24-8*(a%4)&255)<<16|(e[a+1>>>2]>>>24-8*((a+1)%4)&255)<<8|e[a+2>>>2]>>>24-8*((a+2)%4)&255,g=0;4>g&&a+0.75*g<f;g++)b.push(c.charAt(d>>>6*(3-g)&63));if(e=c.charAt(64))for(;b.length%4;)b.push(e);return b.join(\"\")},parse:function(b){var e=b.length,f=this._map,c=f.charAt(64);c&&(c=b.indexOf(c),-1!=c&&(e=c));for(var c=[],a=0,d=0;d<\ne;d++)if(d%4){var g=f.indexOf(b.charAt(d-1))<<2*(d%4),h=f.indexOf(b.charAt(d))>>>6-2*(d%4);c[a>>>2]|=(g|h)<<24-8*(a%4);a++}return j.create(c,a)},_map:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"}})();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./bower_components/pubnub/web/pubnub.js\n ** module id = 39\n ** module chunks = 0\n **/","(function(e,r){\"object\"==typeof exports?module.exports=exports=r(require(\"./core\"),require(\"./enc-base64\"),require(\"./md5\"),require(\"./evpkdf\"),require(\"./cipher-core\")):\"function\"==typeof define&&define.amd?define([\"./core\",\"./enc-base64\",\"./md5\",\"./evpkdf\",\"./cipher-core\"],r):r(e.CryptoJS)})(this,function(e){return function(){var r=e,t=r.lib,i=t.BlockCipher,o=r.algo,n=[],c=[],s=[],a=[],f=[],u=[],h=[],p=[],d=[],l=[];(function(){for(var e=[],r=0;256>r;r++)e[r]=128>r?r<<1:283^r<<1;for(var t=0,i=0,r=0;256>r;r++){var o=i^i<<1^i<<2^i<<3^i<<4;o=99^(o>>>8^255&o),n[t]=o,c[o]=t;var y=e[t],v=e[y],m=e[v],x=257*e[o]^16843008*o;s[t]=x<<24|x>>>8,a[t]=x<<16|x>>>16,f[t]=x<<8|x>>>24,u[t]=x;var x=16843009*m^65537*v^257*y^16843008*t;h[o]=x<<24|x>>>8,p[o]=x<<16|x>>>16,d[o]=x<<8|x>>>24,l[o]=x,t?(t=y^e[e[e[m^y]]],i^=e[e[i]]):t=i=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],v=o.AES=i.extend({_doReset:function(){for(var e=this._key,r=e.words,t=e.sigBytes/4,i=this._nRounds=t+6,o=4*(i+1),c=this._keySchedule=[],s=0;o>s;s++)if(t>s)c[s]=r[s];else{var a=c[s-1];s%t?t>6&&4==s%t&&(a=n[a>>>24]<<24|n[255&a>>>16]<<16|n[255&a>>>8]<<8|n[255&a]):(a=a<<8|a>>>24,a=n[a>>>24]<<24|n[255&a>>>16]<<16|n[255&a>>>8]<<8|n[255&a],a^=y[0|s/t]<<24),c[s]=c[s-t]^a}for(var f=this._invKeySchedule=[],u=0;o>u;u++){var s=o-u;if(u%4)var a=c[s];else var a=c[s-4];f[u]=4>u||4>=s?a:h[n[a>>>24]]^p[n[255&a>>>16]]^d[n[255&a>>>8]]^l[n[255&a]]}},encryptBlock:function(e,r){this._doCryptBlock(e,r,this._keySchedule,s,a,f,u,n)},decryptBlock:function(e,r){var t=e[r+1];e[r+1]=e[r+3],e[r+3]=t,this._doCryptBlock(e,r,this._invKeySchedule,h,p,d,l,c);var t=e[r+1];e[r+1]=e[r+3],e[r+3]=t},_doCryptBlock:function(e,r,t,i,o,n,c,s){for(var a=this._nRounds,f=e[r]^t[0],u=e[r+1]^t[1],h=e[r+2]^t[2],p=e[r+3]^t[3],d=4,l=1;a>l;l++){var y=i[f>>>24]^o[255&u>>>16]^n[255&h>>>8]^c[255&p]^t[d++],v=i[u>>>24]^o[255&h>>>16]^n[255&p>>>8]^c[255&f]^t[d++],m=i[h>>>24]^o[255&p>>>16]^n[255&f>>>8]^c[255&u]^t[d++],x=i[p>>>24]^o[255&f>>>16]^n[255&u>>>8]^c[255&h]^t[d++];f=y,u=v,h=m,p=x}var y=(s[f>>>24]<<24|s[255&u>>>16]<<16|s[255&h>>>8]<<8|s[255&p])^t[d++],v=(s[u>>>24]<<24|s[255&h>>>16]<<16|s[255&p>>>8]<<8|s[255&f])^t[d++],m=(s[h>>>24]<<24|s[255&p>>>16]<<16|s[255&f>>>8]<<8|s[255&u])^t[d++],x=(s[p>>>24]<<24|s[255&f>>>16]<<16|s[255&u>>>8]<<8|s[255&h])^t[d++];e[r]=y,e[r+1]=v,e[r+2]=m,e[r+3]=x},keySize:8});r.AES=i._createHelper(v)}(),e.AES});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/crypto-js/aes.js\n ** module id = 40\n ** module chunks = 0\n **/","(function(e,r){\"object\"==typeof exports?module.exports=exports=r(require(\"./core\"),require(\"./cipher-core\")):\"function\"==typeof define&&define.amd?define([\"./core\",\"./cipher-core\"],r):r(e.CryptoJS)})(this,function(e){return e.mode.ECB=function(){var r=e.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(e,r){this._cipher.encryptBlock(e,r)}}),r.Decryptor=r.extend({processBlock:function(e,r){this._cipher.decryptBlock(e,r)}}),r}(),e.mode.ECB});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/crypto-js/mode-ecb.js\n ** module id = 41\n ** module chunks = 0\n **/","(function(e,r){\"object\"==typeof exports?module.exports=exports=r():\"function\"==typeof define&&define.amd?define([],r):e.CryptoJS=r()})(this,function(){var e=e||function(e,r){var t={},i=t.lib={},n=i.Base=function(){function e(){}return{extend:function(r){e.prototype=this;var t=new e;return r&&t.mixIn(r),t.hasOwnProperty(\"init\")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var r in e)e.hasOwnProperty(r)&&(this[r]=e[r]);e.hasOwnProperty(\"toString\")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=i.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=t!=r?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var r=this.words,t=e.words,i=this.sigBytes,n=e.sigBytes;if(this.clamp(),i%4)for(var o=0;n>o;o++){var c=255&t[o>>>2]>>>24-8*(o%4);r[i+o>>>2]|=c<<24-8*((i+o)%4)}else if(t.length>65535)for(var o=0;n>o;o+=4)r[i+o>>>2]=t[o>>>2];else r.push.apply(r,t);return this.sigBytes+=n,this},clamp:function(){var r=this.words,t=this.sigBytes;r[t>>>2]&=4294967295<<32-8*(t%4),r.length=e.ceil(t/4)},clone:function(){var e=n.clone.call(this);return e.words=this.words.slice(0),e},random:function(r){for(var t=[],i=0;r>i;i+=4)t.push(0|4294967296*e.random());return new o.init(t,r)}}),c=t.enc={},s=c.Hex={stringify:function(e){for(var r=e.words,t=e.sigBytes,i=[],n=0;t>n;n++){var o=255&r[n>>>2]>>>24-8*(n%4);i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join(\"\")},parse:function(e){for(var r=e.length,t=[],i=0;r>i;i+=2)t[i>>>3]|=parseInt(e.substr(i,2),16)<<24-4*(i%8);return new o.init(t,r/2)}},u=c.Latin1={stringify:function(e){for(var r=e.words,t=e.sigBytes,i=[],n=0;t>n;n++){var o=255&r[n>>>2]>>>24-8*(n%4);i.push(String.fromCharCode(o))}return i.join(\"\")},parse:function(e){for(var r=e.length,t=[],i=0;r>i;i++)t[i>>>2]|=(255&e.charCodeAt(i))<<24-8*(i%4);return new o.init(t,r)}},f=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(r){throw Error(\"Malformed UTF-8 data\")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},a=i.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){\"string\"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(r){var t=this._data,i=t.words,n=t.sigBytes,c=this.blockSize,s=4*c,u=n/s;u=r?e.ceil(u):e.max((0|u)-this._minBufferSize,0);var f=u*c,a=e.min(4*f,n);if(f){for(var p=0;f>p;p+=c)this._doProcessBlock(i,p);var d=i.splice(0,f);t.sigBytes-=a}return new o.init(d,a)},clone:function(){var e=n.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=a.extend({cfg:n.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){a.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var r=this._doFinalize();return r},blockSize:16,_createHelper:function(e){return function(r,t){return new e.init(t).finalize(r)}},_createHmacHelper:function(e){return function(r,t){return new p.HMAC.init(e,t).finalize(r)}}});var p=t.algo={};return t}(Math);return e});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/crypto-js/core.js\n ** module id = 42\n ** module chunks = 0\n **/","/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n * @version   2.0.1\n */\n\n(function() {\n    \"use strict\";\n\n    function $$utils$$objectOrFunction(x) {\n      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n    }\n\n    function $$utils$$isFunction(x) {\n      return typeof x === 'function';\n    }\n\n    function $$utils$$isMaybeThenable(x) {\n      return typeof x === 'object' && x !== null;\n    }\n\n    var $$utils$$_isArray;\n\n    if (!Array.isArray) {\n      $$utils$$_isArray = function (x) {\n        return Object.prototype.toString.call(x) === '[object Array]';\n      };\n    } else {\n      $$utils$$_isArray = Array.isArray;\n    }\n\n    var $$utils$$isArray = $$utils$$_isArray;\n    var $$utils$$now = Date.now || function() { return new Date().getTime(); };\n    function $$utils$$F() { }\n\n    var $$utils$$o_create = (Object.create || function (o) {\n      if (arguments.length > 1) {\n        throw new Error('Second argument not supported');\n      }\n      if (typeof o !== 'object') {\n        throw new TypeError('Argument must be an object');\n      }\n      $$utils$$F.prototype = o;\n      return new $$utils$$F();\n    });\n\n    var $$asap$$len = 0;\n\n    var $$asap$$default = function asap(callback, arg) {\n      $$asap$$queue[$$asap$$len] = callback;\n      $$asap$$queue[$$asap$$len + 1] = arg;\n      $$asap$$len += 2;\n      if ($$asap$$len === 2) {\n        // If len is 1, that means that we need to schedule an async flush.\n        // If additional callbacks are queued before the queue is flushed, they\n        // will be processed by this flush that we are scheduling.\n        $$asap$$scheduleFlush();\n      }\n    };\n\n    var $$asap$$browserGlobal = (typeof window !== 'undefined') ? window : {};\n    var $$asap$$BrowserMutationObserver = $$asap$$browserGlobal.MutationObserver || $$asap$$browserGlobal.WebKitMutationObserver;\n\n    // test for web worker but not in IE10\n    var $$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n      typeof importScripts !== 'undefined' &&\n      typeof MessageChannel !== 'undefined';\n\n    // node\n    function $$asap$$useNextTick() {\n      return function() {\n        process.nextTick($$asap$$flush);\n      };\n    }\n\n    function $$asap$$useMutationObserver() {\n      var iterations = 0;\n      var observer = new $$asap$$BrowserMutationObserver($$asap$$flush);\n      var node = document.createTextNode('');\n      observer.observe(node, { characterData: true });\n\n      return function() {\n        node.data = (iterations = ++iterations % 2);\n      };\n    }\n\n    // web worker\n    function $$asap$$useMessageChannel() {\n      var channel = new MessageChannel();\n      channel.port1.onmessage = $$asap$$flush;\n      return function () {\n        channel.port2.postMessage(0);\n      };\n    }\n\n    function $$asap$$useSetTimeout() {\n      return function() {\n        setTimeout($$asap$$flush, 1);\n      };\n    }\n\n    var $$asap$$queue = new Array(1000);\n\n    function $$asap$$flush() {\n      for (var i = 0; i < $$asap$$len; i+=2) {\n        var callback = $$asap$$queue[i];\n        var arg = $$asap$$queue[i+1];\n\n        callback(arg);\n\n        $$asap$$queue[i] = undefined;\n        $$asap$$queue[i+1] = undefined;\n      }\n\n      $$asap$$len = 0;\n    }\n\n    var $$asap$$scheduleFlush;\n\n    // Decide what async method to use to triggering processing of queued callbacks:\n    if (typeof process !== 'undefined' && {}.toString.call(process) === '[object process]') {\n      $$asap$$scheduleFlush = $$asap$$useNextTick();\n    } else if ($$asap$$BrowserMutationObserver) {\n      $$asap$$scheduleFlush = $$asap$$useMutationObserver();\n    } else if ($$asap$$isWorker) {\n      $$asap$$scheduleFlush = $$asap$$useMessageChannel();\n    } else {\n      $$asap$$scheduleFlush = $$asap$$useSetTimeout();\n    }\n\n    function $$$internal$$noop() {}\n    var $$$internal$$PENDING   = void 0;\n    var $$$internal$$FULFILLED = 1;\n    var $$$internal$$REJECTED  = 2;\n    var $$$internal$$GET_THEN_ERROR = new $$$internal$$ErrorObject();\n\n    function $$$internal$$selfFullfillment() {\n      return new TypeError(\"You cannot resolve a promise with itself\");\n    }\n\n    function $$$internal$$cannotReturnOwn() {\n      return new TypeError('A promises callback cannot return that same promise.')\n    }\n\n    function $$$internal$$getThen(promise) {\n      try {\n        return promise.then;\n      } catch(error) {\n        $$$internal$$GET_THEN_ERROR.error = error;\n        return $$$internal$$GET_THEN_ERROR;\n      }\n    }\n\n    function $$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n      try {\n        then.call(value, fulfillmentHandler, rejectionHandler);\n      } catch(e) {\n        return e;\n      }\n    }\n\n    function $$$internal$$handleForeignThenable(promise, thenable, then) {\n       $$asap$$default(function(promise) {\n        var sealed = false;\n        var error = $$$internal$$tryThen(then, thenable, function(value) {\n          if (sealed) { return; }\n          sealed = true;\n          if (thenable !== value) {\n            $$$internal$$resolve(promise, value);\n          } else {\n            $$$internal$$fulfill(promise, value);\n          }\n        }, function(reason) {\n          if (sealed) { return; }\n          sealed = true;\n\n          $$$internal$$reject(promise, reason);\n        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n        if (!sealed && error) {\n          sealed = true;\n          $$$internal$$reject(promise, error);\n        }\n      }, promise);\n    }\n\n    function $$$internal$$handleOwnThenable(promise, thenable) {\n      if (thenable._state === $$$internal$$FULFILLED) {\n        $$$internal$$fulfill(promise, thenable._result);\n      } else if (promise._state === $$$internal$$REJECTED) {\n        $$$internal$$reject(promise, thenable._result);\n      } else {\n        $$$internal$$subscribe(thenable, undefined, function(value) {\n          $$$internal$$resolve(promise, value);\n        }, function(reason) {\n          $$$internal$$reject(promise, reason);\n        });\n      }\n    }\n\n    function $$$internal$$handleMaybeThenable(promise, maybeThenable) {\n      if (maybeThenable.constructor === promise.constructor) {\n        $$$internal$$handleOwnThenable(promise, maybeThenable);\n      } else {\n        var then = $$$internal$$getThen(maybeThenable);\n\n        if (then === $$$internal$$GET_THEN_ERROR) {\n          $$$internal$$reject(promise, $$$internal$$GET_THEN_ERROR.error);\n        } else if (then === undefined) {\n          $$$internal$$fulfill(promise, maybeThenable);\n        } else if ($$utils$$isFunction(then)) {\n          $$$internal$$handleForeignThenable(promise, maybeThenable, then);\n        } else {\n          $$$internal$$fulfill(promise, maybeThenable);\n        }\n      }\n    }\n\n    function $$$internal$$resolve(promise, value) {\n      if (promise === value) {\n        $$$internal$$reject(promise, $$$internal$$selfFullfillment());\n      } else if ($$utils$$objectOrFunction(value)) {\n        $$$internal$$handleMaybeThenable(promise, value);\n      } else {\n        $$$internal$$fulfill(promise, value);\n      }\n    }\n\n    function $$$internal$$publishRejection(promise) {\n      if (promise._onerror) {\n        promise._onerror(promise._result);\n      }\n\n      $$$internal$$publish(promise);\n    }\n\n    function $$$internal$$fulfill(promise, value) {\n      if (promise._state !== $$$internal$$PENDING) { return; }\n\n      promise._result = value;\n      promise._state = $$$internal$$FULFILLED;\n\n      if (promise._subscribers.length === 0) {\n      } else {\n        $$asap$$default($$$internal$$publish, promise);\n      }\n    }\n\n    function $$$internal$$reject(promise, reason) {\n      if (promise._state !== $$$internal$$PENDING) { return; }\n      promise._state = $$$internal$$REJECTED;\n      promise._result = reason;\n\n      $$asap$$default($$$internal$$publishRejection, promise);\n    }\n\n    function $$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n      var subscribers = parent._subscribers;\n      var length = subscribers.length;\n\n      parent._onerror = null;\n\n      subscribers[length] = child;\n      subscribers[length + $$$internal$$FULFILLED] = onFulfillment;\n      subscribers[length + $$$internal$$REJECTED]  = onRejection;\n\n      if (length === 0 && parent._state) {\n        $$asap$$default($$$internal$$publish, parent);\n      }\n    }\n\n    function $$$internal$$publish(promise) {\n      var subscribers = promise._subscribers;\n      var settled = promise._state;\n\n      if (subscribers.length === 0) { return; }\n\n      var child, callback, detail = promise._result;\n\n      for (var i = 0; i < subscribers.length; i += 3) {\n        child = subscribers[i];\n        callback = subscribers[i + settled];\n\n        if (child) {\n          $$$internal$$invokeCallback(settled, child, callback, detail);\n        } else {\n          callback(detail);\n        }\n      }\n\n      promise._subscribers.length = 0;\n    }\n\n    function $$$internal$$ErrorObject() {\n      this.error = null;\n    }\n\n    var $$$internal$$TRY_CATCH_ERROR = new $$$internal$$ErrorObject();\n\n    function $$$internal$$tryCatch(callback, detail) {\n      try {\n        return callback(detail);\n      } catch(e) {\n        $$$internal$$TRY_CATCH_ERROR.error = e;\n        return $$$internal$$TRY_CATCH_ERROR;\n      }\n    }\n\n    function $$$internal$$invokeCallback(settled, promise, callback, detail) {\n      var hasCallback = $$utils$$isFunction(callback),\n          value, error, succeeded, failed;\n\n      if (hasCallback) {\n        value = $$$internal$$tryCatch(callback, detail);\n\n        if (value === $$$internal$$TRY_CATCH_ERROR) {\n          failed = true;\n          error = value.error;\n          value = null;\n        } else {\n          succeeded = true;\n        }\n\n        if (promise === value) {\n          $$$internal$$reject(promise, $$$internal$$cannotReturnOwn());\n          return;\n        }\n\n      } else {\n        value = detail;\n        succeeded = true;\n      }\n\n      if (promise._state !== $$$internal$$PENDING) {\n        // noop\n      } else if (hasCallback && succeeded) {\n        $$$internal$$resolve(promise, value);\n      } else if (failed) {\n        $$$internal$$reject(promise, error);\n      } else if (settled === $$$internal$$FULFILLED) {\n        $$$internal$$fulfill(promise, value);\n      } else if (settled === $$$internal$$REJECTED) {\n        $$$internal$$reject(promise, value);\n      }\n    }\n\n    function $$$internal$$initializePromise(promise, resolver) {\n      try {\n        resolver(function resolvePromise(value){\n          $$$internal$$resolve(promise, value);\n        }, function rejectPromise(reason) {\n          $$$internal$$reject(promise, reason);\n        });\n      } catch(e) {\n        $$$internal$$reject(promise, e);\n      }\n    }\n\n    function $$$enumerator$$makeSettledResult(state, position, value) {\n      if (state === $$$internal$$FULFILLED) {\n        return {\n          state: 'fulfilled',\n          value: value\n        };\n      } else {\n        return {\n          state: 'rejected',\n          reason: value\n        };\n      }\n    }\n\n    function $$$enumerator$$Enumerator(Constructor, input, abortOnReject, label) {\n      this._instanceConstructor = Constructor;\n      this.promise = new Constructor($$$internal$$noop, label);\n      this._abortOnReject = abortOnReject;\n\n      if (this._validateInput(input)) {\n        this._input     = input;\n        this.length     = input.length;\n        this._remaining = input.length;\n\n        this._init();\n\n        if (this.length === 0) {\n          $$$internal$$fulfill(this.promise, this._result);\n        } else {\n          this.length = this.length || 0;\n          this._enumerate();\n          if (this._remaining === 0) {\n            $$$internal$$fulfill(this.promise, this._result);\n          }\n        }\n      } else {\n        $$$internal$$reject(this.promise, this._validationError());\n      }\n    }\n\n    $$$enumerator$$Enumerator.prototype._validateInput = function(input) {\n      return $$utils$$isArray(input);\n    };\n\n    $$$enumerator$$Enumerator.prototype._validationError = function() {\n      return new Error('Array Methods must be provided an Array');\n    };\n\n    $$$enumerator$$Enumerator.prototype._init = function() {\n      this._result = new Array(this.length);\n    };\n\n    var $$$enumerator$$default = $$$enumerator$$Enumerator;\n\n    $$$enumerator$$Enumerator.prototype._enumerate = function() {\n      var length  = this.length;\n      var promise = this.promise;\n      var input   = this._input;\n\n      for (var i = 0; promise._state === $$$internal$$PENDING && i < length; i++) {\n        this._eachEntry(input[i], i);\n      }\n    };\n\n    $$$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n      var c = this._instanceConstructor;\n      if ($$utils$$isMaybeThenable(entry)) {\n        if (entry.constructor === c && entry._state !== $$$internal$$PENDING) {\n          entry._onerror = null;\n          this._settledAt(entry._state, i, entry._result);\n        } else {\n          this._willSettleAt(c.resolve(entry), i);\n        }\n      } else {\n        this._remaining--;\n        this._result[i] = this._makeResult($$$internal$$FULFILLED, i, entry);\n      }\n    };\n\n    $$$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n      var promise = this.promise;\n\n      if (promise._state === $$$internal$$PENDING) {\n        this._remaining--;\n\n        if (this._abortOnReject && state === $$$internal$$REJECTED) {\n          $$$internal$$reject(promise, value);\n        } else {\n          this._result[i] = this._makeResult(state, i, value);\n        }\n      }\n\n      if (this._remaining === 0) {\n        $$$internal$$fulfill(promise, this._result);\n      }\n    };\n\n    $$$enumerator$$Enumerator.prototype._makeResult = function(state, i, value) {\n      return value;\n    };\n\n    $$$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n      var enumerator = this;\n\n      $$$internal$$subscribe(promise, undefined, function(value) {\n        enumerator._settledAt($$$internal$$FULFILLED, i, value);\n      }, function(reason) {\n        enumerator._settledAt($$$internal$$REJECTED, i, reason);\n      });\n    };\n\n    var $$promise$all$$default = function all(entries, label) {\n      return new $$$enumerator$$default(this, entries, true /* abort on reject */, label).promise;\n    };\n\n    var $$promise$race$$default = function race(entries, label) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      var promise = new Constructor($$$internal$$noop, label);\n\n      if (!$$utils$$isArray(entries)) {\n        $$$internal$$reject(promise, new TypeError('You must pass an array to race.'));\n        return promise;\n      }\n\n      var length = entries.length;\n\n      function onFulfillment(value) {\n        $$$internal$$resolve(promise, value);\n      }\n\n      function onRejection(reason) {\n        $$$internal$$reject(promise, reason);\n      }\n\n      for (var i = 0; promise._state === $$$internal$$PENDING && i < length; i++) {\n        $$$internal$$subscribe(Constructor.resolve(entries[i]), undefined, onFulfillment, onRejection);\n      }\n\n      return promise;\n    };\n\n    var $$promise$resolve$$default = function resolve(object, label) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (object && typeof object === 'object' && object.constructor === Constructor) {\n        return object;\n      }\n\n      var promise = new Constructor($$$internal$$noop, label);\n      $$$internal$$resolve(promise, object);\n      return promise;\n    };\n\n    var $$promise$reject$$default = function reject(reason, label) {\n      /*jshint validthis:true */\n      var Constructor = this;\n      var promise = new Constructor($$$internal$$noop, label);\n      $$$internal$$reject(promise, reason);\n      return promise;\n    };\n\n    var $$es6$promise$promise$$counter = 0;\n\n    function $$es6$promise$promise$$needsResolver() {\n      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n    }\n\n    function $$es6$promise$promise$$needsNew() {\n      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n    }\n\n    var $$es6$promise$promise$$default = $$es6$promise$promise$$Promise;\n\n    /**\n      Promise objects represent the eventual result of an asynchronous operation. The\n      primary way of interacting with a promise is through its `then` method, which\n      registers callbacks to receive either a promises eventual value or the reason\n      why the promise cannot be fulfilled.\n\n      Terminology\n      -----------\n\n      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n      - `thenable` is an object or function that defines a `then` method.\n      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n      - `exception` is a value that is thrown using the throw statement.\n      - `reason` is a value that indicates why a promise was rejected.\n      - `settled` the final resting state of a promise, fulfilled or rejected.\n\n      A promise can be in one of three states: pending, fulfilled, or rejected.\n\n      Promises that are fulfilled have a fulfillment value and are in the fulfilled\n      state.  Promises that are rejected have a rejection reason and are in the\n      rejected state.  A fulfillment value is never a thenable.\n\n      Promises can also be said to *resolve* a value.  If this value is also a\n      promise, then the original promise's settled state will match the value's\n      settled state.  So a promise that *resolves* a promise that rejects will\n      itself reject, and a promise that *resolves* a promise that fulfills will\n      itself fulfill.\n\n\n      Basic Usage:\n      ------------\n\n      ```js\n      var promise = new Promise(function(resolve, reject) {\n        // on success\n        resolve(value);\n\n        // on failure\n        reject(reason);\n      });\n\n      promise.then(function(value) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Advanced Usage:\n      ---------------\n\n      Promises shine when abstracting away asynchronous interactions such as\n      `XMLHttpRequest`s.\n\n      ```js\n      function getJSON(url) {\n        return new Promise(function(resolve, reject){\n          var xhr = new XMLHttpRequest();\n\n          xhr.open('GET', url);\n          xhr.onreadystatechange = handler;\n          xhr.responseType = 'json';\n          xhr.setRequestHeader('Accept', 'application/json');\n          xhr.send();\n\n          function handler() {\n            if (this.readyState === this.DONE) {\n              if (this.status === 200) {\n                resolve(this.response);\n              } else {\n                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n              }\n            }\n          };\n        });\n      }\n\n      getJSON('/posts.json').then(function(json) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Unlike callbacks, promises are great composable primitives.\n\n      ```js\n      Promise.all([\n        getJSON('/posts'),\n        getJSON('/comments')\n      ]).then(function(values){\n        values[0] // => postsJSON\n        values[1] // => commentsJSON\n\n        return values;\n      });\n      ```\n\n      @class Promise\n      @param {function} resolver\n      Useful for tooling.\n      @constructor\n    */\n    function $$es6$promise$promise$$Promise(resolver) {\n      this._id = $$es6$promise$promise$$counter++;\n      this._state = undefined;\n      this._result = undefined;\n      this._subscribers = [];\n\n      if ($$$internal$$noop !== resolver) {\n        if (!$$utils$$isFunction(resolver)) {\n          $$es6$promise$promise$$needsResolver();\n        }\n\n        if (!(this instanceof $$es6$promise$promise$$Promise)) {\n          $$es6$promise$promise$$needsNew();\n        }\n\n        $$$internal$$initializePromise(this, resolver);\n      }\n    }\n\n    $$es6$promise$promise$$Promise.all = $$promise$all$$default;\n    $$es6$promise$promise$$Promise.race = $$promise$race$$default;\n    $$es6$promise$promise$$Promise.resolve = $$promise$resolve$$default;\n    $$es6$promise$promise$$Promise.reject = $$promise$reject$$default;\n\n    $$es6$promise$promise$$Promise.prototype = {\n      constructor: $$es6$promise$promise$$Promise,\n\n    /**\n      The primary way of interacting with a promise is through its `then` method,\n      which registers callbacks to receive either a promise's eventual value or the\n      reason why the promise cannot be fulfilled.\n\n      ```js\n      findUser().then(function(user){\n        // user is available\n      }, function(reason){\n        // user is unavailable, and you are given the reason why\n      });\n      ```\n\n      Chaining\n      --------\n\n      The return value of `then` is itself a promise.  This second, 'downstream'\n      promise is resolved with the return value of the first promise's fulfillment\n      or rejection handler, or rejected if the handler throws an exception.\n\n      ```js\n      findUser().then(function (user) {\n        return user.name;\n      }, function (reason) {\n        return 'default name';\n      }).then(function (userName) {\n        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n        // will be `'default name'`\n      });\n\n      findUser().then(function (user) {\n        throw new Error('Found user, but still unhappy');\n      }, function (reason) {\n        throw new Error('`findUser` rejected and we're unhappy');\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n      });\n      ```\n      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n      ```js\n      findUser().then(function (user) {\n        throw new PedagogicalException('Upstream error');\n      }).then(function (value) {\n        // never reached\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // The `PedgagocialException` is propagated all the way down to here\n      });\n      ```\n\n      Assimilation\n      ------------\n\n      Sometimes the value you want to propagate to a downstream promise can only be\n      retrieved asynchronously. This can be achieved by returning a promise in the\n      fulfillment or rejection handler. The downstream promise will then be pending\n      until the returned promise is settled. This is called *assimilation*.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // The user's comments are now available\n      });\n      ```\n\n      If the assimliated promise rejects, then the downstream promise will also reject.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // If `findCommentsByAuthor` fulfills, we'll have the value here\n      }, function (reason) {\n        // If `findCommentsByAuthor` rejects, we'll have the reason here\n      });\n      ```\n\n      Simple Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var result;\n\n      try {\n        result = findResult();\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n      findResult(function(result, err){\n        if (err) {\n          // failure\n        } else {\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findResult().then(function(result){\n        // success\n      }, function(reason){\n        // failure\n      });\n      ```\n\n      Advanced Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var author, books;\n\n      try {\n        author = findAuthor();\n        books  = findBooksByAuthor(author);\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n\n      function foundBooks(books) {\n\n      }\n\n      function failure(reason) {\n\n      }\n\n      findAuthor(function(author, err){\n        if (err) {\n          failure(err);\n          // failure\n        } else {\n          try {\n            findBoooksByAuthor(author, function(books, err) {\n              if (err) {\n                failure(err);\n              } else {\n                try {\n                  foundBooks(books);\n                } catch(reason) {\n                  failure(reason);\n                }\n              }\n            });\n          } catch(error) {\n            failure(err);\n          }\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findAuthor().\n        then(findBooksByAuthor).\n        then(function(books){\n          // found books\n      }).catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method then\n      @param {Function} onFulfilled\n      @param {Function} onRejected\n      Useful for tooling.\n      @return {Promise}\n    */\n      then: function(onFulfillment, onRejection) {\n        var parent = this;\n        var state = parent._state;\n\n        if (state === $$$internal$$FULFILLED && !onFulfillment || state === $$$internal$$REJECTED && !onRejection) {\n          return this;\n        }\n\n        var child = new this.constructor($$$internal$$noop);\n        var result = parent._result;\n\n        if (state) {\n          var callback = arguments[state - 1];\n          $$asap$$default(function(){\n            $$$internal$$invokeCallback(state, child, callback, result);\n          });\n        } else {\n          $$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n        }\n\n        return child;\n      },\n\n    /**\n      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n      as the catch block of a try/catch statement.\n\n      ```js\n      function findAuthor(){\n        throw new Error('couldn't find that author');\n      }\n\n      // synchronous\n      try {\n        findAuthor();\n      } catch(reason) {\n        // something went wrong\n      }\n\n      // async with promises\n      findAuthor().catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method catch\n      @param {Function} onRejection\n      Useful for tooling.\n      @return {Promise}\n    */\n      'catch': function(onRejection) {\n        return this.then(null, onRejection);\n      }\n    };\n\n    var $$es6$promise$polyfill$$default = function polyfill() {\n      var local;\n\n      if (typeof global !== 'undefined') {\n        local = global;\n      } else if (typeof window !== 'undefined' && window.document) {\n        local = window;\n      } else {\n        local = self;\n      }\n\n      var es6PromiseSupport =\n        \"Promise\" in local &&\n        // Some of these methods are missing from\n        // Firefox/Chrome experimental implementations\n        \"resolve\" in local.Promise &&\n        \"reject\" in local.Promise &&\n        \"all\" in local.Promise &&\n        \"race\" in local.Promise &&\n        // Older version of the spec had a resolver object\n        // as the arg rather than a function\n        (function() {\n          var resolve;\n          new local.Promise(function(r) { resolve = r; });\n          return $$utils$$isFunction(resolve);\n        }());\n\n      if (!es6PromiseSupport) {\n        local.Promise = $$es6$promise$promise$$default;\n      }\n    };\n\n    var es6$promise$umd$$ES6Promise = {\n      'Promise': $$es6$promise$promise$$default,\n      'polyfill': $$es6$promise$polyfill$$default\n    };\n\n    /* global define:true module:true window: true */\n    if (typeof define === 'function' && define['amd']) {\n      define(function() { return es6$promise$umd$$ES6Promise; });\n    } else if (typeof module !== 'undefined' && module['exports']) {\n      module['exports'] = es6$promise$umd$$ES6Promise;\n    } else if (typeof this !== 'undefined') {\n      this['ES6Promise'] = es6$promise$umd$$ES6Promise;\n    }\n}).call(this);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/es6-promise/dist/es6-promise.js\n ** module id = 43\n ** module chunks = 0\n **/","/// <reference path=\"../../../typings/externals.d.ts\" />\n\nimport h = require('./Headers');\nimport utils = require('../Utils');\nimport log = require('../Log');\nimport context = require('../Context');\nimport ajaxObserver = require('../AjaxObserver');\nimport r = require('./Response');\n\n/**\n * TODO @see https://github.com/github/fetch/blob/master/fetch.js\n */\nexport class Request extends h.Headers {\n\n    public async:boolean;\n    public method:string;\n    public url:string;\n    public query:any;\n    public body:any;\n    public xhr:XMLHttpRequest;\n\n    private observer:ajaxObserver.AjaxObserver;\n\n    constructor(context:context.Context) {\n\n        super(context);\n\n        this.async = true;\n        this.method = '';\n        this.url = '';\n        this.query = null;\n        this.body = {};\n        this.context = context;\n        this.xhr = null;\n\n        this.observer = ajaxObserver.$get(context);\n\n    }\n\n    isLoaded():boolean {\n        return !!this.xhr;\n    }\n\n    //TODO Remove\n    setHeader(name:string, value:string):Request {\n        super.setHeader(name, value);\n        return this;\n    }\n\n    //TODO Remove\n    setHeaders(headers:h.IHeadersObject):Request {\n        super.setHeaders(headers);\n        return this;\n    }\n\n    setOptions(options?:IAjaxOptions):Request {\n\n        options = options || {};\n\n        // backwards compatibility\n        if (!('body' in options) && options.post) options.body = options.post;\n        if (!('query' in options) && options.get) options.query = options.get;\n\n        if ('method' in options) this.method = options.method;\n        if ('url' in options) this.url = options.url;\n        if ('query' in options) this.query = options.query;\n        if ('body' in options) this.body = options.body;\n        if ('headers' in options) this.setHeaders(options.headers);\n        if ('async' in options) this.async = !!options.async;\n\n        return this;\n\n    }\n\n    /**\n     * Checks the send options, defaulting various of the options,\n     * and consuming / transforming some of the options (like get).\n     */\n    checkOptions() {\n\n        if (!this.url) throw new Error('Url is not defined');\n\n        if (!this.hasHeader('Accept')) this.setHeader('Accept', h.Headers.jsonContentType);\n        if (!this.hasHeader('Content-Type')) this.setHeader('Content-Type', h.Headers.jsonContentType);\n\n        this.method = this.method ? this.method.toUpperCase() : 'GET';\n\n        if (['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'OPTIONS', 'HEAD'].indexOf(this.method) < 0) throw new Error('Method has wrong value');\n\n        return this;\n\n    }\n\n    getEncodedBody() {\n\n        if (this.method === 'GET') return null;\n\n        if (typeof this.body === 'string') {\n            return this.body;\n        } else if (this.isJson()) {\n            return JSON.stringify(this.body);\n        } else if (this.isUrlEncoded()) {\n            return this.utils.queryStringify(this.body);\n        } else {\n            return this.body;\n        }\n\n    }\n\n    send():Promise<r.Response> {\n\n        this.observer.emit(this.observer.events.beforeRequest, this);\n\n        var responsePromise = new (this.context.getPromise())((resolve, reject) => {\n\n            this.checkOptions();\n\n            var xhr = this.getXHR(),\n                url = this.url + (!!this.query ? ((this.url.indexOf('?') > -1 ? '&' : '?') + this.utils.queryStringify(this.query)) : '');\n\n            xhr.open(this.method, url, this.async);\n\n            //@see http://stackoverflow.com/questions/19666809/cors-withcredentials-support-limited\n            xhr.withCredentials = true;\n\n            xhr.onload = () => {\n\n                //TODO http://jira.ringcentral.com/browse/PLA-10585\n                var response = r.$get(this.context, xhr.status, xhr.statusText, xhr.responseText, xhr.getAllResponseHeaders());\n\n                if (response.error) {\n                    var e = <IAjaxError> response.error;\n                    e.ajax = response; // backwards compatibility\n                    e.response = response; //FIXME Circular\n                    e.request = this;\n                    reject(e);\n                } else {\n                    resolve(response);\n                }\n\n            };\n\n            xhr.onerror = (event) => { // CORS or network issue\n                var e = <IAjaxError> new Error('The request cannot be sent' + (event ? ' (' + event.toString() + ')' : ''));\n                e.request = this;\n                e.response = null;\n                e.ajax = null; // backwards compatibility\n                reject(e);\n            };\n\n            this.utils.forEach(this.headers, (value, header) => {\n                if (!!value) xhr.setRequestHeader(header, value);\n            });\n\n            xhr.send(this.getEncodedBody());\n\n            this.xhr = xhr;\n\n        });\n\n        return responsePromise.then((response:r.Response) => {\n\n            this.observer.emit(this.observer.events.requestSuccess, response, this);\n\n            return response;\n\n        }).catch((e):any => { //TODO Replace any with something\n\n            this.observer.emit(this.observer.events.requestError, e);\n\n            throw e;\n\n        });\n\n    }\n\n    getXHR():XMLHttpRequest {\n        return this.context.getXHR();\n    }\n\n    destroy() {\n        if (this.xhr) this.xhr.abort();\n    }\n\n}\n\nexport function $get(context:context.Context):Request {\n    return new Request(context);\n}\n\nexport interface IAjaxError extends Error {\n    ajax?:r.Response;\n    response?:r.Response;\n    request?:Request;\n}\n\nexport interface IAjaxOptions {\n    url?:string;\n    method?:string;\n    async?:boolean;\n    query?:any;\n    body?:any;\n    headers?:h.IHeadersObject;\n    post?:any; // @deprecated\n    get?:any; // @deprecated\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/http/Request.ts\n **/","(function(e,r){\"object\"==typeof exports?module.exports=exports=r(require(\"./core\")):\"function\"==typeof define&&define.amd?define([\"./core\"],r):r(e.CryptoJS)})(this,function(e){return function(){var r=e,t=r.lib,n=t.WordArray,i=r.enc;i.Base64={stringify:function(e){var r=e.words,t=e.sigBytes,n=this._map;e.clamp();for(var i=[],o=0;t>o;o+=3)for(var c=255&r[o>>>2]>>>24-8*(o%4),f=255&r[o+1>>>2]>>>24-8*((o+1)%4),s=255&r[o+2>>>2]>>>24-8*((o+2)%4),a=c<<16|f<<8|s,u=0;4>u&&t>o+.75*u;u++)i.push(n.charAt(63&a>>>6*(3-u)));var p=n.charAt(64);if(p)for(;i.length%4;)i.push(p);return i.join(\"\")},parse:function(e){var r=e.length,t=this._map,i=t.charAt(64);if(i){var o=e.indexOf(i);-1!=o&&(r=o)}for(var c=[],f=0,s=0;r>s;s++)if(s%4){var a=t.indexOf(e.charAt(s-1))<<2*(s%4),u=t.indexOf(e.charAt(s))>>>6-2*(s%4);c[f>>>2]|=(a|u)<<24-8*(f%4),f++}return n.create(c,f)},_map:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"}}(),e.enc.Base64});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/crypto-js/enc-base64.js\n ** module id = 45\n ** module chunks = 0\n **/","(function(e,r){\"object\"==typeof exports?module.exports=exports=r(require(\"./core\")):\"function\"==typeof define&&define.amd?define([\"./core\"],r):r(e.CryptoJS)})(this,function(e){return function(r){function t(e,r,t,n,i,o,c){var s=e+(r&t|~r&n)+i+c;return(s<<o|s>>>32-o)+r}function n(e,r,t,n,i,o,c){var s=e+(r&n|t&~n)+i+c;return(s<<o|s>>>32-o)+r}function i(e,r,t,n,i,o,c){var s=e+(r^t^n)+i+c;return(s<<o|s>>>32-o)+r}function o(e,r,t,n,i,o,c){var s=e+(t^(r|~n))+i+c;return(s<<o|s>>>32-o)+r}var c=e,s=c.lib,f=s.WordArray,a=s.Hasher,u=c.algo,p=[];(function(){for(var e=0;64>e;e++)p[e]=0|4294967296*r.abs(r.sin(e+1))})();var d=u.MD5=a.extend({_doReset:function(){this._hash=new f.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,r){for(var c=0;16>c;c++){var s=r+c,f=e[s];e[s]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)}var a=this._hash.words,u=e[r+0],d=e[r+1],h=e[r+2],y=e[r+3],m=e[r+4],l=e[r+5],x=e[r+6],q=e[r+7],g=e[r+8],v=e[r+9],b=e[r+10],S=e[r+11],A=e[r+12],w=e[r+13],_=e[r+14],C=e[r+15],B=a[0],H=a[1],j=a[2],J=a[3];B=t(B,H,j,J,u,7,p[0]),J=t(J,B,H,j,d,12,p[1]),j=t(j,J,B,H,h,17,p[2]),H=t(H,j,J,B,y,22,p[3]),B=t(B,H,j,J,m,7,p[4]),J=t(J,B,H,j,l,12,p[5]),j=t(j,J,B,H,x,17,p[6]),H=t(H,j,J,B,q,22,p[7]),B=t(B,H,j,J,g,7,p[8]),J=t(J,B,H,j,v,12,p[9]),j=t(j,J,B,H,b,17,p[10]),H=t(H,j,J,B,S,22,p[11]),B=t(B,H,j,J,A,7,p[12]),J=t(J,B,H,j,w,12,p[13]),j=t(j,J,B,H,_,17,p[14]),H=t(H,j,J,B,C,22,p[15]),B=n(B,H,j,J,d,5,p[16]),J=n(J,B,H,j,x,9,p[17]),j=n(j,J,B,H,S,14,p[18]),H=n(H,j,J,B,u,20,p[19]),B=n(B,H,j,J,l,5,p[20]),J=n(J,B,H,j,b,9,p[21]),j=n(j,J,B,H,C,14,p[22]),H=n(H,j,J,B,m,20,p[23]),B=n(B,H,j,J,v,5,p[24]),J=n(J,B,H,j,_,9,p[25]),j=n(j,J,B,H,y,14,p[26]),H=n(H,j,J,B,g,20,p[27]),B=n(B,H,j,J,w,5,p[28]),J=n(J,B,H,j,h,9,p[29]),j=n(j,J,B,H,q,14,p[30]),H=n(H,j,J,B,A,20,p[31]),B=i(B,H,j,J,l,4,p[32]),J=i(J,B,H,j,g,11,p[33]),j=i(j,J,B,H,S,16,p[34]),H=i(H,j,J,B,_,23,p[35]),B=i(B,H,j,J,d,4,p[36]),J=i(J,B,H,j,m,11,p[37]),j=i(j,J,B,H,q,16,p[38]),H=i(H,j,J,B,b,23,p[39]),B=i(B,H,j,J,w,4,p[40]),J=i(J,B,H,j,u,11,p[41]),j=i(j,J,B,H,y,16,p[42]),H=i(H,j,J,B,x,23,p[43]),B=i(B,H,j,J,v,4,p[44]),J=i(J,B,H,j,A,11,p[45]),j=i(j,J,B,H,C,16,p[46]),H=i(H,j,J,B,h,23,p[47]),B=o(B,H,j,J,u,6,p[48]),J=o(J,B,H,j,q,10,p[49]),j=o(j,J,B,H,_,15,p[50]),H=o(H,j,J,B,l,21,p[51]),B=o(B,H,j,J,A,6,p[52]),J=o(J,B,H,j,y,10,p[53]),j=o(j,J,B,H,b,15,p[54]),H=o(H,j,J,B,d,21,p[55]),B=o(B,H,j,J,g,6,p[56]),J=o(J,B,H,j,C,10,p[57]),j=o(j,J,B,H,x,15,p[58]),H=o(H,j,J,B,w,21,p[59]),B=o(B,H,j,J,m,6,p[60]),J=o(J,B,H,j,S,10,p[61]),j=o(j,J,B,H,h,15,p[62]),H=o(H,j,J,B,v,21,p[63]),a[0]=0|a[0]+B,a[1]=0|a[1]+H,a[2]=0|a[2]+j,a[3]=0|a[3]+J},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;t[i>>>5]|=128<<24-i%32;var o=r.floor(n/4294967296),c=n;t[(i+64>>>9<<4)+15]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t[(i+64>>>9<<4)+14]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),e.sigBytes=4*(t.length+1),this._process();for(var s=this._hash,f=s.words,a=0;4>a;a++){var u=f[a];f[a]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});c.MD5=a._createHelper(d),c.HmacMD5=a._createHmacHelper(d)}(Math),e.MD5});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/crypto-js/md5.js\n ** module id = 46\n ** module chunks = 0\n **/","(function(e,r){\"object\"==typeof exports?module.exports=exports=r(require(\"./core\"),require(\"./sha1\"),require(\"./hmac\")):\"function\"==typeof define&&define.amd?define([\"./core\",\"./sha1\",\"./hmac\"],r):r(e.CryptoJS)})(this,function(e){return function(){var r=e,t=r.lib,i=t.Base,n=t.WordArray,o=r.algo,a=o.MD5,s=o.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,r){for(var t=this.cfg,i=t.hasher.create(),o=n.create(),a=o.words,s=t.keySize,c=t.iterations;s>a.length;){f&&i.update(f);var f=i.update(e).finalize(r);i.reset();for(var u=1;c>u;u++)f=i.finalize(f),i.reset();o.concat(f)}return o.sigBytes=4*s,o}});r.EvpKDF=function(e,r,t){return s.create(t).compute(e,r)}}(),e.EvpKDF});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/crypto-js/evpkdf.js\n ** module id = 47\n ** module chunks = 0\n **/","(function(e,r){\"object\"==typeof exports?module.exports=exports=r(require(\"./core\")):\"function\"==typeof define&&define.amd?define([\"./core\"],r):r(e.CryptoJS)})(this,function(e){e.lib.Cipher||function(r){var t=e,i=t.lib,n=i.Base,o=i.WordArray,c=i.BufferedBlockAlgorithm,s=t.enc;s.Utf8;var a=s.Base64,f=t.algo,u=f.EvpKDF,h=i.Cipher=c.extend({cfg:n.extend(),createEncryptor:function(e,r){return this.create(this._ENC_XFORM_MODE,e,r)},createDecryptor:function(e,r){return this.create(this._DEC_XFORM_MODE,e,r)},init:function(e,r,t){this.cfg=this.cfg.extend(t),this._xformMode=e,this._key=r,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){e&&this._append(e);var r=this._doFinalize();return r},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return\"string\"==typeof e?q:_}return function(r){return{encrypt:function(t,i,n){return e(i).encrypt(r,t,i,n)},decrypt:function(t,i,n){return e(i).decrypt(r,t,i,n)}}}}()});i.StreamCipher=h.extend({_doFinalize:function(){var e=this._process(true);return e},blockSize:1});var d=t.mode={},p=i.BlockCipherMode=n.extend({createEncryptor:function(e,r){return this.Encryptor.create(e,r)},createDecryptor:function(e,r){return this.Decryptor.create(e,r)},init:function(e,r){this._cipher=e,this._iv=r}}),l=d.CBC=function(){function e(e,t,i){var n=this._iv;if(n){var o=n;this._iv=r}else var o=this._prevBlock;for(var c=0;i>c;c++)e[t+c]^=o[c]}var t=p.extend();return t.Encryptor=t.extend({processBlock:function(r,t){var i=this._cipher,n=i.blockSize;e.call(this,r,t,n),i.encryptBlock(r,t),this._prevBlock=r.slice(t,t+n)}}),t.Decryptor=t.extend({processBlock:function(r,t){var i=this._cipher,n=i.blockSize,o=r.slice(t,t+n);i.decryptBlock(r,t),e.call(this,r,t,n),this._prevBlock=o}}),t}(),y=t.pad={},v=y.Pkcs7={pad:function(e,r){for(var t=4*r,i=t-e.sigBytes%t,n=i<<24|i<<16|i<<8|i,c=[],s=0;i>s;s+=4)c.push(n);var a=o.create(c,i);e.concat(a)},unpad:function(e){var r=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=r}};i.BlockCipher=h.extend({cfg:h.cfg.extend({mode:l,padding:v}),reset:function(){h.reset.call(this);var e=this.cfg,r=e.iv,t=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=t.createEncryptor;else{var i=t.createDecryptor;this._minBufferSize=1}this._mode=i.call(t,this,r&&r.words)},_doProcessBlock:function(e,r){this._mode.processBlock(e,r)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var r=this._process(true)}else{var r=this._process(true);e.unpad(r)}return r},blockSize:4});var g=i.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),m=t.format={},x=m.OpenSSL={stringify:function(e){var r=e.ciphertext,t=e.salt;if(t)var i=o.create([1398893684,1701076831]).concat(t).concat(r);else var i=r;return i.toString(a)},parse:function(e){var r=a.parse(e),t=r.words;if(1398893684==t[0]&&1701076831==t[1]){var i=o.create(t.slice(2,4));t.splice(0,4),r.sigBytes-=16}return g.create({ciphertext:r,salt:i})}},_=i.SerializableCipher=n.extend({cfg:n.extend({format:x}),encrypt:function(e,r,t,i){i=this.cfg.extend(i);var n=e.createEncryptor(t,i),o=n.finalize(r),c=n.cfg;return g.create({ciphertext:o,key:t,iv:c.iv,algorithm:e,mode:c.mode,padding:c.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,r,t,i){i=this.cfg.extend(i),r=this._parse(r,i.format);var n=e.createDecryptor(t,i).finalize(r.ciphertext);return n},_parse:function(e,r){return\"string\"==typeof e?r.parse(e,this):e}}),w=t.kdf={},S=w.OpenSSL={execute:function(e,r,t,i){i||(i=o.random(8));var n=u.create({keySize:r+t}).compute(e,i),c=o.create(n.words.slice(r),4*t);return n.sigBytes=4*r,g.create({key:n,iv:c,salt:i})}},q=i.PasswordBasedCipher=_.extend({cfg:_.cfg.extend({kdf:S}),encrypt:function(e,r,t,i){i=this.cfg.extend(i);var n=i.kdf.execute(t,e.keySize,e.ivSize);i.iv=n.iv;var o=_.encrypt.call(this,e,r,n.key,i);return o.mixIn(n),o},decrypt:function(e,r,t,i){i=this.cfg.extend(i),r=this._parse(r,i.format);var n=i.kdf.execute(t,e.keySize,e.ivSize,r.salt);i.iv=n.iv;var o=_.decrypt.call(this,e,r,n.key,i);return o}})}()});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/crypto-js/cipher-core.js\n ** module id = 48\n ** module chunks = 0\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/module.js\n ** module id = 49\n ** module chunks = 0\n **/","module.exports = function() { throw new Error(\"define cannot be used indirect\"); };\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/amd-define.js\n ** module id = 50\n ** module chunks = 0\n **/","/// <reference path=\"../../../typings/externals.d.ts\" />\n\nimport utils = require('../Utils');\nimport context = require('../Context');\n\nexport class Headers {\n\n    protected headers:IHeadersObject;\n    protected context:context.Context;\n    protected utils:utils.Utils;\n\n    constructor(context:context.Context) {\n        this.headers = {};\n        this.context = context;\n        this.utils = utils.$get(context);\n    }\n\n    static contentType = 'Content-Type';\n    static jsonContentType = 'application/json';\n    static multipartContentType = 'multipart/mixed';\n    static urlencodedContentType = 'application/x-www-form-urlencoded';\n\n    setHeader(name:string, value:string) {\n\n        this.headers[name.toLowerCase()] = value;\n\n        return this;\n\n    }\n\n    getHeader(name:string) {\n\n        return this.headers[name.toLowerCase()];\n\n    }\n\n    hasHeader(name:string):boolean {\n\n        return (name.toLowerCase() in this.headers);\n\n    }\n\n    setHeaders(headers:IHeadersObject) {\n\n        this.utils.forEach(headers, (value:string, name:string) => {\n            this.setHeader(name, value);\n        });\n\n        return this;\n\n    }\n\n    isContentType(contentType:string):boolean {\n        return this.getContentType().indexOf(contentType) > -1;\n    }\n\n    getContentType():string {\n        return this.getHeader(Headers.contentType) || '';\n    }\n\n    isMultipart():boolean {\n        return this.isContentType(Headers.multipartContentType);\n    }\n\n    isUrlEncoded():boolean {\n        return this.isContentType(Headers.urlencodedContentType);\n    }\n\n    isJson():boolean {\n        return this.isContentType(Headers.jsonContentType);\n    }\n\n}\n\nexport interface IHeadersObject {\n    [name: string]: string;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/http/Headers.ts\n **/","/// <reference path=\"../../../typings/externals.d.ts\" />\n\nimport h = require('./Headers');\nimport utils = require('../Utils');\nimport log = require('../Log');\nimport context = require('../Context');\n\nexport class Response extends h.Headers {\n\n    static boundarySeparator = '--';\n    static headerSeparator = ':';\n    static bodySeparator = '\\n\\n';\n\n    public data:any;\n    public json:any;\n    public responses:Response[];\n    public error:Error;\n    public status:number;\n    public statusText:string;\n    public body:any;\n\n    private log:log.Log;\n\n    constructor(context:context.Context, status:number, statusText:string, body:any, headers?:any) {\n\n        super(context);\n\n        this.log = log.$get(context);\n\n        if (typeof(body) === 'string') {\n\n            body = body.replace(/\\r/g, '');\n\n            if (!headers) {\n\n                var tmp = body.split(Response.bodySeparator);\n\n                headers = (tmp.length > 1) ? tmp.shift() : {};\n                body = tmp.join(Response.bodySeparator);\n\n            }\n\n        }\n\n        /** @type {Response[]|object} */\n        this.data = null;\n\n        /** @type {object} */\n        this.json = null;\n\n        /** @type {Response[]} */\n        this.responses = [];\n\n        /** @type {Error} */\n        this.error = null;\n\n        //@see http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n        if (status == 1223) status = 204;\n\n        this.status = status;\n        this.statusText = statusText;\n        this.body = body;\n\n        try {\n\n            // Step 1. Parse headers\n\n            if (typeof(headers) === 'string') {\n\n                (headers || '')\n                    .split('\\n')\n                    .forEach((header:string) => {\n\n                                 if (!header) return;\n\n                                 /** @type {string[]} */\n                                 var parts = header.split(Response.headerSeparator),\n                                     name = parts.shift().trim();\n\n                                 this.setHeader(name, parts.join(Response.headerSeparator).trim());\n\n                             });\n\n            } else {\n\n                this.setHeaders(headers);\n\n            }\n\n            // Step 1.1. JEDI proxy sometimes may omit Content-Type header\n\n            if (!this.hasHeader(h.Headers.contentType)) this.setHeader(h.Headers.contentType, h.Headers.jsonContentType);\n\n            // Step 2. Parse body\n\n            if (this.isJson() && !!this.body && typeof(this.body) === 'string') { // Handle 204 No Content -- response may be empty\n\n                this.json = JSON.parse(this.body);\n                this.data = this.json; // backwards compatibility\n\n                if (!this.checkStatus()) this.error = new Error(this.getError());\n\n            } else if (this.isMultipart()) { // Handle 207 Multi-Status\n\n                // Step 2.1. Split multipart response\n\n                var boundary = this.getContentType().match(/boundary=([^;]+)/i)[1],\n                    parts = this.body.split(Response.boundarySeparator + boundary);\n\n                if (parts[0].trim() === '') parts.shift();\n                if (parts[parts.length - 1].trim() == Response.boundarySeparator) parts.pop();\n\n                // Step 2.2. Parse status info\n\n                var statusInfo = new Response(this.context, this.status, '', parts.shift());\n\n                // Step 2.3. Parse all other parts\n\n                this.responses = parts.map((part:string, i) => {\n\n                    var status = statusInfo.data.response[i].status;\n\n                    return new Response(this.context, status, '', part);\n\n                });\n\n                this.data = this.responses; // backwards compatibility\n\n            } else { //TODO Add more parsers\n\n                this.data = this.body;\n\n            }\n\n        } catch (e) { // Capture parse errors\n\n            this.log.error('Response.parseResponse(): Unable to parse data');\n            this.log.error(e.stack || e);\n            this.log.error(this.body);\n\n            this.error = e;\n\n        }\n\n    }\n\n    /**\n     * @returns {boolean}\n     */\n    isUnauthorized() {\n        return (this.status == 401);\n    }\n\n    checkStatus() {\n        return this.status >= 200 && this.status < 300;\n    }\n\n\n    getError() {\n        return this.data.message ||\n            this.data.error_description ||\n            this.data.description ||\n            'Unknown error';\n    }\n\n}\n\nexport function $get(context:context.Context, status:number, statusText:string, body:any, headers?:any):Response {\n\n    return new Response(context, status, statusText, body, headers);\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ../src/lib/core/http/Response.ts\n **/","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    draining = true;\n    var currentQueue;\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        var i = -1;\n        while (++i < len) {\n            currentQueue[i]();\n        }\n        len = queue.length;\n    }\n    draining = false;\n}\nprocess.nextTick = function (fun) {\n    queue.push(fun);\n    if (!draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/~/node-libs-browser/~/process/browser.js\n ** module id = 53\n ** module chunks = 0\n **/","(function(e,r){\"object\"==typeof exports?module.exports=exports=r(require(\"./core\")):\"function\"==typeof define&&define.amd?define([\"./core\"],r):r(e.CryptoJS)})(this,function(e){return function(){var r=e,t=r.lib,n=t.WordArray,i=t.Hasher,o=r.algo,s=[],c=o.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,r){for(var t=this._hash.words,n=t[0],i=t[1],o=t[2],c=t[3],a=t[4],f=0;80>f;f++){if(16>f)s[f]=0|e[r+f];else{var u=s[f-3]^s[f-8]^s[f-14]^s[f-16];s[f]=u<<1|u>>>31}var d=(n<<5|n>>>27)+a+s[f];d+=20>f?(i&o|~i&c)+1518500249:40>f?(i^o^c)+1859775393:60>f?(i&o|i&c|o&c)-1894007588:(i^o^c)-899497514,a=c,c=o,o=i<<30|i>>>2,i=n,n=d}t[0]=0|t[0]+n,t[1]=0|t[1]+i,t[2]=0|t[2]+o,t[3]=0|t[3]+c,t[4]=0|t[4]+a},_doFinalize:function(){var e=this._data,r=e.words,t=8*this._nDataBytes,n=8*e.sigBytes;return r[n>>>5]|=128<<24-n%32,r[(n+64>>>9<<4)+14]=Math.floor(t/4294967296),r[(n+64>>>9<<4)+15]=t,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});r.SHA1=i._createHelper(c),r.HmacSHA1=i._createHmacHelper(c)}(),e.SHA1});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/crypto-js/sha1.js\n ** module id = 54\n ** module chunks = 0\n **/","(function(e,r){\"object\"==typeof exports?module.exports=exports=r(require(\"./core\")):\"function\"==typeof define&&define.amd?define([\"./core\"],r):r(e.CryptoJS)})(this,function(e){(function(){var r=e,t=r.lib,n=t.Base,i=r.enc,o=i.Utf8,a=r.algo;a.HMAC=n.extend({init:function(e,r){e=this._hasher=new e.init,\"string\"==typeof r&&(r=o.parse(r));var t=e.blockSize,n=4*t;r.sigBytes>n&&(r=e.finalize(r)),r.clamp();for(var i=this._oKey=r.clone(),a=this._iKey=r.clone(),s=i.words,c=a.words,f=0;t>f;f++)s[f]^=1549556828,c[f]^=909522486;i.sigBytes=a.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var r=this._hasher,t=r.finalize(e);r.reset();var n=r.finalize(this._oKey.clone().concat(t));return n}})})()});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/crypto-js/hmac.js\n ** module id = 55\n ** module chunks = 0\n **/"],"sourceRoot":"/source/"}